/*! "node_modules/@dcl/amd/dist/amd.js" 54adfc25d5d794c206ea8d4053e909a60032b05d7ca6356f6d71788b97968d76 */ eval("\"use strict\";\n// A naive attempt at getting the global `this`. Donâ€™t use `this`!\nconst getGlobalThis = function () {\n    // @ts-ignore\n    if (typeof globalThis !== 'undefined')\n        return globalThis;\n    // @ts-ignore\n    if (typeof self !== 'undefined')\n        return self;\n    // @ts-ignore\n    if (typeof window !== 'undefined')\n        return window;\n    // Note: this might still return the wrong result!\n    // @ts-ignore\n    if (typeof this !== 'undefined')\n        return this;\n    throw new Error('Unable to locate global `this`');\n};\nconst globalObject = getGlobalThis();\nvar loader;\n(function (loader) {\n    'use strict';\n    const MODULE_LOADING = 1;\n    const MODULE_READY = 2;\n    let unnamedModules = 0;\n    let anonymousQueue = [];\n    let cycles = [];\n    const settings = {\n        baseUrl: ''\n    };\n    const registeredModules = {};\n    function config(config) {\n        if (typeof config === 'object') {\n            for (let x in config) {\n                if (config.hasOwnProperty(x)) {\n                    ;\n                    settings[x] = config[x];\n                }\n            }\n        }\n    }\n    loader.config = config;\n    function define(first, second, third) {\n        let moduleToLoad = null;\n        let factory = {};\n        let dependencies = null;\n        if (typeof first === 'function') {\n            factory = first;\n        }\n        else if (typeof first === 'string') {\n            moduleToLoad = first;\n            if (typeof second === 'function') {\n                factory = second;\n            }\n            else if (second instanceof Array) {\n                dependencies = second;\n                factory = third;\n            }\n        }\n        else if (first instanceof Array) {\n            dependencies = first;\n            if (typeof second === 'function') {\n                factory = second;\n            }\n        }\n        dependencies = dependencies || ['require', 'exports', 'module'];\n        if (moduleToLoad === null) {\n            moduleToLoad = `unnamed-module-${unnamedModules++}`;\n        }\n        moduleToLoad = normalizeModuleId(moduleToLoad);\n        function ready(deps) {\n            const module = registeredModules[moduleToLoad];\n            if (!module)\n                throw new Error('Could not access registered module ' + moduleToLoad);\n            let exports = module.exports;\n            exports = typeof factory === 'function' ? factory.apply(globalObject, deps) || exports : factory;\n            module.exports = exports;\n            moduleReady(moduleToLoad);\n        }\n        dependencies = (dependencies || []).map((dep) => resolve(moduleToLoad, dep));\n        if (!registeredModules[moduleToLoad]) {\n            registeredModules[moduleToLoad] = {\n                name: moduleToLoad,\n                parent: null,\n                dclamd: MODULE_LOADING,\n                dependencies,\n                handlers: [],\n                exports: {},\n                dependants: new Set()\n            };\n        }\n        registeredModules[moduleToLoad].dependencies = dependencies;\n        require(dependencies, ready, (err) => {\n            if (typeof onerror == 'function') {\n                onerror(err);\n            }\n            else {\n                throw err;\n            }\n        }, moduleToLoad);\n    }\n    loader.define = define;\n    (function (define) {\n        define.amd = {};\n        define.modules = registeredModules;\n    })(define = loader.define || (loader.define = {}));\n    function moduleReady(moduleName) {\n        const module = registeredModules[moduleName];\n        if (!module)\n            throw new Error('Could not access registered module ' + moduleName);\n        module.dclamd = MODULE_READY;\n        let handlers = module.handlers;\n        if (handlers && handlers.length) {\n            for (let x = 0; x < handlers.length; x++) {\n                handlers[x](registeredModules[moduleName]);\n            }\n        }\n    }\n    /**\n     * Walks (recursively) the dependencies of 'from' in search of 'to'.\n     * Returns cycle as array.\n     */\n    function getCyclePath(fromModule, toModule, depth) {\n        if (!registeredModules[fromModule]) {\n            return null;\n        }\n        if (fromModule == toModule || depth == 50)\n            return [fromModule];\n        const dependencies = registeredModules[fromModule].dependencies;\n        for (let i = 0, len = dependencies.length; i < len; i++) {\n            let path = getCyclePath(dependencies[i], toModule, depth + 1);\n            if (path !== null) {\n                path.push(fromModule);\n                return path;\n            }\n        }\n        return null;\n    }\n    /**\n     * Walks (recursively) the dependencies of 'from' in search of 'to'.\n     * Returns true if there is such a path or false otherwise.\n     * @param from Module id to start at\n     * @param to Module id to look for\n     */\n    function hasDependencyPath(fromId, toId) {\n        let from = registeredModules[fromId];\n        if (!from) {\n            return false;\n        }\n        let inQueue = {};\n        for (let i in registeredModules) {\n            inQueue[i] = false;\n        }\n        let queue = [];\n        // Insert 'from' in queue\n        queue.push(from);\n        inQueue[fromId] = true;\n        while (queue.length > 0) {\n            // Pop first inserted element of queue\n            let element = queue.shift();\n            let dependencies = element.dependencies;\n            if (dependencies) {\n                // Walk the element's dependencies\n                for (let i = 0, len = dependencies.length; i < len; i++) {\n                    let dependency = dependencies[i];\n                    if (dependency === toId) {\n                        // There is a path to 'to'\n                        return true;\n                    }\n                    let dependencyModule = registeredModules[dependency];\n                    if (dependencyModule && !inQueue[dependency]) {\n                        // Insert 'dependency' in queue\n                        inQueue[dependency] = true;\n                        queue.push(dependencyModule);\n                    }\n                }\n            }\n        }\n        // There is no path to 'to'\n        return false;\n    }\n    function require(dependencies, callback, errorCallback, parentModule) {\n        let dependenciesResults = new Array(dependencies.length).fill(null);\n        let loadedCount = 0;\n        let hasLoaded = false;\n        if (typeof dependencies === 'string') {\n            if (registeredModules[dependencies]) {\n                if (registeredModules[dependencies].dclamd === MODULE_LOADING) {\n                    throw new Error(`Trying to load ${dependencies} from ${parentModule}. The first module is still loading.`);\n                }\n                return registeredModules[dependencies];\n            }\n            throw new Error(dependencies + ' has not been defined. Please include it as a dependency in ' + parentModule + \"'s define()\");\n        }\n        const depsLength = dependencies.length;\n        for (let index = 0; index < depsLength; index++) {\n            switch (dependencies[index]) {\n                case 'require':\n                    let _require = function (new_module, callback, errorCallback) {\n                        return require(new_module, callback, errorCallback, parentModule);\n                    };\n                    _require.toUrl = function (module) {\n                        return toUrl(module, parentModule);\n                    };\n                    dependenciesResults[index] = _require;\n                    loadedCount++;\n                    break;\n                case 'exports':\n                    if (!registeredModules[parentModule]) {\n                        throw new Error('Parent module ' + parentModule + ' not registered yet');\n                    }\n                    dependenciesResults[index] = registeredModules[parentModule].exports;\n                    loadedCount++;\n                    break;\n                case 'module':\n                    dependenciesResults[index] = {\n                        id: parentModule,\n                        uri: toUrl(parentModule)\n                    };\n                    loadedCount++;\n                    break;\n                default: {\n                    // If we have a circular dependency, then we resolve the module even if it hasn't loaded yet\n                    const dependency = dependencies[index];\n                    const hasCycles = hasDependencyPath(dependency, parentModule);\n                    const handleLoadedModule = () => {\n                        dependenciesResults[index] = registeredModules[dependency].exports;\n                        loadedCount++;\n                        if (loadedCount === depsLength && callback) {\n                            hasLoaded = true;\n                            callback(dependenciesResults);\n                        }\n                    };\n                    if (hasCycles) {\n                        const cyclePath = getCyclePath(dependency, parentModule, 0);\n                        if (cyclePath) {\n                            cyclePath.reverse();\n                            cyclePath.push(dependency);\n                            cycles.push(cyclePath);\n                        }\n                        load(dependency, () => { }, errorCallback, parentModule);\n                        handleLoadedModule();\n                    }\n                    else {\n                        load(dependency, handleLoadedModule, errorCallback, parentModule);\n                    }\n                    break;\n                }\n            }\n        }\n        if (!hasLoaded && loadedCount === depsLength && callback) {\n            callback(dependenciesResults);\n        }\n    }\n    loader.require = require;\n    function createMethodHandler(rpcHandle, method) {\n        return function () {\n            return dcl.callRpc(rpcHandle, method.name, anonymousQueue.slice.call(arguments, 0));\n        };\n    }\n    // returns: resolvedModuleName\n    function resolve(fromModule, toModule) {\n        return fromModule ? toUrl(toModule, fromModule) : toModule;\n    }\n    function load(moduleName, callback, errorCallback, parentModule) {\n        if (registeredModules[moduleName]) {\n            registeredModules[moduleName].dependants.add(parentModule);\n            if (registeredModules[moduleName].dclamd === MODULE_LOADING) {\n                callback && registeredModules[moduleName].handlers.push(callback);\n            }\n            else {\n                callback && callback(registeredModules[moduleName]);\n            }\n            return;\n        }\n        else {\n            registeredModules[moduleName] = {\n                name: moduleName,\n                parent: parentModule,\n                dclamd: MODULE_LOADING,\n                handlers: [callback],\n                dependencies: [],\n                dependants: new Set([parentModule]),\n                exports: {}\n            };\n        }\n        if (moduleName.indexOf('@') === 0) {\n            let exports = registeredModules[moduleName].exports;\n            if (typeof dcl.loadModule === 'function') {\n                dcl\n                    .loadModule(moduleName, exports)\n                    .then((descriptor) => {\n                    for (let i in descriptor.methods) {\n                        const method = descriptor.methods[i];\n                        exports[method.name] = createMethodHandler(descriptor.rpcHandle, method);\n                    }\n                    moduleReady(moduleName);\n                })\n                    .catch((e) => {\n                    errorCallback(e);\n                });\n            }\n            else {\n                throw new Error('Asynchronous modules will not work because loadModule function is not present');\n            }\n        }\n    }\n    if (typeof dcl !== 'undefined') {\n        dcl.onStart(() => {\n            const unknownModules = new Set();\n            const notLoadedModules = [];\n            for (let i in registeredModules) {\n                if (registeredModules[i]) {\n                    if (registeredModules[i].dclamd === MODULE_LOADING) {\n                        notLoadedModules.push(registeredModules[i]);\n                    }\n                    registeredModules[i].dependencies.forEach(($) => {\n                        if ($ == 'require' || $ == 'exports' || $ == 'module')\n                            return;\n                        if (!registeredModules[$])\n                            unknownModules.add($);\n                    });\n                }\n            }\n            const errorParts = [];\n            if (cycles.length) {\n                errorParts.push(`\\n> Cyclic dependencies: ${cycles.map(($) => '\\n  - ' + $.join(' -> ')).join('')}`);\n            }\n            if (unknownModules.size) {\n                errorParts.push(`\\n> Undeclared/unknown modules: ${Array.from(unknownModules)\n                    .map(($) => '\\n  - ' + $)\n                    .join('')}`);\n            }\n            if (notLoadedModules.length) {\n                errorParts.push(`\\n> These modules didn't load: ${notLoadedModules.map(($) => '\\n  - ' + $.name).join('')}.\\n`);\n            }\n            if (errorParts.length) {\n                throw new Error(errorParts.join('\\n'));\n            }\n        });\n    }\n    /**\n     * Normalize 'a/../name' to 'name', etc.\n     */\n    function normalizeModuleId(moduleId) {\n        let r = moduleId, pattern;\n        // replace /./ => /\n        pattern = /\\/\\.\\//;\n        while (pattern.test(r)) {\n            r = r.replace(pattern, '/');\n        }\n        // replace ^./ => nothing\n        r = r.replace(/^\\.\\//g, '');\n        // replace /aa/../ => / (BUT IGNORE /../../)\n        pattern = /\\/(([^\\/])|([^\\/][^\\/\\.])|([^\\/\\.][^\\/])|([^\\/][^\\/][^\\/]+))\\/\\.\\.\\//;\n        while (pattern.test(r)) {\n            r = r.replace(pattern, '/');\n        }\n        // replace ^aa/../ => nothing (BUT IGNORE ../../)\n        r = r.replace(/^(([^\\/])|([^\\/][^\\/\\.])|([^\\/\\.][^\\/])|([^\\/][^\\/][^\\/]+))\\/\\.\\.\\//, '');\n        // replace ^/ => nothing\n        r = r.replace(/^\\//g, '');\n        return r;\n    }\n    /**\n     * Resolve relative module ids\n     */\n    function resolveModule(moduleId, parentModule) {\n        let result = moduleId;\n        if (!result.startsWith('@')) {\n            if (result.startsWith('./') || result.startsWith('../')) {\n                const currentPath = parentModule.split('/');\n                currentPath.pop();\n                result = normalizeModuleId(currentPath.join('/') + '/' + result);\n            }\n        }\n        return result;\n    }\n    function toUrl(moduleName, parentModule) {\n        switch (moduleName) {\n            case 'require':\n            case 'exports':\n            case 'module':\n                return moduleName;\n        }\n        if (parentModule) {\n            return resolveModule(moduleName, parentModule);\n        }\n        return normalizeModuleId(moduleName);\n    }\n    require.toUrl = toUrl;\n})(loader || (loader = {}));\nglobalObject.define = loader.define;\nglobalObject.dclamd = loader;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW1kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2FtZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBY0Esa0VBQWtFO0FBQ2xFLE1BQU0sYUFBYSxHQUFHO0lBQ3BCLGFBQWE7SUFDYixJQUFJLE9BQU8sVUFBVSxLQUFLLFdBQVc7UUFBRSxPQUFPLFVBQVUsQ0FBQTtJQUN4RCxhQUFhO0lBQ2IsSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXO1FBQUUsT0FBTyxJQUFJLENBQUE7SUFDNUMsYUFBYTtJQUNiLElBQUksT0FBTyxNQUFNLEtBQUssV0FBVztRQUFFLE9BQU8sTUFBTSxDQUFBO0lBQ2hELGtEQUFrRDtJQUNsRCxhQUFhO0lBQ2IsSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXO1FBQUUsT0FBTyxJQUFJLENBQUE7SUFDNUMsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFBO0FBQ25ELENBQUMsQ0FBQTtBQUVELE1BQU0sWUFBWSxHQUFJLGFBQXFCLEVBQUUsQ0FBQTtBQUU3QyxJQUFVLE1BQU0sQ0FxY2Y7QUFyY0QsV0FBVSxNQUFNO0lBQ2QsWUFBWSxDQUFBO0lBRVosTUFBTSxjQUFjLEdBQUcsQ0FBQyxDQUFBO0lBQ3hCLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQTtJQUV0QixJQUFJLGNBQWMsR0FBRyxDQUFDLENBQUE7SUFFdEIsSUFBSSxjQUFjLEdBQVUsRUFBRSxDQUFBO0lBQzlCLElBQUksTUFBTSxHQUFlLEVBQUUsQ0FBQTtJQUUzQixNQUFNLFFBQVEsR0FBRztRQUNmLE9BQU8sRUFBRSxFQUFFO0tBQ1osQ0FBQTtJQUVELE1BQU0saUJBQWlCLEdBQTJCLEVBQUUsQ0FBQTtJQUVwRCxTQUFnQixNQUFNLENBQUMsTUFBMkI7UUFDaEQsSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLEVBQUU7WUFDOUIsS0FBSyxJQUFJLENBQUMsSUFBSSxNQUFNLEVBQUU7Z0JBQ3BCLElBQUksTUFBTSxDQUFDLGNBQWMs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QyxVQUFVLENBQUMsQ0FBQTtJQUN0QyxDQUFDO0lBRUQsT0FBTyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7QUFDdkIsQ0FBQyxFQXJjUyxNQUFNLEtBQU4sTUFBTSxRQXFjZjtBQUVELFlBQVksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQTtBQUNuQyxZQUFZLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbInR5cGUgTW9kdWxlID0ge1xuICBuYW1lOiBzdHJpbmdcbiAgZGNsYW1kOiAxIHwgMlxuICBwYXJlbnQ6IHN0cmluZyB8IG51bGxcbiAgZGVwZW5kYW50czogU2V0PHN0cmluZz5cbiAgZGVwZW5kZW5jaWVzOiBBcnJheTxzdHJpbmc+XG4gIGhhbmRsZXJzOiBNb2R1bGVMb2FkZWRIYW5kbGVyW11cbiAgZXhwb3J0czogYW55XG59XG5cbnR5cGUgTW9kdWxlTG9hZGVkSGFuZGxlciA9IChtb2R1bGU6IE1vZHVsZSkgPT4gdm9pZFxuXG5kZWNsYXJlIHZhciBvbmVycm9yOiAoKGVycjogRXJyb3IpID0+IHZvaWQpIHwgdW5kZWZpbmVkXG5cbi8vIEEgbmFpdmUgYXR0ZW1wdCBhdCBnZXR0aW5nIHRoZSBnbG9iYWwgYHRoaXNgLiBEb27igJl0IHVzZSBgdGhpc2AhXG5jb25zdCBnZXRHbG9iYWxUaGlzID0gZnVuY3Rpb24gKCkge1xuICAvLyBAdHMtaWdub3JlXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBnbG9iYWxUaGlzXG4gIC8vIEB0cy1pZ25vcmVcbiAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHNlbGZcbiAgLy8gQHRzLWlnbm9yZVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiB3aW5kb3dcbiAgLy8gTm90ZTogdGhpcyBtaWdodCBzdGlsbCByZXR1cm4gdGhlIHdyb25nIHJlc3VsdCFcbiAgLy8gQHRzLWlnbm9yZVxuICBpZiAodHlwZW9mIHRoaXMgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gdGhpc1xuICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIGB0aGlzYCcpXG59XG5cbmNvbnN0IGdsb2JhbE9iamVjdCA9IChnZXRHbG9iYWxUaGlzIGFzIGFueSkoKVxuXG5uYW1lc3BhY2UgbG9hZGVyIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgY29uc3QgTU9EVUxFX0xPQURJTkcgPSAxXG4gIGNvbnN0IE1PRFVMRV9SRUFEWSA9IDJcblxuICBsZXQgdW5uYW1lZE1vZHVsZXMgPSAwXG5cbiAgbGV0IGFub255bW91c1F1ZXVlOiBhbnlbXSA9IFtdXG4gIGxldCBjeWNsZXM6IHN0cmluZ1tdW10gPSBbXVxuXG4gIGNvbnN0IHNldHRpbmdzID0ge1xuICAgIGJhc2VVcmw6ICcnXG4gIH1cblxuICBjb25zdCByZWdpc3RlcmVkTW9kdWxlczogUmVjb3JkPHN0cmluZywgTW9kdWxlPiA9IHt9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZyhjb25maWc6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAobGV0IHggaW4gY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkoeCkpIHtcbiAgICAgICAgICA7KHNldHRpbmdzIGFzIGFueSlbeF0gPSBjb25maWdbeF1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBkZWZpbmUoZmFjdG9yeTogRnVuY3Rpb24pOiB2b2lkXG4gIGV4cG9ydCBmdW5jdGlvbiBkZWZpbmUoaWQ6IHN0cmluZywgZmFjdG9yeTogRnVuY3Rpb24pOiB2b2lkXG4gIGV4cG9ydCBmdW5jdGlvbiBkZWZpbmUoZGVwZW5kZW5jaWVzOiBzdHJpbmdbXSwgZmFjdG9yeTogRnVuY3Rpb24pOiB2b2lkXG4gIGV4cG9ydCBmdW5jdGlvbiBkZWZpbmUoaWQ6IHN0cmluZywgZGVwZW5kZW5jaWVzOiBzdHJpbmdbXSwgZmFjdG9yeTogRnVuY3Rpb24pOiB2b2lkXG4gIGV4cG9ydCBmdW5jdGlvbiBkZWZpbmUoXG4gICAgZmlyc3Q6IHN0cmluZyB8IEZ1bmN0aW9uIHwgc3RyaW5nW10sXG4gICAgc2Vjb25kPzogc3RyaW5nW10gfCBzdHJpbmcgfCBGdW5jdGlvbixcbiAgICB0aGlyZD86IEZ1bmN0aW9uIHwgb2JqZWN0XG4gICk6IHZvaWQge1xuICAgIGxldCBtb2R1bGVUb0xvYWQ6IHN0cmluZyB8IG51bGwgPSBudWxsXG4gICAgbGV0IGZhY3Rvcnk6IEZ1bmN0aW9uIHwgb2JqZWN0ID0ge31cbiAgICBsZXQgZGVwZW5kZW5jaWVzOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsXG5cbiAgICBpZiAodHlwZW9mIGZpcnN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmYWN0b3J5ID0gZmlyc3RcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBmaXJzdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG1vZHVsZVRvTG9hZCA9IGZpcnN0XG5cbiAgICAgIGlmICh0eXBlb2Ygc2Vjb25kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZhY3RvcnkgPSBzZWNvbmRcbiAgICAgIH0gZWxzZSBpZiAoc2Vjb25kIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgZGVwZW5kZW5jaWVzID0gc2Vjb25kXG4gICAgICAgIGZhY3RvcnkgPSB0aGlyZCFcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZpcnN0IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIGRlcGVuZGVuY2llcyA9IGZpcnN0XG4gICAgICBpZiAodHlwZW9mIHNlY29uZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmYWN0b3J5ID0gc2Vjb25kXG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzIHx8IFsncmVxdWlyZScsICdleHBvcnRzJywgJ21vZHVsZSddXG5cbiAgICBpZiAobW9kdWxlVG9Mb2FkID09PSBudWxsKSB7XG4gICAgICBtb2R1bGVUb0xvYWQgPSBgdW5uYW1lZC1tb2R1bGUtJHt1bm5hbWVkTW9kdWxlcysrfWBcbiAgICB9XG5cbiAgICBtb2R1bGVUb0xvYWQgPSBub3JtYWxpemVNb2R1bGVJZChtb2R1bGVUb0xvYWQpXG5cbiAgICBmdW5jdGlvbiByZWFkeShkZXBzOiBhbnlbXSkge1xuICAgICAgY29uc3QgbW9kdWxlID0gcmVnaXN0ZXJlZE1vZHVsZXNbbW9kdWxlVG9Mb2FkIV1cblxuICAgICAgaWYgKCFtb2R1bGUpIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGFjY2VzcyByZWdpc3RlcmVkIG1vZHVsZSAnICsgbW9kdWxlVG9Mb2FkKVxuXG4gICAgICBsZXQgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzXG5cbiAgICAgIGV4cG9ydHMgPSB0eXBlb2YgZmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJyA/IGZhY3RvcnkuYXBwbHkoZ2xvYmFsT2JqZWN0LCBkZXBzKSB8fCBleHBvcnRzIDogZmFjdG9yeVxuXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNcblxuICAgICAgbW9kdWxlUmVhZHkobW9kdWxlVG9Mb2FkISlcbiAgICB9XG5cbiAgICBkZXBlbmRlbmNpZXMgPSAoZGVwZW5kZW5jaWVzIHx8IFtdKS5tYXAoKGRlcCkgPT4gcmVzb2x2ZShtb2R1bGVUb0xvYWQhLCBkZXApKVxuXG4gICAgaWYgKCFyZWdpc3RlcmVkTW9kdWxlc1ttb2R1bGVUb0xvYWRdKSB7XG4gICAgICByZWdpc3RlcmVkTW9kdWxlc1ttb2R1bGVUb0xvYWRdID0ge1xuICAgICAgICBuYW1lOiBtb2R1bGVUb0xvYWQhLFxuICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgIGRjbGFtZDogTU9EVUxFX0xPQURJTkcsXG4gICAgICAgIGRlcGVuZGVuY2llcyxcbiAgICAgICAgaGFuZGxlcnM6IFtdLFxuICAgICAgICBleHBvcnRzOiB7fSxcbiAgICAgICAgZGVwZW5kYW50czogbmV3IFNldCgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJlZE1vZHVsZXNbbW9kdWxlVG9Mb2FkXS5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXNcblxuICAgIHJlcXVpcmUoZGVwZW5kZW5jaWVzLCByZWFkeSwgKGVycjogRXJyb3IpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygb25lcnJvciA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uZXJyb3IoZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZXJyXG4gICAgICB9XG4gICAgfSwgbW9kdWxlVG9Mb2FkISlcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgZGVmaW5lIHtcbiAgICBleHBvcnQgY29uc3QgYW1kID0ge31cbiAgICBleHBvcnQgY29uc3QgbW9kdWxlcyA9IHJlZ2lzdGVyZWRNb2R1bGVzXG4gIH1cblxuICBmdW5jdGlvbiBtb2R1bGVSZWFkeShtb2R1bGVOYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBtb2R1bGUgPSByZWdpc3RlcmVkTW9kdWxlc1ttb2R1bGVOYW1lXVxuXG4gICAgaWYgKCFtb2R1bGUpIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGFjY2VzcyByZWdpc3RlcmVkIG1vZHVsZSAnICsgbW9kdWxlTmFtZSlcblxuICAgIG1vZHVsZS5kY2xhbWQgPSBNT0RVTEVfUkVBRFlcblxuICAgIGxldCBoYW5kbGVyczogTW9kdWxlTG9hZGVkSGFuZGxlcltdID0gbW9kdWxlLmhhbmRsZXJzXG5cbiAgICBpZiAoaGFuZGxlcnMgJiYgaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGhhbmRsZXJzLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIGhhbmRsZXJzW3hdKHJlZ2lzdGVyZWRNb2R1bGVzW21vZHVsZU5hbWVdKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXYWxrcyAocmVjdXJzaXZlbHkpIHRoZSBkZXBlbmRlbmNpZXMgb2YgJ2Zyb20nIGluIHNlYXJjaCBvZiAndG8nLlxuICAgKiBSZXR1cm5zIGN5Y2xlIGFzIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0Q3ljbGVQYXRoKGZyb21Nb2R1bGU6IHN0cmluZywgdG9Nb2R1bGU6IHN0cmluZywgZGVwdGg6IG51bWJlcik6IHN0cmluZ1tdIHwgbnVsbCB7XG4gICAgaWYgKCFyZWdpc3RlcmVkTW9kdWxlc1tmcm9tTW9kdWxlXSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBpZiAoZnJvbU1vZHVsZSA9PSB0b01vZHVsZSB8fCBkZXB0aCA9PSA1MCkgcmV0dXJuIFtmcm9tTW9kdWxlXVxuXG4gICAgY29uc3QgZGVwZW5kZW5jaWVzID0gcmVnaXN0ZXJlZE1vZHVsZXNbZnJvbU1vZHVsZV0uZGVwZW5kZW5jaWVzXG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBsZXQgcGF0aCA9IGdldEN5Y2xlUGF0aChkZXBlbmRlbmNpZXNbaV0sIHRvTW9kdWxlLCBkZXB0aCArIDEpXG4gICAgICBpZiAocGF0aCAhPT0gbnVsbCkge1xuICAgICAgICBwYXRoLnB1c2goZnJvbU1vZHVsZSlcbiAgICAgICAgcmV0dXJuIHBhdGhcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIFdhbGtzIChyZWN1cnNpdmVseSkgdGhlIGRlcGVuZGVuY2llcyBvZiAnZnJvbScgaW4gc2VhcmNoIG9mICd0bycuXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBpcyBzdWNoIGEgcGF0aCBvciBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEBwYXJhbSBmcm9tIE1vZHVsZSBpZCB0byBzdGFydCBhdFxuICAgKiBAcGFyYW0gdG8gTW9kdWxlIGlkIHRvIGxvb2sgZm9yXG4gICAqL1xuICBmdW5jdGlvbiBoYXNEZXBlbmRlbmN5UGF0aChmcm9tSWQ6IHN0cmluZywgdG9JZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgbGV0IGZyb20gPSByZWdpc3RlcmVkTW9kdWxlc1tmcm9tSWRdXG4gICAgaWYgKCFmcm9tKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBsZXQgaW5RdWV1ZTogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gPSB7fVxuICAgIGZvciAobGV0IGkgaW4gcmVnaXN0ZXJlZE1vZHVsZXMpIHtcbiAgICAgIGluUXVldWVbaV0gPSBmYWxzZVxuICAgIH1cbiAgICBsZXQgcXVldWU6IE1vZHVsZVtdID0gW11cblxuICAgIC8vIEluc2VydCAnZnJvbScgaW4gcXVldWVcbiAgICBxdWV1ZS5wdXNoKGZyb20pXG4gICAgaW5RdWV1ZVtmcm9tSWRdID0gdHJ1ZVxuXG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIFBvcCBmaXJzdCBpbnNlcnRlZCBlbGVtZW50IG9mIHF1ZXVlXG4gICAgICBsZXQgZWxlbWVudCA9IHF1ZXVlLnNoaWZ0KCkhXG4gICAgICBsZXQgZGVwZW5kZW5jaWVzID0gZWxlbWVudC5kZXBlbmRlbmNpZXNcbiAgICAgIGlmIChkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgLy8gV2FsayB0aGUgZWxlbWVudCdzIGRlcGVuZGVuY2llc1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgbGV0IGRlcGVuZGVuY3kgPSBkZXBlbmRlbmNpZXNbaV1cblxuICAgICAgICAgIGlmIChkZXBlbmRlbmN5ID09PSB0b0lkKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBhIHBhdGggdG8gJ3RvJ1xuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgZGVwZW5kZW5jeU1vZHVsZSA9IHJlZ2lzdGVyZWRNb2R1bGVzW2RlcGVuZGVuY3ldXG4gICAgICAgICAgaWYgKGRlcGVuZGVuY3lNb2R1bGUgJiYgIWluUXVldWVbZGVwZW5kZW5jeV0pIHtcbiAgICAgICAgICAgIC8vIEluc2VydCAnZGVwZW5kZW5jeScgaW4gcXVldWVcbiAgICAgICAgICAgIGluUXVldWVbZGVwZW5kZW5jeV0gPSB0cnVlXG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGRlcGVuZGVuY3lNb2R1bGUpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhlcmUgaXMgbm8gcGF0aCB0byAndG8nXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gcmVxdWlyZShcbiAgICBkZXBlbmRlbmNpZXM6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgIGNhbGxiYWNrOiAoZGVwczogYW55W10pID0+IHZvaWQsXG4gICAgZXJyb3JDYWxsYmFjazogRnVuY3Rpb24sXG4gICAgcGFyZW50TW9kdWxlOiBzdHJpbmdcbiAgKSB7XG4gICAgbGV0IGRlcGVuZGVuY2llc1Jlc3VsdHM6IGFueVtdID0gbmV3IEFycmF5KGRlcGVuZGVuY2llcy5sZW5ndGgpLmZpbGwobnVsbClcbiAgICBsZXQgbG9hZGVkQ291bnQgPSAwXG4gICAgbGV0IGhhc0xvYWRlZCA9IGZhbHNlXG5cbiAgICBpZiAodHlwZW9mIGRlcGVuZGVuY2llcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChyZWdpc3RlcmVkTW9kdWxlc1tkZXBlbmRlbmNpZXNdKSB7XG4gICAgICAgIGlmIChyZWdpc3RlcmVkTW9kdWxlc1tkZXBlbmRlbmNpZXNdLmRjbGFtZCA9PT0gTU9EVUxFX0xPQURJTkcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRyeWluZyB0byBsb2FkICR7ZGVwZW5kZW5jaWVzfSBmcm9tICR7cGFyZW50TW9kdWxlfS4gVGhlIGZpcnN0IG1vZHVsZSBpcyBzdGlsbCBsb2FkaW5nLmApXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyZWRNb2R1bGVzW2RlcGVuZGVuY2llc11cbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgZGVwZW5kZW5jaWVzICsgJyBoYXMgbm90IGJlZW4gZGVmaW5lZC4gUGxlYXNlIGluY2x1ZGUgaXQgYXMgYSBkZXBlbmRlbmN5IGluICcgKyBwYXJlbnRNb2R1bGUgKyBcIidzIGRlZmluZSgpXCJcbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBkZXBzTGVuZ3RoID0gZGVwZW5kZW5jaWVzLmxlbmd0aFxuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGRlcHNMZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHN3aXRjaCAoZGVwZW5kZW5jaWVzW2luZGV4XSkge1xuICAgICAgICBjYXNlICdyZXF1aXJlJzpcbiAgICAgICAgICBsZXQgX3JlcXVpcmU6IHR5cGVvZiByZXF1aXJlID0gZnVuY3Rpb24gKFxuICAgICAgICAgICAgbmV3X21vZHVsZTogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2s6IEZ1bmN0aW9uXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWlyZShuZXdfbW9kdWxlLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgcGFyZW50TW9kdWxlKVxuICAgICAgICAgIH0gYXMgYW55XG4gICAgICAgICAgX3JlcXVpcmUudG9VcmwgPSBmdW5jdGlvbiAobW9kdWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9VcmwobW9kdWxlLCBwYXJlbnRNb2R1bGUpXG4gICAgICAgICAgfVxuICAgICAgICAgIGRlcGVuZGVuY2llc1Jlc3VsdHNbaW5kZXhdID0gX3JlcXVpcmVcbiAgICAgICAgICBsb2FkZWRDb3VudCsrXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnZXhwb3J0cyc6XG4gICAgICAgICAgaWYgKCFyZWdpc3RlcmVkTW9kdWxlc1twYXJlbnRNb2R1bGVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmVudCBtb2R1bGUgJyArIHBhcmVudE1vZHVsZSArICcgbm90IHJlZ2lzdGVyZWQgeWV0JylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZXBlbmRlbmNpZXNSZXN1bHRzW2luZGV4XSA9IHJlZ2lzdGVyZWRNb2R1bGVzW3BhcmVudE1vZHVsZV0uZXhwb3J0c1xuICAgICAgICAgIGxvYWRlZENvdW50KytcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdtb2R1bGUnOlxuICAgICAgICAgIGRlcGVuZGVuY2llc1Jlc3VsdHNbaW5kZXhdID0ge1xuICAgICAgICAgICAgaWQ6IHBhcmVudE1vZHVsZSxcbiAgICAgICAgICAgIHVyaTogdG9VcmwocGFyZW50TW9kdWxlKVxuICAgICAgICAgIH1cbiAgICAgICAgICBsb2FkZWRDb3VudCsrXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBjaXJjdWxhciBkZXBlbmRlbmN5LCB0aGVuIHdlIHJlc29sdmUgdGhlIG1vZHVsZSBldmVuIGlmIGl0IGhhc24ndCBsb2FkZWQgeWV0XG4gICAgICAgICAgY29uc3QgZGVwZW5kZW5jeSA9IGRlcGVuZGVuY2llc1tpbmRleF1cblxuICAgICAgICAgIGNvbnN0IGhhc0N5Y2xlcyA9IGhhc0RlcGVuZGVuY3lQYXRoKGRlcGVuZGVuY3ksIHBhcmVudE1vZHVsZSlcblxuICAgICAgICAgIGNvbnN0IGhhbmRsZUxvYWRlZE1vZHVsZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGRlcGVuZGVuY2llc1Jlc3VsdHNbaW5kZXhdID0gcmVnaXN0ZXJlZE1vZHVsZXNbZGVwZW5kZW5jeV0uZXhwb3J0c1xuICAgICAgICAgICAgbG9hZGVkQ291bnQrK1xuICAgICAgICAgICAgaWYgKGxvYWRlZENvdW50ID09PSBkZXBzTGVuZ3RoICYmIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIGhhc0xvYWRlZCA9IHRydWVcbiAgICAgICAgICAgICAgY2FsbGJhY2soZGVwZW5kZW5jaWVzUmVzdWx0cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaGFzQ3ljbGVzKSB7XG4gICAgICAgICAgICBjb25zdCBjeWNsZVBhdGggPSBnZXRDeWNsZVBhdGgoZGVwZW5kZW5jeSwgcGFyZW50TW9kdWxlLCAwKVxuICAgICAgICAgICAgaWYgKGN5Y2xlUGF0aCkge1xuICAgICAgICAgICAgICBjeWNsZVBhdGgucmV2ZXJzZSgpXG4gICAgICAgICAgICAgIGN5Y2xlUGF0aC5wdXNoKGRlcGVuZGVuY3kpXG4gICAgICAgICAgICAgIGN5Y2xlcy5wdXNoKGN5Y2xlUGF0aClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvYWQoZGVwZW5kZW5jeSwgKCkgPT4ge30sIGVycm9yQ2FsbGJhY2ssIHBhcmVudE1vZHVsZSlcbiAgICAgICAgICAgIGhhbmRsZUxvYWRlZE1vZHVsZSgpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvYWQoZGVwZW5kZW5jeSwgaGFuZGxlTG9hZGVkTW9kdWxlLCBlcnJvckNhbGxiYWNrLCBwYXJlbnRNb2R1bGUpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaGFzTG9hZGVkICYmIGxvYWRlZENvdW50ID09PSBkZXBzTGVuZ3RoICYmIGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjayhkZXBlbmRlbmNpZXNSZXN1bHRzKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU1ldGhvZEhhbmRsZXIocnBjSGFuZGxlOiBzdHJpbmcsIG1ldGhvZDogTWV0aG9kRGVzY3JpcHRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZGNsLmNhbGxScGMocnBjSGFuZGxlLCBtZXRob2QubmFtZSwgYW5vbnltb3VzUXVldWUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKVxuICAgIH1cbiAgfVxuXG4gIC8vIHJldHVybnM6IHJlc29sdmVkTW9kdWxlTmFtZVxuICBmdW5jdGlvbiByZXNvbHZlKGZyb21Nb2R1bGU6IHN0cmluZywgdG9Nb2R1bGU6IHN0cmluZykge1xuICAgIHJldHVybiBmcm9tTW9kdWxlID8gdG9VcmwodG9Nb2R1bGUsIGZyb21Nb2R1bGUpIDogdG9Nb2R1bGVcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWQobW9kdWxlTmFtZTogc3RyaW5nLCBjYWxsYmFjazogTW9kdWxlTG9hZGVkSGFuZGxlciwgZXJyb3JDYWxsYmFjazogRnVuY3Rpb24sIHBhcmVudE1vZHVsZTogc3RyaW5nKSB7XG4gICAgaWYgKHJlZ2lzdGVyZWRNb2R1bGVzW21vZHVsZU5hbWVdKSB7XG4gICAgICByZWdpc3RlcmVkTW9kdWxlc1ttb2R1bGVOYW1lXS5kZXBlbmRhbnRzLmFkZChwYXJlbnRNb2R1bGUpXG5cbiAgICAgIGlmIChyZWdpc3RlcmVkTW9kdWxlc1ttb2R1bGVOYW1lXS5kY2xhbWQgPT09IE1PRFVMRV9MT0FESU5HKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIHJlZ2lzdGVyZWRNb2R1bGVzW21vZHVsZU5hbWVdLmhhbmRsZXJzLnB1c2goY2FsbGJhY2spXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZWdpc3RlcmVkTW9kdWxlc1ttb2R1bGVOYW1lXSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZ2lzdGVyZWRNb2R1bGVzW21vZHVsZU5hbWVdID0ge1xuICAgICAgICBuYW1lOiBtb2R1bGVOYW1lLFxuICAgICAgICBwYXJlbnQ6IHBhcmVudE1vZHVsZSxcbiAgICAgICAgZGNsYW1kOiBNT0RVTEVfTE9BRElORyxcbiAgICAgICAgaGFuZGxlcnM6IFtjYWxsYmFja10sXG4gICAgICAgIGRlcGVuZGVuY2llczogW10sXG4gICAgICAgIGRlcGVuZGFudHM6IG5ldyBTZXQoW3BhcmVudE1vZHVsZV0pLFxuICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtb2R1bGVOYW1lLmluZGV4T2YoJ0AnKSA9PT0gMCkge1xuICAgICAgbGV0IGV4cG9ydHMgPSByZWdpc3RlcmVkTW9kdWxlc1ttb2R1bGVOYW1lXS5leHBvcnRzXG4gICAgICBpZiAodHlwZW9mIGRjbC5sb2FkTW9kdWxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRjbFxuICAgICAgICAgIC5sb2FkTW9kdWxlKG1vZHVsZU5hbWUsIGV4cG9ydHMpXG4gICAgICAgICAgLnRoZW4oKGRlc2NyaXB0b3I6IE1vZHVsZURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgaW4gZGVzY3JpcHRvci5tZXRob2RzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IGRlc2NyaXB0b3IubWV0aG9kc1tpXVxuICAgICAgICAgICAgICBleHBvcnRzW21ldGhvZC5uYW1lXSA9IGNyZWF0ZU1ldGhvZEhhbmRsZXIoZGVzY3JpcHRvci5ycGNIYW5kbGUsIG1ldGhvZClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbW9kdWxlUmVhZHkobW9kdWxlTmFtZSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKGUpXG4gICAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXN5bmNocm9ub3VzIG1vZHVsZXMgd2lsbCBub3Qgd29yayBiZWNhdXNlIGxvYWRNb2R1bGUgZnVuY3Rpb24gaXMgbm90IHByZXNlbnQnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgZGNsICE9PSAndW5kZWZpbmVkJykge1xuICAgIGRjbC5vblN0YXJ0KCgpID0+IHtcbiAgICAgIGNvbnN0IHVua25vd25Nb2R1bGVzID0gbmV3IFNldDxzdHJpbmc+KClcbiAgICAgIGNvbnN0IG5vdExvYWRlZE1vZHVsZXM6IE1vZHVsZVtdID0gW11cblxuICAgICAgZm9yIChsZXQgaSBpbiByZWdpc3RlcmVkTW9kdWxlcykge1xuICAgICAgICBpZiAocmVnaXN0ZXJlZE1vZHVsZXNbaV0pIHtcbiAgICAgICAgICBpZiAocmVnaXN0ZXJlZE1vZHVsZXNbaV0uZGNsYW1kID09PSBNT0RVTEVfTE9BRElORykge1xuICAgICAgICAgICAgbm90TG9hZGVkTW9kdWxlcy5wdXNoKHJlZ2lzdGVyZWRNb2R1bGVzW2ldKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlZ2lzdGVyZWRNb2R1bGVzW2ldLmRlcGVuZGVuY2llcy5mb3JFYWNoKCgkKSA9PiB7XG4gICAgICAgICAgICBpZiAoJCA9PSAncmVxdWlyZScgfHwgJCA9PSAnZXhwb3J0cycgfHwgJCA9PSAnbW9kdWxlJykgcmV0dXJuXG4gICAgICAgICAgICBpZiAoIXJlZ2lzdGVyZWRNb2R1bGVzWyRdKSB1bmtub3duTW9kdWxlcy5hZGQoJClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVycm9yUGFydHM6IHN0cmluZ1tdID0gW11cblxuICAgICAgaWYgKGN5Y2xlcy5sZW5ndGgpIHtcbiAgICAgICAgZXJyb3JQYXJ0cy5wdXNoKGBcXG4+IEN5Y2xpYyBkZXBlbmRlbmNpZXM6ICR7Y3ljbGVzLm1hcCgoJCkgPT4gJ1xcbiAgLSAnICsgJC5qb2luKCcgLT4gJykpLmpvaW4oJycpfWApXG4gICAgICB9XG5cbiAgICAgIGlmICh1bmtub3duTW9kdWxlcy5zaXplKSB7XG4gICAgICAgIGVycm9yUGFydHMucHVzaChcbiAgICAgICAgICBgXFxuPiBVbmRlY2xhcmVkL3Vua25vd24gbW9kdWxlczogJHtBcnJheS5mcm9tKHVua25vd25Nb2R1bGVzKVxuICAgICAgICAgICAgLm1hcCgoJCkgPT4gJ1xcbiAgLSAnICsgJClcbiAgICAgICAgICAgIC5qb2luKCcnKX1gXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgaWYgKG5vdExvYWRlZE1vZHVsZXMubGVuZ3RoKSB7XG4gICAgICAgIGVycm9yUGFydHMucHVzaChgXFxuPiBUaGVzZSBtb2R1bGVzIGRpZG4ndCBsb2FkOiAke25vdExvYWRlZE1vZHVsZXMubWFwKCgkKSA9PiAnXFxuICAtICcgKyAkLm5hbWUpLmpvaW4oJycpfS5cXG5gKVxuICAgICAgfVxuXG4gICAgICBpZiAoZXJyb3JQYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGFydHMuam9pbignXFxuJykpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgJ2EvLi4vbmFtZScgdG8gJ25hbWUnLCBldGMuXG4gICAqL1xuICBmdW5jdGlvbiBub3JtYWxpemVNb2R1bGVJZChtb2R1bGVJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgciA9IG1vZHVsZUlkLFxuICAgICAgcGF0dGVybjogUmVnRXhwXG5cbiAgICAvLyByZXBsYWNlIC8uLyA9PiAvXG4gICAgcGF0dGVybiA9IC9cXC9cXC5cXC8vXG4gICAgd2hpbGUgKHBhdHRlcm4udGVzdChyKSkge1xuICAgICAgciA9IHIucmVwbGFjZShwYXR0ZXJuLCAnLycpXG4gICAgfVxuXG4gICAgLy8gcmVwbGFjZSBeLi8gPT4gbm90aGluZ1xuICAgIHIgPSByLnJlcGxhY2UoL15cXC5cXC8vZywgJycpXG5cbiAgICAvLyByZXBsYWNlIC9hYS8uLi8gPT4gLyAoQlVUIElHTk9SRSAvLi4vLi4vKVxuICAgIHBhdHRlcm4gPSAvXFwvKChbXlxcL10pfChbXlxcL11bXlxcL1xcLl0pfChbXlxcL1xcLl1bXlxcL10pfChbXlxcL11bXlxcL11bXlxcL10rKSlcXC9cXC5cXC5cXC8vXG4gICAgd2hpbGUgKHBhdHRlcm4udGVzdChyKSkge1xuICAgICAgciA9IHIucmVwbGFjZShwYXR0ZXJuLCAnLycpXG4gICAgfVxuXG4gICAgLy8gcmVwbGFjZSBeYWEvLi4vID0+IG5vdGhpbmcgKEJVVCBJR05PUkUgLi4vLi4vKVxuICAgIHIgPSByLnJlcGxhY2UoL14oKFteXFwvXSl8KFteXFwvXVteXFwvXFwuXSl8KFteXFwvXFwuXVteXFwvXSl8KFteXFwvXVteXFwvXVteXFwvXSspKVxcL1xcLlxcLlxcLy8sICcnKVxuXG4gICAgLy8gcmVwbGFjZSBeLyA9PiBub3RoaW5nXG4gICAgciA9IHIucmVwbGFjZSgvXlxcLy9nLCAnJylcblxuICAgIHJldHVybiByXG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZSByZWxhdGl2ZSBtb2R1bGUgaWRzXG4gICAqL1xuICBmdW5jdGlvbiByZXNvbHZlTW9kdWxlKG1vZHVsZUlkOiBzdHJpbmcsIHBhcmVudE1vZHVsZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgcmVzdWx0ID0gbW9kdWxlSWRcblxuICAgIGlmICghcmVzdWx0LnN0YXJ0c1dpdGgoJ0AnKSkge1xuICAgICAgaWYgKHJlc3VsdC5zdGFydHNXaXRoKCcuLycpIHx8IHJlc3VsdC5zdGFydHNXaXRoKCcuLi8nKSkge1xuICAgICAgICBjb25zdCBjdXJyZW50UGF0aCA9IHBhcmVudE1vZHVsZS5zcGxpdCgnLycpXG4gICAgICAgIGN1cnJlbnRQYXRoLnBvcCgpXG4gICAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZU1vZHVsZUlkKGN1cnJlbnRQYXRoLmpvaW4oJy8nKSArICcvJyArIHJlc3VsdClcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBmdW5jdGlvbiB0b1VybChtb2R1bGVOYW1lOiBzdHJpbmcsIHBhcmVudE1vZHVsZT86IHN0cmluZykge1xuICAgIHN3aXRjaCAobW9kdWxlTmFtZSkge1xuICAgICAgY2FzZSAncmVxdWlyZSc6XG4gICAgICBjYXNlICdleHBvcnRzJzpcbiAgICAgIGNhc2UgJ21vZHVsZSc6XG4gICAgICAgIHJldHVybiBtb2R1bGVOYW1lXG4gICAgfVxuICAgIGlmIChwYXJlbnRNb2R1bGUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlTW9kdWxlKG1vZHVsZU5hbWUsIHBhcmVudE1vZHVsZSlcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZU1vZHVsZUlkKG1vZHVsZU5hbWUpXG4gIH1cblxuICByZXF1aXJlLnRvVXJsID0gdG9Vcmxcbn1cblxuZ2xvYmFsT2JqZWN0LmRlZmluZSA9IGxvYWRlci5kZWZpbmVcbmdsb2JhbE9iamVjdC5kY2xhbWQgPSBsb2FkZXJcbiJdfQ==\n//# sourceURL=dcl://node_modules/@dcl/amd/dist/amd.js")
/*! "node_modules/decentraland-ecs/dist/src/index.js" ca2a61936fb98916ca7cfc71d9ec329ac9c778f2e47ae5d47c5f74f278f942a3 */ eval("(function (exports) {\n  'use strict';\n\n  /**\r\n   * Entities can be attached to each other by using the `setParent` method. However, there are cases where we might want to attach entities\r\n   * to other objects that are not entities created by the same scene (for example, the player's avatar). For those cases, we have this class.\r\n   * @public\r\n   */\r\n  var Attachable = /** @class */ (function () {\r\n      function Attachable() {\r\n      }\r\n      /** Used to attach entities to the avatar. Entities will follow the avatar when it moves */\r\n      Attachable.AVATAR = { getEntityRepresentation: function (engine) { return engine.avatarEntity; } };\r\n      /** Used to attach entities to the camera. When in first person mode, the attached entities will also rotate with the camera */\r\n      Attachable.FIRST_PERSON_CAMERA = { getEntityRepresentation: function (engine) { return engine.firstPersonCameraEntity; } };\r\n      return Attachable;\r\n  }());\n\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation.\r\n\r\n  Permission to use, copy, modify, and/or distribute this software for any\r\n  purpose with or without fee is hereby granted.\r\n\r\n  THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n  PERFORMANCE OF THIS SOFTWARE.\r\n  ***************************************************************************** */\r\n  /* global Reflect, Promise */\r\n\r\n  var extendStatics = function(d, b) {\r\n      extendStatics = Object.setPrototypeOf ||\r\n          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n          function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n      return extendStatics(d, b);\r\n  };\r\n\r\n  function __extends(d, b) {\r\n      if (typeof b !== \"function\" && b !== null)\r\n          throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n      extendStatics(d, b);\r\n      function __() { this.constructor = d; }\r\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n  }\r\n\r\n  var __assign = function() {\r\n      __assign = Object.assign || function __assign(t) {\r\n          for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n              s = arguments[i];\r\n              for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n          }\r\n          return t;\r\n      };\r\n      return __assign.apply(this, arguments);\r\n  };\r\n\r\n  function __decorate(decorators, target, key, desc) {\r\n      var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n      if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n      else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n      return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n  }\r\n\r\n  function __awaiter(thisArg, _arguments, P, generator) {\r\n      function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n      return new (P || (P = Promise))(function (resolve, reject) {\r\n          function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n          function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n          function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n          step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n      });\r\n  }\r\n\r\n  function __generator(thisArg, body) {\r\n      var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n      return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n      function verb(n) { return function (v) { return step([n, v]); }; }\r\n      function step(op) {\r\n          if (f) throw new TypeError(\"Generator is already executing.\");\r\n          while (_) try {\r\n              if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n              if (y = 0, t) op = [op[0] & 2, t.value];\r\n              switch (op[0]) {\r\n                  case 0: case 1: t = op; break;\r\n                  case 4: _.label++; return { value: op[1], done: false };\r\n                  case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                  case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                  default:\r\n                      if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                      if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                      if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                      if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                      if (t[2]) _.ops.pop();\r\n                      _.trys.pop(); continue;\r\n              }\r\n              op = body.call(thisArg, _);\r\n          } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n          if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n      }\r\n  }\r\n\r\n  function __values(o) {\r\n      var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n      if (m) return m.call(o);\r\n      if (o && typeof o.length === \"number\") return {\r\n          next: function () {\r\n              if (o && i >= o.length) o = void 0;\r\n              return { value: o && o[i++], done: !o };\r\n          }\r\n      };\r\n      throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n  }\r\n\r\n  function __read(o, n) {\r\n      var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n      if (!m) return o;\r\n      var i = m.call(o), r, ar = [], e;\r\n      try {\r\n          while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n      }\r\n      catch (error) { e = { error: error }; }\r\n      finally {\r\n          try {\r\n              if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n          }\r\n          finally { if (e) throw e.error; }\r\n      }\r\n      return ar;\r\n  }\r\n\r\n  function __spreadArray(to, from) {\r\n      for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n          to[j] = from[i];\r\n      return to;\r\n  }\n\n  var lastGeneratedId = 0;\r\n  /**\r\n   * Log function. Only works in debug mode, otherwise it does nothing.\r\n   * @param args - any loggable parameter\r\n   * @public\r\n   */\r\n  function log() {\r\n      var args = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n          args[_i] = arguments[_i];\r\n      }\r\n      if (typeof dcl !== 'undefined') {\r\n          dcl.log.apply(dcl, __spreadArray([], __read(args)));\r\n      }\r\n      else {\r\n          // tslint:disable-next-line:no-console\r\n          console.log.apply(console, __spreadArray(['DEBUG:'], __read(args)));\r\n      }\r\n  }\r\n  /**\r\n   * Error function. Prints a console error. Only works in debug mode, otherwise it does nothing.\r\n   * @param error - string or Error object.\r\n   * @param data - any debug information.\r\n   * @public\r\n   */\r\n  function error(error, data) {\r\n      if (typeof dcl !== 'undefined') {\r\n          dcl.error(error, data);\r\n      }\r\n      else {\r\n          // tslint:disable-next-line:no-console\r\n          console.error('ERROR:', error, data);\r\n      }\r\n  }\r\n  /**\r\n   * Generates a new prefixed id\r\n   * @public\r\n   */\r\n  function newId(type) {\r\n      lastGeneratedId++;\r\n      if (type.length === 0)\r\n          throw new Error('newId(type: string): type cannot be empty');\r\n      return type + lastGeneratedId.toString(36);\r\n  }\r\n  /**\r\n   * @internal\r\n   */\r\n  function uuid() {\r\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n          var r = (Math.random() * 16) | 0;\r\n          var v = c === 'x' ? r : (r & 0x3) | 0x8;\r\n          return v.toString(16);\r\n      });\r\n  }\r\n  /**\r\n   * Returns an array of the given size filled with element built from the given constructor and the paramters\r\n   * @param size - the number of element to construct and put in the array\r\n   * @param itemBuilder - a callback responsible for creating new instance of item. Called once per array entry.\r\n   * @returns a new array filled with new objects\r\n   * @internal\r\n   */\r\n  function buildArray(size, itemBuilder) {\r\n      var a = [];\r\n      for (var i = 0; i < size; ++i) {\r\n          a.push(itemBuilder());\r\n      }\r\n      return a;\r\n  }\r\n  /**\r\n   * @public\r\n   */\r\n  function openExternalURL(url) {\r\n      if (typeof dcl !== 'undefined') {\r\n          dcl.openExternalUrl(url);\r\n      }\r\n      else {\r\n          error('ERROR: openExternalURL dcl is undefined');\r\n      }\r\n  }\r\n  /**\r\n   * Popup NFT info dialog\r\n   * @param scr - 'ethereum://contractAddress/tokenID'\r\n   * @param comment - optional. add a comment.\r\n   * @public\r\n   */\r\n  function openNFTDialog(scr, comment) {\r\n      if (comment === void 0) { comment = null; }\r\n      if (typeof dcl !== 'undefined') {\r\n          var regex = /ethereum:\\/\\/(.+)\\/(.+)/;\r\n          var matches = scr.match(regex);\r\n          if (!matches || matches.length < 3) {\r\n              return;\r\n          }\r\n          dcl.openNFTDialog(matches[1], matches[2], comment);\r\n      }\r\n      else {\r\n          error('ERROR: openNFTDialog dcl is undefined');\r\n      }\r\n  }\n\n  var eventNameSymbol = '__event_name__';\r\n  var takenEventNames = [];\r\n  function getEventNameFromConstructor(ctor) {\r\n      if (!(eventNameSymbol in ctor) || typeof ctor[eventNameSymbol] !== 'string') {\r\n          throw new Error('The EventConstructor is not registered');\r\n      }\r\n      return ctor[eventNameSymbol];\r\n  }\r\n  /**\r\n   * @public\r\n   */\r\n  var EventManager = /** @class */ (function () {\r\n      function EventManager() {\r\n          this.listeners = {};\r\n      }\r\n      EventManager.prototype.addListener = function (eventClass, listener, listenerFunction) {\r\n          if (!eventClass || typeof eventClass !== 'function') {\r\n              throw new Error('Invalid EventConstructor');\r\n          }\r\n          var eventName = getEventNameFromConstructor(eventClass);\r\n          var listeners = this.listeners[eventName];\r\n          if (!listeners) {\r\n              listeners = this.listeners[eventName] = [];\r\n          }\r\n          for (var i = 0; i < listeners.length; i++) {\r\n              var x = listeners[i];\r\n              if (x.listener === listener) {\r\n                  throw new Error('The provided listener is already registered');\r\n              }\r\n          }\r\n          listeners.push({\r\n              listener: listener,\r\n              fn: listenerFunction\r\n          });\r\n          return this;\r\n      };\r\n      EventManager.prototype.removeListener = function (listener, eventClass) {\r\n          if (!eventClass || typeof eventClass !== 'function') {\r\n              throw new Error('Invalid EventConstructor');\r\n          }\r\n          var eventName = getEventNameFromConstructor(eventClass);\r\n          var listeners = this.listeners[eventName];\r\n          if (!listeners) {\r\n              return false;\r\n          }\r\n          for (var i = 0; i < listeners.length; i++) {\r\n              var x = listeners[i];\r\n              if (x.listener === listener) {\r\n                  listeners.splice(i, 1);\r\n                  return true;\r\n              }\r\n          }\r\n          return false;\r\n      };\r\n      EventManager.prototype.fireEvent = function (event) {\r\n          var eventName = getEventNameFromConstructor(event.constructor);\r\n          var listeners = this.listeners[eventName];\r\n          if (listeners) {\r\n              for (var i = 0; i < listeners.length; i++) {\r\n                  try {\r\n                      var l = listeners[i];\r\n                      l.fn.call(l.listener, event);\r\n                  }\r\n                  catch (e) {\r\n                      // TODO: e may not be an instance of Error\r\n                      error(e);\r\n                  }\r\n              }\r\n          }\r\n          return this;\r\n      };\r\n      return EventManager;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  function EventConstructor() {\r\n      var eventName = newId('EV');\r\n      if (takenEventNames.indexOf(eventName) !== -1) {\r\n          throw new Error(\"The event name \" + eventName + \" is already taken\");\r\n      }\r\n      takenEventNames.push(eventName);\r\n      return function (target) {\r\n          target[eventNameSymbol] = eventName;\r\n          return target;\r\n      };\r\n  }\n\n  /**\r\n   * @public\r\n   */\r\n  var ComponentRemoved = /** @class */ (function () {\r\n      function ComponentRemoved(entity, componentName, component) {\r\n          this.entity = entity;\r\n          this.componentName = componentName;\r\n          this.component = component;\r\n          // stub\r\n      }\r\n      ComponentRemoved = __decorate([\r\n          EventConstructor()\r\n      ], ComponentRemoved);\r\n      return ComponentRemoved;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  var ComponentAdded = /** @class */ (function () {\r\n      function ComponentAdded(entity, componentName, classId) {\r\n          this.entity = entity;\r\n          this.componentName = componentName;\r\n          this.classId = classId;\r\n          // stub\r\n      }\r\n      ComponentAdded = __decorate([\r\n          EventConstructor()\r\n      ], ComponentAdded);\r\n      return ComponentAdded;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  var ParentChanged = /** @class */ (function () {\r\n      function ParentChanged(entity, parent) {\r\n          this.entity = entity;\r\n          this.parent = parent;\r\n          // stub\r\n      }\r\n      ParentChanged = __decorate([\r\n          EventConstructor()\r\n      ], ParentChanged);\r\n      return ParentChanged;\r\n  }());\n\n  /**\r\n   * @public\r\n   */\r\n  exports.UIValueType = void 0;\r\n  (function (UIValueType) {\r\n      UIValueType[UIValueType[\"PERCENT\"] = 0] = \"PERCENT\";\r\n      UIValueType[UIValueType[\"PIXELS\"] = 1] = \"PIXELS\";\r\n  })(exports.UIValueType || (exports.UIValueType = {}));\r\n  /**\r\n   * @public\r\n   */\r\n  var UIValue = /** @class */ (function () {\r\n      function UIValue(value) {\r\n          this.type = exports.UIValueType.PIXELS;\r\n          if (typeof value === 'string') {\r\n              var valueAsString = value;\r\n              if (valueAsString.indexOf('px') > -1) {\r\n                  this.type = exports.UIValueType.PIXELS;\r\n              }\r\n              else if (valueAsString.indexOf('%') > -1) {\r\n                  this.type = exports.UIValueType.PERCENT;\r\n              }\r\n              this.value = parseFloat(valueAsString);\r\n          }\r\n          else {\r\n              this.value = value;\r\n          }\r\n      }\r\n      UIValue.prototype.toString = function () {\r\n          var result = this.value.toString();\r\n          if (this.type === exports.UIValueType.PERCENT) {\r\n              result += '%';\r\n          }\r\n          else {\r\n              result += 'px';\r\n          }\r\n          return result;\r\n      };\r\n      return UIValue;\r\n  }());\n\n  var componentSymbol = '__name__symbol_';\r\n  var componentClassIdSymbol = '__classId__symbol_';\r\n  var componentIdSymbol = '__component__id_';\r\n  /**\r\n   * @public\r\n   */\r\n  var DisposableComponentCreated = /** @class */ (function () {\r\n      function DisposableComponentCreated(componentId, componentName, classId) {\r\n          this.componentId = componentId;\r\n          this.componentName = componentName;\r\n          this.classId = classId;\r\n          // stub\r\n      }\r\n      DisposableComponentCreated = __decorate([\r\n          EventConstructor()\r\n      ], DisposableComponentCreated);\r\n      return DisposableComponentCreated;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  var DisposableComponentRemoved = /** @class */ (function () {\r\n      function DisposableComponentRemoved(componentId) {\r\n          this.componentId = componentId;\r\n          // stub\r\n      }\r\n      DisposableComponentRemoved = __decorate([\r\n          EventConstructor()\r\n      ], DisposableComponentRemoved);\r\n      return DisposableComponentRemoved;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  var DisposableComponentUpdated = /** @class */ (function () {\r\n      function DisposableComponentUpdated(componentId, component) {\r\n          this.componentId = componentId;\r\n          this.component = component;\r\n          // stub\r\n      }\r\n      DisposableComponentUpdated = __decorate([\r\n          EventConstructor()\r\n      ], DisposableComponentUpdated);\r\n      return DisposableComponentUpdated;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  function Component(componentName, classId) {\r\n      return function (target) {\r\n          if (target.isComponent) {\r\n              throw new TypeError(\"You cannot extend a component. Trying to extend \" + target.originalClassName + \" with: \" + componentName);\r\n          }\r\n          var extendedClass = target;\r\n          var RegisteredComponent = function RegisteredComponent() {\r\n              var args = Array.prototype.slice.call(arguments);\r\n              var ret = new (extendedClass.bind.apply(extendedClass, __spreadArray([void 0], __read(args))))();\r\n              Object.defineProperty(ret, componentSymbol, {\r\n                  enumerable: false,\r\n                  writable: false,\r\n                  configurable: false,\r\n                  value: componentName\r\n              });\r\n              if (classId !== undefined) {\r\n                  Object.defineProperty(ret, componentClassIdSymbol, {\r\n                      enumerable: false,\r\n                      writable: false,\r\n                      configurable: false,\r\n                      value: classId\r\n                  });\r\n              }\r\n              return ret;\r\n          };\r\n          if (classId !== undefined) {\r\n              RegisteredComponent[componentClassIdSymbol] = classId;\r\n          }\r\n          RegisteredComponent[componentSymbol] = componentName;\r\n          RegisteredComponent.isComponent = true;\r\n          RegisteredComponent.originalClassName = componentName;\r\n          RegisteredComponent.prototype = target.prototype;\r\n          RegisteredComponent.prototype.constructor = target;\r\n          return RegisteredComponent;\r\n      };\r\n  }\r\n  /**\r\n   * @public\r\n   */\r\n  function DisposableComponent(componentName, classId) {\r\n      return function (target) {\r\n          if (target.isComponent) {\r\n              throw new TypeError(\"You cannot extend a component. Trying to extend \" + target.originalClassName + \" with: \" + componentName);\r\n          }\r\n          if (typeof classId !== 'number' || isNaN(classId)) {\r\n              throw new Error(\"classId: \" + classId + \" is an invalid integer\");\r\n          }\r\n          var extendedClass = target;\r\n          var RegisteredComponent = function RegisteredComponent() {\r\n              if (!DisposableComponent.engine) {\r\n                  throw new Error('You need to set a DisposableComponent.engine before creating disposable components');\r\n              }\r\n              var args = Array.prototype.slice.call(arguments);\r\n              var ret = new (extendedClass.bind.apply(extendedClass, __spreadArray([void 0], __read(args))))();\r\n              var id = newId('C');\r\n              Object.defineProperty(ret, componentSymbol, {\r\n                  enumerable: false,\r\n                  writable: false,\r\n                  configurable: false,\r\n                  value: componentName\r\n              });\r\n              Object.defineProperty(ret, componentIdSymbol, {\r\n                  enumerable: false,\r\n                  writable: false,\r\n                  configurable: false,\r\n                  value: id\r\n              });\r\n              if (classId !== undefined) {\r\n                  Object.defineProperty(ret, componentClassIdSymbol, {\r\n                      enumerable: false,\r\n                      writable: false,\r\n                      configurable: false,\r\n                      value: classId\r\n                  });\r\n              }\r\n              if (DisposableComponent.engine) {\r\n                  DisposableComponent.engine.registerComponent(ret);\r\n              }\r\n              return ret;\r\n          };\r\n          if (classId !== undefined) {\r\n              RegisteredComponent[componentClassIdSymbol] = classId;\r\n          }\r\n          RegisteredComponent[componentSymbol] = componentName;\r\n          RegisteredComponent.isComponent = true;\r\n          RegisteredComponent.isDisposableComponent = true;\r\n          RegisteredComponent.originalClassName = componentName;\r\n          RegisteredComponent.prototype = target.prototype;\r\n          RegisteredComponent.prototype.constructor = target;\r\n          return RegisteredComponent;\r\n      };\r\n  }\r\n  /** @internal */\r\n  (function (DisposableComponent) {\r\n      /** @internal */\r\n      // tslint:disable-next-line:whitespace\r\n      DisposableComponent.engine = null;\r\n  })(DisposableComponent || (DisposableComponent = {}));\r\n  /**\r\n   * @public\r\n   */\r\n  function getComponentName(component) {\r\n      if (!component) {\r\n          throw new TypeError(component + ' is not a component.');\r\n      }\r\n      if (component[componentSymbol]) {\r\n          return component[componentSymbol];\r\n      }\r\n      throw new TypeError(component + ' is not a registered component.');\r\n  }\r\n  /**\r\n   * @public\r\n   */\r\n  function getComponentClassId(component) {\r\n      if (!component) {\r\n          throw new TypeError(component + ' is not a component.');\r\n      }\r\n      if (component[componentClassIdSymbol]) {\r\n          return component[componentClassIdSymbol];\r\n      }\r\n      if (!component[componentSymbol]) {\r\n          throw new TypeError(component + ' is not a registered component.');\r\n      }\r\n      return null;\r\n  }\r\n  /**\r\n   * @public\r\n   */\r\n  function getComponentId(component) {\r\n      if (!component) {\r\n          throw new TypeError(component + ' is not a component.');\r\n      }\r\n      if (component[componentIdSymbol]) {\r\n          return component[componentIdSymbol];\r\n      }\r\n      throw new TypeError(component + ' is not a registered disposable component.');\r\n  }\r\n  /**\r\n   * @public\r\n   */\r\n  var ObservableComponent = /** @class */ (function () {\r\n      function ObservableComponent() {\r\n          // @internal\r\n          this.dirty = false;\r\n          // @internal\r\n          this.data = {};\r\n          this.subscriptions = [];\r\n      }\r\n      ObservableComponent.component = function (target, propertyKey) {\r\n          if (delete target[propertyKey]) {\r\n              var componentSymbol_1 = propertyKey + '_' + Math.random();\r\n              target[componentSymbol_1] = undefined;\r\n              Object.defineProperty(target, componentSymbol_1, __assign(__assign({}, Object.getOwnPropertyDescriptor(target, componentSymbol_1)), { enumerable: false }));\r\n              Object.defineProperty(target, propertyKey.toString(), {\r\n                  get: function () {\r\n                      return this[componentSymbol_1];\r\n                  },\r\n                  set: function (value) {\r\n                      var oldValue = this[componentSymbol_1];\r\n                      if (value) {\r\n                          this.data[propertyKey] = getComponentId(value);\r\n                      }\r\n                      else {\r\n                          this.data[propertyKey] = null;\r\n                      }\r\n                      this[componentSymbol_1] = value;\r\n                      if (value !== oldValue) {\r\n                          this.dirty = true;\r\n                          for (var i = 0; i < this.subscriptions.length; i++) {\r\n                              this.subscriptions[i](propertyKey, value, oldValue);\r\n                          }\r\n                      }\r\n                  },\r\n                  enumerable: true\r\n              });\r\n          }\r\n      };\r\n      ObservableComponent.field = function (target, propertyKey) {\r\n          if (delete target[propertyKey]) {\r\n              Object.defineProperty(target, propertyKey.toString(), {\r\n                  get: function () {\r\n                      return this.data[propertyKey];\r\n                  },\r\n                  set: function (value) {\r\n                      var oldValue = this.data[propertyKey];\r\n                      this.data[propertyKey] = value;\r\n                      if (value !== oldValue) {\r\n                          this.dirty = true;\r\n                          for (var i = 0; i < this.subscriptions.length; i++) {\r\n                              this.subscriptions[i](propertyKey, value, oldValue);\r\n                          }\r\n                      }\r\n                  },\r\n                  enumerable: true\r\n              });\r\n          }\r\n      };\r\n      ObservableComponent.uiValue = function (target, propertyKey) {\r\n          if (delete target[propertyKey]) {\r\n              Object.defineProperty(target, propertyKey.toString(), {\r\n                  get: function () {\r\n                      return this.data[propertyKey].toString();\r\n                  },\r\n                  set: function (value) {\r\n                      var oldValue = this.data[propertyKey];\r\n                      var finalValue = new UIValue(value);\r\n                      this.data[propertyKey] = finalValue;\r\n                      if (finalValue !== oldValue) {\r\n                          this.dirty = true;\r\n                          for (var i = 0; i < this.subscriptions.length; i++) {\r\n                              this.subscriptions[i](propertyKey, finalValue, oldValue);\r\n                          }\r\n                      }\r\n                  },\r\n                  enumerable: true\r\n              });\r\n          }\r\n      };\r\n      ObservableComponent.readonly = function (target, propertyKey) {\r\n          if (delete target[propertyKey]) {\r\n              Object.defineProperty(target, propertyKey.toString(), {\r\n                  get: function () {\r\n                      if (propertyKey in this.data === false) {\r\n                          throw new Error(\"The field \" + propertyKey + \" is uninitialized\");\r\n                      }\r\n                      return this.data[propertyKey];\r\n                  },\r\n                  set: function (value) {\r\n                      if (propertyKey in this.data) {\r\n                          throw new Error(\"The field \" + propertyKey + \" is readonly\");\r\n                      }\r\n                      this.data[propertyKey] = value;\r\n                      this.dirty = true;\r\n                  },\r\n                  enumerable: true,\r\n                  configurable: false\r\n              });\r\n          }\r\n      };\r\n      ObservableComponent.prototype.onChange = function (fn) {\r\n          this.subscriptions.push(fn);\r\n          return this;\r\n      };\r\n      ObservableComponent.prototype.toJSON = function () {\r\n          return this.data;\r\n      };\r\n      return ObservableComponent;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  function isDisposableComponent(component) {\r\n      return componentIdSymbol in component;\r\n  }\n\n  /**\r\n   * @public\r\n   */\r\n  var ComponentGroup = /** @class */ (function () {\r\n      function ComponentGroup() {\r\n          var requires = [];\r\n          for (var _i = 0; _i < arguments.length; _i++) {\r\n              requires[_i] = arguments[_i];\r\n          }\r\n          this.entities = [];\r\n          this.active = false;\r\n          this._requiresNames = [];\r\n          // validate requires list\r\n          if (!requires) {\r\n              throw new Error('ComponentGroup: Could not load the requires list');\r\n          }\r\n          if (!(requires instanceof Array)) {\r\n              throw new Error('ComponentGroup: requires list is not an Array');\r\n          }\r\n          Object.defineProperty(this, 'requires', {\r\n              get: function () {\r\n                  return requires.slice();\r\n              }\r\n          });\r\n          Object.defineProperty(this, 'requiresNames', {\r\n              get: function () {\r\n                  return this._requiresNames.slice();\r\n              }\r\n          });\r\n          var _loop_1 = function (ix) {\r\n              var component = requires[ix];\r\n              var name = null;\r\n              if (!component) {\r\n                  throw new Error(\"ComponentGroup: the required component at location \" + ix + \" is invalid\");\r\n              }\r\n              try {\r\n                  name = getComponentName(component);\r\n              }\r\n              catch (e) {\r\n                  throw new Error(\"ComponentGroup: the required component at location \" + ix + \" is not registered as a @Component. Remember to provide the class of the component, not the name\");\r\n              }\r\n              if (this_1._requiresNames.some(function ($) { return $ === name; })) {\r\n                  throw new Error(\"ComponentGroup: the required component list has a repeated name \" + name);\r\n              }\r\n              this_1._requiresNames.push(name);\r\n          };\r\n          var this_1 = this;\r\n          for (var ix = 0; ix < requires.length; ix++) {\r\n              _loop_1(ix);\r\n          }\r\n      }\r\n      ComponentGroup.prototype.hasEntity = function (entity) {\r\n          if (!entity.isAddedToEngine())\r\n              return false;\r\n          return this.entities.indexOf(entity) !== -1;\r\n      };\r\n      // @internal\r\n      ComponentGroup.prototype.addEntity = function (entity) {\r\n          if (!entity.isAddedToEngine()) {\r\n              throw new TypeError('ComponentGroup: Cannot add a entity that is not added to the engine');\r\n          }\r\n          if (this.entities.indexOf(entity) === -1) {\r\n              this.entities.push(entity);\r\n          }\r\n      };\r\n      // @internal\r\n      ComponentGroup.prototype.removeEntity = function (entity) {\r\n          var id = this.entities.indexOf(entity);\r\n          if (id !== -1) {\r\n              this.entities.splice(id, 1);\r\n          }\r\n      };\r\n      // @internal\r\n      ComponentGroup.prototype.componentRemoved = function (entity, component) {\r\n          if (this._requiresNames.indexOf(component) !== -1) {\r\n              this.removeEntity(entity);\r\n          }\r\n      };\r\n      // @internal\r\n      ComponentGroup.prototype.meetsRequirements = function (entity) {\r\n          for (var i = 0; i < this._requiresNames.length; i++) {\r\n              var componentName = this._requiresNames[i];\r\n              if (!(componentName in entity.components)) {\r\n                  return false;\r\n              }\r\n          }\r\n          return true;\r\n      };\r\n      return ComponentGroup;\r\n  }());\n\n  // tslint:disable:no-use-before-declare\r\n  /**\r\n   * @public\r\n   */\r\n  var Entity = /** @class */ (function () {\r\n      function Entity(name) {\r\n          this.name = name;\r\n          this.children = {};\r\n          this.eventManager = null;\r\n          this.alive = false;\r\n          this.uuid = newId('E');\r\n          this.components = {};\r\n          // @internal\r\n          this.engine = null;\r\n          // @internal\r\n          this._parent = null;\r\n          // stub\r\n      }\r\n      /**\r\n       * Adds or replaces a component in the entity.\r\n       * @param component - component instance.\r\n       */\r\n      Entity.prototype.addComponentOrReplace = function (component) {\r\n          if (typeof component === 'function') {\r\n              throw new Error('You passed a function or class as a component, an instance of component is expected');\r\n          }\r\n          if (typeof component !== 'object') {\r\n              throw new Error(\"You passed a \" + typeof component + \", an instance of component is expected\");\r\n          }\r\n          var componentName = getComponentName(component);\r\n          if (this.components[componentName]) {\r\n              if (this.components[componentName] === component) {\r\n                  return component;\r\n              }\r\n              this.removeComponent(this.components[componentName], false);\r\n          }\r\n          return this.addComponent(component);\r\n      };\r\n      Entity.prototype.hasComponent = function (component) {\r\n          var typeOfComponent = typeof component;\r\n          if (typeOfComponent !== 'string' && typeOfComponent !== 'object' && typeOfComponent !== 'function') {\r\n              throw new Error('Entity#has(component): component is not a class, name or instance');\r\n          }\r\n          if (component == null)\r\n              return false;\r\n          var componentName = typeOfComponent === 'string' ? component : getComponentName(component);\r\n          var storedComponent = this.components[componentName];\r\n          if (!storedComponent) {\r\n              return false;\r\n          }\r\n          if (typeOfComponent === 'object') {\r\n              return storedComponent === component;\r\n          }\r\n          if (typeOfComponent === 'function') {\r\n              return storedComponent instanceof component;\r\n          }\r\n          return true;\r\n      };\r\n      Entity.prototype.getComponent = function (component) {\r\n          var typeOfComponent = typeof component;\r\n          if (typeOfComponent !== 'string' && typeOfComponent !== 'function') {\r\n              throw new Error('Entity#get(component): component is not a class or name');\r\n          }\r\n          var componentName = typeOfComponent === 'string' ? component : getComponentName(component);\r\n          var storedComponent = this.components[componentName];\r\n          if (!storedComponent) {\r\n              throw new Error(\"Can not get component \\\"\" + componentName + \"\\\" from entity \\\"\" + this.identifier + \"\\\"\");\r\n          }\r\n          if (typeOfComponent === 'function') {\r\n              if (storedComponent instanceof component) {\r\n                  return storedComponent;\r\n              }\r\n              else {\r\n                  throw new Error(\"Can not get component \\\"\" + componentName + \"\\\" from entity \\\"\" + this.identifier + \"\\\" (by instance)\");\r\n              }\r\n          }\r\n          return storedComponent;\r\n      };\r\n      Entity.prototype.getComponentOrNull = function (component) {\r\n          var typeOfComponent = typeof component;\r\n          if (typeOfComponent !== 'string' && typeOfComponent !== 'function') {\r\n              throw new Error('Entity#getOrNull(component): component is not a class or name');\r\n          }\r\n          var componentName = typeOfComponent === 'string' ? component : getComponentName(component);\r\n          var storedComponent = this.components[componentName];\r\n          if (!storedComponent) {\r\n              return null;\r\n          }\r\n          if (typeOfComponent === 'function') {\r\n              if (storedComponent instanceof component) {\r\n                  return storedComponent;\r\n              }\r\n              else {\r\n                  return null;\r\n              }\r\n          }\r\n          return storedComponent;\r\n      };\r\n      /**\r\n       * Gets a component, if it doesn't exist, it creates the component and returns it.\r\n       * @param component - component class\r\n       */\r\n      Entity.prototype.getComponentOrCreate = function (component) {\r\n          if (typeof component !== 'function') {\r\n              throw new Error('Entity#getOrCreate(component): component is not a class');\r\n          }\r\n          var ret = this.getComponentOrNull(component);\r\n          if (!ret) {\r\n              ret = new component();\r\n              // Safe-guard to only add registered components to entities\r\n              getComponentName(ret);\r\n              this.addComponentOrReplace(ret);\r\n          }\r\n          return ret;\r\n      };\r\n      /**\r\n       * Adds a component. If the component already exist, it throws an Error.\r\n       * @param component - component instance.\r\n       */\r\n      Entity.prototype.addComponent = function (component) {\r\n          if (typeof component !== 'object') {\r\n              throw new Error('Entity#add(component): You passed a function or class as a component, an instance of component is expected');\r\n          }\r\n          var componentName = getComponentName(component);\r\n          var classId = getComponentClassId(component);\r\n          if (this.components[componentName]) {\r\n              throw new Error(\"A component of type \\\"\" + componentName + \"\\\" is already present in entity \\\"\" + this.identifier + \"\\\"\");\r\n          }\r\n          this.components[componentName] = component;\r\n          if (this.eventManager) {\r\n              this.eventManager.fireEvent(new ComponentAdded(this, componentName, classId));\r\n          }\r\n          var storedComponent = component;\r\n          if (typeof storedComponent.addedToEntity === 'function') {\r\n              storedComponent.addedToEntity(this);\r\n          }\r\n          return component;\r\n      };\r\n      Entity.prototype.removeComponent = function (component, triggerRemovedEvent) {\r\n          if (triggerRemovedEvent === void 0) { triggerRemovedEvent = true; }\r\n          var typeOfComponent = typeof component;\r\n          if (typeOfComponent !== 'string' && typeOfComponent !== 'function' && typeOfComponent !== 'object') {\r\n              throw new Error('Entity#remove(component): component is not a class, class or name');\r\n          }\r\n          var componentName = typeOfComponent === 'string' ? component : getComponentName(component);\r\n          var storedComponent = this.components[componentName];\r\n          if (!storedComponent) {\r\n              log(\"Entity Warning: Trying to remove inexisting component \\\"\" + componentName + \"\\\" from entity \\\"\" + this.identifier + \"\\\"\");\r\n              return;\r\n          }\r\n          if (typeOfComponent === 'function') {\r\n              if (storedComponent instanceof component) {\r\n                  delete this.components[componentName];\r\n                  if (storedComponent) {\r\n                      if (triggerRemovedEvent && this.eventManager) {\r\n                          this.eventManager.fireEvent(new ComponentRemoved(this, componentName, storedComponent));\r\n                      }\r\n                      if (typeof storedComponent.removedFromEntity === 'function') {\r\n                          storedComponent.removedFromEntity(this);\r\n                      }\r\n                  }\r\n                  return;\r\n              }\r\n              else {\r\n                  log(\"Entity Warning: Trying to remove wrong (by constructor) component \\\"\" + componentName + \"\\\" from entity \\\"\" + this.identifier + \"\\\"\");\r\n                  return;\r\n              }\r\n          }\r\n          delete this.components[componentName];\r\n          if (storedComponent) {\r\n              if (triggerRemovedEvent && this.eventManager) {\r\n                  this.eventManager.fireEvent(new ComponentRemoved(this, componentName, storedComponent));\r\n              }\r\n              if (typeof storedComponent.removedFromEntity === 'function') {\r\n                  storedComponent.removedFromEntity(this);\r\n              }\r\n          }\r\n          return;\r\n      };\r\n      /**\r\n       * Returns true if the entity is already added to the engine.\r\n       * Returns false if no engine was defined.\r\n       */\r\n      Entity.prototype.isAddedToEngine = function () {\r\n          if (this.engine && (this.uuid in this.engine.entities || this.engine.rootEntity === this)) {\r\n              return true;\r\n          }\r\n          return false;\r\n      };\r\n      /**\r\n       * Sets the parent entity\r\n       */\r\n      Entity.prototype.setParent = function (_parent) {\r\n          var newParent;\r\n          // Check if parent is of type Attachable\r\n          if (_parent && 'getEntityRepresentation' in _parent) {\r\n              if (!this.engine) {\r\n                  throw new Error(\"In order to set an attachable as parent, you first need to add the entity to the engine.\");\r\n              }\r\n              newParent = _parent.getEntityRepresentation(this.engine);\r\n          }\r\n          else {\r\n              // @ts-ignore\r\n              newParent = !_parent && this.engine ? this.engine.rootEntity : _parent;\r\n          }\r\n          var currentParent = this.getParent();\r\n          if (newParent === this) {\r\n              throw new Error(\"Failed to set parent for entity \\\"\" + this.identifier + \"\\\": An entity can't set itself as a its own parent\");\r\n          }\r\n          if (newParent === currentParent) {\r\n              return this;\r\n          }\r\n          var circularAncestor = this.getCircularAncestor(newParent);\r\n          if (circularAncestor) {\r\n              throw new Error(\"Failed to set parent for entity \\\"\" + this.identifier + \"\\\": Circular parent references are not allowed (See entity \\\"\" + circularAncestor + \"\\\")\");\r\n          }\r\n          if (currentParent) {\r\n              delete currentParent.children[this.uuid];\r\n          }\r\n          // Make sure that the parent and child are both on the engine, or off the engine, together\r\n          if (newParent !== null && newParent.uuid !== '0') {\r\n              if (!newParent.isAddedToEngine() && this.isAddedToEngine()) {\r\n                  // tslint:disable-next-line:semicolon\r\n                  this.engine.removeEntity(this);\r\n              }\r\n              if (newParent.isAddedToEngine() && !this.isAddedToEngine()) {\r\n                  // tslint:disable-next-line:semicolon\r\n                  newParent.engine.addEntity(this);\r\n              }\r\n          }\r\n          this._parent = newParent || null;\r\n          this.registerAsChild();\r\n          if (this.eventManager && this.engine) {\r\n              this.eventManager.fireEvent(new ParentChanged(this, newParent));\r\n          }\r\n          return this;\r\n      };\r\n      /**\r\n       * Gets the parent entity\r\n       */\r\n      Entity.prototype.getParent = function () {\r\n          return this._parent;\r\n      };\r\n      Object.defineProperty(Entity.prototype, \"identifier\", {\r\n          get: function () {\r\n              return this.name || this.uuid;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Entity.prototype.getCircularAncestor = function (ent) {\r\n          var root = this.engine ? this.engine.rootEntity : null;\r\n          var e = ent;\r\n          while (e && e !== root) {\r\n              var parent = e.getParent();\r\n              if (parent === this) {\r\n                  return e.uuid;\r\n              }\r\n              e = parent;\r\n          }\r\n          return null;\r\n      };\r\n      Entity.prototype.registerAsChild = function () {\r\n          var parent = this.getParent();\r\n          if (this.uuid && parent) {\r\n              parent.children[this.uuid] = this;\r\n          }\r\n      };\r\n      return Entity;\r\n  }());\n\n  /**\r\n   * @public\r\n   */\r\n  var Engine = /** @class */ (function () {\r\n      function Engine(rootEntity) {\r\n          this.eventManager = new EventManager();\r\n          // @internal\r\n          this.systems = [];\r\n          // @internal\r\n          this.entityLists = {};\r\n          // @internal\r\n          this.addedSystems = [];\r\n          this._entities = {};\r\n          this._disposableComponents = {};\r\n          this._componentGroups = {};\r\n          // systems that doesn't require any component or handle their own logic\r\n          this.simpleSystems = [];\r\n          this.eventManager.addListener(ComponentAdded, this, this.componentAddedHandler);\r\n          this.eventManager.addListener(ComponentRemoved, this, this.componentRemovedHandler);\r\n          this.rootEntity = rootEntity;\r\n          this.firstPersonCameraEntity = new Entity();\r\n          this.firstPersonCameraEntity.uuid = 'FirstPersonCameraEntityReference';\r\n          this.addEntity(this.firstPersonCameraEntity);\r\n          this.avatarEntity = new Entity();\r\n          this.avatarEntity.uuid = 'AvatarEntityReference';\r\n          this.addEntity(this.avatarEntity);\r\n      }\r\n      Object.defineProperty(Engine.prototype, \"entities\", {\r\n          get: function () {\r\n              return this._entities;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Object.defineProperty(Engine.prototype, \"disposableComponents\", {\r\n          get: function () {\r\n              return this._disposableComponents;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Engine.prototype.addEntity = function (entity) {\r\n          var parent = entity.getParent();\r\n          if (entity.isAddedToEngine()) {\r\n              return entity;\r\n          }\r\n          entity.eventManager = this.eventManager;\r\n          entity.engine = this;\r\n          this._entities[entity.uuid] = entity;\r\n          this.checkRequirementsAndAdd(entity);\r\n          if (!parent) {\r\n              entity.setParent(this.rootEntity);\r\n          }\r\n          else {\r\n              if (!parent.isAddedToEngine() && parent !== this.rootEntity) {\r\n                  log('Engine: warning, added an entity with a parent not present in the engine. Parent id: ' + parent.uuid);\r\n              }\r\n          }\r\n          entity.alive = true;\r\n          for (var i in entity.children) {\r\n              var child = entity.children[i];\r\n              if (child) {\r\n                  if (!child.isAddedToEngine()) {\r\n                      this.addEntity(child);\r\n                  }\r\n              }\r\n          }\r\n          return entity;\r\n      };\r\n      Engine.prototype.removeEntity = function (entity) {\r\n          var id = entity.uuid;\r\n          if (entity.isAddedToEngine()) {\r\n              for (var componentName in entity.components) {\r\n                  var componentGroups = this._componentGroups[componentName];\r\n                  if (componentGroups) {\r\n                      for (var groupIndex in componentGroups) {\r\n                          componentGroups[groupIndex].removeEntity(entity);\r\n                      }\r\n                  }\r\n                  delete this.entityLists[componentName][id];\r\n              }\r\n              for (var i = 0; i < this.simpleSystems.length; i++) {\r\n                  var system = this.simpleSystems[i];\r\n                  if (system.onRemoveEntity) {\r\n                      system.onRemoveEntity(entity);\r\n                  }\r\n              }\r\n              for (var i in entity.children) {\r\n                  var child = entity.children[i];\r\n                  if (child) {\r\n                      this.removeEntity(child);\r\n                  }\r\n              }\r\n              entity.alive = false;\r\n              entity.eventManager = null;\r\n              delete this._entities[id];\r\n              return true;\r\n          }\r\n          else {\r\n              log('Engine: Trying to remove non existent entity from engine.');\r\n              if (!entity.isAddedToEngine()) {\r\n                  log(\"Engine: Entity \\\"\" + entity.uuid + \"\\\" has not been added to any engine yet.\");\r\n              }\r\n              else {\r\n                  log('Engine: Entity id: ' + id);\r\n              }\r\n              log(\"Engine: Entity's components:\");\r\n              for (var componentName in entity.components) {\r\n                  log(componentName);\r\n              }\r\n              return false;\r\n          }\r\n      };\r\n      Engine.prototype.addSystem = function (system, priority) {\r\n          if (priority === void 0) { priority = 0; }\r\n          if (this.addedSystems.indexOf(system) !== -1) {\r\n              log('Engine: Trying to add a system that is already added. Aborting');\r\n              return system;\r\n          }\r\n          if (this.systems.length > 0) {\r\n              for (var i = 0; i < this.systems.length; i++) {\r\n                  var entry = this.systems[i];\r\n                  var isLast = i === this.systems.length - 1;\r\n                  if (entry.priority > priority) {\r\n                      this.addedSystems.push(system);\r\n                      this.systems.splice(i, 0, { system: system, priority: priority });\r\n                      break;\r\n                  }\r\n                  else if (isLast) {\r\n                      this.addedSystems.push(system);\r\n                      this.systems.splice(i + 1, 0, { system: system, priority: priority });\r\n                      break;\r\n                  }\r\n              }\r\n          }\r\n          else {\r\n              this.addedSystems.push(system);\r\n              this.systems.splice(1, 0, { system: system, priority: priority });\r\n          }\r\n          this.registerSystem(system);\r\n          return system;\r\n      };\r\n      Engine.prototype.removeSystem = function (system) {\r\n          var idx = this.addedSystems.indexOf(system);\r\n          if (idx !== -1) {\r\n              system.active = false;\r\n              if (system.deactivate) {\r\n                  system.deactivate();\r\n              }\r\n              this.addedSystems.splice(idx, 1);\r\n              for (var i = 0; i < this.systems.length; i++) {\r\n                  var sys = this.systems[i].system;\r\n                  if (sys === system) {\r\n                      this.systems.splice(i, 1);\r\n                  }\r\n              }\r\n              return true;\r\n          }\r\n          return false;\r\n      };\r\n      Engine.prototype.update = function (dt) {\r\n          for (var i in this.systems) {\r\n              var system = this.systems[i].system;\r\n              if (system.active && system.update) {\r\n                  try {\r\n                      system.update(dt);\r\n                  }\r\n                  catch (e) {\r\n                      // TODO: e may not be an Error\r\n                      error(e);\r\n                  }\r\n              }\r\n          }\r\n          return this;\r\n      };\r\n      Engine.prototype.getEntitiesWithComponent = function (component) {\r\n          var componentName = typeof component === 'string' ? component : getComponentName(component);\r\n          if (componentName in this.entityLists) {\r\n              return this.entityLists[componentName];\r\n          }\r\n          else {\r\n              return (this.entityLists[componentName] = {});\r\n          }\r\n      };\r\n      Engine.prototype.registerComponent = function (component) {\r\n          var id = getComponentId(component);\r\n          var name = getComponentName(component);\r\n          var classId = getComponentClassId(component);\r\n          this._disposableComponents[id] = component;\r\n          if (classId !== null) {\r\n              this.eventManager.fireEvent(new DisposableComponentCreated(id, name, classId));\r\n              this.eventManager.fireEvent(new DisposableComponentUpdated(id, component));\r\n          }\r\n      };\r\n      Engine.prototype.disposeComponent = function (component) {\r\n          var id = getComponentId(component);\r\n          if (delete this._disposableComponents[id]) {\r\n              this.eventManager.fireEvent(new DisposableComponentRemoved(id));\r\n              if (component.onDispose) {\r\n                  component.onDispose();\r\n              }\r\n              return true;\r\n          }\r\n          return false;\r\n      };\r\n      Engine.prototype.updateComponent = function (component) {\r\n          this.eventManager.fireEvent(new DisposableComponentUpdated(getComponentId(component), component));\r\n      };\r\n      Engine.prototype.getComponentGroup = function () {\r\n          var requires = [];\r\n          for (var _i = 0; _i < arguments.length; _i++) {\r\n              requires[_i] = arguments[_i];\r\n          }\r\n          var componentGroup = undefined;\r\n          // Return an already created component-group if it already exists\r\n          if (requires.length > 0) {\r\n              // 1. get component groups for first require\r\n              var componentGroups = this._componentGroups[getComponentName(requires[0])];\r\n              if (componentGroups) {\r\n                  var components = requires.slice();\r\n                  // 2. search for a component group that has all the same requirements\r\n                  for (var i = 0; i < componentGroups.length; i++) {\r\n                      var traversedComponentGroup = componentGroups[i];\r\n                      if (components.length === traversedComponentGroup.requires.length) {\r\n                          for (var j = 0; j < components.length; j++) {\r\n                              if (traversedComponentGroup.requires.indexOf(components[j]) === -1)\r\n                                  break;\r\n                              if (j === components.length - 1) {\r\n                                  componentGroup = traversedComponentGroup;\r\n                              }\r\n                          }\r\n                          if (componentGroup)\r\n                              break;\r\n                      }\r\n                  }\r\n              }\r\n          }\r\n          if (componentGroup) {\r\n              // 3. Found an existent component group with the exact same requirements\r\n              return componentGroup;\r\n          }\r\n          // Otherwise create and store it\r\n          componentGroup = new (ComponentGroup.bind.apply(ComponentGroup, __spreadArray([void 0], __read(requires))))();\r\n          componentGroup.active = true;\r\n          var requiresNames = componentGroup.requiresNames;\r\n          for (var i = 0; i < requiresNames.length; i++) {\r\n              var componentName = requiresNames[i];\r\n              var componentGroups = this._componentGroups[componentName];\r\n              if (!componentGroups) {\r\n                  this._componentGroups[componentName] = componentGroups = [];\r\n              }\r\n              if (componentGroups.indexOf(componentGroup) === -1) {\r\n                  componentGroups.push(componentGroup);\r\n              }\r\n          }\r\n          for (var entityId in this._entities) {\r\n              this.checkRequirements(this._entities[entityId], componentGroup);\r\n          }\r\n          return componentGroup;\r\n      };\r\n      Engine.prototype.removeComponentGroup = function (componentGroup) {\r\n          if (componentGroup.active) {\r\n              componentGroup.active = false;\r\n              var requiresNames = componentGroup.requiresNames;\r\n              for (var i = 0; i < requiresNames.length; i++) {\r\n                  var componentName = requiresNames[i];\r\n                  var componentGroups = this._componentGroups[componentName];\r\n                  if (componentGroups) {\r\n                      var idx = componentGroups.indexOf(componentGroup);\r\n                      if (idx !== -1) {\r\n                          componentGroups.splice(idx, 1);\r\n                      }\r\n                  }\r\n              }\r\n              return true;\r\n          }\r\n          return false;\r\n      };\r\n      Engine.prototype.registerSystem = function (system) {\r\n          system.active = true;\r\n          if (system.activate) {\r\n              system.activate(this);\r\n          }\r\n          this.simpleSystems.push(system);\r\n      };\r\n      Engine.prototype.checkRequirementsAndAdd = function (entity) {\r\n          if (!entity.isAddedToEngine())\r\n              return;\r\n          for (var componentName in entity.components) {\r\n              if (!(componentName in this.entityLists)) {\r\n                  this.entityLists[componentName] = {};\r\n              }\r\n              this.entityLists[componentName][entity.uuid] = entity;\r\n              var componentGroups = this._componentGroups[componentName];\r\n              if (componentGroups) {\r\n                  for (var systemIndex in componentGroups) {\r\n                      this.checkRequirements(entity, componentGroups[systemIndex]);\r\n                  }\r\n              }\r\n          }\r\n          for (var i = 0; i < this.simpleSystems.length; i++) {\r\n              var system = this.simpleSystems[i];\r\n              if (system.onAddEntity) {\r\n                  system.onAddEntity(entity);\r\n              }\r\n          }\r\n      };\r\n      Engine.prototype.checkRequirements = function (entity, system) {\r\n          if (system.meetsRequirements(entity)) {\r\n              if (!system.hasEntity(entity)) {\r\n                  system.addEntity(entity);\r\n              }\r\n          }\r\n          else {\r\n              if (system.hasEntity(entity)) {\r\n                  system.removeEntity(entity);\r\n              }\r\n          }\r\n      };\r\n      Engine.prototype.componentAddedHandler = function (event) {\r\n          var _a;\r\n          var entity = event.entity, componentName = event.componentName;\r\n          if (!entity.isAddedToEngine())\r\n              return;\r\n          if (!this.entityLists[componentName]) {\r\n              this.entityLists[componentName] = (_a = {}, _a[entity.uuid] = entity, _a);\r\n          }\r\n          else {\r\n              this.entityLists[componentName][entity.uuid] = entity;\r\n          }\r\n          var componentGroups = this._componentGroups[componentName];\r\n          if (componentGroups) {\r\n              for (var i in componentGroups) {\r\n                  this.checkRequirements(entity, componentGroups[i]);\r\n              }\r\n          }\r\n      };\r\n      Engine.prototype.componentRemovedHandler = function (event) {\r\n          // In case a single component gets removed from an entity, we inform\r\n          // all systems that this entity lost this specific component.\r\n          var entity = event.entity, componentName = event.componentName;\r\n          if (!entity.isAddedToEngine())\r\n              return;\r\n          delete this.entityLists[componentName][entity.uuid];\r\n          var componentGroups = this._componentGroups[componentName];\r\n          if (componentGroups) {\r\n              for (var i in componentGroups) {\r\n                  this.checkRequirements(entity, componentGroups[i]);\r\n              }\r\n          }\r\n      };\r\n      return Engine;\r\n  }());\n\n  var _defer = Promise.resolve().then.bind(Promise.resolve());\r\n  /**\r\n   * Executes an asynchronous task\r\n   * @param task - the task to execute\r\n   * @public\r\n   */\r\n  function executeTask(task) {\r\n      var result = _defer(task);\r\n      result.isComplete = false;\r\n      result\r\n          .then(function ($) {\r\n          result.isComplete = true;\r\n          result.result = $;\r\n          result.didFail = false;\r\n      })\r\n          .catch(function ($) {\r\n          result.isComplete = true;\r\n          result.error = $;\r\n          result.didFail = true;\r\n          error('executeTask: FAILED ' + $.toString(), $);\r\n      });\r\n      return result;\r\n  }\n\n  /**\r\n   * A class serves as a medium between the observable and its observers\r\n   * @public\r\n   */\r\n  var ObserverEventState = /** @class */ (function () {\r\n      /**\r\n       * Create a new EventState\r\n       * @param mask - defines the mask associated with this state\r\n       * @param skipNextObservers - defines a flag which will instruct the observable to skip following observers when set to true\r\n       * @param target - defines the original target of the state\r\n       * @param currentTarget - defines the current target of the state\r\n       */\r\n      function ObserverEventState(mask, skipNextObservers, target, currentTarget) {\r\n          if (skipNextObservers === void 0) { skipNextObservers = false; }\r\n          this.initalize(mask, skipNextObservers, target, currentTarget);\r\n      }\r\n      /**\r\n       * Initialize the current event state\r\n       * @param mask - defines the mask associated with this state\r\n       * @param skipNextObservers - defines a flag which will instruct the observable to skip following observers when set to true\r\n       * @param target - defines the original target of the state\r\n       * @param currentTarget - defines the current target of the state\r\n       * @returns the current event state\r\n       */\r\n      ObserverEventState.prototype.initalize = function (mask, skipNextObservers, target, currentTarget) {\r\n          if (skipNextObservers === void 0) { skipNextObservers = false; }\r\n          this.mask = mask;\r\n          this.skipNextObservers = skipNextObservers;\r\n          this.target = target;\r\n          this.currentTarget = currentTarget;\r\n          return this;\r\n      };\r\n      return ObserverEventState;\r\n  }());\r\n  /**\r\n   * Represent an Observer registered to a given Observable object.\r\n   * @public\r\n   */\r\n  var Observer = /** @class */ (function () {\r\n      /**\r\n       * Creates a new observer\r\n       * @param callback - defines the callback to call when the observer is notified\r\n       * @param mask - defines the mask of the observer (used to filter notifications)\r\n       * @param scope - defines the current scope used to restore the JS context\r\n       */\r\n      function Observer(\r\n      /**\r\n       * Defines the callback to call when the observer is notified\r\n       */\r\n      callback, \r\n      /**\r\n       * Defines the mask of the observer (used to filter notifications)\r\n       */\r\n      mask, \r\n      /**\r\n       * Defines the current scope used to restore the JS context\r\n       */\r\n      scope) {\r\n          if (scope === void 0) { scope = null; }\r\n          this.callback = callback;\r\n          this.mask = mask;\r\n          this.scope = scope;\r\n          /**\r\n           * Gets or sets a property defining that the observer as to be unregistered after the next notification\r\n           */\r\n          this.unregisterOnNextCall = false;\r\n          /** For internal usage */\r\n          this._willBeUnregistered = false;\r\n      }\r\n      return Observer;\r\n  }());\r\n  /**\r\n   * Represent a list of observers registered to multiple Observables object.\r\n   * @public\r\n   */\r\n  var MultiObserver = /** @class */ (function () {\r\n      function MultiObserver() {\r\n          this._observers = null;\r\n          this._observables = null;\r\n      }\r\n      /**\r\n       * Raise a callback when one of the observable will notify\r\n       * @param observables - defines a list of observables to watch\r\n       * @param callback - defines the callback to call on notification\r\n       * @param mask - defines the mask used to filter notifications\r\n       * @param scope - defines the current scope used to restore the JS context\r\n       * @returns the new MultiObserver\r\n       */\r\n      MultiObserver.Watch = function (observables, callback, mask, scope) {\r\n          var e_1, _a;\r\n          if (mask === void 0) { mask = -1; }\r\n          if (scope === void 0) { scope = null; }\r\n          var result = new MultiObserver();\r\n          result._observers = new Array();\r\n          result._observables = observables;\r\n          try {\r\n              for (var observables_1 = __values(observables), observables_1_1 = observables_1.next(); !observables_1_1.done; observables_1_1 = observables_1.next()) {\r\n                  var observable = observables_1_1.value;\r\n                  var observer = observable.add(callback, mask, false, scope);\r\n                  if (observer) {\r\n                      result._observers.push(observer);\r\n                  }\r\n              }\r\n          }\r\n          catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n          finally {\r\n              try {\r\n                  if (observables_1_1 && !observables_1_1.done && (_a = observables_1.return)) _a.call(observables_1);\r\n              }\r\n              finally { if (e_1) throw e_1.error; }\r\n          }\r\n          return result;\r\n      };\r\n      /**\r\n       * Release associated resources\r\n       */\r\n      MultiObserver.prototype.dispose = function () {\r\n          if (this._observers && this._observables) {\r\n              for (var index = 0; index < this._observers.length; index++) {\r\n                  this._observables[index].remove(this._observers[index]);\r\n              }\r\n          }\r\n          this._observers = null;\r\n          this._observables = null;\r\n      };\r\n      return MultiObserver;\r\n  }());\r\n  /**\r\n   * The Observable class is a simple implementation of the Observable pattern.\r\n   *\r\n   * There's one slight particularity though: a given Observable can notify its observer using a particular mask value, only the Observers registered with this mask value will be notified.\r\n   * This enable a more fine grained execution without having to rely on multiple different Observable objects.\r\n   * For instance you may have a given Observable that have four different types of notifications: Move (mask = 0x01), Stop (mask = 0x02), Turn Right (mask = 0X04), Turn Left (mask = 0X08).\r\n   * A given observer can register itself with only Move and Stop (mask = 0x03), then it will only be notified when one of these two occurs and will never be for Turn Left/Right.\r\n   *\r\n   * @public\r\n   */\r\n  var Observable = /** @class */ (function () {\r\n      /**\r\n       * Creates a new observable\r\n       * @param onObserverAdded - defines a callback to call when a new observer is added\r\n       */\r\n      function Observable(onObserverAdded) {\r\n          this._observers = new Array();\r\n          this._onObserverAdded = null;\r\n          this._eventState = new ObserverEventState(0);\r\n          if (onObserverAdded) {\r\n              this._onObserverAdded = onObserverAdded;\r\n          }\r\n      }\r\n      /**\r\n       * Create a new Observer with the specified callback\r\n       * @param callback - the callback that will be executed for that Observer\r\n       * @param mask - the mask used to filter observers\r\n       * @param insertFirst - if true the callback will be inserted at the first position, hence executed before the others ones. If false (default behavior) the callback will be inserted at the last position, executed after all the others already present.\r\n       * @param scope - optional scope for the callback to be called from\r\n       * @param unregisterOnFirstCall - defines if the observer as to be unregistered after the next notification\r\n       * @returns the new observer created for the callback\r\n       */\r\n      Observable.prototype.add = function (callback, mask, insertFirst, scope, unregisterOnFirstCall) {\r\n          if (mask === void 0) { mask = -1; }\r\n          if (insertFirst === void 0) { insertFirst = false; }\r\n          if (scope === void 0) { scope = null; }\r\n          if (unregisterOnFirstCall === void 0) { unregisterOnFirstCall = false; }\r\n          if (!callback) {\r\n              return null;\r\n          }\r\n          var observer = new Observer(callback, mask, scope);\r\n          observer.unregisterOnNextCall = unregisterOnFirstCall;\r\n          if (insertFirst) {\r\n              this._observers.unshift(observer);\r\n          }\r\n          else {\r\n              this._observers.push(observer);\r\n          }\r\n          if (this._onObserverAdded) {\r\n              this._onObserverAdded(observer);\r\n          }\r\n          return observer;\r\n      };\r\n      /**\r\n       * Create a new Observer with the specified callback and unregisters after the next notification\r\n       * @param callback - the callback that will be executed for that Observer\r\n       * @returns the new observer created for the callback\r\n       */\r\n      Observable.prototype.addOnce = function (callback) {\r\n          return this.add(callback, undefined, undefined, undefined, true);\r\n      };\r\n      /**\r\n       * Remove an Observer from the Observable object\r\n       * @param observer - the instance of the Observer to remove\r\n       * @returns false if it doesn't belong to this Observable\r\n       */\r\n      Observable.prototype.remove = function (observer) {\r\n          if (!observer) {\r\n              return false;\r\n          }\r\n          var index = this._observers.indexOf(observer);\r\n          if (index !== -1) {\r\n              this._deferUnregister(observer);\r\n              return true;\r\n          }\r\n          return false;\r\n      };\r\n      /**\r\n       * Remove a callback from the Observable object\r\n       * @param callback - the callback to remove\r\n       * @param scope - optional scope. If used only the callbacks with this scope will be removed\r\n       * @returns false if it doesn't belong to this Observable\r\n       */\r\n      Observable.prototype.removeCallback = function (callback, scope) {\r\n          for (var index = 0; index < this._observers.length; index++) {\r\n              if (this._observers[index].callback === callback && (!scope || scope === this._observers[index].scope)) {\r\n                  this._deferUnregister(this._observers[index]);\r\n                  return true;\r\n              }\r\n          }\r\n          return false;\r\n      };\r\n      /**\r\n       * Notify all Observers by calling their respective callback with the given data\r\n       * Will return true if all observers were executed, false if an observer set skipNextObservers to true, then prevent the subsequent ones to execute\r\n       * @param eventData - defines the data to send to all observers\r\n       * @param mask - defines the mask of the current notification (observers with incompatible mask (ie mask & observer.mask === 0) will not be notified)\r\n       * @param target - defines the original target of the state\r\n       * @param currentTarget - defines the current target of the state\r\n       * @returns false if the complete observer chain was not processed (because one observer set the skipNextObservers to true)\r\n       */\r\n      Observable.prototype.notifyObservers = function (eventData, mask, target, currentTarget) {\r\n          var e_2, _a;\r\n          if (mask === void 0) { mask = -1; }\r\n          if (!this._observers.length) {\r\n              return true;\r\n          }\r\n          var state = this._eventState;\r\n          state.mask = mask;\r\n          state.target = target;\r\n          state.currentTarget = currentTarget;\r\n          state.skipNextObservers = false;\r\n          state.lastReturnValue = eventData;\r\n          try {\r\n              for (var _b = __values(this._observers), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                  var obs = _c.value;\r\n                  if (obs._willBeUnregistered) {\r\n                      continue;\r\n                  }\r\n                  if (obs.mask & mask) {\r\n                      if (obs.scope) {\r\n                          state.lastReturnValue = obs.callback.apply(obs.scope, [eventData, state]);\r\n                      }\r\n                      else {\r\n                          state.lastReturnValue = obs.callback(eventData, state);\r\n                      }\r\n                      if (obs.unregisterOnNextCall) {\r\n                          this._deferUnregister(obs);\r\n                      }\r\n                  }\r\n                  if (state.skipNextObservers) {\r\n                      return false;\r\n                  }\r\n              }\r\n          }\r\n          catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n          finally {\r\n              try {\r\n                  if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n              }\r\n              finally { if (e_2) throw e_2.error; }\r\n          }\r\n          return true;\r\n      };\r\n      /**\r\n       * Calling this will execute each callback, expecting it to be a promise or return a value.\r\n       * If at any point in the chain one function fails, the promise will fail and the execution will not continue.\r\n       * This is useful when a chain of events (sometimes async events) is needed to initialize a certain object\r\n       * and it is crucial that all callbacks will be executed.\r\n       * The order of the callbacks is kept, callbacks are not executed parallel.\r\n       *\r\n       * @param eventData - The data to be sent to each callback\r\n       * @param mask - is used to filter observers defaults to -1\r\n       * @param target - defines the callback target (see EventState)\r\n       * @param currentTarget - defines he current object in the bubbling phase\r\n       * @returns will return a Promise than resolves when all callbacks executed successfully.\r\n       */\r\n      Observable.prototype.notifyObserversWithPromise = function (eventData, mask, target, currentTarget) {\r\n          var _this = this;\r\n          if (mask === void 0) { mask = -1; }\r\n          // create an empty promise\r\n          var p = Promise.resolve(eventData);\r\n          // no observers? return this promise.\r\n          if (!this._observers.length) {\r\n              return p;\r\n          }\r\n          var state = this._eventState;\r\n          state.mask = mask;\r\n          state.target = target;\r\n          state.currentTarget = currentTarget;\r\n          state.skipNextObservers = false;\r\n          // execute one callback after another (not using Promise.all, the order is important)\r\n          this._observers.forEach(function (obs) {\r\n              if (state.skipNextObservers) {\r\n                  return;\r\n              }\r\n              if (obs._willBeUnregistered) {\r\n                  return;\r\n              }\r\n              if (obs.mask & mask) {\r\n                  if (obs.scope) {\r\n                      p = p.then(function (lastReturnedValue) {\r\n                          state.lastReturnValue = lastReturnedValue;\r\n                          return obs.callback.apply(obs.scope, [eventData, state]);\r\n                      });\r\n                  }\r\n                  else {\r\n                      p = p.then(function (lastReturnedValue) {\r\n                          state.lastReturnValue = lastReturnedValue;\r\n                          return obs.callback(eventData, state);\r\n                      });\r\n                  }\r\n                  if (obs.unregisterOnNextCall) {\r\n                      _this._deferUnregister(obs);\r\n                  }\r\n              }\r\n          });\r\n          // return the eventData\r\n          return p.then(function () {\r\n              return eventData;\r\n          });\r\n      };\r\n      /**\r\n       * Notify a specific observer\r\n       * @param observer - defines the observer to notify\r\n       * @param eventData - defines the data to be sent to each callback\r\n       * @param mask - is used to filter observers defaults to -1\r\n       */\r\n      Observable.prototype.notifyObserver = function (observer, eventData, mask) {\r\n          if (mask === void 0) { mask = -1; }\r\n          var state = this._eventState;\r\n          state.mask = mask;\r\n          state.skipNextObservers = false;\r\n          observer.callback(eventData, state);\r\n      };\r\n      /**\r\n       * Gets a boolean indicating if the observable has at least one observer\r\n       * @returns true is the Observable has at least one Observer registered\r\n       */\r\n      Observable.prototype.hasObservers = function () {\r\n          return this._observers.length > 0;\r\n      };\r\n      /**\r\n       * Clear the list of observers\r\n       */\r\n      Observable.prototype.clear = function () {\r\n          this._observers = new Array();\r\n          this._onObserverAdded = null;\r\n      };\r\n      /**\r\n       * Clone the current observable\r\n       * @returns a new observable\r\n       */\r\n      Observable.prototype.clone = function () {\r\n          var result = new Observable();\r\n          result._observers = this._observers.slice(0);\r\n          return result;\r\n      };\r\n      /**\r\n       * Does this observable handles observer registered with a given mask\r\n       * @param mask - defines the mask to be tested\r\n       * @returns whether or not one observer registered with the given mask is handeled\r\n       */\r\n      Observable.prototype.hasSpecificMask = function (mask) {\r\n          var e_3, _a;\r\n          if (mask === void 0) { mask = -1; }\r\n          try {\r\n              for (var _b = __values(this._observers), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                  var obs = _c.value;\r\n                  if (obs.mask & mask || obs.mask === mask) {\r\n                      return true;\r\n                  }\r\n              }\r\n          }\r\n          catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n          finally {\r\n              try {\r\n                  if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n              }\r\n              finally { if (e_3) throw e_3.error; }\r\n          }\r\n          return false;\r\n      };\r\n      Observable.prototype._deferUnregister = function (observer) {\r\n          var _this = this;\r\n          observer.unregisterOnNextCall = false;\r\n          observer._willBeUnregistered = true;\r\n          executeTask(function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n              return [2 /*return*/, this._remove(observer)];\r\n          }); }); });\r\n      };\r\n      // This should only be called when not iterating over _observers to avoid callback skipping.\r\n      // Removes an observer from the _observer Array.\r\n      Observable.prototype._remove = function (observer) {\r\n          if (!observer) {\r\n              return false;\r\n          }\r\n          var index = this._observers.indexOf(observer);\r\n          if (index !== -1) {\r\n              this._observers.splice(index, 1);\r\n              return true;\r\n          }\r\n          return false;\r\n      };\r\n      return Observable;\r\n  }());\n\n  var modulePromise;\r\n  /**\r\n   * teleport player to a destination\r\n   * @param destination - \"coordX,coordY\", \"magic\", \"crowd\"\r\n   * @public\r\n   */\r\n  function teleportTo(destination) {\r\n      // error(`teleportTo(destination) was deprecated. Please use:\r\n      // import {requestTeleport} from '@decentraland/UserActionModule'\r\n      // executeTask(async () => {\r\n      //   await requestTeleport(destination)\r\n      // })`)\r\n      callModuleRpc('requestTeleport', [destination]);\r\n  }\r\n  function ensureModule() {\r\n      if (typeof modulePromise === 'undefined' && typeof dcl !== 'undefined') {\r\n          modulePromise = dcl.loadModule('@decentraland/UserActionModule', {});\r\n      }\r\n      return typeof modulePromise !== 'undefined' && typeof dcl !== 'undefined';\r\n  }\r\n  function callModuleRpc(methodName, args) {\r\n      if (ensureModule()) {\r\n          modulePromise.then(function ($) {\r\n              dcl.callRpc($.rpcHandle, methodName, args);\r\n          });\r\n      }\r\n  }\n\n  /**\r\n   * @public\r\n   */\r\n  var UUIDEvent = /** @class */ (function () {\r\n      function UUIDEvent(uuid, payload) {\r\n          this.uuid = uuid;\r\n          this.payload = payload;\r\n      }\r\n      UUIDEvent = __decorate([\r\n          EventConstructor()\r\n      ], UUIDEvent);\r\n      return UUIDEvent;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  var RaycastResponse = /** @class */ (function () {\r\n      function RaycastResponse(payload) {\r\n          this.payload = payload;\r\n      }\r\n      RaycastResponse = __decorate([\r\n          EventConstructor()\r\n      ], RaycastResponse);\r\n      return RaycastResponse;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  var PointerEvent = /** @class */ (function () {\r\n      function PointerEvent(payload) {\r\n          this.payload = payload;\r\n      }\r\n      PointerEvent = __decorate([\r\n          EventConstructor()\r\n      ], PointerEvent);\r\n      return PointerEvent;\r\n  }());\r\n  var internalDcl;\r\n  /**\r\n   * @internal\r\n   * This function generates a callback that is passed to the Observable\r\n   * constructor to subscribe to the events of the DecentralandInterface\r\n   */\r\n  function createSubscriber(eventName) {\r\n      return function () {\r\n          if (internalDcl) {\r\n              internalDcl.subscribe(eventName);\r\n          }\r\n      };\r\n  }\r\n  /**\r\n   * This event is triggered when you change your camera between 1st and 3rd person\r\n   * @public\r\n   */\r\n  var onCameraModeChangedObservable = new Observable(createSubscriber('cameraModeChanged'));\r\n  /**\r\n   * This event is triggered when you change your camera between 1st and 3rd person\r\n   * @public\r\n   */\r\n  var onIdleStateChangedObservable = new Observable(createSubscriber('idleStateChanged'));\r\n  /**\r\n   * These events are triggered after your character enters the scene.\r\n   * @public\r\n   */\r\n  var onEnterSceneObservable = new Observable(createSubscriber('onEnterScene'));\r\n  /** @public @deprecated Use onEnterSceneObservable instead. */\r\n  var onEnterScene = onEnterSceneObservable;\r\n  /**\r\n   * These events are triggered after your character leaves the scene.\r\n   * @public\r\n   */\r\n  var onLeaveSceneObservable = new Observable(createSubscriber('onLeaveScene'));\r\n  /** @public @deprecated Use onLeaveSceneObservable instead. */\r\n  var onLeaveScene = onLeaveSceneObservable;\r\n  /**\r\n   * This event is triggered after all the resources of the scene were loaded (models, textures, etc...)\r\n   * @public\r\n   */\r\n  var onSceneReadyObservable = new Observable(createSubscriber('sceneStart'));\r\n  /**\r\n   * @public\r\n   */\r\n  var onPlayerExpressionObservable = new Observable(createSubscriber('playerExpression'));\r\n  /**\r\n   * @public\r\n   */\r\n  var onPointerLockedStateChange = new Observable(createSubscriber('onPointerLock'));\r\n  /**\r\n  * @public\r\n  */\r\n  var onVideoEvent = new Observable(createSubscriber('videoEvent'));\r\n  /**\r\n  * @public\r\n  */\r\n  var onProfileChanged = new Observable(createSubscriber('profileChanged'));\r\n  /**\r\n  * @public\r\n  */\r\n  var onPlayerConnectedObservable = new Observable(createSubscriber('playerConnected'));\r\n  /**\r\n  * @public\r\n  */\r\n  var onPlayerDisconnectedObservable = new Observable(createSubscriber('playerDisconnected'));\r\n  /**\r\n  * @public\r\n  */\r\n  var onRealmChangedObservable = new Observable(createSubscriber('onRealmChanged'));\r\n  /**\r\n   * @internal\r\n   * This function adds _one_ listener to the onEvent event of dcl interface.\r\n   * Leveraging a switch to route events to the Observable handlers.\r\n   */\r\n  function _initEventObservables(dcl) {\r\n      // store internal reference to dcl, it is going to be used to subscribe to the events\r\n      internalDcl = dcl;\r\n      if (internalDcl) {\r\n          internalDcl.onEvent(function (event) {\r\n              switch (event.type) {\r\n                  case 'onEnterScene': {\r\n                      onEnterSceneObservable.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n                  case 'onLeaveScene': {\r\n                      onLeaveSceneObservable.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n                  case 'cameraModeChanged': {\r\n                      onCameraModeChangedObservable.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n                  case 'idleStateChanged': {\r\n                      onIdleStateChangedObservable.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n                  case 'sceneStart': {\r\n                      onSceneReadyObservable.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n                  case 'playerExpression': {\r\n                      onPlayerExpressionObservable.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n                  case 'videoEvent': {\r\n                      var videoData = event.data;\r\n                      var component = DisposableComponent.engine.disposableComponents[videoData.componentId];\r\n                      if (component) {\r\n                          component.update(videoData);\r\n                      }\r\n                      onVideoEvent.notifyObservers(videoData);\r\n                      return;\r\n                  }\r\n                  case 'profileChanged': {\r\n                      onProfileChanged.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n                  case 'onPointerLock': {\r\n                      onPointerLockedStateChange.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n                  case 'playerConnected': {\r\n                      onPlayerConnectedObservable.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n                  case 'playerDisconnected': {\r\n                      onPlayerDisconnectedObservable.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n                  case 'onRealmChanged': {\r\n                      onRealmChangedObservable.notifyObservers(event.data);\r\n                      return;\r\n                  }\r\n              }\r\n          });\r\n      }\r\n  }\n\n  // This number is defined in the protocol ECS.SetEntityParent.3\r\n  var ROOT_ENTITY_ID = '0';\r\n  var DecentralandSynchronizationSystem = /** @class */ (function () {\r\n      function DecentralandSynchronizationSystem(dcl) {\r\n          this.dcl = dcl;\r\n          this.cachedComponents = {};\r\n      }\r\n      DecentralandSynchronizationSystem.prototype.activate = function (engine) {\r\n          var _this = this;\r\n          this.engine = engine;\r\n          engine.eventManager.addListener(ComponentAdded, this, this.componentAdded);\r\n          engine.eventManager.addListener(ComponentRemoved, this, this.componentRemoved);\r\n          engine.eventManager.addListener(DisposableComponentCreated, this, this.disposableComponentCreated);\r\n          engine.eventManager.addListener(DisposableComponentRemoved, this, this.disposableComponentRemoved);\r\n          engine.eventManager.addListener(DisposableComponentUpdated, this, this.disposableComponentUpdated);\r\n          engine.eventManager.addListener(ParentChanged, this, this.parentChanged);\r\n          var rootId = engine.rootEntity.uuid;\r\n          this.dcl.addEntity(rootId);\r\n          // TODO(agus): send disposableComponents if exist\r\n          this.dcl.onUpdate(function (dt) {\r\n              engine.update(dt);\r\n              _this.presentEntities();\r\n          });\r\n          this.dcl.onEvent(function (event) {\r\n              var data = event.data;\r\n              switch (event.type) {\r\n                  case 'uuidEvent':\r\n                      engine.eventManager.fireEvent(new UUIDEvent(data.uuid, data.payload));\r\n                      break;\r\n                  case 'raycastResponse':\r\n                      if (data.queryType === 'HitFirst') {\r\n                          engine.eventManager.fireEvent(new RaycastResponse(data));\r\n                      }\r\n                      else if (data.queryType === 'HitAll') {\r\n                          engine.eventManager.fireEvent(new RaycastResponse(data));\r\n                      }\r\n                      break;\r\n                  case 'actionButtonEvent':\r\n                      engine.eventManager.fireEvent(new PointerEvent(data.payload));\r\n                      break;\r\n              }\r\n          });\r\n      };\r\n      /**\r\n       * system.onAddEntity is called by the engine when a entity is added to the\r\n       * engine.\r\n       */\r\n      DecentralandSynchronizationSystem.prototype.onAddEntity = function (entity) {\r\n          if (entity && entity.isAddedToEngine()) {\r\n              var entityId = entity.uuid;\r\n              var parent = entity.getParent();\r\n              this.dcl.addEntity(entityId);\r\n              if (parent) {\r\n                  // If the entity has a parent, we send the the enparenting signal\r\n                  // otherwise the engine will know the entity is set as a child of\r\n                  // engine.rootEntity by default\r\n                  this.dcl.setParent(entityId, parent.uuid);\r\n              }\r\n              // This creates a cache dictionary to avoid send redundant information to\r\n              // the engine in order to avoid unnecessary work in the main thread.\r\n              this.cachedComponents[entityId] = {};\r\n              // this iterator sends the current components of te engine at the moment\r\n              // of addition\r\n              for (var componentName in entity.components) {\r\n                  var component = entity.components[componentName];\r\n                  var classId = getComponentClassId(component);\r\n                  if (classId !== null) {\r\n                      if (isDisposableComponent(component)) {\r\n                          // Send the attach component signal\r\n                          this.dcl.attachEntityComponent(entity.uuid, componentName, getComponentId(component));\r\n                      }\r\n                      else {\r\n                          var componentJson = JSON.stringify(component);\r\n                          // Send the updated component\r\n                          this.dcl.updateEntityComponent(entityId, componentName, classId, componentJson);\r\n                          // Update the cached copy of the sent component\r\n                          this.cachedComponents[entityId][componentName] = componentJson;\r\n                      }\r\n                  }\r\n              }\r\n          }\r\n      };\r\n      /**\r\n       * system.onRemoveEntity is called by the engine when a entity gets removed\r\n       * from the engine.\r\n       */\r\n      DecentralandSynchronizationSystem.prototype.onRemoveEntity = function (entity) {\r\n          if (entity.isAddedToEngine()) {\r\n              var entityId = entity.uuid;\r\n              // Send the removeEntity signal\r\n              this.dcl.removeEntity(entityId);\r\n              // Remove the caches from local memory\r\n              delete this.cachedComponents[entityId];\r\n          }\r\n      };\r\n      /**\r\n       * This method is called at the end of every update cycle.\r\n       * It finds and sends updates in components of the engine entities.\r\n       */\r\n      DecentralandSynchronizationSystem.prototype.presentEntities = function () {\r\n          for (var i in this.engine.entities) {\r\n              var entity = this.engine.entities[i];\r\n              for (var componentName in entity.components) {\r\n                  var component = entity.components[componentName];\r\n                  var classId = getComponentClassId(component);\r\n                  if (classId !== null && !isDisposableComponent(component)) {\r\n                      var jsonRepresentation = this.getJsonIfDirty(entity.uuid, componentName, component);\r\n                      if (jsonRepresentation) {\r\n                          // Send the updated component\r\n                          this.dcl.updateEntityComponent(entity.uuid, componentName, classId, jsonRepresentation);\r\n                          this.clearDirty(entity.uuid, componentName, component, jsonRepresentation);\r\n                      }\r\n                  }\r\n              }\r\n          }\r\n          for (var id in this.engine.disposableComponents) {\r\n              var component = this.engine.disposableComponents[id];\r\n              if (component instanceof ObservableComponent && component.dirty) {\r\n                  this.dcl.componentUpdated(id, JSON.stringify(component));\r\n                  component.dirty = false;\r\n              }\r\n          }\r\n      };\r\n      /**\r\n       * This method is called after a component is added to an entity. The event\r\n       * (param 1) contains the necessary information to notify the engine about the\r\n       * component that was added and the entity.\r\n       */\r\n      DecentralandSynchronizationSystem.prototype.componentAdded = function (event) {\r\n          if (event.entity.isAddedToEngine()) {\r\n              var component = event.entity.components[event.componentName];\r\n              if (isDisposableComponent(component)) {\r\n                  this.dcl.attachEntityComponent(event.entity.uuid, event.componentName, getComponentId(component));\r\n              }\r\n              else if (event.classId !== null) {\r\n                  var componentJson = JSON.stringify(component);\r\n                  // Send the updated component\r\n                  this.dcl.updateEntityComponent(event.entity.uuid, event.componentName, event.classId, componentJson);\r\n                  // Update the cached copy of the sent component\r\n                  this.cachedComponents[event.entity.uuid][event.componentName] = componentJson;\r\n              }\r\n          }\r\n      };\r\n      /**\r\n       * This method is called when a component is removed from an entity.\r\n       */\r\n      DecentralandSynchronizationSystem.prototype.componentRemoved = function (event) {\r\n          if (event.entity.isAddedToEngine()) {\r\n              this.dcl.removeEntityComponent(event.entity.uuid, event.componentName);\r\n              // Remove the cached component so we can send it again when re-adding\r\n              delete this.cachedComponents[event.entity.uuid][event.componentName];\r\n          }\r\n      };\r\n      /**\r\n       * This method is called after a disposableComponent is created.\r\n       * It instantiates the component in the engine, the event that updates the\r\n       * created component is fired immediatly after.\r\n       */\r\n      DecentralandSynchronizationSystem.prototype.disposableComponentCreated = function (event) {\r\n          this.dcl.componentCreated(event.componentId, event.componentName, event.classId);\r\n      };\r\n      /**\r\n       * This method is called after a disposableComponent is updated, once per\r\n       * update cycle and once after creation.\r\n       */\r\n      DecentralandSynchronizationSystem.prototype.disposableComponentRemoved = function (event) {\r\n          this.dcl.componentDisposed(event.componentId);\r\n      };\r\n      /**\r\n       * This method is called right after a diposableComponent gets disposed. That\r\n       * process is manual.\r\n       *\r\n       * TODO(menduz,dani): What happens if a disposableComponent gets disposed and\r\n       * it remains attached to some entities?\r\n       */\r\n      DecentralandSynchronizationSystem.prototype.disposableComponentUpdated = function (event) {\r\n          this.dcl.componentUpdated(event.componentId, JSON.stringify(event.component));\r\n      };\r\n      /**\r\n       * This method is called when a parent changes in an entity.\r\n       */\r\n      DecentralandSynchronizationSystem.prototype.parentChanged = function (event) {\r\n          this.dcl.setParent(event.entity.uuid, event.parent ? event.parent.uuid : ROOT_ENTITY_ID);\r\n      };\r\n      DecentralandSynchronizationSystem.prototype.getJsonIfDirty = function (entityId, componentName, component) {\r\n          var jsonRepresentation = JSON.stringify(component);\r\n          return jsonRepresentation !== this.cachedComponents[entityId][componentName] && jsonRepresentation;\r\n      };\r\n      DecentralandSynchronizationSystem.prototype.clearDirty = function (entityId, componentName, component, jsonRepresentation) {\r\n          this.cachedComponents[entityId][componentName] = jsonRepresentation;\r\n      };\r\n      return DecentralandSynchronizationSystem;\r\n  }());\n\n  /**\r\n   * Defines potential orientation for back face culling\r\n   * @public\r\n   */\r\n  exports.Orientation = void 0;\r\n  (function (Orientation) {\r\n      /**\r\n       * Clockwise\r\n       */\r\n      Orientation[Orientation[\"CW\"] = 0] = \"CW\";\r\n      /** Counter clockwise */\r\n      Orientation[Orientation[\"CCW\"] = 1] = \"CCW\";\r\n  })(exports.Orientation || (exports.Orientation = {}));\r\n  /**\r\n   * Defines supported spaces\r\n   * @public\r\n   */\r\n  exports.Space = void 0;\r\n  (function (Space) {\r\n      /** Local (object) space */\r\n      Space[Space[\"LOCAL\"] = 0] = \"LOCAL\";\r\n      /** World space */\r\n      Space[Space[\"WORLD\"] = 1] = \"WORLD\";\r\n      /** Bone space */\r\n      Space[Space[\"BONE\"] = 2] = \"BONE\";\r\n  })(exports.Space || (exports.Space = {}));\r\n  /**\r\n   * Constant used to convert a value to gamma space\r\n   * @public\r\n   */\r\n  var ToGammaSpace = 1 / 2.2;\r\n  /**\r\n   * Constant used to convert a value to linear space\r\n   * @public\r\n   */\r\n  var ToLinearSpace = 2.2;\r\n  /**\r\n   * Constant used to define the minimal number value in Babylon.js\r\n   * @public\r\n   */\r\n  var Epsilon = 0.000001;\r\n  /**\r\n   * Constant used to convert from Euler degrees to radians\r\n   * @public\r\n   */\r\n  var DEG2RAD = Math.PI / 180;\r\n  /**\r\n   * Constant used to convert from radians to Euler degrees\r\n   * @public\r\n   */\r\n  var RAD2DEG = 360 / (Math.PI * 2);\n\n  /**\r\n   * Scalar computation library\r\n   * @public\r\n   */\r\n  var Scalar = /** @class */ (function () {\r\n      function Scalar() {\r\n      }\r\n      /**\r\n       * Boolean : true if the absolute difference between a and b is lower than epsilon (default = 1.401298E-45)\r\n       * @param a - number\r\n       * @param b - number\r\n       * @param epsilon - (default = 1.401298E-45)\r\n       * @returns true if the absolute difference between a and b is lower than epsilon (default = 1.401298E-45)\r\n       */\r\n      Scalar.WithinEpsilon = function (a, b, epsilon) {\r\n          if (epsilon === void 0) { epsilon = 1.401298e-45; }\r\n          var num = a - b;\r\n          return -epsilon <= num && num <= epsilon;\r\n      };\r\n      /**\r\n       * Returns a string : the upper case translation of the number i to hexadecimal.\r\n       * @param i - number\r\n       * @returns the upper case translation of the number i to hexadecimal.\r\n       */\r\n      Scalar.ToHex = function (i) {\r\n          var str = i.toString(16);\r\n          if (i <= 15) {\r\n              return ('0' + str).toUpperCase();\r\n          }\r\n          return str.toUpperCase();\r\n      };\r\n      /**\r\n       * Returns -1 if value is negative and +1 is value is positive.\r\n       * @param _value - the value\r\n       * @returns the value itself if it's equal to zero.\r\n       */\r\n      Scalar.Sign = function (value) {\r\n          var _value = +value; // convert to a number\r\n          if (_value === 0 || isNaN(_value)) {\r\n              return _value;\r\n          }\r\n          return _value > 0 ? 1 : -1;\r\n      };\r\n      /**\r\n       * Returns the value itself if it's between min and max.\r\n       * Returns min if the value is lower than min.\r\n       * Returns max if the value is greater than max.\r\n       * @param value - the value to clmap\r\n       * @param min - the min value to clamp to (default: 0)\r\n       * @param max - the max value to clamp to (default: 1)\r\n       * @returns the clamped value\r\n       */\r\n      Scalar.Clamp = function (value, min, max) {\r\n          if (min === void 0) { min = 0; }\r\n          if (max === void 0) { max = 1; }\r\n          return Math.min(max, Math.max(min, value));\r\n      };\r\n      /**\r\n       * the log2 of value.\r\n       * @param value - the value to compute log2 of\r\n       * @returns the log2 of value.\r\n       */\r\n      Scalar.Log2 = function (value) {\r\n          return Math.log(value) * Math.LOG2E;\r\n      };\r\n      /**\r\n       * Loops the value, so that it is never larger than length and never smaller than 0.\r\n       *\r\n       * This is similar to the modulo operator but it works with floating point numbers.\r\n       * For example, using 3.0 for t and 2.5 for length, the result would be 0.5.\r\n       * With t = 5 and length = 2.5, the result would be 0.0.\r\n       * Note, however, that the behaviour is not defined for negative numbers as it is for the modulo operator\r\n       * @param value - the value\r\n       * @param length - the length\r\n       * @returns the looped value\r\n       */\r\n      Scalar.Repeat = function (value, length) {\r\n          return value - Math.floor(value / length) * length;\r\n      };\r\n      /**\r\n       * Normalize the value between 0.0 and 1.0 using min and max values\r\n       * @param value - value to normalize\r\n       * @param min - max to normalize between\r\n       * @param max - min to normalize between\r\n       * @returns the normalized value\r\n       */\r\n      Scalar.Normalize = function (value, min, max) {\r\n          return (value - min) / (max - min);\r\n      };\r\n      /**\r\n       * Denormalize the value from 0.0 and 1.0 using min and max values\r\n       * @param normalized - value to denormalize\r\n       * @param min - max to denormalize between\r\n       * @param max - min to denormalize between\r\n       * @returns the denormalized value\r\n       */\r\n      Scalar.Denormalize = function (normalized, min, max) {\r\n          return normalized * (max - min) + min;\r\n      };\r\n      /**\r\n       * Calculates the shortest difference between two given angles given in degrees.\r\n       * @param current - current angle in degrees\r\n       * @param target - target angle in degrees\r\n       * @returns the delta\r\n       */\r\n      Scalar.DeltaAngle = function (current, target) {\r\n          var num = Scalar.Repeat(target - current, 360.0);\r\n          if (num > 180.0) {\r\n              num -= 360.0;\r\n          }\r\n          return num;\r\n      };\r\n      /**\r\n       * PingPongs the value t, so that it is never larger than length and never smaller than 0.\r\n       * @param tx - value\r\n       * @param length - length\r\n       * @returns The returned value will move back and forth between 0 and length\r\n       */\r\n      Scalar.PingPong = function (tx, length) {\r\n          var t = Scalar.Repeat(tx, length * 2.0);\r\n          return length - Math.abs(t - length);\r\n      };\r\n      /**\r\n       * Interpolates between min and max with smoothing at the limits.\r\n       *\r\n       * This function interpolates between min and max in a similar way to Lerp. However, the interpolation will gradually speed up\r\n       * from the start and slow down toward the end. This is useful for creating natural-looking animation, fading and other transitions.\r\n       * @param from - from\r\n       * @param to - to\r\n       * @param tx - value\r\n       * @returns the smooth stepped value\r\n       */\r\n      Scalar.SmoothStep = function (from, to, tx) {\r\n          var t = Scalar.Clamp(tx);\r\n          t = -2.0 * t * t * t + 3.0 * t * t;\r\n          return to * t + from * (1.0 - t);\r\n      };\r\n      /**\r\n       * Moves a value current towards target.\r\n       *\r\n       * This is essentially the same as Mathf.Lerp but instead the function will ensure that the speed never exceeds maxDelta.\r\n       * Negative values of maxDelta pushes the value away from target.\r\n       * @param current - current value\r\n       * @param target - target value\r\n       * @param maxDelta - max distance to move\r\n       * @returns resulting value\r\n       */\r\n      Scalar.MoveTowards = function (current, target, maxDelta) {\r\n          var result = 0;\r\n          if (Math.abs(target - current) <= maxDelta) {\r\n              result = target;\r\n          }\r\n          else {\r\n              result = current + Scalar.Sign(target - current) * maxDelta;\r\n          }\r\n          return result;\r\n      };\r\n      /**\r\n       * Same as MoveTowards but makes sure the values interpolate correctly when they wrap around 360 degrees.\r\n       *\r\n       * Variables current and target are assumed to be in degrees. For optimization reasons, negative values of maxDelta\r\n       *  are not supported and may cause oscillation. To push current away from a target angle, add 180 to that angle instead.\r\n       * @param current - current value\r\n       * @param target - target value\r\n       * @param maxDelta - max distance to move\r\n       * @returns resulting angle\r\n       */\r\n      Scalar.MoveTowardsAngle = function (current, target, maxDelta) {\r\n          var num = Scalar.DeltaAngle(current, target);\r\n          var result = 0;\r\n          if (-maxDelta < num && num < maxDelta) {\r\n              result = target;\r\n          }\r\n          else {\r\n              result = Scalar.MoveTowards(current, current + num, maxDelta);\r\n          }\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a new scalar with values linearly interpolated of \"amount\" between the start scalar and the end scalar.\r\n       * @param start - start value\r\n       * @param end - target value\r\n       * @param amount - amount to lerp between\r\n       * @returns the lerped value\r\n       */\r\n      Scalar.Lerp = function (start, end, amount) {\r\n          return start + (end - start) * amount;\r\n      };\r\n      /**\r\n       * Same as Lerp but makes sure the values interpolate correctly when they wrap around 360 degrees.\r\n       * The parameter t is clamped to the range [0, 1]. Variables a and b are assumed to be in degrees.\r\n       * @param start - start value\r\n       * @param end - target value\r\n       * @param amount - amount to lerp between\r\n       * @returns the lerped value\r\n       */\r\n      Scalar.LerpAngle = function (start, end, amount) {\r\n          var num = Scalar.Repeat(end - start, 360.0);\r\n          if (num > 180.0) {\r\n              num -= 360.0;\r\n          }\r\n          return start + num * Scalar.Clamp(amount);\r\n      };\r\n      /**\r\n       * Calculates the linear parameter t that produces the interpolant value within the range [a, b].\r\n       * @param a - start value\r\n       * @param b - target value\r\n       * @param value - value between a and b\r\n       * @returns the inverseLerp value\r\n       */\r\n      Scalar.InverseLerp = function (a, b, value) {\r\n          var result = 0;\r\n          if (a !== b) {\r\n              result = Scalar.Clamp((value - a) / (b - a));\r\n          }\r\n          else {\r\n              result = 0.0;\r\n          }\r\n          return result;\r\n      };\r\n      /**\r\n       * Returns a new scalar located for \"amount\" (float) on the Hermite spline defined by the scalars \"value1\", \"value3\", \"tangent1\", \"tangent2\".\r\n       * {@link http://mathworld.wolfram.com/HermitePolynomial.html}\r\n       * @param value1 - spline value\r\n       * @param tangent1 - spline value\r\n       * @param value2 - spline value\r\n       * @param tangent2 - spline value\r\n       * @param amount - input value\r\n       * @returns hermite result\r\n       */\r\n      Scalar.Hermite = function (value1, tangent1, value2, tangent2, amount) {\r\n          var squared = amount * amount;\r\n          var cubed = amount * squared;\r\n          var part1 = 2.0 * cubed - 3.0 * squared + 1.0;\r\n          var part2 = -2.0 * cubed + 3.0 * squared;\r\n          var part3 = cubed - 2.0 * squared + amount;\r\n          var part4 = cubed - squared;\r\n          return value1 * part1 + value2 * part2 + tangent1 * part3 + tangent2 * part4;\r\n      };\r\n      /**\r\n       * Returns a random float number between and min and max values\r\n       * @param min - min value of random\r\n       * @param max - max value of random\r\n       * @returns random value\r\n       */\r\n      Scalar.RandomRange = function (min, max) {\r\n          if (min === max) {\r\n              return min;\r\n          }\r\n          return Math.random() * (max - min) + min;\r\n      };\r\n      /**\r\n       * This function returns percentage of a number in a given range.\r\n       *\r\n       * RangeToPercent(40,20,60) will return 0.5 (50%)\r\n       * RangeToPercent(34,0,100) will return 0.34 (34%)\r\n       * @param num - to convert to percentage\r\n       * @param min - min range\r\n       * @param max - max range\r\n       * @returns the percentage\r\n       */\r\n      Scalar.RangeToPercent = function (num, min, max) {\r\n          return (num - min) / (max - min);\r\n      };\r\n      /**\r\n       * This function returns number that corresponds to the percentage in a given range.\r\n       *\r\n       * PercentToRange(0.34,0,100) will return 34.\r\n       * @param percent - to convert to number\r\n       * @param min - min range\r\n       * @param max - max range\r\n       * @returns the number\r\n       */\r\n      Scalar.PercentToRange = function (percent, min, max) {\r\n          return (max - min) * percent + min;\r\n      };\r\n      /**\r\n       * Returns the angle converted to equivalent value between -Math.PI and Math.PI radians.\r\n       * @param angle - The angle to normalize in radian.\r\n       * @returns The converted angle.\r\n       */\r\n      Scalar.NormalizeRadians = function (angle) {\r\n          // More precise but slower version kept for reference.\r\n          // tslint:disable:no-commented-out-code\r\n          /*\r\n            // angle = angle % Tools.TwoPi;\r\n            // angle = (angle + Tools.TwoPi) % Tools.TwoPi;\r\n      \n            //if (angle > Math.PI) {\r\n            //\tangle -= Tools.TwoPi;\r\n            //}\r\n             */\r\n          return angle - Scalar.TwoPi * Math.floor((angle + Math.PI) / Scalar.TwoPi);\r\n      };\r\n      /**\r\n       * Two pi constants convenient for computation.\r\n       */\r\n      Scalar.TwoPi = Math.PI * 2;\r\n      return Scalar;\r\n  }());\n\n  /**\r\n   * Vector4 class created for EulerAngle class conversion to Quaternion\r\n   * @public\r\n   */\r\n  var Vector4 = /** @class */ (function () {\r\n      /**\r\n       * Creates a Vector4 object from the given floats.\r\n       * @param x - x value of the vector\r\n       * @param y - y value of the vector\r\n       * @param z - z value of the vector\r\n       * @param w - w value of the vector\r\n       */\r\n      function Vector4(\r\n      /** x value of the vector */\r\n      x, \r\n      /** y value of the vector */\r\n      y, \r\n      /** z value of the vector */\r\n      z, \r\n      /** w value of the vector */\r\n      w) {\r\n          this.x = x;\r\n          this.y = y;\r\n          this.z = z;\r\n          this.w = w;\r\n      }\r\n      // Statics\r\n      /**\r\n       * Returns a new Vector4 as the result of the addition of the two given vectors.\r\n       * @param vector1 - the first vector\r\n       * @param vector2 - the second vector\r\n       * @returns the resulting vector\r\n       */\r\n      Vector4.Add = function (vector1, vector2) {\r\n          return new Vector4(vector1.x, vector1.y, vector1.z, vector1.w).addInPlace(vector2);\r\n      };\r\n      /**\r\n       * Returns a new Vector4 set from the starting index of the given array.\r\n       * @param array - the array to pull values from\r\n       * @param offset - the offset into the array to start at\r\n       * @returns the new vector\r\n       */\r\n      Vector4.FromArray = function (array, offset) {\r\n          if (offset === void 0) { offset = 0; }\r\n          return new Vector4(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);\r\n      };\r\n      /**\r\n       * Updates the given vector \"result\" from the starting index of the given array.\r\n       * @param array - the array to pull values from\r\n       * @param offset - the offset into the array to start at\r\n       * @param result - the vector to store the result in\r\n       */\r\n      Vector4.FromArrayToRef = function (array, offset, result) {\r\n          result.x = array[offset];\r\n          result.y = array[offset + 1];\r\n          result.z = array[offset + 2];\r\n          result.w = array[offset + 3];\r\n      };\r\n      /**\r\n       * Updates the given vector \"result\" from the starting index of the given FloatArray.\r\n       * @param array - the array to pull values from\r\n       * @param offset - the offset into the array to start at\r\n       * @param result - the vector to store the result in\r\n       */\r\n      Vector4.FromFloatArrayToRef = function (array, offset, result) {\r\n          Vector4.FromArrayToRef(array, offset, result);\r\n      };\r\n      /**\r\n       * Updates the given vector \"result\" coordinates from the given floats.\r\n       * @param x - float to set from\r\n       * @param y - float to set from\r\n       * @param z - float to set from\r\n       * @param w - float to set from\r\n       * @param result - the vector to the floats in\r\n       */\r\n      Vector4.FromFloatsToRef = function (x, y, z, w, result) {\r\n          result.x = x;\r\n          result.y = y;\r\n          result.z = z;\r\n          result.w = w;\r\n      };\r\n      /**\r\n       * Returns a new Vector4 set to (0.0, 0.0, 0.0, 0.0)\r\n       * @returns the new vector\r\n       */\r\n      Vector4.Zero = function () {\r\n          return new Vector4(0.0, 0.0, 0.0, 0.0);\r\n      };\r\n      /**\r\n       * Returns a new Vector4 set to (1.0, 1.0, 1.0, 1.0)\r\n       * @returns the new vector\r\n       */\r\n      Vector4.One = function () {\r\n          return new Vector4(1.0, 1.0, 1.0, 1.0);\r\n      };\r\n      /**\r\n       * Returns a new normalized Vector4 from the given one.\r\n       * @param vector - the vector to normalize\r\n       * @returns the vector\r\n       */\r\n      Vector4.Normalize = function (vector) {\r\n          var result = Vector4.Zero();\r\n          Vector4.NormalizeToRef(vector, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Updates the given vector \"result\" from the normalization of the given one.\r\n       * @param vector - the vector to normalize\r\n       * @param result - the vector to store the result in\r\n       */\r\n      Vector4.NormalizeToRef = function (vector, result) {\r\n          result.copyFrom(vector);\r\n          result.normalize();\r\n      };\r\n      /**\r\n       * Returns a vector with the minimum values from the left and right vectors\r\n       * @param left - left vector to minimize\r\n       * @param right - right vector to minimize\r\n       * @returns a new vector with the minimum of the left and right vector values\r\n       */\r\n      Vector4.Minimize = function (left, right) {\r\n          var min = new Vector4(left.x, left.y, left.z, left.w);\r\n          min.minimizeInPlace(right);\r\n          return min;\r\n      };\r\n      /**\r\n       * Returns a vector with the maximum values from the left and right vectors\r\n       * @param left - left vector to maximize\r\n       * @param right - right vector to maximize\r\n       * @returns a new vector with the maximum of the left and right vector values\r\n       */\r\n      Vector4.Maximize = function (left, right) {\r\n          var max = new Vector4(left.x, left.y, left.z, left.w);\r\n          max.maximizeInPlace(right);\r\n          return max;\r\n      };\r\n      /**\r\n       * Returns the distance (float) between the vectors \"value1\" and \"value2\".\r\n       * @param value1 - value to calulate the distance between\r\n       * @param value2 - value to calulate the distance between\r\n       * @returns the distance between the two vectors\r\n       */\r\n      Vector4.Distance = function (value1, value2) {\r\n          return Math.sqrt(Vector4.DistanceSquared(value1, value2));\r\n      };\r\n      /**\r\n       * Returns the squared distance (float) between the vectors \"value1\" and \"value2\".\r\n       * @param value1 - value to calulate the distance between\r\n       * @param value2 - value to calulate the distance between\r\n       * @returns the distance between the two vectors squared\r\n       */\r\n      Vector4.DistanceSquared = function (value1, value2) {\r\n          var x = value1.x - value2.x;\r\n          var y = value1.y - value2.y;\r\n          var z = value1.z - value2.z;\r\n          var w = value1.w - value2.w;\r\n          return x * x + y * y + z * z + w * w;\r\n      };\r\n      /**\r\n       * Returns a new Vector4 located at the center between the vectors \"value1\" and \"value2\".\r\n       * @param value1 - value to calulate the center between\r\n       * @param value2 - value to calulate the center between\r\n       * @returns the center between the two vectors\r\n       */\r\n      Vector4.Center = function (value1, value2) {\r\n          var center = Vector4.Add(value1, value2);\r\n          center.scaleInPlace(0.5);\r\n          return center;\r\n      };\r\n      /**\r\n       * Returns a new Vector4 set with the result of the normal transformation by the given matrix of the given vector.\r\n       * This methods computes transformed normalized direction vectors only.\r\n       * @param vector - the vector to transform\r\n       * @param transformation - the transformation matrix to apply\r\n       * @returns the new vector\r\n       */\r\n      Vector4.TransformNormal = function (vector, transformation) {\r\n          var result = Vector4.Zero();\r\n          Vector4.TransformNormalToRef(vector, transformation, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the result of the normal transformation by the given matrix of the given vector.\r\n       * This methods computes transformed normalized direction vectors only.\r\n       * @param vector - the vector to transform\r\n       * @param transformation - the transformation matrix to apply\r\n       * @param result - the vector to store the result in\r\n       */\r\n      Vector4.TransformNormalToRef = function (vector, transformation, result) {\r\n          var m = transformation.m;\r\n          var x = vector.x * m[0] + vector.y * m[4] + vector.z * m[8];\r\n          var y = vector.x * m[1] + vector.y * m[5] + vector.z * m[9];\r\n          var z = vector.x * m[2] + vector.y * m[6] + vector.z * m[10];\r\n          result.x = x;\r\n          result.y = y;\r\n          result.z = z;\r\n          result.w = vector.w;\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the result of the normal transformation by the given matrix of the given floats (x, y, z, w).\r\n       * This methods computes transformed normalized direction vectors only.\r\n       * @param x - value to transform\r\n       * @param y - value to transform\r\n       * @param z - value to transform\r\n       * @param w - value to transform\r\n       * @param transformation - the transformation matrix to apply\r\n       * @param result - the vector to store the results in\r\n       */\r\n      Vector4.TransformNormalFromFloatsToRef = function (x, y, z, w, transformation, result) {\r\n          var m = transformation.m;\r\n          result.x = x * m[0] + y * m[4] + z * m[8];\r\n          result.y = x * m[1] + y * m[5] + z * m[9];\r\n          result.z = x * m[2] + y * m[6] + z * m[10];\r\n          result.w = w;\r\n      };\r\n      /**\r\n       * Returns the string with the Vector4 coordinates.\r\n       * @returns a string containing all the vector values\r\n       */\r\n      Vector4.prototype.toString = function () {\r\n          return '{X: ' + this.x + ' Y:' + this.y + ' Z:' + this.z + ' W:' + this.w + '}';\r\n      };\r\n      /**\r\n       * Returns the string \"Vector4\".\r\n       * @returns \"Vector4\"\r\n       */\r\n      Vector4.prototype.getClassName = function () {\r\n          return 'Vector4';\r\n      };\r\n      /**\r\n       * Returns the Vector4 hash code.\r\n       * @returns a unique hash code\r\n       */\r\n      Vector4.prototype.getHashCode = function () {\r\n          var hash = this.x || 0;\r\n          hash = (hash * 397) ^ (this.y || 0);\r\n          hash = (hash * 397) ^ (this.z || 0);\r\n          hash = (hash * 397) ^ (this.w || 0);\r\n          return hash;\r\n      };\r\n      // Operators\r\n      /**\r\n       * Returns a new array populated with 4 elements : the Vector4 coordinates.\r\n       * @returns the resulting array\r\n       */\r\n      Vector4.prototype.asArray = function () {\r\n          var result = new Array();\r\n          this.toArray(result, 0);\r\n          return result;\r\n      };\r\n      /**\r\n       * Populates the given array from the given index with the Vector4 coordinates.\r\n       * @param array - array to populate\r\n       * @param index - index of the array to start at (default: 0)\r\n       * @returns the Vector4.\r\n       */\r\n      Vector4.prototype.toArray = function (array, index) {\r\n          if (index === void 0) { index = 0; }\r\n          array[index] = this.x;\r\n          array[index + 1] = this.y;\r\n          array[index + 2] = this.z;\r\n          array[index + 3] = this.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Adds the given vector to the current Vector4.\r\n       * @param otherVector - the vector to add\r\n       * @returns the updated Vector4.\r\n       */\r\n      Vector4.prototype.addInPlace = function (otherVector) {\r\n          this.x += otherVector.x;\r\n          this.y += otherVector.y;\r\n          this.z += otherVector.z;\r\n          this.w += otherVector.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector4 as the result of the addition of the current Vector4 and the given one.\r\n       * @param otherVector - the vector to add\r\n       * @returns the resulting vector\r\n       */\r\n      Vector4.prototype.add = function (otherVector) {\r\n          return new Vector4(this.x + otherVector.x, this.y + otherVector.y, this.z + otherVector.z, this.w + otherVector.w);\r\n      };\r\n      /**\r\n       * Updates the given vector \"result\" with the result of the addition of the current Vector4 and the given one.\r\n       * @param otherVector - the vector to add\r\n       * @param result - the vector to store the result\r\n       * @returns the current Vector4.\r\n       */\r\n      Vector4.prototype.addToRef = function (otherVector, result) {\r\n          result.x = this.x + otherVector.x;\r\n          result.y = this.y + otherVector.y;\r\n          result.z = this.z + otherVector.z;\r\n          result.w = this.w + otherVector.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Subtract in place the given vector from the current Vector4.\r\n       * @param otherVector - the vector to subtract\r\n       * @returns the updated Vector4.\r\n       */\r\n      Vector4.prototype.subtractInPlace = function (otherVector) {\r\n          this.x -= otherVector.x;\r\n          this.y -= otherVector.y;\r\n          this.z -= otherVector.z;\r\n          this.w -= otherVector.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector4 with the result of the subtraction of the given vector from the current Vector4.\r\n       * @param otherVector - the vector to add\r\n       * @returns the new vector with the result\r\n       */\r\n      Vector4.prototype.subtract = function (otherVector) {\r\n          return new Vector4(this.x - otherVector.x, this.y - otherVector.y, this.z - otherVector.z, this.w - otherVector.w);\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the result of the subtraction of the given vector from the current Vector4.\r\n       * @param otherVector - the vector to subtract\r\n       * @param result - the vector to store the result\r\n       * @returns the current Vector4.\r\n       */\r\n      Vector4.prototype.subtractToRef = function (otherVector, result) {\r\n          result.x = this.x - otherVector.x;\r\n          result.y = this.y - otherVector.y;\r\n          result.z = this.z - otherVector.z;\r\n          result.w = this.w - otherVector.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector4 set with the result of the subtraction of the given floats from the current Vector4 coordinates.\r\n       */\r\n      /**\r\n       * Returns a new Vector4 set with the result of the subtraction of the given floats from the current Vector4 coordinates.\r\n       * @param x - value to subtract\r\n       * @param y - value to subtract\r\n       * @param z - value to subtract\r\n       * @param w - value to subtract\r\n       * @returns new vector containing the result\r\n       */\r\n      Vector4.prototype.subtractFromFloats = function (x, y, z, w) {\r\n          return new Vector4(this.x - x, this.y - y, this.z - z, this.w - w);\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" set with the result of the subtraction of the given floats from the current Vector4 coordinates.\r\n       * @param x - value to subtract\r\n       * @param y - value to subtract\r\n       * @param z - value to subtract\r\n       * @param w - value to subtract\r\n       * @param result - the vector to store the result in\r\n       * @returns the current Vector4.\r\n       */\r\n      Vector4.prototype.subtractFromFloatsToRef = function (x, y, z, w, result) {\r\n          result.x = this.x - x;\r\n          result.y = this.y - y;\r\n          result.z = this.z - z;\r\n          result.w = this.w - w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector4 set with the current Vector4 negated coordinates.\r\n       * @returns a new vector with the negated values\r\n       */\r\n      Vector4.prototype.negate = function () {\r\n          return new Vector4(-this.x, -this.y, -this.z, -this.w);\r\n      };\r\n      /**\r\n       * Multiplies the current Vector4 coordinates by scale (float).\r\n       * @param scale - the number to scale with\r\n       * @returns the updated Vector4.\r\n       */\r\n      Vector4.prototype.scaleInPlace = function (scale) {\r\n          this.x *= scale;\r\n          this.y *= scale;\r\n          this.z *= scale;\r\n          this.w *= scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector4 set with the current Vector4 coordinates multiplied by scale (float).\r\n       * @param scale - the number to scale with\r\n       * @returns a new vector with the result\r\n       */\r\n      Vector4.prototype.scale = function (scale) {\r\n          return new Vector4(this.x * scale, this.y * scale, this.z * scale, this.w * scale);\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the current Vector4 coordinates multiplied by scale (float).\r\n       * @param scale - the number to scale with\r\n       * @param result - a vector to store the result in\r\n       * @returns the current Vector4.\r\n       */\r\n      Vector4.prototype.scaleToRef = function (scale, result) {\r\n          result.x = this.x * scale;\r\n          result.y = this.y * scale;\r\n          result.z = this.z * scale;\r\n          result.w = this.w * scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Scale the current Vector4 values by a factor and add the result to a given Vector4\r\n       * @param scale - defines the scale factor\r\n       * @param result - defines the Vector4 object where to store the result\r\n       * @returns the unmodified current Vector4\r\n       */\r\n      Vector4.prototype.scaleAndAddToRef = function (scale, result) {\r\n          result.x += this.x * scale;\r\n          result.y += this.y * scale;\r\n          result.z += this.z * scale;\r\n          result.w += this.w * scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Boolean : True if the current Vector4 coordinates are stricly equal to the given ones.\r\n       * @param otherVector - the vector to compare against\r\n       * @returns true if they are equal\r\n       */\r\n      Vector4.prototype.equals = function (otherVector) {\r\n          return (otherVector &&\r\n              this.x === otherVector.x &&\r\n              this.y === otherVector.y &&\r\n              this.z === otherVector.z &&\r\n              this.w === otherVector.w);\r\n      };\r\n      /**\r\n       * Boolean : True if the current Vector4 coordinates are each beneath the distance \"epsilon\" from the given vector ones.\r\n       * @param otherVector - vector to compare against\r\n       * @param epsilon - (Default: very small number)\r\n       * @returns true if they are equal\r\n       */\r\n      Vector4.prototype.equalsWithEpsilon = function (otherVector, epsilon) {\r\n          if (epsilon === void 0) { epsilon = Epsilon; }\r\n          return (otherVector &&\r\n              Scalar.WithinEpsilon(this.x, otherVector.x, epsilon) &&\r\n              Scalar.WithinEpsilon(this.y, otherVector.y, epsilon) &&\r\n              Scalar.WithinEpsilon(this.z, otherVector.z, epsilon) &&\r\n              Scalar.WithinEpsilon(this.w, otherVector.w, epsilon));\r\n      };\r\n      /**\r\n       * Boolean : True if the given floats are strictly equal to the current Vector4 coordinates.\r\n       * @param x - x value to compare against\r\n       * @param y - y value to compare against\r\n       * @param z - z value to compare against\r\n       * @param w - w value to compare against\r\n       * @returns true if equal\r\n       */\r\n      Vector4.prototype.equalsToFloats = function (x, y, z, w) {\r\n          return this.x === x && this.y === y && this.z === z && this.w === w;\r\n      };\r\n      /**\r\n       * Multiplies in place the current Vector4 by the given one.\r\n       * @param otherVector - vector to multiple with\r\n       * @returns the updated Vector4.\r\n       */\r\n      Vector4.prototype.multiplyInPlace = function (otherVector) {\r\n          this.x *= otherVector.x;\r\n          this.y *= otherVector.y;\r\n          this.z *= otherVector.z;\r\n          this.w *= otherVector.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector4 set with the multiplication result of the current Vector4 and the given one.\r\n       * @param otherVector - vector to multiple with\r\n       * @returns resulting new vector\r\n       */\r\n      Vector4.prototype.multiply = function (otherVector) {\r\n          return new Vector4(this.x * otherVector.x, this.y * otherVector.y, this.z * otherVector.z, this.w * otherVector.w);\r\n      };\r\n      /**\r\n       * Updates the given vector \"result\" with the multiplication result of the current Vector4 and the given one.\r\n       * @param otherVector - vector to multiple with\r\n       * @param result - vector to store the result\r\n       * @returns the current Vector4.\r\n       */\r\n      Vector4.prototype.multiplyToRef = function (otherVector, result) {\r\n          result.x = this.x * otherVector.x;\r\n          result.y = this.y * otherVector.y;\r\n          result.z = this.z * otherVector.z;\r\n          result.w = this.w * otherVector.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector4 set with the multiplication result of the given floats and the current Vector4 coordinates.\r\n       * @param x - x value multiply with\r\n       * @param y - y value multiply with\r\n       * @param z - z value multiply with\r\n       * @param w - w value multiply with\r\n       * @returns resulting new vector\r\n       */\r\n      Vector4.prototype.multiplyByFloats = function (x, y, z, w) {\r\n          return new Vector4(this.x * x, this.y * y, this.z * z, this.w * w);\r\n      };\r\n      /**\r\n       * Returns a new Vector4 set with the division result of the current Vector4 by the given one.\r\n       * @param otherVector - vector to devide with\r\n       * @returns resulting new vector\r\n       */\r\n      Vector4.prototype.divide = function (otherVector) {\r\n          return new Vector4(this.x / otherVector.x, this.y / otherVector.y, this.z / otherVector.z, this.w / otherVector.w);\r\n      };\r\n      /**\r\n       * Updates the given vector \"result\" with the division result of the current Vector4 by the given one.\r\n       * @param otherVector - vector to devide with\r\n       * @param result - vector to store the result\r\n       * @returns the current Vector4.\r\n       */\r\n      Vector4.prototype.divideToRef = function (otherVector, result) {\r\n          result.x = this.x / otherVector.x;\r\n          result.y = this.y / otherVector.y;\r\n          result.z = this.z / otherVector.z;\r\n          result.w = this.w / otherVector.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Divides the current Vector3 coordinates by the given ones.\r\n       * @param otherVector - vector to devide with\r\n       * @returns the updated Vector3.\r\n       */\r\n      Vector4.prototype.divideInPlace = function (otherVector) {\r\n          return this.divideToRef(otherVector, this);\r\n      };\r\n      /**\r\n       * Updates the Vector4 coordinates with the minimum values between its own and the given vector ones\r\n       * @param other - defines the second operand\r\n       * @returns the current updated Vector4\r\n       */\r\n      Vector4.prototype.minimizeInPlace = function (other) {\r\n          if (other.x < this.x) {\r\n              this.x = other.x;\r\n          }\r\n          if (other.y < this.y) {\r\n              this.y = other.y;\r\n          }\r\n          if (other.z < this.z) {\r\n              this.z = other.z;\r\n          }\r\n          if (other.w < this.w) {\r\n              this.w = other.w;\r\n          }\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates the Vector4 coordinates with the maximum values between its own and the given vector ones\r\n       * @param other - defines the second operand\r\n       * @returns the current updated Vector4\r\n       */\r\n      Vector4.prototype.maximizeInPlace = function (other) {\r\n          if (other.x > this.x) {\r\n              this.x = other.x;\r\n          }\r\n          if (other.y > this.y) {\r\n              this.y = other.y;\r\n          }\r\n          if (other.z > this.z) {\r\n              this.z = other.z;\r\n          }\r\n          if (other.w > this.w) {\r\n              this.w = other.w;\r\n          }\r\n          return this;\r\n      };\r\n      /**\r\n       * Gets a new Vector4 from current Vector4 floored values\r\n       * @returns a new Vector4\r\n       */\r\n      Vector4.prototype.floor = function () {\r\n          return new Vector4(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z), Math.floor(this.w));\r\n      };\r\n      /**\r\n       * Gets a new Vector4 from current Vector3 floored values\r\n       * @returns a new Vector4\r\n       */\r\n      Vector4.prototype.fract = function () {\r\n          return new Vector4(this.x - Math.floor(this.x), this.y - Math.floor(this.y), this.z - Math.floor(this.z), this.w - Math.floor(this.w));\r\n      };\r\n      // Properties\r\n      /**\r\n       * Returns the Vector4 length (float).\r\n       * @returns the length\r\n       */\r\n      Vector4.prototype.length = function () {\r\n          return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\r\n      };\r\n      /**\r\n       * Returns the Vector4 squared length (float).\r\n       * @returns the length squared\r\n       */\r\n      Vector4.prototype.lengthSquared = function () {\r\n          return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\r\n      };\r\n      // Methods\r\n      /**\r\n       * Normalizes in place the Vector4.\r\n       * @returns the updated Vector4.\r\n       */\r\n      Vector4.prototype.normalize = function () {\r\n          var len = this.length();\r\n          if (len === 0) {\r\n              return this;\r\n          }\r\n          return this.scaleInPlace(1.0 / len);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 from the Vector4 (x, y, z) coordinates.\r\n       * @returns this converted to a new vector3\r\n       */\r\n      Vector4.prototype.toVector3 = function () {\r\n          return new Vector3(this.x, this.y, this.z);\r\n      };\r\n      /**\r\n       * Returns a new Vector4 copied from the current one.\r\n       * @returns the new cloned vector\r\n       */\r\n      Vector4.prototype.clone = function () {\r\n          return new Vector4(this.x, this.y, this.z, this.w);\r\n      };\r\n      /**\r\n       * Updates the current Vector4 with the given one coordinates.\r\n       * @param source - the source vector to copy from\r\n       * @returns the updated Vector4.\r\n       */\r\n      Vector4.prototype.copyFrom = function (source) {\r\n          this.x = source.x;\r\n          this.y = source.y;\r\n          this.z = source.z;\r\n          this.w = source.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates the current Vector4 coordinates with the given floats.\r\n       * @param x - float to copy from\r\n       * @param y - float to copy from\r\n       * @param z - float to copy from\r\n       * @param w - float to copy from\r\n       * @returns the updated Vector4.\r\n       */\r\n      Vector4.prototype.copyFromFloats = function (x, y, z, w) {\r\n          this.x = x;\r\n          this.y = y;\r\n          this.z = z;\r\n          this.w = w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates the current Vector4 coordinates with the given floats.\r\n       * @param x - float to set from\r\n       * @param y - float to set from\r\n       * @param z - float to set from\r\n       * @param w - float to set from\r\n       * @returns the updated Vector4.\r\n       */\r\n      Vector4.prototype.set = function (x, y, z, w) {\r\n          return this.copyFromFloats(x, y, z, w);\r\n      };\r\n      /**\r\n       * Copies the given float to the current Vector3 coordinates\r\n       * @param v - defines the x, y, z and w coordinates of the operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector4.prototype.setAll = function (v) {\r\n          this.x = this.y = this.z = this.w = v;\r\n          return this;\r\n      };\r\n      return Vector4;\r\n  }());\n\n  /**\r\n   * Class used to store matrix data (4x4)\r\n   * @public\r\n   */\r\n  var Matrix = /** @class */ (function () {\r\n      /**\r\n       * Creates an empty matrix (filled with zeros)\r\n       */\r\n      function Matrix() {\r\n          this._isIdentity = false;\r\n          this._isIdentityDirty = true;\r\n          this._isIdentity3x2 = true;\r\n          this._isIdentity3x2Dirty = true;\r\n          this._m = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n          this._updateIdentityStatus(false);\r\n      }\r\n      Object.defineProperty(Matrix.prototype, \"m\", {\r\n          /**\r\n           * Gets the internal data of the matrix\r\n           */\r\n          get: function () {\r\n              return this._m;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Object.defineProperty(Matrix, \"IdentityReadOnly\", {\r\n          /**\r\n           * Gets an identity matrix that must not be updated\r\n           */\r\n          get: function () {\r\n              return Matrix._identityReadOnly;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      // Statics\r\n      /**\r\n       * Creates a matrix from an array\r\n       * @param array - defines the source array\r\n       * @param offset - defines an offset in the source array\r\n       * @returns a new Matrix set from the starting index of the given array\r\n       */\r\n      Matrix.FromArray = function (array, offset) {\r\n          if (offset === void 0) { offset = 0; }\r\n          var result = new Matrix();\r\n          Matrix.FromArrayToRef(array, offset, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Copy the content of an array into a given matrix\r\n       * @param array - defines the source array\r\n       * @param offset - defines an offset in the source array\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.FromArrayToRef = function (array, offset, result) {\r\n          for (var index = 0; index < 16; index++) {\r\n              result._m[index] = array[index + offset];\r\n          }\r\n          result._markAsUpdated();\r\n      };\r\n      /**\r\n       * Stores an array into a matrix after having multiplied each component by a given factor\r\n       * @param array - defines the source array\r\n       * @param offset - defines the offset in the source array\r\n       * @param scale - defines the scaling factor\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.FromFloatArrayToRefScaled = function (array, offset, scale, result) {\r\n          for (var index = 0; index < 16; index++) {\r\n              result._m[index] = array[index + offset] * scale;\r\n          }\r\n          result._markAsUpdated();\r\n      };\r\n      /**\r\n       * Stores a list of values (16) inside a given matrix\r\n       * @param initialM11 - defines 1st value of 1st row\r\n       * @param initialM12 - defines 2nd value of 1st row\r\n       * @param initialM13 - defines 3rd value of 1st row\r\n       * @param initialM14 - defines 4th value of 1st row\r\n       * @param initialM21 - defines 1st value of 2nd row\r\n       * @param initialM22 - defines 2nd value of 2nd row\r\n       * @param initialM23 - defines 3rd value of 2nd row\r\n       * @param initialM24 - defines 4th value of 2nd row\r\n       * @param initialM31 - defines 1st value of 3rd row\r\n       * @param initialM32 - defines 2nd value of 3rd row\r\n       * @param initialM33 - defines 3rd value of 3rd row\r\n       * @param initialM34 - defines 4th value of 3rd row\r\n       * @param initialM41 - defines 1st value of 4th row\r\n       * @param initialM42 - defines 2nd value of 4th row\r\n       * @param initialM43 - defines 3rd value of 4th row\r\n       * @param initialM44 - defines 4th value of 4th row\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.FromValuesToRef = function (initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44, result) {\r\n          var m = result._m;\r\n          m[0] = initialM11;\r\n          m[1] = initialM12;\r\n          m[2] = initialM13;\r\n          m[3] = initialM14;\r\n          m[4] = initialM21;\r\n          m[5] = initialM22;\r\n          m[6] = initialM23;\r\n          m[7] = initialM24;\r\n          m[8] = initialM31;\r\n          m[9] = initialM32;\r\n          m[10] = initialM33;\r\n          m[11] = initialM34;\r\n          m[12] = initialM41;\r\n          m[13] = initialM42;\r\n          m[14] = initialM43;\r\n          m[15] = initialM44;\r\n          result._markAsUpdated();\r\n      };\r\n      /**\r\n       * Creates new matrix from a list of values (16)\r\n       * @param initialM11 - defines 1st value of 1st row\r\n       * @param initialM12 - defines 2nd value of 1st row\r\n       * @param initialM13 - defines 3rd value of 1st row\r\n       * @param initialM14 - defines 4th value of 1st row\r\n       * @param initialM21 - defines 1st value of 2nd row\r\n       * @param initialM22 - defines 2nd value of 2nd row\r\n       * @param initialM23 - defines 3rd value of 2nd row\r\n       * @param initialM24 - defines 4th value of 2nd row\r\n       * @param initialM31 - defines 1st value of 3rd row\r\n       * @param initialM32 - defines 2nd value of 3rd row\r\n       * @param initialM33 - defines 3rd value of 3rd row\r\n       * @param initialM34 - defines 4th value of 3rd row\r\n       * @param initialM41 - defines 1st value of 4th row\r\n       * @param initialM42 - defines 2nd value of 4th row\r\n       * @param initialM43 - defines 3rd value of 4th row\r\n       * @param initialM44 - defines 4th value of 4th row\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.FromValues = function (initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44) {\r\n          var result = new Matrix();\r\n          var m = result._m;\r\n          m[0] = initialM11;\r\n          m[1] = initialM12;\r\n          m[2] = initialM13;\r\n          m[3] = initialM14;\r\n          m[4] = initialM21;\r\n          m[5] = initialM22;\r\n          m[6] = initialM23;\r\n          m[7] = initialM24;\r\n          m[8] = initialM31;\r\n          m[9] = initialM32;\r\n          m[10] = initialM33;\r\n          m[11] = initialM34;\r\n          m[12] = initialM41;\r\n          m[13] = initialM42;\r\n          m[14] = initialM43;\r\n          m[15] = initialM44;\r\n          result._markAsUpdated();\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a new matrix composed by merging scale (vector3), rotation (quaternion) and translation (vector3)\r\n       * @param scale - defines the scale vector3\r\n       * @param rotation - defines the rotation quaternion\r\n       * @param translation - defines the translation vector3\r\n       * @returns a new matrix\r\n       */\r\n      Matrix.Compose = function (scale, rotation, translation) {\r\n          var result = new Matrix();\r\n          Matrix.ComposeToRef(scale, rotation, translation, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets a matrix to a value composed by merging scale (vector3), rotation (quaternion) and translation (vector3)\r\n       * @param scale - defines the scale vector3\r\n       * @param rotation - defines the rotation quaternion\r\n       * @param translation - defines the translation vector3\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.ComposeToRef = function (scale, rotation, translation, result) {\r\n          Matrix.ScalingToRef(scale.x, scale.y, scale.z, MathTmp.Matrix[1]);\r\n          rotation.toRotationMatrix(MathTmp.Matrix[0]);\r\n          MathTmp.Matrix[1].multiplyToRef(MathTmp.Matrix[0], result);\r\n          result.setTranslation(translation);\r\n      };\r\n      /**\r\n       * Creates a new identity matrix\r\n       * @returns a new identity matrix\r\n       */\r\n      Matrix.Identity = function () {\r\n          var identity = Matrix.FromValues(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0);\r\n          identity._updateIdentityStatus(true);\r\n          return identity;\r\n      };\r\n      /**\r\n       * Creates a new identity matrix and stores the result in a given matrix\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.IdentityToRef = function (result) {\r\n          Matrix.FromValuesToRef(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, result);\r\n          result._updateIdentityStatus(true);\r\n      };\r\n      /**\r\n       * Creates a new zero matrix\r\n       * @returns a new zero matrix\r\n       */\r\n      Matrix.Zero = function () {\r\n          var zero = Matrix.FromValues(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\r\n          zero._updateIdentityStatus(false);\r\n          return zero;\r\n      };\r\n      /**\r\n       * Creates a new rotation matrix for \"angle\" radians around the X axis\r\n       * @param angle - defines the angle (in radians) to use\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.RotationX = function (angle) {\r\n          var result = new Matrix();\r\n          Matrix.RotationXToRef(angle, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a new matrix as the invert of a given matrix\r\n       * @param source - defines the source matrix\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.Invert = function (source) {\r\n          var result = new Matrix();\r\n          source.invertToRef(result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a new rotation matrix for \"angle\" radians around the X axis and stores it in a given matrix\r\n       * @param angle - defines the angle (in radians) to use\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.RotationXToRef = function (angle, result) {\r\n          var s = Math.sin(angle);\r\n          var c = Math.cos(angle);\r\n          Matrix.FromValuesToRef(1.0, 0.0, 0.0, 0.0, 0.0, c, s, 0.0, 0.0, -s, c, 0.0, 0.0, 0.0, 0.0, 1.0, result);\r\n          result._updateIdentityStatus(c === 1 && s === 0);\r\n      };\r\n      /**\r\n       * Creates a new rotation matrix for \"angle\" radians around the Y axis\r\n       * @param angle - defines the angle (in radians) to use\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.RotationY = function (angle) {\r\n          var result = new Matrix();\r\n          Matrix.RotationYToRef(angle, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a new rotation matrix for \"angle\" radians around the Y axis and stores it in a given matrix\r\n       * @param angle - defines the angle (in radians) to use\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.RotationYToRef = function (angle, result) {\r\n          var s = Math.sin(angle);\r\n          var c = Math.cos(angle);\r\n          Matrix.FromValuesToRef(c, 0.0, -s, 0.0, 0.0, 1.0, 0.0, 0.0, s, 0.0, c, 0.0, 0.0, 0.0, 0.0, 1.0, result);\r\n          result._updateIdentityStatus(c === 1 && s === 0);\r\n      };\r\n      /**\r\n       * Creates a new rotation matrix for \"angle\" radians around the Z axis\r\n       * @param angle - defines the angle (in radians) to use\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.RotationZ = function (angle) {\r\n          var result = new Matrix();\r\n          Matrix.RotationZToRef(angle, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a new rotation matrix for \"angle\" radians around the Z axis and stores it in a given matrix\r\n       * @param angle - defines the angle (in radians) to use\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.RotationZToRef = function (angle, result) {\r\n          var s = Math.sin(angle);\r\n          var c = Math.cos(angle);\r\n          Matrix.FromValuesToRef(c, s, 0.0, 0.0, -s, c, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, result);\r\n          result._updateIdentityStatus(c === 1 && s === 0);\r\n      };\r\n      /**\r\n       * Creates a new rotation matrix for \"angle\" radians around the given axis\r\n       * @param axis - defines the axis to use\r\n       * @param angle - defines the angle (in radians) to use\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.RotationAxis = function (axis, angle) {\r\n          var result = new Matrix();\r\n          Matrix.RotationAxisToRef(axis, angle, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a new rotation matrix for \"angle\" radians around the given axis and stores it in a given matrix\r\n       * @param axis - defines the axis to use\r\n       * @param angle - defines the angle (in radians) to use\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.RotationAxisToRef = function (axis, angle, result) {\r\n          var s = Math.sin(-angle);\r\n          var c = Math.cos(-angle);\r\n          var c1 = 1 - c;\r\n          axis.normalize();\r\n          var m = result._m;\r\n          m[0] = axis.x * axis.x * c1 + c;\r\n          m[1] = axis.x * axis.y * c1 - axis.z * s;\r\n          m[2] = axis.x * axis.z * c1 + axis.y * s;\r\n          m[3] = 0.0;\r\n          m[4] = axis.y * axis.x * c1 + axis.z * s;\r\n          m[5] = axis.y * axis.y * c1 + c;\r\n          m[6] = axis.y * axis.z * c1 - axis.x * s;\r\n          m[7] = 0.0;\r\n          m[8] = axis.z * axis.x * c1 - axis.y * s;\r\n          m[9] = axis.z * axis.y * c1 + axis.x * s;\r\n          m[10] = axis.z * axis.z * c1 + c;\r\n          m[11] = 0.0;\r\n          m[12] = 0.0;\r\n          m[13] = 0.0;\r\n          m[14] = 0.0;\r\n          m[15] = 1.0;\r\n          result._markAsUpdated();\r\n      };\r\n      /**\r\n       * Creates a rotation matrix\r\n       * @param yaw - defines the yaw angle in radians (Y axis)\r\n       * @param pitch - defines the pitch angle in radians (X axis)\r\n       * @param roll - defines the roll angle in radians (X axis)\r\n       * @returns the new rotation matrix\r\n       */\r\n      Matrix.RotationYawPitchRoll = function (yaw, pitch, roll) {\r\n          var result = new Matrix();\r\n          Matrix.RotationYawPitchRollToRef(yaw, pitch, roll, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a rotation matrix and stores it in a given matrix\r\n       * @param yaw - defines the yaw angle in radians (Y axis)\r\n       * @param pitch - defines the pitch angle in radians (X axis)\r\n       * @param roll - defines the roll angle in radians (X axis)\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.RotationYawPitchRollToRef = function (yaw, pitch, roll, result) {\r\n          Quaternion.RotationYawPitchRollToRef(yaw, pitch, roll, MathTmp.Quaternion[0]);\r\n          MathTmp.Quaternion[0].toRotationMatrix(result);\r\n      };\r\n      /**\r\n       * Creates a scaling matrix\r\n       * @param x - defines the scale factor on X axis\r\n       * @param y - defines the scale factor on Y axis\r\n       * @param z - defines the scale factor on Z axis\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.Scaling = function (x, y, z) {\r\n          var result = new Matrix();\r\n          Matrix.ScalingToRef(x, y, z, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a scaling matrix and stores it in a given matrix\r\n       * @param x - defines the scale factor on X axis\r\n       * @param y - defines the scale factor on Y axis\r\n       * @param z - defines the scale factor on Z axis\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.ScalingToRef = function (x, y, z, result) {\r\n          Matrix.FromValuesToRef(x, 0.0, 0.0, 0.0, 0.0, y, 0.0, 0.0, 0.0, 0.0, z, 0.0, 0.0, 0.0, 0.0, 1.0, result);\r\n          result._updateIdentityStatus(x === 1 && y === 1 && z === 1);\r\n      };\r\n      /**\r\n       * Creates a translation matrix\r\n       * @param x - defines the translation on X axis\r\n       * @param y - defines the translation on Y axis\r\n       * @param z - defines the translationon Z axis\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.Translation = function (x, y, z) {\r\n          var result = new Matrix();\r\n          Matrix.TranslationToRef(x, y, z, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a translation matrix and stores it in a given matrix\r\n       * @param x - defines the translation on X axis\r\n       * @param y - defines the translation on Y axis\r\n       * @param z - defines the translationon Z axis\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.TranslationToRef = function (x, y, z, result) {\r\n          Matrix.FromValuesToRef(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, x, y, z, 1.0, result);\r\n          result._updateIdentityStatus(x === 0 && y === 0 && z === 0);\r\n      };\r\n      /**\r\n       * Returns a new Matrix whose values are the interpolated values for \"gradient\" (float) between the ones of the matrices \"startValue\" and \"endValue\".\r\n       * @param startValue - defines the start value\r\n       * @param endValue - defines the end value\r\n       * @param gradient - defines the gradient factor\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.Lerp = function (startValue, endValue, gradient) {\r\n          var result = new Matrix();\r\n          Matrix.LerpToRef(startValue, endValue, gradient, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Set the given matrix \"result\" as the interpolated values for \"gradient\" (float) between the ones of the matrices \"startValue\" and \"endValue\".\r\n       * @param startValue - defines the start value\r\n       * @param endValue - defines the end value\r\n       * @param gradient - defines the gradient factor\r\n       * @param result - defines the Matrix object where to store data\r\n       */\r\n      Matrix.LerpToRef = function (startValue, endValue, gradient, result) {\r\n          for (var index = 0; index < 16; index++) {\r\n              result._m[index] = startValue._m[index] * (1.0 - gradient) + endValue._m[index] * gradient;\r\n          }\r\n          result._markAsUpdated();\r\n      };\r\n      /**\r\n       * Builds a new matrix whose values are computed by:\r\n       * * decomposing the the \"startValue\" and \"endValue\" matrices into their respective scale, rotation and translation matrices\r\n       * * interpolating for \"gradient\" (float) the values between each of these decomposed matrices between the start and the end\r\n       * * recomposing a new matrix from these 3 interpolated scale, rotation and translation matrices\r\n       * @param startValue - defines the first matrix\r\n       * @param endValue - defines the second matrix\r\n       * @param gradient - defines the gradient between the two matrices\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.DecomposeLerp = function (startValue, endValue, gradient) {\r\n          var result = new Matrix();\r\n          Matrix.DecomposeLerpToRef(startValue, endValue, gradient, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Update a matrix to values which are computed by:\r\n       * * decomposing the the \"startValue\" and \"endValue\" matrices into their respective scale, rotation and translation matrices\r\n       * * interpolating for \"gradient\" (float) the values between each of these decomposed matrices between the start and the end\r\n       * * recomposing a new matrix from these 3 interpolated scale, rotation and translation matrices\r\n       * @param startValue - defines the first matrix\r\n       * @param endValue - defines the second matrix\r\n       * @param gradient - defines the gradient between the two matrices\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.DecomposeLerpToRef = function (startValue, endValue, gradient, result) {\r\n          var startScale = MathTmp.Vector3[0];\r\n          var startRotation = MathTmp.Quaternion[0];\r\n          var startTranslation = MathTmp.Vector3[1];\r\n          startValue.decompose(startScale, startRotation, startTranslation);\r\n          var endScale = MathTmp.Vector3[2];\r\n          var endRotation = MathTmp.Quaternion[1];\r\n          var endTranslation = MathTmp.Vector3[3];\r\n          endValue.decompose(endScale, endRotation, endTranslation);\r\n          var resultScale = MathTmp.Vector3[4];\r\n          Vector3.LerpToRef(startScale, endScale, gradient, resultScale);\r\n          var resultRotation = MathTmp.Quaternion[2];\r\n          Quaternion.SlerpToRef(startRotation, endRotation, gradient, resultRotation);\r\n          var resultTranslation = MathTmp.Vector3[5];\r\n          Vector3.LerpToRef(startTranslation, endTranslation, gradient, resultTranslation);\r\n          Matrix.ComposeToRef(resultScale, resultRotation, resultTranslation, result);\r\n      };\r\n      /**\r\n       * Gets a new rotation matrix used to rotate an entity so as it looks at the target vector3, from the eye vector3 position, the up vector3 being oriented like \"up\"\r\n       * This function works in left handed mode\r\n       * @param eye - defines the final position of the entity\r\n       * @param target - defines where the entity should look at\r\n       * @param up - defines the up vector for the entity\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.LookAtLH = function (eye, target, up) {\r\n          var result = new Matrix();\r\n          Matrix.LookAtLHToRef(eye, target, up, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the given \"result\" Matrix to a rotation matrix used to rotate an entity so that it looks at the target vector3, from the eye vector3 position, the up vector3 being oriented like \"up\".\r\n       * This function works in left handed mode\r\n       * @param eye - defines the final position of the entity\r\n       * @param target - defines where the entity should look at\r\n       * @param up - defines the up vector for the entity\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.LookAtLHToRef = function (eye, target, up, result) {\r\n          var xAxis = MathTmp.Vector3[0];\r\n          var yAxis = MathTmp.Vector3[1];\r\n          var zAxis = MathTmp.Vector3[2];\r\n          // Z axis\r\n          target.subtractToRef(eye, zAxis);\r\n          zAxis.normalize();\r\n          // X axis\r\n          Vector3.CrossToRef(up, zAxis, xAxis);\r\n          var xSquareLength = xAxis.lengthSquared();\r\n          if (xSquareLength === 0) {\r\n              xAxis.x = 1.0;\r\n          }\r\n          else {\r\n              xAxis.normalizeFromLength(Math.sqrt(xSquareLength));\r\n          }\r\n          // Y axis\r\n          Vector3.CrossToRef(zAxis, xAxis, yAxis);\r\n          yAxis.normalize();\r\n          // Eye angles\r\n          var ex = -Vector3.Dot(xAxis, eye);\r\n          var ey = -Vector3.Dot(yAxis, eye);\r\n          var ez = -Vector3.Dot(zAxis, eye);\r\n          Matrix.FromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0.0, xAxis.y, yAxis.y, zAxis.y, 0.0, xAxis.z, yAxis.z, zAxis.z, 0.0, ex, ey, ez, 1.0, result);\r\n      };\r\n      /**\r\n       * Gets a new rotation matrix used to rotate an entity so as it looks at the target vector3, from the eye vector3 position, the up vector3 being oriented like \"up\"\r\n       * This function works in right handed mode\r\n       * @param eye - defines the final position of the entity\r\n       * @param target - defines where the entity should look at\r\n       * @param up - defines the up vector for the entity\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.LookAtRH = function (eye, target, up) {\r\n          var result = new Matrix();\r\n          Matrix.LookAtRHToRef(eye, target, up, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the given \"result\" Matrix to a rotation matrix used to rotate an entity so that it looks at the target vector3, from the eye vector3 position, the up vector3 being oriented like \"up\".\r\n       * This function works in right handed mode\r\n       * @param eye - defines the final position of the entity\r\n       * @param target - defines where the entity should look at\r\n       * @param up - defines the up vector for the entity\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.LookAtRHToRef = function (eye, target, up, result) {\r\n          var xAxis = MathTmp.Vector3[0];\r\n          var yAxis = MathTmp.Vector3[1];\r\n          var zAxis = MathTmp.Vector3[2];\r\n          // Z axis\r\n          eye.subtractToRef(target, zAxis);\r\n          zAxis.normalize();\r\n          // X axis\r\n          Vector3.CrossToRef(up, zAxis, xAxis);\r\n          var xSquareLength = xAxis.lengthSquared();\r\n          if (xSquareLength === 0) {\r\n              xAxis.x = 1.0;\r\n          }\r\n          else {\r\n              xAxis.normalizeFromLength(Math.sqrt(xSquareLength));\r\n          }\r\n          // Y axis\r\n          Vector3.CrossToRef(zAxis, xAxis, yAxis);\r\n          yAxis.normalize();\r\n          // Eye angles\r\n          var ex = -Vector3.Dot(xAxis, eye);\r\n          var ey = -Vector3.Dot(yAxis, eye);\r\n          var ez = -Vector3.Dot(zAxis, eye);\r\n          Matrix.FromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0.0, xAxis.y, yAxis.y, zAxis.y, 0.0, xAxis.z, yAxis.z, zAxis.z, 0.0, ex, ey, ez, 1.0, result);\r\n      };\r\n      /**\r\n       * Create a left-handed orthographic projection matrix\r\n       * @param width - defines the viewport width\r\n       * @param height - defines the viewport height\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @returns a new matrix as a left-handed orthographic projection matrix\r\n       */\r\n      Matrix.OrthoLH = function (width, height, znear, zfar) {\r\n          var matrix = new Matrix();\r\n          Matrix.OrthoLHToRef(width, height, znear, zfar, matrix);\r\n          return matrix;\r\n      };\r\n      /**\r\n       * Store a left-handed orthographic projection to a given matrix\r\n       * @param width - defines the viewport width\r\n       * @param height - defines the viewport height\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.OrthoLHToRef = function (width, height, znear, zfar, result) {\r\n          var n = znear;\r\n          var f = zfar;\r\n          var a = 2.0 / width;\r\n          var b = 2.0 / height;\r\n          var c = 2.0 / (f - n);\r\n          var d = -(f + n) / (f - n);\r\n          Matrix.FromValuesToRef(a, 0.0, 0.0, 0.0, 0.0, b, 0.0, 0.0, 0.0, 0.0, c, 0.0, 0.0, 0.0, d, 1.0, result);\r\n          result._updateIdentityStatus(a === 1 && b === 1 && c === 1 && d === 0);\r\n      };\r\n      /**\r\n       * Create a left-handed orthographic projection matrix\r\n       * @param left - defines the viewport left coordinate\r\n       * @param right - defines the viewport right coordinate\r\n       * @param bottom - defines the viewport bottom coordinate\r\n       * @param top - defines the viewport top coordinate\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @returns a new matrix as a left-handed orthographic projection matrix\r\n       */\r\n      Matrix.OrthoOffCenterLH = function (left, right, bottom, top, znear, zfar) {\r\n          var matrix = new Matrix();\r\n          Matrix.OrthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, matrix);\r\n          return matrix;\r\n      };\r\n      /**\r\n       * Stores a left-handed orthographic projection into a given matrix\r\n       * @param left - defines the viewport left coordinate\r\n       * @param right - defines the viewport right coordinate\r\n       * @param bottom - defines the viewport bottom coordinate\r\n       * @param top - defines the viewport top coordinate\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.OrthoOffCenterLHToRef = function (left, right, bottom, top, znear, zfar, result) {\r\n          var n = znear;\r\n          var f = zfar;\r\n          var a = 2.0 / (right - left);\r\n          var b = 2.0 / (top - bottom);\r\n          var c = 2.0 / (f - n);\r\n          var d = -(f + n) / (f - n);\r\n          var i0 = (left + right) / (left - right);\r\n          var i1 = (top + bottom) / (bottom - top);\r\n          Matrix.FromValuesToRef(a, 0.0, 0.0, 0.0, 0.0, b, 0.0, 0.0, 0.0, 0.0, c, 0.0, i0, i1, d, 1.0, result);\r\n          result._markAsUpdated();\r\n      };\r\n      /**\r\n       * Creates a right-handed orthographic projection matrix\r\n       * @param left - defines the viewport left coordinate\r\n       * @param right - defines the viewport right coordinate\r\n       * @param bottom - defines the viewport bottom coordinate\r\n       * @param top - defines the viewport top coordinate\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @returns a new matrix as a right-handed orthographic projection matrix\r\n       */\r\n      Matrix.OrthoOffCenterRH = function (left, right, bottom, top, znear, zfar) {\r\n          var matrix = new Matrix();\r\n          Matrix.OrthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, matrix);\r\n          return matrix;\r\n      };\r\n      /**\r\n       * Stores a right-handed orthographic projection into a given matrix\r\n       * @param left - defines the viewport left coordinate\r\n       * @param right - defines the viewport right coordinate\r\n       * @param bottom - defines the viewport bottom coordinate\r\n       * @param top - defines the viewport top coordinate\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.OrthoOffCenterRHToRef = function (left, right, bottom, top, znear, zfar, result) {\r\n          Matrix.OrthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result);\r\n          result._m[10] *= -1; // No need to call _markAsUpdated as previous function already called it and let _isIdentityDirty to true\r\n      };\r\n      /**\r\n       * Creates a left-handed perspective projection matrix\r\n       * @param width - defines the viewport width\r\n       * @param height - defines the viewport height\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @returns a new matrix as a left-handed perspective projection matrix\r\n       */\r\n      Matrix.PerspectiveLH = function (width, height, znear, zfar) {\r\n          var matrix = new Matrix();\r\n          var n = znear;\r\n          var f = zfar;\r\n          var a = (2.0 * n) / width;\r\n          var b = (2.0 * n) / height;\r\n          var c = (f + n) / (f - n);\r\n          var d = (-2.0 * f * n) / (f - n);\r\n          Matrix.FromValuesToRef(a, 0.0, 0.0, 0.0, 0.0, b, 0.0, 0.0, 0.0, 0.0, c, 1.0, 0.0, 0.0, d, 0.0, matrix);\r\n          matrix._updateIdentityStatus(false);\r\n          return matrix;\r\n      };\r\n      /**\r\n       * Creates a left-handed perspective projection matrix\r\n       * @param fov - defines the horizontal field of view\r\n       * @param aspect - defines the aspect ratio\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @returns a new matrix as a left-handed perspective projection matrix\r\n       */\r\n      Matrix.PerspectiveFovLH = function (fov, aspect, znear, zfar) {\r\n          var matrix = new Matrix();\r\n          Matrix.PerspectiveFovLHToRef(fov, aspect, znear, zfar, matrix);\r\n          return matrix;\r\n      };\r\n      /**\r\n       * Stores a left-handed perspective projection into a given matrix\r\n       * @param fov - defines the horizontal field of view\r\n       * @param aspect - defines the aspect ratio\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @param result - defines the target matrix\r\n       * @param isVerticalFovFixed - defines it the fov is vertically fixed (default) or horizontally\r\n       */\r\n      Matrix.PerspectiveFovLHToRef = function (fov, aspect, znear, zfar, result, isVerticalFovFixed) {\r\n          if (isVerticalFovFixed === void 0) { isVerticalFovFixed = true; }\r\n          var n = znear;\r\n          var f = zfar;\r\n          var t = 1.0 / Math.tan(fov * 0.5);\r\n          var a = isVerticalFovFixed ? t / aspect : t;\r\n          var b = isVerticalFovFixed ? t : t * aspect;\r\n          var c = (f + n) / (f - n);\r\n          var d = (-2.0 * f * n) / (f - n);\r\n          Matrix.FromValuesToRef(a, 0.0, 0.0, 0.0, 0.0, b, 0.0, 0.0, 0.0, 0.0, c, 1.0, 0.0, 0.0, d, 0.0, result);\r\n          result._updateIdentityStatus(false);\r\n      };\r\n      /**\r\n       * Creates a right-handed perspective projection matrix\r\n       * @param fov - defines the horizontal field of view\r\n       * @param aspect - defines the aspect ratio\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @returns a new matrix as a right-handed perspective projection matrix\r\n       */\r\n      Matrix.PerspectiveFovRH = function (fov, aspect, znear, zfar) {\r\n          var matrix = new Matrix();\r\n          Matrix.PerspectiveFovRHToRef(fov, aspect, znear, zfar, matrix);\r\n          return matrix;\r\n      };\r\n      /**\r\n       * Stores a right-handed perspective projection into a given matrix\r\n       * @param fov - defines the horizontal field of view\r\n       * @param aspect - defines the aspect ratio\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @param result - defines the target matrix\r\n       * @param isVerticalFovFixed - defines it the fov is vertically fixed (default) or horizontally\r\n       */\r\n      Matrix.PerspectiveFovRHToRef = function (fov, aspect, znear, zfar, result, isVerticalFovFixed) {\r\n          /* alternatively this could be expressed as:\r\n          //    m = PerspectiveFovLHToRef\r\n          //    m[10] *= -1.0;\r\n          //    m[11] *= -1.0;\r\n          */\r\n          if (isVerticalFovFixed === void 0) { isVerticalFovFixed = true; }\r\n          var n = znear;\r\n          var f = zfar;\r\n          var t = 1.0 / Math.tan(fov * 0.5);\r\n          var a = isVerticalFovFixed ? t / aspect : t;\r\n          var b = isVerticalFovFixed ? t : t * aspect;\r\n          var c = -(f + n) / (f - n);\r\n          var d = (-2 * f * n) / (f - n);\r\n          Matrix.FromValuesToRef(a, 0.0, 0.0, 0.0, 0.0, b, 0.0, 0.0, 0.0, 0.0, c, -1.0, 0.0, 0.0, d, 0.0, result);\r\n          result._updateIdentityStatus(false);\r\n      };\r\n      /**\r\n       * Stores a perspective projection for WebVR info a given matrix\r\n       * @param fov - defines the field of view\r\n       * @param znear - defines the near clip plane\r\n       * @param zfar - defines the far clip plane\r\n       * @param result - defines the target matrix\r\n       * @param rightHanded - defines if the matrix must be in right-handed mode (false by default)\r\n       */\r\n      Matrix.PerspectiveFovWebVRToRef = function (fov, znear, zfar, result, rightHanded) {\r\n          if (rightHanded === void 0) { rightHanded = false; }\r\n          var rightHandedFactor = rightHanded ? -1 : 1;\r\n          var upTan = Math.tan((fov.upDegrees * Math.PI) / 180.0);\r\n          var downTan = Math.tan((fov.downDegrees * Math.PI) / 180.0);\r\n          var leftTan = Math.tan((fov.leftDegrees * Math.PI) / 180.0);\r\n          var rightTan = Math.tan((fov.rightDegrees * Math.PI) / 180.0);\r\n          var xScale = 2.0 / (leftTan + rightTan);\r\n          var yScale = 2.0 / (upTan + downTan);\r\n          var m = result._m;\r\n          m[0] = xScale;\r\n          m[1] = m[2] = m[3] = m[4] = 0.0;\r\n          m[5] = yScale;\r\n          m[6] = m[7] = 0.0;\r\n          m[8] = (leftTan - rightTan) * xScale * 0.5;\r\n          m[9] = -((upTan - downTan) * yScale * 0.5);\r\n          m[10] = -zfar / (znear - zfar);\r\n          m[11] = 1.0 * rightHandedFactor;\r\n          m[12] = m[13] = m[15] = 0.0;\r\n          m[14] = -(2.0 * zfar * znear) / (zfar - znear);\r\n          result._markAsUpdated();\r\n      };\r\n      /**\r\n       * Extracts a 2x2 matrix from a given matrix and store the result in a FloatArray\r\n       * @param matrix - defines the matrix to use\r\n       * @returns a new FloatArray array with 4 elements : the 2x2 matrix extracted from the given matrix\r\n       */\r\n      Matrix.GetAsMatrix2x2 = function (matrix) {\r\n          return [matrix._m[0], matrix._m[1], matrix._m[4], matrix._m[5]];\r\n      };\r\n      /**\r\n       * Extracts a 3x3 matrix from a given matrix and store the result in a FloatArray\r\n       * @param matrix - defines the matrix to use\r\n       * @returns a new FloatArray array with 9 elements : the 3x3 matrix extracted from the given matrix\r\n       */\r\n      Matrix.GetAsMatrix3x3 = function (matrix) {\r\n          return [\r\n              matrix._m[0],\r\n              matrix._m[1],\r\n              matrix._m[2],\r\n              matrix._m[4],\r\n              matrix._m[5],\r\n              matrix._m[6],\r\n              matrix._m[8],\r\n              matrix._m[9],\r\n              matrix._m[10]\r\n          ];\r\n      };\r\n      /**\r\n       * Compute the transpose of a given matrix\r\n       * @param matrix - defines the matrix to transpose\r\n       * @returns the new matrix\r\n       */\r\n      Matrix.Transpose = function (matrix) {\r\n          var result = new Matrix();\r\n          Matrix.TransposeToRef(matrix, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Compute the transpose of a matrix and store it in a target matrix\r\n       * @param matrix - defines the matrix to transpose\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.TransposeToRef = function (matrix, result) {\r\n          var rm = result._m;\r\n          var mm = matrix._m;\r\n          rm[0] = mm[0];\r\n          rm[1] = mm[4];\r\n          rm[2] = mm[8];\r\n          rm[3] = mm[12];\r\n          rm[4] = mm[1];\r\n          rm[5] = mm[5];\r\n          rm[6] = mm[9];\r\n          rm[7] = mm[13];\r\n          rm[8] = mm[2];\r\n          rm[9] = mm[6];\r\n          rm[10] = mm[10];\r\n          rm[11] = mm[14];\r\n          rm[12] = mm[3];\r\n          rm[13] = mm[7];\r\n          rm[14] = mm[11];\r\n          rm[15] = mm[15];\r\n          // identity-ness does not change when transposing\r\n          result._updateIdentityStatus(matrix._isIdentity, matrix._isIdentityDirty);\r\n      };\r\n      /**\r\n       * Computes a reflection matrix from a plane\r\n       * @param plane - defines the reflection plane\r\n       * @returns a new matrix\r\n       */\r\n      Matrix.Reflection = function (plane) {\r\n          var matrix = new Matrix();\r\n          Matrix.ReflectionToRef(plane, matrix);\r\n          return matrix;\r\n      };\r\n      /**\r\n       * Computes a reflection matrix from a plane\r\n       * @param plane - defines the reflection plane\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.ReflectionToRef = function (plane, result) {\r\n          plane.normalize();\r\n          var x = plane.normal.x;\r\n          var y = plane.normal.y;\r\n          var z = plane.normal.z;\r\n          var temp = -2 * x;\r\n          var temp2 = -2 * y;\r\n          var temp3 = -2 * z;\r\n          Matrix.FromValuesToRef(temp * x + 1, temp2 * x, temp3 * x, 0.0, temp * y, temp2 * y + 1, temp3 * y, 0.0, temp * z, temp2 * z, temp3 * z + 1, 0.0, temp * plane.d, temp2 * plane.d, temp3 * plane.d, 1.0, result);\r\n      };\r\n      /**\r\n       * Sets the given matrix as a rotation matrix composed from the 3 left handed axes\r\n       * @param xaxis - defines the value of the 1st axis\r\n       * @param yaxis - defines the value of the 2nd axis\r\n       * @param zaxis - defines the value of the 3rd axis\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.FromXYZAxesToRef = function (xaxis, yaxis, zaxis, result) {\r\n          Matrix.FromValuesToRef(xaxis.x, xaxis.y, xaxis.z, 0.0, yaxis.x, yaxis.y, yaxis.z, 0.0, zaxis.x, zaxis.y, zaxis.z, 0.0, 0.0, 0.0, 0.0, 1.0, result);\r\n      };\r\n      /**\r\n       * Creates a rotation matrix from a quaternion and stores it in a target matrix\r\n       * @param quat - defines the quaternion to use\r\n       * @param result - defines the target matrix\r\n       */\r\n      Matrix.FromQuaternionToRef = function (quat, result) {\r\n          var xx = quat.x * quat.x;\r\n          var yy = quat.y * quat.y;\r\n          var zz = quat.z * quat.z;\r\n          var xy = quat.x * quat.y;\r\n          var zw = quat.z * quat.w;\r\n          var zx = quat.z * quat.x;\r\n          var yw = quat.y * quat.w;\r\n          var yz = quat.y * quat.z;\r\n          var xw = quat.x * quat.w;\r\n          result._m[0] = 1.0 - 2.0 * (yy + zz);\r\n          result._m[1] = 2.0 * (xy + zw);\r\n          result._m[2] = 2.0 * (zx - yw);\r\n          result._m[3] = 0.0;\r\n          result._m[4] = 2.0 * (xy - zw);\r\n          result._m[5] = 1.0 - 2.0 * (zz + xx);\r\n          result._m[6] = 2.0 * (yz + xw);\r\n          result._m[7] = 0.0;\r\n          result._m[8] = 2.0 * (zx + yw);\r\n          result._m[9] = 2.0 * (yz - xw);\r\n          result._m[10] = 1.0 - 2.0 * (yy + xx);\r\n          result._m[11] = 0.0;\r\n          result._m[12] = 0.0;\r\n          result._m[13] = 0.0;\r\n          result._m[14] = 0.0;\r\n          result._m[15] = 1.0;\r\n          result._markAsUpdated();\r\n      };\r\n      /** @internal */\r\n      Matrix.prototype._markAsUpdated = function () {\r\n          this.updateFlag = Matrix._updateFlagSeed++;\r\n          this._isIdentity = false;\r\n          this._isIdentity3x2 = false;\r\n          this._isIdentityDirty = true;\r\n          this._isIdentity3x2Dirty = true;\r\n      };\r\n      // Properties\r\n      /**\r\n       * Check if the current matrix is identity\r\n       * @returns true is the matrix is the identity matrix\r\n       */\r\n      Matrix.prototype.isIdentity = function () {\r\n          if (this._isIdentityDirty) {\r\n              this._isIdentityDirty = false;\r\n              var m = this._m;\r\n              this._isIdentity =\r\n                  m[0] === 1.0 &&\r\n                      m[1] === 0.0 &&\r\n                      m[2] === 0.0 &&\r\n                      m[3] === 0.0 &&\r\n                      m[4] === 0.0 &&\r\n                      m[5] === 1.0 &&\r\n                      m[6] === 0.0 &&\r\n                      m[7] === 0.0 &&\r\n                      m[8] === 0.0 &&\r\n                      m[9] === 0.0 &&\r\n                      m[10] === 1.0 &&\r\n                      m[11] === 0.0 &&\r\n                      m[12] === 0.0 &&\r\n                      m[13] === 0.0 &&\r\n                      m[14] === 0.0 &&\r\n                      m[15] === 1.0;\r\n          }\r\n          return this._isIdentity;\r\n      };\r\n      /**\r\n       * Check if the current matrix is identity as a texture matrix (3x2 store in 4x4)\r\n       * @returns true is the matrix is the identity matrix\r\n       */\r\n      Matrix.prototype.isIdentityAs3x2 = function () {\r\n          if (this._isIdentity3x2Dirty) {\r\n              this._isIdentity3x2Dirty = false;\r\n              if (this._m[0] !== 1.0 || this._m[5] !== 1.0 || this._m[15] !== 1.0) {\r\n                  this._isIdentity3x2 = false;\r\n              }\r\n              else if (this._m[1] !== 0.0 ||\r\n                  this._m[2] !== 0.0 ||\r\n                  this._m[3] !== 0.0 ||\r\n                  this._m[4] !== 0.0 ||\r\n                  this._m[6] !== 0.0 ||\r\n                  this._m[7] !== 0.0 ||\r\n                  this._m[8] !== 0.0 ||\r\n                  this._m[9] !== 0.0 ||\r\n                  this._m[10] !== 0.0 ||\r\n                  this._m[11] !== 0.0 ||\r\n                  this._m[12] !== 0.0 ||\r\n                  this._m[13] !== 0.0 ||\r\n                  this._m[14] !== 0.0) {\r\n                  this._isIdentity3x2 = false;\r\n              }\r\n              else {\r\n                  this._isIdentity3x2 = true;\r\n              }\r\n          }\r\n          return this._isIdentity3x2;\r\n      };\r\n      /**\r\n       * Gets the determinant of the matrix\r\n       * @returns the matrix determinant\r\n       */\r\n      Matrix.prototype.determinant = function () {\r\n          if (this._isIdentity === true) {\r\n              return 1;\r\n          }\r\n          var m = this._m;\r\n          // tslint:disable-next-line:one-variable-per-declaration\r\n          var m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3];\r\n          // tslint:disable-next-line:one-variable-per-declaration\r\n          var m10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7];\r\n          // tslint:disable-next-line:one-variable-per-declaration\r\n          var m20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11];\r\n          // tslint:disable-next-line:one-variable-per-declaration\r\n          var m30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15];\r\n          /*\r\n          // https://en.wikipedia.org/wiki/Laplace_expansion\r\n          // to compute the deterrminant of a 4x4 Matrix we compute the cofactors of any row or column,\r\n          // then we multiply each Cofactor by its corresponding matrix value and sum them all to get the determinant\r\n          // Cofactor(i, j) = sign(i,j) * det(Minor(i, j))\r\n          // where\r\n          //  - sign(i,j) = (i+j) % 2 === 0 ? 1 : -1\r\n          //  - Minor(i, j) is the 3x3 matrix we get by removing row i and column j from current Matrix\r\n          //\r\n          // Here we do that for the 1st row.\r\n          */\r\n          // tslint:disable:variable-name\r\n          var det_22_33 = m22 * m33 - m32 * m23;\r\n          var det_21_33 = m21 * m33 - m31 * m23;\r\n          var det_21_32 = m21 * m32 - m31 * m22;\r\n          var det_20_33 = m20 * m33 - m30 * m23;\r\n          var det_20_32 = m20 * m32 - m22 * m30;\r\n          var det_20_31 = m20 * m31 - m30 * m21;\r\n          var cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);\r\n          var cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);\r\n          var cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);\r\n          var cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);\r\n          // tslint:enable:variable-name\r\n          return m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;\r\n      };\r\n      // Methods\r\n      /**\r\n       * Returns the matrix as a FloatArray\r\n       * @returns the matrix underlying array\r\n       */\r\n      Matrix.prototype.toArray = function () {\r\n          return this._m;\r\n      };\r\n      /**\r\n       * Returns the matrix as a FloatArray\r\n       * @returns the matrix underlying array.\r\n       */\r\n      Matrix.prototype.asArray = function () {\r\n          return this._m;\r\n      };\r\n      /**\r\n       * Inverts the current matrix in place\r\n       * @returns the current inverted matrix\r\n       */\r\n      Matrix.prototype.invert = function () {\r\n          this.invertToRef(this);\r\n          return this;\r\n      };\r\n      /**\r\n       * Sets all the matrix elements to zero\r\n       * @returns the current matrix\r\n       */\r\n      Matrix.prototype.reset = function () {\r\n          Matrix.FromValuesToRef(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, this);\r\n          this._updateIdentityStatus(false);\r\n          return this;\r\n      };\r\n      /**\r\n       * Adds the current matrix with a second one\r\n       * @param other - defines the matrix to add\r\n       * @returns a new matrix as the addition of the current matrix and the given one\r\n       */\r\n      Matrix.prototype.add = function (other) {\r\n          var result = new Matrix();\r\n          this.addToRef(other, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the given matrix \"result\" to the addition of the current matrix and the given one\r\n       * @param other - defines the matrix to add\r\n       * @param result - defines the target matrix\r\n       * @returns the current matrix\r\n       */\r\n      Matrix.prototype.addToRef = function (other, result) {\r\n          for (var index = 0; index < 16; index++) {\r\n              result._m[index] = this._m[index] + other._m[index];\r\n          }\r\n          result._markAsUpdated();\r\n          return this;\r\n      };\r\n      /**\r\n       * Adds in place the given matrix to the current matrix\r\n       * @param other - defines the second operand\r\n       * @returns the current updated matrix\r\n       */\r\n      Matrix.prototype.addToSelf = function (other) {\r\n          for (var index = 0; index < 16; index++) {\r\n              this._m[index] += other._m[index];\r\n          }\r\n          this._markAsUpdated();\r\n          return this;\r\n      };\r\n      /**\r\n       * Sets the given matrix to the current inverted Matrix\r\n       * @param other - defines the target matrix\r\n       * @returns the unmodified current matrix\r\n       */\r\n      Matrix.prototype.invertToRef = function (other) {\r\n          if (this._isIdentity === true) {\r\n              Matrix.IdentityToRef(other);\r\n              return this;\r\n          }\r\n          // the inverse of a Matrix is the transpose of cofactor matrix divided by the determinant\r\n          var m = this._m;\r\n          // tslint:disable:one-variable-per-declaration\r\n          var m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3];\r\n          var m10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7];\r\n          var m20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11];\r\n          var m30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15];\r\n          // tslint:enable:one-variable-per-declaration\r\n          // tslint:disable:variable-name\r\n          var det_22_33 = m22 * m33 - m32 * m23;\r\n          var det_21_33 = m21 * m33 - m31 * m23;\r\n          var det_21_32 = m21 * m32 - m31 * m22;\r\n          var det_20_33 = m20 * m33 - m30 * m23;\r\n          var det_20_32 = m20 * m32 - m22 * m30;\r\n          var det_20_31 = m20 * m31 - m30 * m21;\r\n          var cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);\r\n          var cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);\r\n          var cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);\r\n          var cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);\r\n          var det = m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;\r\n          if (det === 0) {\r\n              // not invertible\r\n              other.copyFrom(this);\r\n              return this;\r\n          }\r\n          var detInv = 1 / det;\r\n          var det_12_33 = m12 * m33 - m32 * m13;\r\n          var det_11_33 = m11 * m33 - m31 * m13;\r\n          var det_11_32 = m11 * m32 - m31 * m12;\r\n          var det_10_33 = m10 * m33 - m30 * m13;\r\n          var det_10_32 = m10 * m32 - m30 * m12;\r\n          var det_10_31 = m10 * m31 - m30 * m11;\r\n          var det_12_23 = m12 * m23 - m22 * m13;\r\n          var det_11_23 = m11 * m23 - m21 * m13;\r\n          var det_11_22 = m11 * m22 - m21 * m12;\r\n          var det_10_23 = m10 * m23 - m20 * m13;\r\n          var det_10_22 = m10 * m22 - m20 * m12;\r\n          var det_10_21 = m10 * m21 - m20 * m11;\r\n          var cofact_10 = -(m01 * det_22_33 - m02 * det_21_33 + m03 * det_21_32);\r\n          var cofact_11 = +(m00 * det_22_33 - m02 * det_20_33 + m03 * det_20_32);\r\n          var cofact_12 = -(m00 * det_21_33 - m01 * det_20_33 + m03 * det_20_31);\r\n          var cofact_13 = +(m00 * det_21_32 - m01 * det_20_32 + m02 * det_20_31);\r\n          var cofact_20 = +(m01 * det_12_33 - m02 * det_11_33 + m03 * det_11_32);\r\n          var cofact_21 = -(m00 * det_12_33 - m02 * det_10_33 + m03 * det_10_32);\r\n          var cofact_22 = +(m00 * det_11_33 - m01 * det_10_33 + m03 * det_10_31);\r\n          var cofact_23 = -(m00 * det_11_32 - m01 * det_10_32 + m02 * det_10_31);\r\n          var cofact_30 = -(m01 * det_12_23 - m02 * det_11_23 + m03 * det_11_22);\r\n          var cofact_31 = +(m00 * det_12_23 - m02 * det_10_23 + m03 * det_10_22);\r\n          var cofact_32 = -(m00 * det_11_23 - m01 * det_10_23 + m03 * det_10_21);\r\n          var cofact_33 = +(m00 * det_11_22 - m01 * det_10_22 + m02 * det_10_21);\r\n          Matrix.FromValuesToRef(cofact_00 * detInv, cofact_10 * detInv, cofact_20 * detInv, cofact_30 * detInv, cofact_01 * detInv, cofact_11 * detInv, cofact_21 * detInv, cofact_31 * detInv, cofact_02 * detInv, cofact_12 * detInv, cofact_22 * detInv, cofact_32 * detInv, cofact_03 * detInv, cofact_13 * detInv, cofact_23 * detInv, cofact_33 * detInv, other);\r\n          // tslint:enable:variable-name\r\n          return this;\r\n      };\r\n      /**\r\n       * add a value at the specified position in the current Matrix\r\n       * @param index - the index of the value within the matrix. between 0 and 15.\r\n       * @param value - the value to be added\r\n       * @returns the current updated matrix\r\n       */\r\n      Matrix.prototype.addAtIndex = function (index, value) {\r\n          this._m[index] += value;\r\n          this._markAsUpdated();\r\n          return this;\r\n      };\r\n      /**\r\n       * mutiply the specified position in the current Matrix by a value\r\n       * @param index - the index of the value within the matrix. between 0 and 15.\r\n       * @param value - the value to be added\r\n       * @returns the current updated matrix\r\n       */\r\n      Matrix.prototype.multiplyAtIndex = function (index, value) {\r\n          this._m[index] *= value;\r\n          this._markAsUpdated();\r\n          return this;\r\n      };\r\n      /**\r\n       * Inserts the translation vector (using 3 floats) in the current matrix\r\n       * @param x - defines the 1st component of the translation\r\n       * @param y - defines the 2nd component of the translation\r\n       * @param z - defines the 3rd component of the translation\r\n       * @returns the current updated matrix\r\n       */\r\n      Matrix.prototype.setTranslationFromFloats = function (x, y, z) {\r\n          this._m[12] = x;\r\n          this._m[13] = y;\r\n          this._m[14] = z;\r\n          this._markAsUpdated();\r\n          return this;\r\n      };\r\n      /**\r\n       * Inserts the translation vector in the current matrix\r\n       * @param vector3 - defines the translation to insert\r\n       * @returns the current updated matrix\r\n       */\r\n      Matrix.prototype.setTranslation = function (vector3) {\r\n          return this.setTranslationFromFloats(vector3.x, vector3.y, vector3.z);\r\n      };\r\n      /**\r\n       * Gets the translation value of the current matrix\r\n       * @returns a new Vector3 as the extracted translation from the matrix\r\n       */\r\n      Matrix.prototype.getTranslation = function () {\r\n          return new Vector3(this._m[12], this._m[13], this._m[14]);\r\n      };\r\n      /**\r\n       * Fill a Vector3 with the extracted translation from the matrix\r\n       * @param result - defines the Vector3 where to store the translation\r\n       * @returns the current matrix\r\n       */\r\n      Matrix.prototype.getTranslationToRef = function (result) {\r\n          result.x = this._m[12];\r\n          result.y = this._m[13];\r\n          result.z = this._m[14];\r\n          return this;\r\n      };\r\n      /**\r\n       * Remove rotation and scaling part from the matrix\r\n       * @returns the updated matrix\r\n       */\r\n      Matrix.prototype.removeRotationAndScaling = function () {\r\n          var m = this.m;\r\n          Matrix.FromValuesToRef(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, m[12], m[13], m[14], m[15], this);\r\n          this._updateIdentityStatus(m[12] === 0 && m[13] === 0 && m[14] === 0 && m[15] === 1);\r\n          return this;\r\n      };\r\n      /**\r\n       * Multiply two matrices\r\n       * @param other - defines the second operand\r\n       * @returns a new matrix set with the multiplication result of the current Matrix and the given one\r\n       */\r\n      Matrix.prototype.multiply = function (other) {\r\n          var result = new Matrix();\r\n          this.multiplyToRef(other, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Copy the current matrix from the given one\r\n       * @param other - defines the source matrix\r\n       * @returns the current updated matrix\r\n       */\r\n      Matrix.prototype.copyFrom = function (other) {\r\n          other.copyToArray(this._m);\r\n          var o = other;\r\n          this._updateIdentityStatus(o._isIdentity, o._isIdentityDirty, o._isIdentity3x2, o._isIdentity3x2Dirty);\r\n          return this;\r\n      };\r\n      /**\r\n       * Populates the given array from the starting index with the current matrix values\r\n       * @param array - defines the target array\r\n       * @param offset - defines the offset in the target array where to start storing values\r\n       * @returns the current matrix\r\n       */\r\n      Matrix.prototype.copyToArray = function (array, offset) {\r\n          if (offset === void 0) { offset = 0; }\r\n          for (var index = 0; index < 16; index++) {\r\n              array[offset + index] = this._m[index];\r\n          }\r\n          return this;\r\n      };\r\n      /**\r\n       * Sets the given matrix \"result\" with the multiplication result of the current Matrix and the given one\r\n       * @param other - defines the second operand\r\n       * @param result - defines the matrix where to store the multiplication\r\n       * @returns the current matrix\r\n       */\r\n      Matrix.prototype.multiplyToRef = function (other, result) {\r\n          if (this._isIdentity) {\r\n              result.copyFrom(other);\r\n              return this;\r\n          }\r\n          if (other._isIdentity) {\r\n              result.copyFrom(this);\r\n              return this;\r\n          }\r\n          this.multiplyToArray(other, result._m, 0);\r\n          result._markAsUpdated();\r\n          return this;\r\n      };\r\n      /**\r\n       * Sets the FloatArray \"result\" from the given index \"offset\" with the multiplication of the current matrix and the given one\r\n       * @param other - defines the second operand\r\n       * @param result - defines the array where to store the multiplication\r\n       * @param offset - defines the offset in the target array where to start storing values\r\n       * @returns the current matrix\r\n       */\r\n      Matrix.prototype.multiplyToArray = function (other, result, offset) {\r\n          var m = this._m;\r\n          var otherM = other.m;\r\n          // tslint:disable:one-variable-per-declaration\r\n          var tm0 = m[0], tm1 = m[1], tm2 = m[2], tm3 = m[3];\r\n          var tm4 = m[4], tm5 = m[5], tm6 = m[6], tm7 = m[7];\r\n          var tm8 = m[8], tm9 = m[9], tm10 = m[10], tm11 = m[11];\r\n          var tm12 = m[12], tm13 = m[13], tm14 = m[14], tm15 = m[15];\r\n          var om0 = otherM[0], om1 = otherM[1], om2 = otherM[2], om3 = otherM[3];\r\n          var om4 = otherM[4], om5 = otherM[5], om6 = otherM[6], om7 = otherM[7];\r\n          var om8 = otherM[8], om9 = otherM[9], om10 = otherM[10], om11 = otherM[11];\r\n          var om12 = otherM[12], om13 = otherM[13], om14 = otherM[14], om15 = otherM[15];\r\n          // tslint:enable:one-variable-per-declaration\r\n          result[offset] = tm0 * om0 + tm1 * om4 + tm2 * om8 + tm3 * om12;\r\n          result[offset + 1] = tm0 * om1 + tm1 * om5 + tm2 * om9 + tm3 * om13;\r\n          result[offset + 2] = tm0 * om2 + tm1 * om6 + tm2 * om10 + tm3 * om14;\r\n          result[offset + 3] = tm0 * om3 + tm1 * om7 + tm2 * om11 + tm3 * om15;\r\n          result[offset + 4] = tm4 * om0 + tm5 * om4 + tm6 * om8 + tm7 * om12;\r\n          result[offset + 5] = tm4 * om1 + tm5 * om5 + tm6 * om9 + tm7 * om13;\r\n          result[offset + 6] = tm4 * om2 + tm5 * om6 + tm6 * om10 + tm7 * om14;\r\n          result[offset + 7] = tm4 * om3 + tm5 * om7 + tm6 * om11 + tm7 * om15;\r\n          result[offset + 8] = tm8 * om0 + tm9 * om4 + tm10 * om8 + tm11 * om12;\r\n          result[offset + 9] = tm8 * om1 + tm9 * om5 + tm10 * om9 + tm11 * om13;\r\n          result[offset + 10] = tm8 * om2 + tm9 * om6 + tm10 * om10 + tm11 * om14;\r\n          result[offset + 11] = tm8 * om3 + tm9 * om7 + tm10 * om11 + tm11 * om15;\r\n          result[offset + 12] = tm12 * om0 + tm13 * om4 + tm14 * om8 + tm15 * om12;\r\n          result[offset + 13] = tm12 * om1 + tm13 * om5 + tm14 * om9 + tm15 * om13;\r\n          result[offset + 14] = tm12 * om2 + tm13 * om6 + tm14 * om10 + tm15 * om14;\r\n          result[offset + 15] = tm12 * om3 + tm13 * om7 + tm14 * om11 + tm15 * om15;\r\n          return this;\r\n      };\r\n      /**\r\n       * Check equality between this matrix and a second one\r\n       * @param value - defines the second matrix to compare\r\n       * @returns true is the current matrix and the given one values are strictly equal\r\n       */\r\n      Matrix.prototype.equals = function (value) {\r\n          var other = value;\r\n          if (!other) {\r\n              return false;\r\n          }\r\n          if (this._isIdentity || other._isIdentity) {\r\n              if (!this._isIdentityDirty && !other._isIdentityDirty) {\r\n                  return this._isIdentity && other._isIdentity;\r\n              }\r\n          }\r\n          var m = this.m;\r\n          var om = other.m;\r\n          return (m[0] === om[0] &&\r\n              m[1] === om[1] &&\r\n              m[2] === om[2] &&\r\n              m[3] === om[3] &&\r\n              m[4] === om[4] &&\r\n              m[5] === om[5] &&\r\n              m[6] === om[6] &&\r\n              m[7] === om[7] &&\r\n              m[8] === om[8] &&\r\n              m[9] === om[9] &&\r\n              m[10] === om[10] &&\r\n              m[11] === om[11] &&\r\n              m[12] === om[12] &&\r\n              m[13] === om[13] &&\r\n              m[14] === om[14] &&\r\n              m[15] === om[15]);\r\n      };\r\n      /**\r\n       * Clone the current matrix\r\n       * @returns a new matrix from the current matrix\r\n       */\r\n      Matrix.prototype.clone = function () {\r\n          var matrix = new Matrix();\r\n          matrix.copyFrom(this);\r\n          return matrix;\r\n      };\r\n      /**\r\n       * Returns the name of the current matrix class\r\n       * @returns the string \"Matrix\"\r\n       */\r\n      Matrix.prototype.getClassName = function () {\r\n          return 'Matrix';\r\n      };\r\n      /**\r\n       * Gets the hash code of the current matrix\r\n       * @returns the hash code\r\n       */\r\n      Matrix.prototype.getHashCode = function () {\r\n          var hash = this._m[0] || 0;\r\n          for (var i = 1; i < 16; i++) {\r\n              hash = (hash * 397) ^ (this._m[i] || 0);\r\n          }\r\n          return hash;\r\n      };\r\n      /**\r\n       * Decomposes the current Matrix into a translation, rotation and scaling components\r\n       * @param scale - defines the scale vector3 given as a reference to update\r\n       * @param rotation - defines the rotation quaternion given as a reference to update\r\n       * @param translation - defines the translation vector3 given as a reference to update\r\n       * @returns true if operation was successful\r\n       */\r\n      Matrix.prototype.decompose = function (scale, rotation, translation) {\r\n          if (this._isIdentity) {\r\n              if (translation) {\r\n                  translation.setAll(0);\r\n              }\r\n              if (scale) {\r\n                  scale.setAll(1);\r\n              }\r\n              if (rotation) {\r\n                  rotation.copyFromFloats(0, 0, 0, 1);\r\n              }\r\n              return true;\r\n          }\r\n          var m = this._m;\r\n          if (translation) {\r\n              translation.copyFromFloats(m[12], m[13], m[14]);\r\n          }\r\n          var usedScale = scale || MathTmp.Vector3[0];\r\n          usedScale.x = Math.sqrt(m[0] * m[0] + m[1] * m[1] + m[2] * m[2]);\r\n          usedScale.y = Math.sqrt(m[4] * m[4] + m[5] * m[5] + m[6] * m[6]);\r\n          usedScale.z = Math.sqrt(m[8] * m[8] + m[9] * m[9] + m[10] * m[10]);\r\n          if (this.determinant() <= 0) {\r\n              usedScale.y *= -1;\r\n          }\r\n          if (usedScale.x === 0 || usedScale.y === 0 || usedScale.z === 0) {\r\n              if (rotation) {\r\n                  rotation.copyFromFloats(0.0, 0.0, 0.0, 1.0);\r\n              }\r\n              return false;\r\n          }\r\n          if (rotation) {\r\n              // tslint:disable-next-line:one-variable-per-declaration\r\n              var sx = 1 / usedScale.x, sy = 1 / usedScale.y, sz = 1 / usedScale.z;\r\n              Matrix.FromValuesToRef(m[0] * sx, m[1] * sx, m[2] * sx, 0.0, m[4] * sy, m[5] * sy, m[6] * sy, 0.0, m[8] * sz, m[9] * sz, m[10] * sz, 0.0, 0.0, 0.0, 0.0, 1.0, MathTmp.Matrix[0]);\r\n              Quaternion.FromRotationMatrixToRef(MathTmp.Matrix[0], rotation);\r\n          }\r\n          return true;\r\n      };\r\n      /**\r\n       * Gets specific row of the matrix\r\n       * @param index - defines the number of the row to get\r\n       * @returns the index-th row of the current matrix as a new Vector4\r\n       */\r\n      Matrix.prototype.getRow = function (index) {\r\n          if (index < 0 || index > 3) {\r\n              return null;\r\n          }\r\n          var i = index * 4;\r\n          return new Vector4(this._m[i + 0], this._m[i + 1], this._m[i + 2], this._m[i + 3]);\r\n      };\r\n      /**\r\n       * Sets the index-th row of the current matrix to the vector4 values\r\n       * @param index - defines the number of the row to set\r\n       * @param row - defines the target vector4\r\n       * @returns the updated current matrix\r\n       */\r\n      Matrix.prototype.setRow = function (index, row) {\r\n          return this.setRowFromFloats(index, row.x, row.y, row.z, row.w);\r\n      };\r\n      /**\r\n       * Compute the transpose of the matrix\r\n       * @returns the new transposed matrix\r\n       */\r\n      Matrix.prototype.transpose = function () {\r\n          return Matrix.Transpose(this);\r\n      };\r\n      /**\r\n       * Compute the transpose of the matrix and store it in a given matrix\r\n       * @param result - defines the target matrix\r\n       * @returns the current matrix\r\n       */\r\n      Matrix.prototype.transposeToRef = function (result) {\r\n          Matrix.TransposeToRef(this, result);\r\n          return this;\r\n      };\r\n      /**\r\n       * Sets the index-th row of the current matrix with the given 4 x float values\r\n       * @param index - defines the row index\r\n       * @param x - defines the x component to set\r\n       * @param y - defines the y component to set\r\n       * @param z - defines the z component to set\r\n       * @param w - defines the w component to set\r\n       * @returns the updated current matrix\r\n       */\r\n      Matrix.prototype.setRowFromFloats = function (index, x, y, z, w) {\r\n          if (index < 0 || index > 3) {\r\n              return this;\r\n          }\r\n          var i = index * 4;\r\n          this._m[i + 0] = x;\r\n          this._m[i + 1] = y;\r\n          this._m[i + 2] = z;\r\n          this._m[i + 3] = w;\r\n          this._markAsUpdated();\r\n          return this;\r\n      };\r\n      /**\r\n       * Compute a new matrix set with the current matrix values multiplied by scale (float)\r\n       * @param scale - defines the scale factor\r\n       * @returns a new matrix\r\n       */\r\n      Matrix.prototype.scale = function (scale) {\r\n          var result = new Matrix();\r\n          this.scaleToRef(scale, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Scale the current matrix values by a factor to a given result matrix\r\n       * @param scale - defines the scale factor\r\n       * @param result - defines the matrix to store the result\r\n       * @returns the current matrix\r\n       */\r\n      Matrix.prototype.scaleToRef = function (scale, result) {\r\n          for (var index = 0; index < 16; index++) {\r\n              result._m[index] = this._m[index] * scale;\r\n          }\r\n          result._markAsUpdated();\r\n          return this;\r\n      };\r\n      /**\r\n       * Scale the current matrix values by a factor and add the result to a given matrix\r\n       * @param scale - defines the scale factor\r\n       * @param result - defines the Matrix to store the result\r\n       * @returns the current matrix\r\n       */\r\n      Matrix.prototype.scaleAndAddToRef = function (scale, result) {\r\n          for (var index = 0; index < 16; index++) {\r\n              result._m[index] += this._m[index] * scale;\r\n          }\r\n          result._markAsUpdated();\r\n          return this;\r\n      };\r\n      /**\r\n       * Writes to the given matrix a normal matrix, computed from this one (using values from identity matrix for fourth row and column).\r\n       * @param ref - matrix to store the result\r\n       */\r\n      Matrix.prototype.toNormalMatrix = function (ref) {\r\n          var tmp = MathTmp.Matrix[0];\r\n          this.invertToRef(tmp);\r\n          tmp.transposeToRef(ref);\r\n          var m = ref._m;\r\n          Matrix.FromValuesToRef(m[0], m[1], m[2], 0.0, m[4], m[5], m[6], 0.0, m[8], m[9], m[10], 0.0, 0.0, 0.0, 0.0, 1.0, ref);\r\n      };\r\n      /**\r\n       * Gets only rotation part of the current matrix\r\n       * @returns a new matrix sets to the extracted rotation matrix from the current one\r\n       */\r\n      Matrix.prototype.getRotationMatrix = function () {\r\n          var result = new Matrix();\r\n          this.getRotationMatrixToRef(result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Extracts the rotation matrix from the current one and sets it as the given \"result\"\r\n       * @param result - defines the target matrix to store data to\r\n       * @returns the current matrix\r\n       */\r\n      Matrix.prototype.getRotationMatrixToRef = function (result) {\r\n          var scale = MathTmp.Vector3[0];\r\n          if (!this.decompose(scale)) {\r\n              Matrix.IdentityToRef(result);\r\n              return this;\r\n          }\r\n          var m = this._m;\r\n          // tslint:disable-next-line:one-variable-per-declaration\r\n          var sx = 1 / scale.x, sy = 1 / scale.y, sz = 1 / scale.z;\r\n          Matrix.FromValuesToRef(m[0] * sx, m[1] * sx, m[2] * sx, 0.0, m[4] * sy, m[5] * sy, m[6] * sy, 0.0, m[8] * sz, m[9] * sz, m[10] * sz, 0.0, 0.0, 0.0, 0.0, 1.0, result);\r\n          return this;\r\n      };\r\n      /**\r\n       * Toggles model matrix from being right handed to left handed in place and vice versa\r\n       */\r\n      Matrix.prototype.toggleModelMatrixHandInPlace = function () {\r\n          var m = this._m;\r\n          m[2] *= -1;\r\n          m[6] *= -1;\r\n          m[8] *= -1;\r\n          m[9] *= -1;\r\n          m[14] *= -1;\r\n          this._markAsUpdated();\r\n      };\r\n      /**\r\n       * Toggles projection matrix from being right handed to left handed in place and vice versa\r\n       */\r\n      Matrix.prototype.toggleProjectionMatrixHandInPlace = function () {\r\n          var m = this._m;\r\n          m[8] *= -1;\r\n          m[9] *= -1;\r\n          m[10] *= -1;\r\n          m[11] *= -1;\r\n          this._markAsUpdated();\r\n      };\r\n      /** @internal */\r\n      Matrix.prototype._updateIdentityStatus = function (isIdentity, isIdentityDirty, isIdentity3x2, isIdentity3x2Dirty) {\r\n          if (isIdentityDirty === void 0) { isIdentityDirty = false; }\r\n          if (isIdentity3x2 === void 0) { isIdentity3x2 = false; }\r\n          if (isIdentity3x2Dirty === void 0) { isIdentity3x2Dirty = true; }\r\n          this.updateFlag = Matrix._updateFlagSeed++;\r\n          this._isIdentity = isIdentity;\r\n          this._isIdentity3x2 = isIdentity || isIdentity3x2;\r\n          this._isIdentityDirty = this._isIdentity ? false : isIdentityDirty;\r\n          this._isIdentity3x2Dirty = this._isIdentity3x2 ? false : isIdentity3x2Dirty;\r\n      };\r\n      Matrix._updateFlagSeed = 0;\r\n      Matrix._identityReadOnly = Matrix.Identity();\r\n      return Matrix;\r\n  }());\n\n  /**\r\n   * Class used to store quaternion data\r\n   * {@link https://en.wikipedia.org/wiki/Quaternion }\r\n   * {@link http://doc.babylonjs.com/features/position,_rotation,_scaling }\r\n   * @public\r\n   */\r\n  var Quaternion = /** @class */ (function () {\r\n      /**\r\n       * Creates a new Quaternion from the given floats\r\n       * @param x - defines the first component (0 by default)\r\n       * @param y - defines the second component (0 by default)\r\n       * @param z - defines the third component (0 by default)\r\n       * @param w - defines the fourth component (1.0 by default)\r\n       */\r\n      function Quaternion(\r\n      /** defines the first component (0 by default) */\r\n      x, \r\n      /** defines the second component (0 by default) */\r\n      y, \r\n      /** defines the third component (0 by default) */\r\n      z, \r\n      /** defines the fourth component (1.0 by default) */\r\n      w) {\r\n          if (x === void 0) { x = 0.0; }\r\n          if (y === void 0) { y = 0.0; }\r\n          if (z === void 0) { z = 0.0; }\r\n          if (w === void 0) { w = 1.0; }\r\n          this.x = x;\r\n          this.y = y;\r\n          this.z = z;\r\n          this.w = w;\r\n      }\r\n      // Statics\r\n      /**\r\n       * Creates a new quaternion from a rotation matrix\r\n       * @param matrix - defines the source matrix\r\n       * @returns a new quaternion created from the given rotation matrix values\r\n       */\r\n      Quaternion.FromRotationMatrix = function (matrix) {\r\n          var result = new Quaternion();\r\n          Quaternion.FromRotationMatrixToRef(matrix, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Updates the given quaternion with the given rotation matrix values\r\n       * @param matrix - defines the source matrix\r\n       * @param result - defines the target quaternion\r\n       */\r\n      Quaternion.FromRotationMatrixToRef = function (matrix, result) {\r\n          var data = matrix.m;\r\n          // tslint:disable:one-variable-per-declaration\r\n          var m11 = data[0], m12 = data[4], m13 = data[8];\r\n          var m21 = data[1], m22 = data[5], m23 = data[9];\r\n          var m31 = data[2], m32 = data[6], m33 = data[10];\r\n          // tslint:enable:one-variable-per-declaration\r\n          var trace = m11 + m22 + m33;\r\n          var s;\r\n          if (trace > 0) {\r\n              s = 0.5 / Math.sqrt(trace + 1.0);\r\n              result.w = 0.25 / s;\r\n              result.x = (m32 - m23) * s;\r\n              result.y = (m13 - m31) * s;\r\n              result.z = (m21 - m12) * s;\r\n          }\r\n          else if (m11 > m22 && m11 > m33) {\r\n              s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\r\n              result.w = (m32 - m23) / s;\r\n              result.x = 0.25 * s;\r\n              result.y = (m12 + m21) / s;\r\n              result.z = (m13 + m31) / s;\r\n          }\r\n          else if (m22 > m33) {\r\n              s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\r\n              result.w = (m13 - m31) / s;\r\n              result.x = (m12 + m21) / s;\r\n              result.y = 0.25 * s;\r\n              result.z = (m23 + m32) / s;\r\n          }\r\n          else {\r\n              s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\r\n              result.w = (m21 - m12) / s;\r\n              result.x = (m13 + m31) / s;\r\n              result.y = (m23 + m32) / s;\r\n              result.z = 0.25 * s;\r\n          }\r\n      };\r\n      /**\r\n       * Returns the dot product (float) between the quaternions \"left\" and \"right\"\r\n       * @param left - defines the left operand\r\n       * @param right - defines the right operand\r\n       * @returns the dot product\r\n       */\r\n      Quaternion.Dot = function (left, right) {\r\n          return left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;\r\n      };\r\n      /**\r\n       * Checks if the two quaternions are close to each other\r\n       * @param quat0 - defines the first quaternion to check\r\n       * @param quat1 - defines the second quaternion to check\r\n       * @returns true if the two quaternions are close to each other\r\n       */\r\n      Quaternion.AreClose = function (quat0, quat1) {\r\n          var dot = Quaternion.Dot(quat0, quat1);\r\n          return dot >= 0;\r\n      };\r\n      /**\r\n       * Creates an empty quaternion\r\n       * @returns a new quaternion set to (0.0, 0.0, 0.0)\r\n       */\r\n      Quaternion.Zero = function () {\r\n          return new Quaternion(0.0, 0.0, 0.0, 0.0);\r\n      };\r\n      /**\r\n       * Inverse a given quaternion\r\n       * @param q - defines the source quaternion\r\n       * @returns a new quaternion as the inverted current quaternion\r\n       */\r\n      Quaternion.Inverse = function (q) {\r\n          return new Quaternion(-q.x, -q.y, -q.z, q.w);\r\n      };\r\n      /**\r\n       * Gets a boolean indicating if the given quaternion is identity\r\n       * @param quaternion - defines the quaternion to check\r\n       * @returns true if the quaternion is identity\r\n       */\r\n      Quaternion.IsIdentity = function (quaternion) {\r\n          return quaternion && quaternion.x === 0 && quaternion.y === 0 && quaternion.z === 0 && quaternion.w === 1;\r\n      };\r\n      /**\r\n       * Creates a quaternion from a rotation around an axis\r\n       * @param axis - defines the axis to use\r\n       * @param angle - defines the angle to use (in Euler degrees)\r\n       * @returns a new quaternion created from the given axis (Vector3) and angle in radians (float)\r\n       */\r\n      Quaternion.RotationAxis = function (axis, angle) {\r\n          var angleRad = angle * DEG2RAD;\r\n          return Quaternion.RotationAxisToRef(axis, angleRad, new Quaternion());\r\n      };\r\n      /**\r\n       * Creates a rotation around an axis and stores it into the given quaternion\r\n       * @param axis - defines the axis to use\r\n       * @param angle - defines the angle to use (in Euler degrees)\r\n       * @param result - defines the target quaternion\r\n       * @returns the target quaternion\r\n       */\r\n      Quaternion.RotationAxisToRef = function (axis, angle, result) {\r\n          var angleRad = angle * DEG2RAD;\r\n          var sin = Math.sin(angleRad / 2);\r\n          axis.normalize();\r\n          result.w = Math.cos(angleRad / 2);\r\n          result.x = axis.x * sin;\r\n          result.y = axis.y * sin;\r\n          result.z = axis.z * sin;\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a new quaternion from data stored into an array\r\n       * @param array - defines the data source\r\n       * @param offset - defines the offset in the source array where the data starts\r\n       * @returns a new quaternion\r\n       */\r\n      Quaternion.FromArray = function (array, offset) {\r\n          if (offset === void 0) { offset = 0; }\r\n          return new Quaternion(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);\r\n      };\r\n      /**\r\n       * Creates a new quaternion from a set of euler angles and stores it in the target quaternion\r\n       */\r\n      Quaternion.FromEulerAnglesRef = function (x, y, z, result) {\r\n          return Quaternion.RotationYawPitchRollToRef(y * DEG2RAD, x * DEG2RAD, z * DEG2RAD, result);\r\n      };\r\n      /**\r\n       * Creates a new quaternion from the given Euler float angles (y, x, z)\r\n       * @param yaw - defines the rotation around Y axis\r\n       * @param pitch - defines the rotation around X axis\r\n       * @param roll - defines the rotation around Z axis\r\n       * @returns the new quaternion\r\n       */\r\n      Quaternion.RotationYawPitchRoll = function (yaw, pitch, roll) {\r\n          var q = new Quaternion();\r\n          Quaternion.RotationYawPitchRollToRef(yaw, pitch, roll, q);\r\n          return q;\r\n      };\r\n      /**\r\n       * Creates a new rotation from the given Euler float angles (y, x, z) and stores it in the target quaternion\r\n       * @param yaw - defines the rotation around Y axis\r\n       * @param pitch - defines the rotation around X axis\r\n       * @param roll - defines the rotation around Z axis\r\n       * @param result - defines the target quaternion\r\n       */\r\n      Quaternion.RotationYawPitchRollToRef = function (yaw, pitch, roll, result) {\r\n          // Implemented unity-based calculations from: https://stackoverflow.com/a/56055813\r\n          var halfPitch = pitch * 0.5;\r\n          var halfYaw = yaw * 0.5;\r\n          var halfRoll = roll * 0.5;\r\n          var c1 = Math.cos(halfPitch);\r\n          var c2 = Math.cos(halfYaw);\r\n          var c3 = Math.cos(halfRoll);\r\n          var s1 = Math.sin(halfPitch);\r\n          var s2 = Math.sin(halfYaw);\r\n          var s3 = Math.sin(halfRoll);\r\n          result.x = c2 * s1 * c3 + s2 * c1 * s3;\r\n          result.y = s2 * c1 * c3 - c2 * s1 * s3;\r\n          result.z = c2 * c1 * s3 - s2 * s1 * c3;\r\n          result.w = c2 * c1 * c3 + s2 * s1 * s3;\r\n      };\r\n      /**\r\n       * Creates a new quaternion from the given Euler float angles expressed in z-x-z orientation\r\n       * @param alpha - defines the rotation around first axis\r\n       * @param beta - defines the rotation around second axis\r\n       * @param gamma - defines the rotation around third axis\r\n       * @returns the new quaternion\r\n       */\r\n      Quaternion.RotationAlphaBetaGamma = function (alpha, beta, gamma) {\r\n          var result = new Quaternion();\r\n          Quaternion.RotationAlphaBetaGammaToRef(alpha, beta, gamma, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a new quaternion from the given Euler float angles expressed in z-x-z orientation and stores it in the target quaternion\r\n       * @param alpha - defines the rotation around first axis\r\n       * @param beta - defines the rotation around second axis\r\n       * @param gamma - defines the rotation around third axis\r\n       * @param result - defines the target quaternion\r\n       */\r\n      Quaternion.RotationAlphaBetaGammaToRef = function (alpha, beta, gamma, result) {\r\n          // Produces a quaternion from Euler angles in the z-x-z orientation\r\n          var halfGammaPlusAlpha = (gamma + alpha) * 0.5;\r\n          var halfGammaMinusAlpha = (gamma - alpha) * 0.5;\r\n          var halfBeta = beta * 0.5;\r\n          result.x = Math.cos(halfGammaMinusAlpha) * Math.sin(halfBeta);\r\n          result.y = Math.sin(halfGammaMinusAlpha) * Math.sin(halfBeta);\r\n          result.z = Math.sin(halfGammaPlusAlpha) * Math.cos(halfBeta);\r\n          result.w = Math.cos(halfGammaPlusAlpha) * Math.cos(halfBeta);\r\n      };\r\n      /**\r\n       * Creates a new quaternion containing the rotation value to reach the target (axis1, axis2, axis3) orientation as a rotated XYZ system (axis1, axis2 and axis3 are normalized during this operation)\r\n       * @param axis1 - defines the first axis\r\n       * @param axis2 - defines the second axis\r\n       * @param axis3 - defines the third axis\r\n       * @returns the new quaternion\r\n       */\r\n      Quaternion.RotationQuaternionFromAxis = function (axis1, axis2, axis3) {\r\n          var quat = new Quaternion(0.0, 0.0, 0.0, 0.0);\r\n          Quaternion.RotationQuaternionFromAxisToRef(axis1, axis2, axis3, quat);\r\n          return quat;\r\n      };\r\n      /**\r\n       * Creates a rotation value to reach the target (axis1, axis2, axis3) orientation as a rotated XYZ system (axis1, axis2 and axis3 are normalized during this operation) and stores it in the target quaternion\r\n       * @param axis1 - defines the first axis\r\n       * @param axis2 - defines the second axis\r\n       * @param axis3 - defines the third axis\r\n       * @param ref - defines the target quaternion\r\n       */\r\n      Quaternion.RotationQuaternionFromAxisToRef = function (axis1, axis2, axis3, ref) {\r\n          var rotMat = MathTmp.Matrix[0];\r\n          Matrix.FromXYZAxesToRef(axis1.normalize(), axis2.normalize(), axis3.normalize(), rotMat);\r\n          Quaternion.FromRotationMatrixToRef(rotMat, ref);\r\n      };\r\n      /**\r\n       * Interpolates between two quaternions\r\n       * @param left - defines first quaternion\r\n       * @param right - defines second quaternion\r\n       * @param amount - defines the gradient to use\r\n       * @returns the new interpolated quaternion\r\n       */\r\n      Quaternion.Slerp = function (left, right, amount) {\r\n          var result = Quaternion.Identity;\r\n          Quaternion.SlerpToRef(left, right, amount, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Interpolates between two quaternions and stores it into a target quaternion\r\n       * @param left - defines first quaternion\r\n       * @param right - defines second quaternion\r\n       * @param amount - defines the gradient to use\r\n       * @param result - defines the target quaternion\r\n       */\r\n      Quaternion.SlerpToRef = function (left, right, amount, result) {\r\n          var num2;\r\n          var num3;\r\n          var num4 = left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;\r\n          var flag = false;\r\n          if (num4 < 0) {\r\n              flag = true;\r\n              num4 = -num4;\r\n          }\r\n          if (num4 > 0.999999) {\r\n              num3 = 1 - amount;\r\n              num2 = flag ? -amount : amount;\r\n          }\r\n          else {\r\n              var num5 = Math.acos(num4);\r\n              var num6 = 1.0 / Math.sin(num5);\r\n              num3 = Math.sin((1.0 - amount) * num5) * num6;\r\n              num2 = flag ? -Math.sin(amount * num5) * num6 : Math.sin(amount * num5) * num6;\r\n          }\r\n          result.x = num3 * left.x + num2 * right.x;\r\n          result.y = num3 * left.y + num2 * right.y;\r\n          result.z = num3 * left.z + num2 * right.z;\r\n          result.w = num3 * left.w + num2 * right.w;\r\n      };\r\n      /**\r\n       * Interpolate between two quaternions using Hermite interpolation\r\n       * @param value1 - defines first quaternion\r\n       * @param tangent1 - defines the incoming tangent\r\n       * @param value2 - defines second quaternion\r\n       * @param tangent2 - defines the outgoing tangent\r\n       * @param amount - defines the target quaternion\r\n       * @returns the new interpolated quaternion\r\n       */\r\n      Quaternion.Hermite = function (value1, tangent1, value2, tangent2, amount) {\r\n          var squared = amount * amount;\r\n          var cubed = amount * squared;\r\n          var part1 = 2.0 * cubed - 3.0 * squared + 1.0;\r\n          var part2 = -2.0 * cubed + 3.0 * squared;\r\n          var part3 = cubed - 2.0 * squared + amount;\r\n          var part4 = cubed - squared;\r\n          var x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;\r\n          var y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;\r\n          var z = value1.z * part1 + value2.z * part2 + tangent1.z * part3 + tangent2.z * part4;\r\n          var w = value1.w * part1 + value2.w * part2 + tangent1.w * part3 + tangent2.w * part4;\r\n          return new Quaternion(x, y, z, w);\r\n      };\r\n      Object.defineProperty(Quaternion, \"Identity\", {\r\n          /**\r\n           * Creates an identity quaternion\r\n           * @returns - the identity quaternion\r\n           */\r\n          get: function () {\r\n              return new Quaternion(0.0, 0.0, 0.0, 1.0);\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      /**\r\n       * Returns the angle in degrees between two rotations a and b.\r\n       * @param quat1 - defines the first quaternion\r\n       * @param quat2 - defines the second quaternion\r\n       */\r\n      Quaternion.Angle = function (quat1, quat2) {\r\n          var dot = Quaternion.Dot(quat1, quat2);\r\n          return Math.acos(Math.min(Math.abs(dot), 1)) * 2 * RAD2DEG;\r\n      };\r\n      /**\r\n       * Returns a rotation that rotates z degrees around the z axis, x degrees around the x axis, and y degrees around the y axis.\r\n       * @param x - the rotation on the x axis in euler degrees\r\n       * @param y - the rotation on the y axis in euler degrees\r\n       * @param z - the rotation on the z axis in euler degrees\r\n       */\r\n      Quaternion.Euler = function (x, y, z) {\r\n          return Quaternion.RotationYawPitchRoll(y * DEG2RAD, x * DEG2RAD, z * DEG2RAD);\r\n      };\r\n      /**\r\n       * Creates a rotation with the specified forward and upwards directions.\r\n       * @param forward - the direction to look in\r\n       * @param up - the vector that defines in which direction up is\r\n       */\r\n      Quaternion.LookRotation = function (forward, up) {\r\n          if (up === void 0) { up = MathTmp.staticUp; }\r\n          var forwardNew = Vector3.Normalize(forward);\r\n          var right = Vector3.Normalize(Vector3.Cross(up, forwardNew));\r\n          var upNew = Vector3.Cross(forwardNew, right);\r\n          var m00 = right.x;\r\n          var m01 = right.y;\r\n          var m02 = right.z;\r\n          var m10 = upNew.x;\r\n          var m11 = upNew.y;\r\n          var m12 = upNew.z;\r\n          var m20 = forwardNew.x;\r\n          var m21 = forwardNew.y;\r\n          var m22 = forwardNew.z;\r\n          var num8 = m00 + m11 + m22;\r\n          var quaternion = new Quaternion();\r\n          if (num8 > 0) {\r\n              var num = Math.sqrt(num8 + 1);\r\n              quaternion.w = num * 0.5;\r\n              num = 0.5 / num;\r\n              quaternion.x = (m12 - m21) * num;\r\n              quaternion.y = (m20 - m02) * num;\r\n              quaternion.z = (m01 - m10) * num;\r\n              return quaternion;\r\n          }\r\n          if (m00 >= m11 && m00 >= m22) {\r\n              var num7 = Math.sqrt(1 + m00 - m11 - m22);\r\n              var num4 = 0.5 / num7;\r\n              quaternion.x = 0.5 * num7;\r\n              quaternion.y = (m01 + m10) * num4;\r\n              quaternion.z = (m02 + m20) * num4;\r\n              quaternion.w = (m12 - m21) * num4;\r\n              return quaternion;\r\n          }\r\n          if (m11 > m22) {\r\n              var num6 = Math.sqrt(1 + m11 - m00 - m22);\r\n              var num3 = 0.5 / num6;\r\n              quaternion.x = (m10 + m01) * num3;\r\n              quaternion.y = 0.5 * num6;\r\n              quaternion.z = (m21 + m12) * num3;\r\n              quaternion.w = (m20 - m02) * num3;\r\n              return quaternion;\r\n          }\r\n          var num5 = Math.sqrt(1 + m22 - m00 - m11);\r\n          var num2 = 0.5 / num5;\r\n          quaternion.x = (m20 + m02) * num2;\r\n          quaternion.y = (m21 + m12) * num2;\r\n          quaternion.z = 0.5 * num5;\r\n          quaternion.w = (m01 - m10) * num2;\r\n          return quaternion;\r\n      };\r\n      /**\r\n       * The from quaternion is rotated towards to by an angular step of maxDegreesDelta.\r\n       * @param from - defines the first quaternion\r\n       * @param to - defines the second quaternion\r\n       * @param maxDegreesDelta - the interval step\r\n       */\r\n      Quaternion.RotateTowards = function (from, to, maxDegreesDelta) {\r\n          var num = Quaternion.Angle(from, to);\r\n          if (num === 0) {\r\n              return to;\r\n          }\r\n          var t = Math.min(1, maxDegreesDelta / num);\r\n          return Quaternion.Slerp(from, to, t);\r\n      };\r\n      /**\r\n       * Creates a rotation which rotates from fromDirection to toDirection.\r\n       * @param from - defines the first direction Vector\r\n       * @param to - defines the target direction Vector\r\n       */\r\n      Quaternion.FromToRotation = function (from, to, up) {\r\n          // Unity-based calculations implemented from https://forum.unity.com/threads/quaternion-lookrotation-around-an-axis.608470/#post-4069888\r\n          if (up === void 0) { up = MathTmp.staticUp; }\r\n          var v0 = from.normalize();\r\n          var v1 = to.normalize();\r\n          var a = Vector3.Cross(v0, v1);\r\n          var w = Math.sqrt(v0.lengthSquared() * v1.lengthSquared()) + Vector3.Dot(v0, v1);\r\n          if (a.lengthSquared() < 0.0001) {\r\n              // the vectors are parallel, check w to find direction\r\n              // if w is 0 then values are opposite, and we sould rotate 180 degrees around the supplied axis\r\n              // otherwise the vectors in the same direction and no rotation should occur\r\n              return Math.abs(w) < 0.0001 ? new Quaternion(up.x, up.y, up.z, 0).normalized : Quaternion.Identity;\r\n          }\r\n          else {\r\n              return new Quaternion(a.x, a.y, a.z, w).normalized;\r\n          }\r\n      };\r\n      Object.defineProperty(Quaternion.prototype, \"normalized\", {\r\n          /**\r\n           * Converts this quaternion to one with the same orientation but with a magnitude of 1.\r\n           */\r\n          get: function () {\r\n              return this.normalize();\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      /**\r\n       * Creates a rotation which rotates from fromDirection to toDirection.\r\n       * @param from - defines the first Vector\r\n       * @param to - defines the second Vector\r\n       * @param up - defines the direction\r\n       */\r\n      Quaternion.prototype.setFromToRotation = function (from, to, up) {\r\n          if (up === void 0) { up = MathTmp.staticUp; }\r\n          var result = Quaternion.FromToRotation(from, to, up);\r\n          this.x = result.x;\r\n          this.y = result.y;\r\n          this.z = result.z;\r\n          this.w = result.w;\r\n      };\r\n      Object.defineProperty(Quaternion.prototype, \"eulerAngles\", {\r\n          /**\r\n           * Gets or sets the euler angle representation of the rotation.\r\n           * Implemented unity-based calculations from: https://stackoverflow.com/a/56055813\r\n           */\r\n          get: function () {\r\n              var out = new Vector3();\r\n              // if the input quaternion is normalized, this is exactly one. Otherwise, this acts as a correction factor for the quaternion's not-normalizedness\r\n              var unit = this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\r\n              // this will have a magnitude of 0.5 or greater if and only if this is a singularity case\r\n              var test = this.x * this.w - this.y * this.z;\r\n              if (test > 0.4995 * unit) {\r\n                  // singularity at north pole\r\n                  out.x = Math.PI / 2;\r\n                  out.y = 2 * Math.atan2(this.y, this.x);\r\n                  out.z = 0;\r\n              }\r\n              else if (test < -0.4995 * unit) {\r\n                  // singularity at south pole\r\n                  out.x = -Math.PI / 2;\r\n                  out.y = -2 * Math.atan2(this.y, this.x);\r\n                  out.z = 0;\r\n              }\r\n              else {\r\n                  // no singularity - this is the majority of cases\r\n                  out.x = Math.asin(2 * (this.w * this.x - this.y * this.z));\r\n                  out.y = Math.atan2(2 * this.w * this.y + 2 * this.z * this.x, 1 - 2 * (this.x * this.x + this.y * this.y));\r\n                  out.z = Math.atan2(2 * this.w * this.z + 2 * this.x * this.y, 1 - 2 * (this.z * this.z + this.x * this.x));\r\n              }\r\n              out.x *= RAD2DEG;\r\n              out.y *= RAD2DEG;\r\n              out.z *= RAD2DEG;\r\n              // ensure the degree values are between 0 and 360\r\n              out.x = Scalar.Repeat(out.x, 360);\r\n              out.y = Scalar.Repeat(out.y, 360);\r\n              out.z = Scalar.Repeat(out.z, 360);\r\n              return out;\r\n          },\r\n          set: function (euler) {\r\n              this.setEuler(euler.x, euler.y, euler.z);\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      /**\r\n       * Gets a string representation for the current quaternion\r\n       * @returns a string with the Quaternion coordinates\r\n       */\r\n      Quaternion.prototype.toString = function () {\r\n          return \"(\" + this.x + \", \" + this.y + \", \" + this.z + \", \" + this.w + \")\";\r\n      };\r\n      Object.defineProperty(Quaternion.prototype, \"length\", {\r\n          /**\r\n           * Gets length of current quaternion\r\n           * @returns the quaternion length (float)\r\n           */\r\n          get: function () {\r\n              return Math.sqrt(this.lengthSquared);\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Object.defineProperty(Quaternion.prototype, \"lengthSquared\", {\r\n          /**\r\n           * Gets length of current quaternion\r\n           * @returns the quaternion length (float)\r\n           */\r\n          get: function () {\r\n              return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      /**\r\n       * Gets the class name of the quaternion\r\n       * @returns the string \"Quaternion\"\r\n       */\r\n      Quaternion.prototype.getClassName = function () {\r\n          return 'Quaternion';\r\n      };\r\n      /**\r\n       * Gets a hash code for this quaternion\r\n       * @returns the quaternion hash code\r\n       */\r\n      Quaternion.prototype.getHashCode = function () {\r\n          var hash = this.x || 0;\r\n          hash = (hash * 397) ^ (this.y || 0);\r\n          hash = (hash * 397) ^ (this.z || 0);\r\n          hash = (hash * 397) ^ (this.w || 0);\r\n          return hash;\r\n      };\r\n      /**\r\n       * Copy the quaternion to an array\r\n       * @returns a new array populated with 4 elements from the quaternion coordinates\r\n       */\r\n      Quaternion.prototype.asArray = function () {\r\n          return [this.x, this.y, this.z, this.w];\r\n      };\r\n      /**\r\n       * Check if two quaternions are equals\r\n       * @param otherQuaternion - defines the second operand\r\n       * @returns true if the current quaternion and the given one coordinates are strictly equals\r\n       */\r\n      Quaternion.prototype.equals = function (otherQuaternion) {\r\n          return (otherQuaternion &&\r\n              this.x === otherQuaternion.x &&\r\n              this.y === otherQuaternion.y &&\r\n              this.z === otherQuaternion.z &&\r\n              this.w === otherQuaternion.w);\r\n      };\r\n      /**\r\n       * Clone the current quaternion\r\n       * @returns a new quaternion copied from the current one\r\n       */\r\n      Quaternion.prototype.clone = function () {\r\n          return new Quaternion(this.x, this.y, this.z, this.w);\r\n      };\r\n      /**\r\n       * Copy a quaternion to the current one\r\n       * @param other - defines the other quaternion\r\n       * @returns the updated current quaternion\r\n       */\r\n      Quaternion.prototype.copyFrom = function (other) {\r\n          this.x = other.x;\r\n          this.y = other.y;\r\n          this.z = other.z;\r\n          this.w = other.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates the current quaternion with the given float coordinates\r\n       * @param x - defines the x coordinate\r\n       * @param y - defines the y coordinate\r\n       * @param z - defines the z coordinate\r\n       * @param w - defines the w coordinate\r\n       * @returns the updated current quaternion\r\n       */\r\n      Quaternion.prototype.copyFromFloats = function (x, y, z, w) {\r\n          this.x = x;\r\n          this.y = y;\r\n          this.z = z;\r\n          this.w = w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates the current quaternion from the given float coordinates\r\n       * @param x - defines the x coordinate\r\n       * @param y - defines the y coordinate\r\n       * @param z - defines the z coordinate\r\n       * @param w - defines the w coordinate\r\n       * @returns the updated current quaternion\r\n       */\r\n      Quaternion.prototype.set = function (x, y, z, w) {\r\n          return this.copyFromFloats(x, y, z, w);\r\n      };\r\n      /**\r\n       * Updates the current quaternion from the given euler angles\r\n       * @returns the updated current quaternion\r\n       */\r\n      Quaternion.prototype.setEuler = function (x, y, z) {\r\n          Quaternion.RotationYawPitchRollToRef(y * DEG2RAD, x * DEG2RAD, z * DEG2RAD, this);\r\n          return this;\r\n      };\r\n      /**\r\n       * @internal\r\n       * Adds two quaternions\r\n       * @param other - defines the second operand\r\n       * @returns a new quaternion as the addition result of the given one and the current quaternion\r\n       */\r\n      Quaternion.prototype.add = function (other) {\r\n          return new Quaternion(this.x + other.x, this.y + other.y, this.z + other.z, this.w + other.w);\r\n      };\r\n      /**\r\n       * @internal\r\n       * Add a quaternion to the current one\r\n       * @param other - defines the quaternion to add\r\n       * @returns the current quaternion\r\n       */\r\n      Quaternion.prototype.addInPlace = function (other) {\r\n          this.x += other.x;\r\n          this.y += other.y;\r\n          this.z += other.z;\r\n          this.w += other.w;\r\n          return this;\r\n      };\r\n      /**\r\n       * Subtract two quaternions\r\n       * @param other - defines the second operand\r\n       * @returns a new quaternion as the subtraction result of the given one from the current one\r\n       */\r\n      Quaternion.prototype.subtract = function (other) {\r\n          return new Quaternion(this.x - other.x, this.y - other.y, this.z - other.z, this.w - other.w);\r\n      };\r\n      /**\r\n       * Multiplies the current quaternion by a scale factor\r\n       * @param value - defines the scale factor\r\n       * @returns a new quaternion set by multiplying the current quaternion coordinates by the float \"scale\"\r\n       */\r\n      Quaternion.prototype.scale = function (value) {\r\n          return new Quaternion(this.x * value, this.y * value, this.z * value, this.w * value);\r\n      };\r\n      /**\r\n       * Scale the current quaternion values by a factor and stores the result to a given quaternion\r\n       * @param scale - defines the scale factor\r\n       * @param result - defines the Quaternion object where to store the result\r\n       * @returns the unmodified current quaternion\r\n       */\r\n      Quaternion.prototype.scaleToRef = function (scale, result) {\r\n          result.x = this.x * scale;\r\n          result.y = this.y * scale;\r\n          result.z = this.z * scale;\r\n          result.w = this.w * scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Multiplies in place the current quaternion by a scale factor\r\n       * @param value - defines the scale factor\r\n       * @returns the current modified quaternion\r\n       */\r\n      Quaternion.prototype.scaleInPlace = function (value) {\r\n          this.x *= value;\r\n          this.y *= value;\r\n          this.z *= value;\r\n          this.w *= value;\r\n          return this;\r\n      };\r\n      /**\r\n       * Scale the current quaternion values by a factor and add the result to a given quaternion\r\n       * @param scale - defines the scale factor\r\n       * @param result - defines the Quaternion object where to store the result\r\n       * @returns the unmodified current quaternion\r\n       */\r\n      Quaternion.prototype.scaleAndAddToRef = function (scale, result) {\r\n          result.x += this.x * scale;\r\n          result.y += this.y * scale;\r\n          result.z += this.z * scale;\r\n          result.w += this.w * scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Multiplies two quaternions\r\n       * @param q1 - defines the second operand\r\n       * @returns a new quaternion set as the multiplication result of the current one with the given one \"q1\"\r\n       */\r\n      Quaternion.prototype.multiply = function (q1) {\r\n          var result = new Quaternion(0, 0, 0, 1.0);\r\n          this.multiplyToRef(q1, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the given \"result\" as the the multiplication result of the current one with the given one \"q1\"\r\n       * @param q1 - defines the second operand\r\n       * @param result - defines the target quaternion\r\n       * @returns the current quaternion\r\n       */\r\n      Quaternion.prototype.multiplyToRef = function (q1, result) {\r\n          var x = this.x * q1.w + this.y * q1.z - this.z * q1.y + this.w * q1.x;\r\n          var y = -this.x * q1.z + this.y * q1.w + this.z * q1.x + this.w * q1.y;\r\n          var z = this.x * q1.y - this.y * q1.x + this.z * q1.w + this.w * q1.z;\r\n          var w = -this.x * q1.x - this.y * q1.y - this.z * q1.z + this.w * q1.w;\r\n          result.copyFromFloats(x, y, z, w);\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates the current quaternion with the multiplication of itself with the given one \"q1\"\r\n       * @param q1 - defines the second operand\r\n       * @returns the currentupdated quaternion\r\n       */\r\n      Quaternion.prototype.multiplyInPlace = function (q1) {\r\n          this.multiplyToRef(q1, this);\r\n          return this;\r\n      };\r\n      /**\r\n       * Conjugates (1-q) the current quaternion and stores the result in the given quaternion\r\n       * @param ref - defines the target quaternion\r\n       * @returns the current quaternion\r\n       */\r\n      Quaternion.prototype.conjugateToRef = function (ref) {\r\n          ref.copyFromFloats(-this.x, -this.y, -this.z, this.w);\r\n          return this;\r\n      };\r\n      /**\r\n       * Conjugates in place (1-q) the current quaternion\r\n       * @returns the current updated quaternion\r\n       */\r\n      Quaternion.prototype.conjugateInPlace = function () {\r\n          this.x *= -1;\r\n          this.y *= -1;\r\n          this.z *= -1;\r\n          return this;\r\n      };\r\n      /**\r\n       * Conjugates in place (1-q) the current quaternion\r\n       * @returns a new quaternion\r\n       */\r\n      Quaternion.prototype.conjugate = function () {\r\n          var result = new Quaternion(-this.x, -this.y, -this.z, this.w);\r\n          return result;\r\n      };\r\n      /**\r\n       * Normalize in place the current quaternion\r\n       * @returns the current updated quaternion\r\n       */\r\n      Quaternion.prototype.normalize = function () {\r\n          var length = 1.0 / this.length;\r\n          this.x *= length;\r\n          this.y *= length;\r\n          this.z *= length;\r\n          this.w *= length;\r\n          return this;\r\n      };\r\n      Quaternion.prototype.angleAxis = function (degress, axis) {\r\n          if (axis.lengthSquared() === 0) {\r\n              return Quaternion.Identity;\r\n          }\r\n          var result = Quaternion.Identity;\r\n          var radians = degress * DEG2RAD;\r\n          radians *= 0.5;\r\n          var a2 = axis.normalize();\r\n          a2 = axis.scaleInPlace(Math.sin(radians));\r\n          result.x = a2.x;\r\n          result.y = a2.y;\r\n          result.z = a2.z;\r\n          result.w = Math.cos(radians);\r\n          return result.normalize();\r\n      };\r\n      /**\r\n       * Updates the given rotation matrix with the current quaternion values\r\n       * @param result - defines the target matrix\r\n       * @returns the current unchanged quaternion\r\n       */\r\n      Quaternion.prototype.toRotationMatrix = function (result) {\r\n          Matrix.FromQuaternionToRef(this, result);\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates the current quaternion from the given rotation matrix values\r\n       * @param matrix - defines the source matrix\r\n       * @returns the current updated quaternion\r\n       */\r\n      Quaternion.prototype.fromRotationMatrix = function (matrix) {\r\n          Quaternion.FromRotationMatrixToRef(matrix, this);\r\n          return this;\r\n      };\r\n      return Quaternion;\r\n  }());\n\n  /**\r\n   * Classed used to store (x,y,z) vector representation\r\n   * A Vector3 is the main object used in 3D geometry\r\n   * It can represent etiher the coordinates of a point the space, either a direction\r\n   * Reminder: Babylon.js uses a left handed forward facing system\r\n   * @public\r\n   */\r\n  var Vector3 = /** @class */ (function () {\r\n      /**\r\n       * Creates a new Vector3 object from the given x, y, z (floats) coordinates.\r\n       * @param x - defines the first coordinates (on X axis)\r\n       * @param y - defines the second coordinates (on Y axis)\r\n       * @param z - defines the third coordinates (on Z axis)\r\n       */\r\n      function Vector3(\r\n      /**\r\n       * Defines the first coordinates (on X axis)\r\n       */\r\n      x, \r\n      /**\r\n       * Defines the second coordinates (on Y axis)\r\n       */\r\n      y, \r\n      /**\r\n       * Defines the third coordinates (on Z axis)\r\n       */\r\n      z) {\r\n          if (x === void 0) { x = 0; }\r\n          if (y === void 0) { y = 0; }\r\n          if (z === void 0) { z = 0; }\r\n          this.x = x;\r\n          this.y = y;\r\n          this.z = z;\r\n      }\r\n      Object.defineProperty(Vector3.prototype, \"isNonUniform\", {\r\n          /**\r\n           * Gets a boolean indicating that the vector is non uniform meaning x, y or z are not all the same\r\n           */\r\n          get: function () {\r\n              var absX = Math.abs(this.x);\r\n              var absY = Math.abs(this.y);\r\n              if (absX !== absY) {\r\n                  return true;\r\n              }\r\n              var absZ = Math.abs(this.z);\r\n              if (absX !== absZ) {\r\n                  return true;\r\n              }\r\n              if (absY !== absZ) {\r\n                  return true;\r\n              }\r\n              return false;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      // Statics\r\n      /**\r\n       * Returns a new Vector3 as the result of the addition of the two given vectors.\r\n       * @param vector1 - the first vector\r\n       * @param vector2 - the second vector\r\n       * @returns the resulting vector\r\n       */\r\n      Vector3.Add = function (vector1, vector2) {\r\n          return new Vector3(vector1.x, vector1.y, vector1.z).addInPlace(vector2);\r\n      };\r\n      /**\r\n       * Get the clip factor between two vectors\r\n       * @param vector0 - defines the first operand\r\n       * @param vector1 - defines the second operand\r\n       * @param axis - defines the axis to use\r\n       * @param size - defines the size along the axis\r\n       * @returns the clip factor\r\n       */\r\n      Vector3.GetClipFactor = function (vector0, vector1, axis, size) {\r\n          var d0 = Vector3.Dot(vector0, axis) - size;\r\n          var d1 = Vector3.Dot(vector1, axis) - size;\r\n          var s = d0 / (d0 - d1);\r\n          return s;\r\n      };\r\n      /**\r\n       * Get angle between two vectors\r\n       * @param vector0 - angle between vector0 and vector1\r\n       * @param vector1 - angle between vector0 and vector1\r\n       * @param normal - direction of the normal\r\n       * @returns the angle between vector0 and vector1\r\n       */\r\n      Vector3.GetAngleBetweenVectors = function (vector0, vector1, normal) {\r\n          var v0 = vector0.normalizeToRef(MathTmp.Vector3[1]);\r\n          var v1 = vector1.normalizeToRef(MathTmp.Vector3[2]);\r\n          var dot = Vector3.Dot(v0, v1);\r\n          var n = MathTmp.Vector3[3];\r\n          Vector3.CrossToRef(v0, v1, n);\r\n          if (Vector3.Dot(n, normal) > 0) {\r\n              return Math.acos(dot);\r\n          }\r\n          return -Math.acos(dot);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set from the index \"offset\" of the given array\r\n       * @param array - defines the source array\r\n       * @param offset - defines the offset in the source array\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.FromArray = function (array, offset) {\r\n          if (offset === void 0) { offset = 0; }\r\n          return new Vector3(array[offset], array[offset + 1], array[offset + 2]);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set from the index \"offset\" of the given FloatArray\r\n       * This function is deprecated.  Use FromArray instead\r\n       * @param array - defines the source array\r\n       * @param offset - defines the offset in the source array\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.FromFloatArray = function (array, offset) {\r\n          return Vector3.FromArray(array, offset);\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the element values from the index \"offset\" of the given array\r\n       * @param array - defines the source array\r\n       * @param offset - defines the offset in the source array\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.FromArrayToRef = function (array, offset, result) {\r\n          result.x = array[offset];\r\n          result.y = array[offset + 1];\r\n          result.z = array[offset + 2];\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the element values from the index \"offset\" of the given FloatArray\r\n       * This function is deprecated.  Use FromArrayToRef instead.\r\n       * @param array - defines the source array\r\n       * @param offset - defines the offset in the source array\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.FromFloatArrayToRef = function (array, offset, result) {\r\n          return Vector3.FromArrayToRef(array, offset, result);\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the given floats.\r\n       * @param x - defines the x coordinate of the source\r\n       * @param y - defines the y coordinate of the source\r\n       * @param z - defines the z coordinate of the source\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.FromFloatsToRef = function (x, y, z, result) {\r\n          result.copyFromFloats(x, y, z);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set to (0.0, 0.0, 0.0)\r\n       * @returns a new empty Vector3\r\n       */\r\n      Vector3.Zero = function () {\r\n          return new Vector3(0.0, 0.0, 0.0);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set to (1.0, 1.0, 1.0)\r\n       * @returns a new unit Vector3\r\n       */\r\n      Vector3.One = function () {\r\n          return new Vector3(1.0, 1.0, 1.0);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set to (0.0, 1.0, 0.0)\r\n       * @returns a new up Vector3\r\n       */\r\n      Vector3.Up = function () {\r\n          return new Vector3(0.0, 1.0, 0.0);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set to (0.0, -1.0, 0.0)\r\n       * @returns a new down Vector3\r\n       */\r\n      Vector3.Down = function () {\r\n          return new Vector3(0.0, -1.0, 0.0);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set to (0.0, 0.0, 1.0)\r\n       * @returns a new forward Vector3\r\n       */\r\n      Vector3.Forward = function () {\r\n          return new Vector3(0.0, 0.0, 1.0);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set to (0.0, 0.0, -1.0)\r\n       * @returns a new forward Vector3\r\n       */\r\n      Vector3.Backward = function () {\r\n          return new Vector3(0.0, 0.0, -1.0);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set to (1.0, 0.0, 0.0)\r\n       * @returns a new right Vector3\r\n       */\r\n      Vector3.Right = function () {\r\n          return new Vector3(1.0, 0.0, 0.0);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set to (-1.0, 0.0, 0.0)\r\n       * @returns a new left Vector3\r\n       */\r\n      Vector3.Left = function () {\r\n          return new Vector3(-1.0, 0.0, 0.0);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set with the result of the transformation by the given matrix of the given vector.\r\n       * This method computes tranformed coordinates only, not transformed direction vectors (ie. it takes translation in account)\r\n       * @param vector - defines the Vector3 to transform\r\n       * @param transformation - defines the transformation matrix\r\n       * @returns the transformed Vector3\r\n       */\r\n      Vector3.TransformCoordinates = function (vector, transformation) {\r\n          var result = Vector3.Zero();\r\n          Vector3.TransformCoordinatesToRef(vector, transformation, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" coordinates with the result of the transformation by the given matrix of the given vector\r\n       * This method computes tranformed coordinates only, not transformed direction vectors (ie. it takes translation in account)\r\n       * @param vector - defines the Vector3 to transform\r\n       * @param transformation - defines the transformation matrix\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.TransformCoordinatesToRef = function (vector, transformation, result) {\r\n          return Vector3.TransformCoordinatesFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" coordinates with the result of the transformation by the given matrix of the given floats (x, y, z)\r\n       * This method computes tranformed coordinates only, not transformed direction vectors\r\n       * @param x - define the x coordinate of the source vector\r\n       * @param y - define the y coordinate of the source vector\r\n       * @param z - define the z coordinate of the source vector\r\n       * @param transformation - defines the transformation matrix\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.TransformCoordinatesFromFloatsToRef = function (x, y, z, transformation, result) {\r\n          var m = transformation.m;\r\n          var rx = x * m[0] + y * m[4] + z * m[8] + m[12];\r\n          var ry = x * m[1] + y * m[5] + z * m[9] + m[13];\r\n          var rz = x * m[2] + y * m[6] + z * m[10] + m[14];\r\n          var rw = 1 / (x * m[3] + y * m[7] + z * m[11] + m[15]);\r\n          result.x = rx * rw;\r\n          result.y = ry * rw;\r\n          result.z = rz * rw;\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set with the result of the normal transformation by the given matrix of the given vector\r\n       * This methods computes transformed normalized direction vectors only (ie. it does not apply translation)\r\n       * @param vector - defines the Vector3 to transform\r\n       * @param transformation - defines the transformation matrix\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.TransformNormal = function (vector, transformation) {\r\n          var result = Vector3.Zero();\r\n          Vector3.TransformNormalToRef(vector, transformation, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the result of the normal transformation by the given matrix of the given vector\r\n       * This methods computes transformed normalized direction vectors only (ie. it does not apply translation)\r\n       * @param vector - defines the Vector3 to transform\r\n       * @param transformation - defines the transformation matrix\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.TransformNormalToRef = function (vector, transformation, result) {\r\n          this.TransformNormalFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the result of the normal transformation by the given matrix of the given floats (x, y, z)\r\n       * This methods computes transformed normalized direction vectors only (ie. it does not apply translation)\r\n       * @param x - define the x coordinate of the source vector\r\n       * @param y - define the y coordinate of the source vector\r\n       * @param z - define the z coordinate of the source vector\r\n       * @param transformation - defines the transformation matrix\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.TransformNormalFromFloatsToRef = function (x, y, z, transformation, result) {\r\n          var m = transformation.m;\r\n          result.x = x * m[0] + y * m[4] + z * m[8];\r\n          result.y = x * m[1] + y * m[5] + z * m[9];\r\n          result.z = x * m[2] + y * m[6] + z * m[10];\r\n      };\r\n      /**\r\n       * Returns a new Vector3 located for \"amount\" on the CatmullRom interpolation spline defined by the vectors \"value1\", \"value2\", \"value3\", \"value4\"\r\n       * @param value1 - defines the first control point\r\n       * @param value2 - defines the second control point\r\n       * @param value3 - defines the third control point\r\n       * @param value4 - defines the fourth control point\r\n       * @param amount - defines the amount on the spline to use\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.CatmullRom = function (value1, value2, value3, value4, amount) {\r\n          var squared = amount * amount;\r\n          var cubed = amount * squared;\r\n          var x = 0.5 *\r\n              (2.0 * value2.x +\r\n                  (-value1.x + value3.x) * amount +\r\n                  (2.0 * value1.x - 5.0 * value2.x + 4.0 * value3.x - value4.x) * squared +\r\n                  (-value1.x + 3.0 * value2.x - 3.0 * value3.x + value4.x) * cubed);\r\n          var y = 0.5 *\r\n              (2.0 * value2.y +\r\n                  (-value1.y + value3.y) * amount +\r\n                  (2.0 * value1.y - 5.0 * value2.y + 4.0 * value3.y - value4.y) * squared +\r\n                  (-value1.y + 3.0 * value2.y - 3.0 * value3.y + value4.y) * cubed);\r\n          var z = 0.5 *\r\n              (2.0 * value2.z +\r\n                  (-value1.z + value3.z) * amount +\r\n                  (2.0 * value1.z - 5.0 * value2.z + 4.0 * value3.z - value4.z) * squared +\r\n                  (-value1.z + 3.0 * value2.z - 3.0 * value3.z + value4.z) * cubed);\r\n          return new Vector3(x, y, z);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set with the coordinates of \"value\", if the vector \"value\" is in the cube defined by the vectors \"min\" and \"max\"\r\n       * If a coordinate value of \"value\" is lower than one of the \"min\" coordinate, then this \"value\" coordinate is set with the \"min\" one\r\n       * If a coordinate value of \"value\" is greater than one of the \"max\" coordinate, then this \"value\" coordinate is set with the \"max\" one\r\n       * @param value - defines the current value\r\n       * @param min - defines the lower range value\r\n       * @param max - defines the upper range value\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.Clamp = function (value, min, max) {\r\n          var v = new Vector3();\r\n          Vector3.ClampToRef(value, min, max, v);\r\n          return v;\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the coordinates of \"value\", if the vector \"value\" is in the cube defined by the vectors \"min\" and \"max\"\r\n       * If a coordinate value of \"value\" is lower than one of the \"min\" coordinate, then this \"value\" coordinate is set with the \"min\" one\r\n       * If a coordinate value of \"value\" is greater than one of the \"max\" coordinate, then this \"value\" coordinate is set with the \"max\" one\r\n       * @param value - defines the current value\r\n       * @param min - defines the lower range value\r\n       * @param max - defines the upper range value\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.ClampToRef = function (value, min, max, result) {\r\n          var x = value.x;\r\n          x = x > max.x ? max.x : x;\r\n          x = x < min.x ? min.x : x;\r\n          var y = value.y;\r\n          y = y > max.y ? max.y : y;\r\n          y = y < min.y ? min.y : y;\r\n          var z = value.z;\r\n          z = z > max.z ? max.z : z;\r\n          z = z < min.z ? min.z : z;\r\n          result.copyFromFloats(x, y, z);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 located for \"amount\" (float) on the Hermite interpolation spline defined by the vectors \"value1\", \"tangent1\", \"value2\", \"tangent2\"\r\n       * @param value1 - defines the first control point\r\n       * @param tangent1 - defines the first tangent vector\r\n       * @param value2 - defines the second control point\r\n       * @param tangent2 - defines the second tangent vector\r\n       * @param amount - defines the amount on the interpolation spline (between 0 and 1)\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.Hermite = function (value1, tangent1, value2, tangent2, amount) {\r\n          var squared = amount * amount;\r\n          var cubed = amount * squared;\r\n          var part1 = 2.0 * cubed - 3.0 * squared + 1.0;\r\n          var part2 = -2.0 * cubed + 3.0 * squared;\r\n          var part3 = cubed - 2.0 * squared + amount;\r\n          var part4 = cubed - squared;\r\n          var x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;\r\n          var y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;\r\n          var z = value1.z * part1 + value2.z * part2 + tangent1.z * part3 + tangent2.z * part4;\r\n          return new Vector3(x, y, z);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 located for \"amount\" (float) on the linear interpolation between the vectors \"start\" and \"end\"\r\n       * @param start - defines the start value\r\n       * @param end - defines the end value\r\n       * @param amount - max defines amount between both (between 0 and 1)\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.Lerp = function (start, end, amount) {\r\n          var result = new Vector3(0, 0, 0);\r\n          Vector3.LerpToRef(start, end, amount, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the result of the linear interpolation from the vector \"start\" for \"amount\" to the vector \"end\"\r\n       * @param start - defines the start value\r\n       * @param end - defines the end value\r\n       * @param amount - max defines amount between both (between 0 and 1)\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.LerpToRef = function (start, end, amount, result) {\r\n          result.x = start.x + (end.x - start.x) * amount;\r\n          result.y = start.y + (end.y - start.y) * amount;\r\n          result.z = start.z + (end.z - start.z) * amount;\r\n      };\r\n      /**\r\n       * Returns the dot product (float) between the vectors \"left\" and \"right\"\r\n       * @param left - defines the left operand\r\n       * @param right - defines the right operand\r\n       * @returns the dot product\r\n       */\r\n      Vector3.Dot = function (left, right) {\r\n          return left.x * right.x + left.y * right.y + left.z * right.z;\r\n      };\r\n      /**\r\n       * Returns a new Vector3 as the cross product of the vectors \"left\" and \"right\"\r\n       * The cross product is then orthogonal to both \"left\" and \"right\"\r\n       * @param left - defines the left operand\r\n       * @param right - defines the right operand\r\n       * @returns the cross product\r\n       */\r\n      Vector3.Cross = function (left, right) {\r\n          var result = Vector3.Zero();\r\n          Vector3.CrossToRef(left, right, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the cross product of \"left\" and \"right\"\r\n       * The cross product is then orthogonal to both \"left\" and \"right\"\r\n       * @param left - defines the left operand\r\n       * @param right - defines the right operand\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.CrossToRef = function (left, right, result) {\r\n          var x = left.y * right.z - left.z * right.y;\r\n          var y = left.z * right.x - left.x * right.z;\r\n          var z = left.x * right.y - left.y * right.x;\r\n          result.copyFromFloats(x, y, z);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 as the normalization of the given vector\r\n       * @param vector - defines the Vector3 to normalize\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.Normalize = function (vector) {\r\n          var result = Vector3.Zero();\r\n          Vector3.NormalizeToRef(vector, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the given vector \"result\" with the normalization of the given first vector\r\n       * @param vector - defines the Vector3 to normalize\r\n       * @param result - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.NormalizeToRef = function (vector, result) {\r\n          vector.normalizeToRef(result);\r\n      };\r\n      /**\r\n       * Gets the minimal coordinate values between two Vector3\r\n       * @param left - defines the first operand\r\n       * @param right - defines the second operand\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.Minimize = function (left, right) {\r\n          var min = new Vector3(left.x, left.y, left.z);\r\n          min.minimizeInPlace(right);\r\n          return min;\r\n      };\r\n      /**\r\n       * Gets the maximal coordinate values between two Vector3\r\n       * @param left - defines the first operand\r\n       * @param right - defines the second operand\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.Maximize = function (left, right) {\r\n          var max = new Vector3(left.x, left.y, left.z);\r\n          max.maximizeInPlace(right);\r\n          return max;\r\n      };\r\n      /**\r\n       * Returns the distance between the vectors \"value1\" and \"value2\"\r\n       * @param value1 - defines the first operand\r\n       * @param value2 - defines the second operand\r\n       * @returns the distance\r\n       */\r\n      Vector3.Distance = function (value1, value2) {\r\n          return Math.sqrt(Vector3.DistanceSquared(value1, value2));\r\n      };\r\n      /**\r\n       * Returns the squared distance between the vectors \"value1\" and \"value2\"\r\n       * @param value1 - defines the first operand\r\n       * @param value2 - defines the second operand\r\n       * @returns the squared distance\r\n       */\r\n      Vector3.DistanceSquared = function (value1, value2) {\r\n          var x = value1.x - value2.x;\r\n          var y = value1.y - value2.y;\r\n          var z = value1.z - value2.z;\r\n          return x * x + y * y + z * z;\r\n      };\r\n      /**\r\n       * Returns a new Vector3 located at the center between \"value1\" and \"value2\"\r\n       * @param value1 - defines the first operand\r\n       * @param value2 - defines the second operand\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.Center = function (value1, value2) {\r\n          var center = Vector3.Add(value1, value2);\r\n          center.scaleInPlace(0.5);\r\n          return center;\r\n      };\r\n      /**\r\n       * Given three orthogonal normalized left-handed oriented Vector3 axis in space (target system),\r\n       * RotationFromAxis() returns the rotation Euler angles (ex : rotation.x, rotation.y, rotation.z) to apply\r\n       * to something in order to rotate it from its local system to the given target system\r\n       * Note: axis1, axis2 and axis3 are normalized during this operation\r\n       * @param axis1 - defines the first axis\r\n       * @param axis2 - defines the second axis\r\n       * @param axis3 - defines the third axis\r\n       * @returns a new Vector3\r\n       */\r\n      Vector3.RotationFromAxis = function (axis1, axis2, axis3) {\r\n          var rotation = Vector3.Zero();\r\n          Vector3.RotationFromAxisToRef(axis1, axis2, axis3, rotation);\r\n          return rotation;\r\n      };\r\n      /**\r\n       * The same than RotationFromAxis but updates the given ref Vector3 parameter instead of returning a new Vector3\r\n       * @param axis1 - defines the first axis\r\n       * @param axis2 - defines the second axis\r\n       * @param axis3 - defines the third axis\r\n       * @param ref - defines the Vector3 where to store the result\r\n       */\r\n      Vector3.RotationFromAxisToRef = function (axis1, axis2, axis3, ref) {\r\n          var quat = MathTmp.Quaternion[0];\r\n          Quaternion.RotationQuaternionFromAxisToRef(axis1, axis2, axis3, quat);\r\n          ref.copyFrom(quat.eulerAngles);\r\n      };\r\n      /**\r\n       * Creates a string representation of the Vector3\r\n       * @returns a string with the Vector3 coordinates.\r\n       */\r\n      Vector3.prototype.toString = function () {\r\n          return \"(\" + this.x + \", \" + this.y + \", \" + this.z + \")\";\r\n      };\r\n      /**\r\n       * Gets the class name\r\n       * @returns the string \"Vector3\"\r\n       */\r\n      Vector3.prototype.getClassName = function () {\r\n          return 'Vector3';\r\n      };\r\n      /**\r\n       * Creates the Vector3 hash code\r\n       * @returns a number which tends to be unique between Vector3 instances\r\n       */\r\n      Vector3.prototype.getHashCode = function () {\r\n          var hash = this.x || 0;\r\n          hash = (hash * 397) ^ (this.y || 0);\r\n          hash = (hash * 397) ^ (this.z || 0);\r\n          return hash;\r\n      };\r\n      // Operators\r\n      /**\r\n       * Creates an array containing three elements : the coordinates of the Vector3\r\n       * @returns a new array of numbers\r\n       */\r\n      Vector3.prototype.asArray = function () {\r\n          var result = [];\r\n          this.toArray(result, 0);\r\n          return result;\r\n      };\r\n      /**\r\n       * Populates the given array or FloatArray from the given index with the successive coordinates of the Vector3\r\n       * @param array - defines the destination array\r\n       * @param index - defines the offset in the destination array\r\n       * @returns the current Vector3\r\n       */\r\n      Vector3.prototype.toArray = function (array, index) {\r\n          if (index === void 0) { index = 0; }\r\n          array[index] = this.x;\r\n          array[index + 1] = this.y;\r\n          array[index + 2] = this.z;\r\n          return this;\r\n      };\r\n      /**\r\n       * Converts the current Vector3 into a quaternion (considering that the Vector3 contains Euler angles representation of a rotation)\r\n       * @returns a new Quaternion object, computed from the Vector3 coordinates\r\n       */\r\n      Vector3.prototype.toQuaternion = function () {\r\n          return Quaternion.Identity.setEuler(this.y, this.x, this.z);\r\n      };\r\n      /**\r\n       * Adds the given vector to the current Vector3\r\n       * @param otherVector - defines the second operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.addInPlace = function (otherVector) {\r\n          return this.addInPlaceFromFloats(otherVector.x, otherVector.y, otherVector.z);\r\n      };\r\n      /**\r\n       * Adds the given coordinates to the current Vector3\r\n       * @param x - defines the x coordinate of the operand\r\n       * @param y - defines the y coordinate of the operand\r\n       * @param z - defines the z coordinate of the operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.addInPlaceFromFloats = function (x, y, z) {\r\n          this.x += x;\r\n          this.y += y;\r\n          this.z += z;\r\n          return this;\r\n      };\r\n      /**\r\n       * Gets a new Vector3, result of the addition the current Vector3 and the given vector\r\n       * @param otherVector - defines the second operand\r\n       * @returns the resulting Vector3\r\n       */\r\n      Vector3.prototype.add = function (otherVector) {\r\n          return new Vector3(this.x + otherVector.x, this.y + otherVector.y, this.z + otherVector.z);\r\n      };\r\n      /**\r\n       * Adds the current Vector3 to the given one and stores the result in the vector \"result\"\r\n       * @param otherVector - defines the second operand\r\n       * @param result - defines the Vector3 object where to store the result\r\n       * @returns the current Vector3\r\n       */\r\n      Vector3.prototype.addToRef = function (otherVector, result) {\r\n          return result.copyFromFloats(this.x + otherVector.x, this.y + otherVector.y, this.z + otherVector.z);\r\n      };\r\n      /**\r\n       * Subtract the given vector from the current Vector3\r\n       * @param otherVector - defines the second operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.subtractInPlace = function (otherVector) {\r\n          this.x -= otherVector.x;\r\n          this.y -= otherVector.y;\r\n          this.z -= otherVector.z;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector3, result of the subtraction of the given vector from the current Vector3\r\n       * @param otherVector - defines the second operand\r\n       * @returns the resulting Vector3\r\n       */\r\n      Vector3.prototype.subtract = function (otherVector) {\r\n          return new Vector3(this.x - otherVector.x, this.y - otherVector.y, this.z - otherVector.z);\r\n      };\r\n      /**\r\n       * Subtracts the given vector from the current Vector3 and stores the result in the vector \"result\".\r\n       * @param otherVector - defines the second operand\r\n       * @param result - defines the Vector3 object where to store the result\r\n       * @returns the current Vector3\r\n       */\r\n      Vector3.prototype.subtractToRef = function (otherVector, result) {\r\n          return this.subtractFromFloatsToRef(otherVector.x, otherVector.y, otherVector.z, result);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set with the subtraction of the given floats from the current Vector3 coordinates\r\n       * @param x - defines the x coordinate of the operand\r\n       * @param y - defines the y coordinate of the operand\r\n       * @param z - defines the z coordinate of the operand\r\n       * @returns the resulting Vector3\r\n       */\r\n      Vector3.prototype.subtractFromFloats = function (x, y, z) {\r\n          return new Vector3(this.x - x, this.y - y, this.z - z);\r\n      };\r\n      /**\r\n       * Subtracts the given floats from the current Vector3 coordinates and set the given vector \"result\" with this result\r\n       * @param x - defines the x coordinate of the operand\r\n       * @param y - defines the y coordinate of the operand\r\n       * @param z - defines the z coordinate of the operand\r\n       * @param result - defines the Vector3 object where to store the result\r\n       * @returns the current Vector3\r\n       */\r\n      Vector3.prototype.subtractFromFloatsToRef = function (x, y, z, result) {\r\n          return result.copyFromFloats(this.x - x, this.y - y, this.z - z);\r\n      };\r\n      /**\r\n       * Multiplies this vector (with an implicit 1 in the 4th dimension) and m, and divides by perspective\r\n       * @param matrix - The transformation matrix\r\n       */\r\n      Vector3.prototype.applyMatrix4 = function (matrix) {\r\n          this.applyMatrix4ToRef(matrix, this);\r\n      };\r\n      /**\r\n       * Multiplies this vector (with an implicit 1 in the 4th dimension) and m, and divides by perspective and set the given vector \"result\" with this result\r\n       * @param matrix - The transformation matrix\r\n       * @param result - defines the Vector3 object where to store the result\r\n       * @returns the current Vector3\r\n       */\r\n      Vector3.prototype.applyMatrix4ToRef = function (matrix, result) {\r\n          var _a = this, x = _a.x, y = _a.y, z = _a.z;\r\n          var m = matrix.m;\r\n          var w = 1 / (m[3] * x + m[7] * y + m[11] * z + m[15]);\r\n          result.x = (m[0] * x + m[4] * y + m[8] * z + m[12]) * w;\r\n          result.y = (m[1] * x + m[5] * y + m[9] * z + m[13]) * w;\r\n          result.z = (m[2] * x + m[6] * y + m[10] * z + m[14]) * w;\r\n          return result;\r\n      };\r\n      /**\r\n       * Rotates the current Vector3 based on the given quaternion\r\n       * @param q - defines the Quaternion\r\n       * @returns the current Vector3\r\n       */\r\n      Vector3.prototype.rotate = function (q) {\r\n          return this.rotateToRef(q, this);\r\n      };\r\n      /**\r\n       * Rotates current Vector3 based on the given quaternion, but applies the rotation to target Vector3.\r\n       * @param q - defines the Quaternion\r\n       * @param result - defines the target Vector3\r\n       * @returns the current Vector3\r\n       */\r\n      Vector3.prototype.rotateToRef = function (q, result) {\r\n          var _a = this, x = _a.x, y = _a.y, z = _a.z;\r\n          var qx = q.x, qy = q.y, qz = q.z, qw = q.w;\r\n          // calculate quat * vector\r\n          var ix = qw * x + qy * z - qz * y;\r\n          var iy = qw * y + qz * x - qx * z;\r\n          var iz = qw * z + qx * y - qy * x;\r\n          var iw = -qx * x - qy * y - qz * z;\r\n          // calculate result * inverse quat\r\n          result.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\r\n          result.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\r\n          result.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\r\n          return result;\r\n      };\r\n      /**\r\n       * Gets a new Vector3 set with the current Vector3 negated coordinates\r\n       * @returns a new Vector3\r\n       */\r\n      Vector3.prototype.negate = function () {\r\n          return new Vector3(-this.x, -this.y, -this.z);\r\n      };\r\n      /**\r\n       * Multiplies the Vector3 coordinates by the float \"scale\"\r\n       * @param scale - defines the multiplier factor\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.scaleInPlace = function (scale) {\r\n          this.x *= scale;\r\n          this.y *= scale;\r\n          this.z *= scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set with the current Vector3 coordinates multiplied by the float \"scale\"\r\n       * @param scale - defines the multiplier factor\r\n       * @returns a new Vector3\r\n       */\r\n      Vector3.prototype.scale = function (scale) {\r\n          return new Vector3(this.x * scale, this.y * scale, this.z * scale);\r\n      };\r\n      /**\r\n       * Multiplies the current Vector3 coordinates by the float \"scale\" and stores the result in the given vector \"result\" coordinates\r\n       * @param scale - defines the multiplier factor\r\n       * @param result - defines the Vector3 object where to store the result\r\n       * @returns the current Vector3\r\n       */\r\n      Vector3.prototype.scaleToRef = function (scale, result) {\r\n          return result.copyFromFloats(this.x * scale, this.y * scale, this.z * scale);\r\n      };\r\n      /**\r\n       * Scale the current Vector3 values by a factor and add the result to a given Vector3\r\n       * @param scale - defines the scale factor\r\n       * @param result - defines the Vector3 object where to store the result\r\n       * @returns the unmodified current Vector3\r\n       */\r\n      Vector3.prototype.scaleAndAddToRef = function (scale, result) {\r\n          return result.addInPlaceFromFloats(this.x * scale, this.y * scale, this.z * scale);\r\n      };\r\n      /**\r\n       * Returns true if the current Vector3 and the given vector coordinates are strictly equal\r\n       * @param otherVector - defines the second operand\r\n       * @returns true if both vectors are equals\r\n       */\r\n      Vector3.prototype.equals = function (otherVector) {\r\n          return otherVector && this.x === otherVector.x && this.y === otherVector.y && this.z === otherVector.z;\r\n      };\r\n      /**\r\n       * Returns true if the current Vector3 and the given vector coordinates are distant less than epsilon\r\n       * @param otherVector - defines the second operand\r\n       * @param epsilon - defines the minimal distance to define values as equals\r\n       * @returns true if both vectors are distant less than epsilon\r\n       */\r\n      Vector3.prototype.equalsWithEpsilon = function (otherVector, epsilon) {\r\n          if (epsilon === void 0) { epsilon = Epsilon; }\r\n          return (otherVector &&\r\n              Scalar.WithinEpsilon(this.x, otherVector.x, epsilon) &&\r\n              Scalar.WithinEpsilon(this.y, otherVector.y, epsilon) &&\r\n              Scalar.WithinEpsilon(this.z, otherVector.z, epsilon));\r\n      };\r\n      /**\r\n       * Returns true if the current Vector3 coordinates equals the given floats\r\n       * @param x - defines the x coordinate of the operand\r\n       * @param y - defines the y coordinate of the operand\r\n       * @param z - defines the z coordinate of the operand\r\n       * @returns true if both vectors are equals\r\n       */\r\n      Vector3.prototype.equalsToFloats = function (x, y, z) {\r\n          return this.x === x && this.y === y && this.z === z;\r\n      };\r\n      /**\r\n       * Multiplies the current Vector3 coordinates by the given ones\r\n       * @param otherVector - defines the second operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.multiplyInPlace = function (otherVector) {\r\n          this.x *= otherVector.x;\r\n          this.y *= otherVector.y;\r\n          this.z *= otherVector.z;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector3, result of the multiplication of the current Vector3 by the given vector\r\n       * @param otherVector - defines the second operand\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.prototype.multiply = function (otherVector) {\r\n          return this.multiplyByFloats(otherVector.x, otherVector.y, otherVector.z);\r\n      };\r\n      /**\r\n       * Multiplies the current Vector3 by the given one and stores the result in the given vector \"result\"\r\n       * @param otherVector - defines the second operand\r\n       * @param result - defines the Vector3 object where to store the result\r\n       * @returns the current Vector3\r\n       */\r\n      Vector3.prototype.multiplyToRef = function (otherVector, result) {\r\n          return result.copyFromFloats(this.x * otherVector.x, this.y * otherVector.y, this.z * otherVector.z);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set with the result of the mulliplication of the current Vector3 coordinates by the given floats\r\n       * @param x - defines the x coordinate of the operand\r\n       * @param y - defines the y coordinate of the operand\r\n       * @param z - defines the z coordinate of the operand\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.prototype.multiplyByFloats = function (x, y, z) {\r\n          return new Vector3(this.x * x, this.y * y, this.z * z);\r\n      };\r\n      /**\r\n       * Returns a new Vector3 set with the result of the division of the current Vector3 coordinates by the given ones\r\n       * @param otherVector - defines the second operand\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.prototype.divide = function (otherVector) {\r\n          return new Vector3(this.x / otherVector.x, this.y / otherVector.y, this.z / otherVector.z);\r\n      };\r\n      /**\r\n       * Divides the current Vector3 coordinates by the given ones and stores the result in the given vector \"result\"\r\n       * @param otherVector - defines the second operand\r\n       * @param result - defines the Vector3 object where to store the result\r\n       * @returns the current Vector3\r\n       */\r\n      Vector3.prototype.divideToRef = function (otherVector, result) {\r\n          return result.copyFromFloats(this.x / otherVector.x, this.y / otherVector.y, this.z / otherVector.z);\r\n      };\r\n      /**\r\n       * Divides the current Vector3 coordinates by the given ones.\r\n       * @param otherVector - defines the second operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.divideInPlace = function (otherVector) {\r\n          return this.divideToRef(otherVector, this);\r\n      };\r\n      /**\r\n       * Updates the current Vector3 with the minimal coordinate values between its and the given vector ones\r\n       * @param other - defines the second operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.minimizeInPlace = function (other) {\r\n          return this.minimizeInPlaceFromFloats(other.x, other.y, other.z);\r\n      };\r\n      /**\r\n       * Updates the current Vector3 with the maximal coordinate values between its and the given vector ones.\r\n       * @param other - defines the second operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.maximizeInPlace = function (other) {\r\n          return this.maximizeInPlaceFromFloats(other.x, other.y, other.z);\r\n      };\r\n      /**\r\n       * Updates the current Vector3 with the minimal coordinate values between its and the given coordinates\r\n       * @param x - defines the x coordinate of the operand\r\n       * @param y - defines the y coordinate of the operand\r\n       * @param z - defines the z coordinate of the operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.minimizeInPlaceFromFloats = function (x, y, z) {\r\n          if (x < this.x) {\r\n              this.x = x;\r\n          }\r\n          if (y < this.y) {\r\n              this.y = y;\r\n          }\r\n          if (z < this.z) {\r\n              this.z = z;\r\n          }\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates the current Vector3 with the maximal coordinate values between its and the given coordinates.\r\n       * @param x - defines the x coordinate of the operand\r\n       * @param y - defines the y coordinate of the operand\r\n       * @param z - defines the z coordinate of the operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.maximizeInPlaceFromFloats = function (x, y, z) {\r\n          if (x > this.x) {\r\n              this.x = x;\r\n          }\r\n          if (y > this.y) {\r\n              this.y = y;\r\n          }\r\n          if (z > this.z) {\r\n              this.z = z;\r\n          }\r\n          return this;\r\n      };\r\n      /**\r\n       * Gets a new Vector3 from current Vector3 floored values\r\n       * @returns a new Vector3\r\n       */\r\n      Vector3.prototype.floor = function () {\r\n          return new Vector3(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z));\r\n      };\r\n      /**\r\n       * Gets a new Vector3 from current Vector3 floored values\r\n       * @returns a new Vector3\r\n       */\r\n      Vector3.prototype.fract = function () {\r\n          return new Vector3(this.x - Math.floor(this.x), this.y - Math.floor(this.y), this.z - Math.floor(this.z));\r\n      };\r\n      // Properties\r\n      /**\r\n       * Gets the length of the Vector3\r\n       * @returns the length of the Vecto3\r\n       */\r\n      Vector3.prototype.length = function () {\r\n          return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\r\n      };\r\n      /**\r\n       * Gets the squared length of the Vector3\r\n       * @returns squared length of the Vector3\r\n       */\r\n      Vector3.prototype.lengthSquared = function () {\r\n          return this.x * this.x + this.y * this.y + this.z * this.z;\r\n      };\r\n      /**\r\n       * Normalize the current Vector3.\r\n       * Please note that this is an in place operation.\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.normalize = function () {\r\n          return this.normalizeFromLength(this.length());\r\n      };\r\n      /**\r\n       * Normalize the current Vector3 with the given input length.\r\n       * Please note that this is an in place operation.\r\n       * @param len - the length of the vector\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.normalizeFromLength = function (len) {\r\n          if (len === 0 || len === 1.0) {\r\n              return this;\r\n          }\r\n          return this.scaleInPlace(1.0 / len);\r\n      };\r\n      /**\r\n       * Normalize the current Vector3 to a new vector\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.prototype.normalizeToNew = function () {\r\n          var normalized = new Vector3(0, 0, 0);\r\n          this.normalizeToRef(normalized);\r\n          return normalized;\r\n      };\r\n      /**\r\n       * Normalize the current Vector3 to the reference\r\n       * @param reference - define the Vector3 to update\r\n       * @returns the updated Vector3\r\n       */\r\n      Vector3.prototype.normalizeToRef = function (reference) {\r\n          var len = this.length();\r\n          if (len === 0 || len === 1.0) {\r\n              return reference.copyFromFloats(this.x, this.y, this.z);\r\n          }\r\n          return this.scaleToRef(1.0 / len, reference);\r\n      };\r\n      /**\r\n       * Creates a new Vector3 copied from the current Vector3\r\n       * @returns the new Vector3\r\n       */\r\n      Vector3.prototype.clone = function () {\r\n          return new Vector3(this.x, this.y, this.z);\r\n      };\r\n      /**\r\n       * Copies the given vector coordinates to the current Vector3 ones\r\n       * @param source - defines the source Vector3\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.copyFrom = function (source) {\r\n          return this.copyFromFloats(source.x, source.y, source.z);\r\n      };\r\n      /**\r\n       * Copies the given floats to the current Vector3 coordinates\r\n       * @param x - defines the x coordinate of the operand\r\n       * @param y - defines the y coordinate of the operand\r\n       * @param z - defines the z coordinate of the operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.copyFromFloats = function (x, y, z) {\r\n          this.x = x;\r\n          this.y = y;\r\n          this.z = z;\r\n          return this;\r\n      };\r\n      /**\r\n       * Copies the given floats to the current Vector3 coordinates\r\n       * @param x - defines the x coordinate of the operand\r\n       * @param y - defines the y coordinate of the operand\r\n       * @param z - defines the z coordinate of the operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.set = function (x, y, z) {\r\n          return this.copyFromFloats(x, y, z);\r\n      };\r\n      /**\r\n       * Copies the given float to the current Vector3 coordinates\r\n       * @param v - defines the x, y and z coordinates of the operand\r\n       * @returns the current updated Vector3\r\n       */\r\n      Vector3.prototype.setAll = function (v) {\r\n          this.x = this.y = this.z = v;\r\n          return this;\r\n      };\r\n      return Vector3;\r\n  }());\n\n  // Temporary pre-allocated objects for engine internal use\r\n  // usage in any internal function :\r\n  // var tmp = Tmp.Vector3[0];   <= gets access to the first pre-created Vector3\r\n  // There's a Tmp array per object type : int, float, Vector2, Vector3, Vector4, Quaternion, Matrix\r\n  /**\r\n   * @internal\r\n   * Same as Tmp but not exported to keep it only for math functions to avoid conflicts\r\n   */\r\n  var MathTmp = {\r\n      Vector3: buildArray(6, Vector3.Zero),\r\n      Matrix: buildArray(2, Matrix.Identity),\r\n      Quaternion: buildArray(3, Quaternion.Zero),\r\n      staticUp: Vector3.Up(),\r\n      tmpMatrix: Matrix.Zero()\r\n  };\n\n  /**\r\n   * Defines angle representation\r\n   * @public\r\n   */\r\n  var Angle = /** @class */ (function () {\r\n      /**\r\n       * Creates an Angle object of \"radians\" radians (float).\r\n       */\r\n      function Angle(radians) {\r\n          this._radians = radians;\r\n          if (this._radians < 0.0) {\r\n              this._radians += 2.0 * Math.PI;\r\n          }\r\n      }\r\n      /**\r\n       * Gets a new Angle object valued with the angle value in radians between the two given vectors\r\n       * @param a - defines first vector\r\n       * @param b - defines second vector\r\n       * @returns a new Angle\r\n       */\r\n      Angle.BetweenTwoPoints = function (a, b) {\r\n          var delta = b.subtract(a);\r\n          var theta = Math.atan2(delta.y, delta.x);\r\n          return new Angle(theta);\r\n      };\r\n      /**\r\n       * Gets a new Angle object from the given float in radians\r\n       * @param radians - defines the angle value in radians\r\n       * @returns a new Angle\r\n       */\r\n      Angle.FromRadians = function (radians) {\r\n          return new Angle(radians);\r\n      };\r\n      /**\r\n       * Gets a new Angle object from the given float in degrees\r\n       * @param degrees - defines the angle value in degrees\r\n       * @returns a new Angle\r\n       */\r\n      Angle.FromDegrees = function (degrees) {\r\n          return new Angle((degrees * Math.PI) / 180.0);\r\n      };\r\n      /**\r\n       * Get value in degrees\r\n       * @returns the Angle value in degrees (float)\r\n       */\r\n      Angle.prototype.degrees = function () {\r\n          return (this._radians * 180.0) / Math.PI;\r\n      };\r\n      /**\r\n       * Get value in radians\r\n       * @returns the Angle value in radians (float)\r\n       */\r\n      Angle.prototype.radians = function () {\r\n          return this._radians;\r\n      };\r\n      return Angle;\r\n  }());\n\n  /**\r\n   * Class representing a vector containing 2 coordinates\r\n   * @public\r\n   */\r\n  var Vector2 = /** @class */ (function () {\r\n      /**\r\n       * Creates a new Vector2 from the given x and y coordinates\r\n       * @param x - defines the first coordinate\r\n       * @param y - defines the second coordinate\r\n       */\r\n      function Vector2(\r\n      /** defines the first coordinate */\r\n      x, \r\n      /** defines the second coordinate */\r\n      y) {\r\n          if (x === void 0) { x = 0; }\r\n          if (y === void 0) { y = 0; }\r\n          this.x = x;\r\n          this.y = y;\r\n      }\r\n      /**\r\n       * Gets a new Vector2(0, 0)\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.Zero = function () {\r\n          return new Vector2(0, 0);\r\n      };\r\n      /**\r\n       * Gets a new Vector2(1, 1)\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.One = function () {\r\n          return new Vector2(1, 1);\r\n      };\r\n      /**\r\n       * Returns a new Vector2 as the result of the addition of the two given vectors.\r\n       * @param vector1 - the first vector\r\n       * @param vector2 - the second vector\r\n       * @returns the resulting vector\r\n       */\r\n      Vector2.Add = function (vector1, vector2) {\r\n          return new Vector2(vector1.x, vector1.y).addInPlace(vector2);\r\n      };\r\n      /**\r\n       * Gets a new Vector2 set from the given index element of the given array\r\n       * @param array - defines the data source\r\n       * @param offset - defines the offset in the data source\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.FromArray = function (array, offset) {\r\n          if (offset === void 0) { offset = 0; }\r\n          return new Vector2(array[offset], array[offset + 1]);\r\n      };\r\n      /**\r\n       * Sets \"result\" from the given index element of the given array\r\n       * @param array - defines the data source\r\n       * @param offset - defines the offset in the data source\r\n       * @param result - defines the target vector\r\n       */\r\n      Vector2.FromArrayToRef = function (array, offset, result) {\r\n          result.x = array[offset];\r\n          result.y = array[offset + 1];\r\n      };\r\n      /**\r\n       * Gets a new Vector2 located for \"amount\" (float) on the CatmullRom spline defined by the given four Vector2\r\n       * @param value1 - defines 1st point of control\r\n       * @param value2 - defines 2nd point of control\r\n       * @param value3 - defines 3rd point of control\r\n       * @param value4 - defines 4th point of control\r\n       * @param amount - defines the interpolation factor\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.CatmullRom = function (value1, value2, value3, value4, amount) {\r\n          var squared = amount * amount;\r\n          var cubed = amount * squared;\r\n          var x = 0.5 *\r\n              (2.0 * value2.x +\r\n                  (-value1.x + value3.x) * amount +\r\n                  (2.0 * value1.x - 5.0 * value2.x + 4.0 * value3.x - value4.x) * squared +\r\n                  (-value1.x + 3.0 * value2.x - 3.0 * value3.x + value4.x) * cubed);\r\n          var y = 0.5 *\r\n              (2.0 * value2.y +\r\n                  (-value1.y + value3.y) * amount +\r\n                  (2.0 * value1.y - 5.0 * value2.y + 4.0 * value3.y - value4.y) * squared +\r\n                  (-value1.y + 3.0 * value2.y - 3.0 * value3.y + value4.y) * cubed);\r\n          return new Vector2(x, y);\r\n      };\r\n      /**\r\n       * Returns a new Vector2 set with same the coordinates than \"value\" ones if the vector \"value\" is in the square defined by \"min\" and \"max\".\r\n       * If a coordinate of \"value\" is lower than \"min\" coordinates, the returned Vector2 is given this \"min\" coordinate.\r\n       * If a coordinate of \"value\" is greater than \"max\" coordinates, the returned Vector2 is given this \"max\" coordinate\r\n       * @param value - defines the value to clamp\r\n       * @param min - defines the lower limit\r\n       * @param max - defines the upper limit\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.Clamp = function (value, min, max) {\r\n          var x = value.x;\r\n          x = x > max.x ? max.x : x;\r\n          x = x < min.x ? min.x : x;\r\n          var y = value.y;\r\n          y = y > max.y ? max.y : y;\r\n          y = y < min.y ? min.y : y;\r\n          return new Vector2(x, y);\r\n      };\r\n      /**\r\n       * Returns a new Vector2 located for \"amount\" (float) on the Hermite spline defined by the vectors \"value1\", \"value3\", \"tangent1\", \"tangent2\"\r\n       * @param value1 - defines the 1st control point\r\n       * @param tangent1 - defines the outgoing tangent\r\n       * @param value2 - defines the 2nd control point\r\n       * @param tangent2 - defines the incoming tangent\r\n       * @param amount - defines the interpolation factor\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.Hermite = function (value1, tangent1, value2, tangent2, amount) {\r\n          var squared = amount * amount;\r\n          var cubed = amount * squared;\r\n          var part1 = 2.0 * cubed - 3.0 * squared + 1.0;\r\n          var part2 = -2.0 * cubed + 3.0 * squared;\r\n          var part3 = cubed - 2.0 * squared + amount;\r\n          var part4 = cubed - squared;\r\n          var x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;\r\n          var y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;\r\n          return new Vector2(x, y);\r\n      };\r\n      /**\r\n       * Returns a new Vector2 located for \"amount\" (float) on the linear interpolation between the vector \"start\" adn the vector \"end\".\r\n       * @param start - defines the start vector\r\n       * @param end - defines the end vector\r\n       * @param amount - defines the interpolation factor\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.Lerp = function (start, end, amount) {\r\n          var x = start.x + (end.x - start.x) * amount;\r\n          var y = start.y + (end.y - start.y) * amount;\r\n          return new Vector2(x, y);\r\n      };\r\n      /**\r\n       * Gets the dot product of the vector \"left\" and the vector \"right\"\r\n       * @param left - defines first vector\r\n       * @param right - defines second vector\r\n       * @returns the dot product (float)\r\n       */\r\n      Vector2.Dot = function (left, right) {\r\n          return left.x * right.x + left.y * right.y;\r\n      };\r\n      /**\r\n       * Returns a new Vector2 equal to the normalized given vector\r\n       * @param vector - defines the vector to normalize\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.Normalize = function (vector) {\r\n          var newVector = new Vector2(vector.x, vector.y);\r\n          newVector.normalize();\r\n          return newVector;\r\n      };\r\n      /**\r\n       * Gets a new Vector2 set with the minimal coordinate values from the \"left\" and \"right\" vectors\r\n       * @param left - defines 1st vector\r\n       * @param right - defines 2nd vector\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.Minimize = function (left, right) {\r\n          var x = left.x < right.x ? left.x : right.x;\r\n          var y = left.y < right.y ? left.y : right.y;\r\n          return new Vector2(x, y);\r\n      };\r\n      /**\r\n       * Gets a new Vecto2 set with the maximal coordinate values from the \"left\" and \"right\" vectors\r\n       * @param left - defines 1st vector\r\n       * @param right - defines 2nd vector\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.Maximize = function (left, right) {\r\n          var x = left.x > right.x ? left.x : right.x;\r\n          var y = left.y > right.y ? left.y : right.y;\r\n          return new Vector2(x, y);\r\n      };\r\n      /**\r\n       * Gets a new Vector2 set with the transformed coordinates of the given vector by the given transformation matrix\r\n       * @param vector - defines the vector to transform\r\n       * @param transformation - defines the matrix to apply\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.Transform = function (vector, transformation) {\r\n          var r = Vector2.Zero();\r\n          Vector2.TransformToRef(vector, transformation, r);\r\n          return r;\r\n      };\r\n      /**\r\n       * Transforms the given vector coordinates by the given transformation matrix and stores the result in the vector \"result\" coordinates\r\n       * @param vector - defines the vector to transform\r\n       * @param transformation - defines the matrix to apply\r\n       * @param result - defines the target vector\r\n       */\r\n      Vector2.TransformToRef = function (vector, transformation, result) {\r\n          var m = transformation.m;\r\n          var x = vector.x * m[0] + vector.y * m[4] + m[12];\r\n          var y = vector.x * m[1] + vector.y * m[5] + m[13];\r\n          result.x = x;\r\n          result.y = y;\r\n      };\r\n      /**\r\n       * Determines if a given vector is included in a triangle\r\n       * @param p - defines the vector to test\r\n       * @param p0 - defines 1st triangle point\r\n       * @param p1 - defines 2nd triangle point\r\n       * @param p2 - defines 3rd triangle point\r\n       * @returns true if the point \"p\" is in the triangle defined by the vertors \"p0\", \"p1\", \"p2\"\r\n       */\r\n      Vector2.PointInTriangle = function (p, p0, p1, p2) {\r\n          var a = (1 / 2) * (-p1.y * p2.x + p0.y * (-p1.x + p2.x) + p0.x * (p1.y - p2.y) + p1.x * p2.y);\r\n          var sign = a < 0 ? -1 : 1;\r\n          var s = (p0.y * p2.x - p0.x * p2.y + (p2.y - p0.y) * p.x + (p0.x - p2.x) * p.y) * sign;\r\n          var t = (p0.x * p1.y - p0.y * p1.x + (p0.y - p1.y) * p.x + (p1.x - p0.x) * p.y) * sign;\r\n          return s > 0 && t > 0 && s + t < 2 * a * sign;\r\n      };\r\n      /**\r\n       * Gets the distance between the vectors \"value1\" and \"value2\"\r\n       * @param value1 - defines first vector\r\n       * @param value2 - defines second vector\r\n       * @returns the distance between vectors\r\n       */\r\n      Vector2.Distance = function (value1, value2) {\r\n          return Math.sqrt(Vector2.DistanceSquared(value1, value2));\r\n      };\r\n      /**\r\n       * Returns the squared distance between the vectors \"value1\" and \"value2\"\r\n       * @param value1 - defines first vector\r\n       * @param value2 - defines second vector\r\n       * @returns the squared distance between vectors\r\n       */\r\n      Vector2.DistanceSquared = function (value1, value2) {\r\n          var x = value1.x - value2.x;\r\n          var y = value1.y - value2.y;\r\n          return x * x + y * y;\r\n      };\r\n      /**\r\n       * Gets a new Vector2 located at the center of the vectors \"value1\" and \"value2\"\r\n       * @param value1 - defines first vector\r\n       * @param value2 - defines second vector\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.Center = function (value1, value2) {\r\n          var center = Vector2.Add(value1, value2);\r\n          center.scaleInPlace(0.5);\r\n          return center;\r\n      };\r\n      /**\r\n       * Gets the shortest distance (float) between the point \"p\" and the segment defined by the two points \"segA\" and \"segB\".\r\n       * @param p - defines the middle point\r\n       * @param segA - defines one point of the segment\r\n       * @param segB - defines the other point of the segment\r\n       * @returns the shortest distance\r\n       */\r\n      Vector2.DistanceOfPointFromSegment = function (p, segA, segB) {\r\n          var l2 = Vector2.DistanceSquared(segA, segB);\r\n          if (l2 === 0.0) {\r\n              return Vector2.Distance(p, segA);\r\n          }\r\n          var v = segB.subtract(segA);\r\n          var t = Math.max(0, Math.min(1, Vector2.Dot(p.subtract(segA), v) / l2));\r\n          var proj = segA.add(v.multiplyByFloats(t, t));\r\n          return Vector2.Distance(p, proj);\r\n      };\r\n      /**\r\n       * Gets a string with the Vector2 coordinates\r\n       * @returns a string with the Vector2 coordinates\r\n       */\r\n      Vector2.prototype.toString = function () {\r\n          return '{X: ' + this.x + ' Y:' + this.y + '}';\r\n      };\r\n      /**\r\n       * Gets class name\r\n       * @returns the string \"Vector2\"\r\n       */\r\n      Vector2.prototype.getClassName = function () {\r\n          return 'Vector2';\r\n      };\r\n      /**\r\n       * Gets current vector hash code\r\n       * @returns the Vector2 hash code as a number\r\n       */\r\n      Vector2.prototype.getHashCode = function () {\r\n          var hash = this.x || 0;\r\n          hash = (hash * 397) ^ (this.y || 0);\r\n          return hash;\r\n      };\r\n      // Operators\r\n      /**\r\n       * Sets the Vector2 coordinates in the given array or FloatArray from the given index.\r\n       * @param array - defines the source array\r\n       * @param index - defines the offset in source array\r\n       * @returns the current Vector2\r\n       */\r\n      Vector2.prototype.toArray = function (array, index) {\r\n          if (index === void 0) { index = 0; }\r\n          array[index] = this.x;\r\n          array[index + 1] = this.y;\r\n          return this;\r\n      };\r\n      /**\r\n       * Copy the current vector to an array\r\n       * @returns a new array with 2 elements: the Vector2 coordinates.\r\n       */\r\n      Vector2.prototype.asArray = function () {\r\n          var result = new Array();\r\n          this.toArray(result, 0);\r\n          return result;\r\n      };\r\n      /**\r\n       * Sets the Vector2 coordinates with the given Vector2 coordinates\r\n       * @param source - defines the source Vector2\r\n       * @returns the current updated Vector2\r\n       */\r\n      Vector2.prototype.copyFrom = function (source) {\r\n          this.x = source.x;\r\n          this.y = source.y;\r\n          return this;\r\n      };\r\n      /**\r\n       * Sets the Vector2 coordinates with the given floats\r\n       * @param x - defines the first coordinate\r\n       * @param y - defines the second coordinate\r\n       * @returns the current updated Vector2\r\n       */\r\n      Vector2.prototype.copyFromFloats = function (x, y) {\r\n          this.x = x;\r\n          this.y = y;\r\n          return this;\r\n      };\r\n      /**\r\n       * Sets the Vector2 coordinates with the given floats\r\n       * @param x - defines the first coordinate\r\n       * @param y - defines the second coordinate\r\n       * @returns the current updated Vector2\r\n       */\r\n      Vector2.prototype.set = function (x, y) {\r\n          return this.copyFromFloats(x, y);\r\n      };\r\n      /**\r\n       * Add another vector with the current one\r\n       * @param otherVector - defines the other vector\r\n       * @returns a new Vector2 set with the addition of the current Vector2 and the given one coordinates\r\n       */\r\n      Vector2.prototype.add = function (otherVector) {\r\n          return new Vector2(this.x + otherVector.x, this.y + otherVector.y);\r\n      };\r\n      /**\r\n       * Sets the \"result\" coordinates with the addition of the current Vector2 and the given one coordinates\r\n       * @param otherVector - defines the other vector\r\n       * @param result - defines the target vector\r\n       * @returns the unmodified current Vector2\r\n       */\r\n      Vector2.prototype.addToRef = function (otherVector, result) {\r\n          result.x = this.x + otherVector.x;\r\n          result.y = this.y + otherVector.y;\r\n          return this;\r\n      };\r\n      /**\r\n       * Set the Vector2 coordinates by adding the given Vector2 coordinates\r\n       * @param otherVector - defines the other vector\r\n       * @returns the current updated Vector2\r\n       */\r\n      Vector2.prototype.addInPlace = function (otherVector) {\r\n          this.x += otherVector.x;\r\n          this.y += otherVector.y;\r\n          return this;\r\n      };\r\n      /**\r\n       * Gets a new Vector2 by adding the current Vector2 coordinates to the given Vector3 x, y coordinates\r\n       * @param otherVector - defines the other vector\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.prototype.addVector3 = function (otherVector) {\r\n          return new Vector2(this.x + otherVector.x, this.y + otherVector.y);\r\n      };\r\n      /**\r\n       * Gets a new Vector2 set with the subtracted coordinates of the given one from the current Vector2\r\n       * @param otherVector - defines the other vector\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.prototype.subtract = function (otherVector) {\r\n          return new Vector2(this.x - otherVector.x, this.y - otherVector.y);\r\n      };\r\n      /**\r\n       * Sets the \"result\" coordinates with the subtraction of the given one from the current Vector2 coordinates.\r\n       * @param otherVector - defines the other vector\r\n       * @param result - defines the target vector\r\n       * @returns the unmodified current Vector2\r\n       */\r\n      Vector2.prototype.subtractToRef = function (otherVector, result) {\r\n          result.x = this.x - otherVector.x;\r\n          result.y = this.y - otherVector.y;\r\n          return this;\r\n      };\r\n      /**\r\n       * Sets the current Vector2 coordinates by subtracting from it the given one coordinates\r\n       * @param otherVector - defines the other vector\r\n       * @returns the current updated Vector2\r\n       */\r\n      Vector2.prototype.subtractInPlace = function (otherVector) {\r\n          this.x -= otherVector.x;\r\n          this.y -= otherVector.y;\r\n          return this;\r\n      };\r\n      /**\r\n       * Multiplies in place the current Vector2 coordinates by the given ones\r\n       * @param otherVector - defines the other vector\r\n       * @returns the current updated Vector2\r\n       */\r\n      Vector2.prototype.multiplyInPlace = function (otherVector) {\r\n          this.x *= otherVector.x;\r\n          this.y *= otherVector.y;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector2 set with the multiplication of the current Vector2 and the given one coordinates\r\n       * @param otherVector - defines the other vector\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.prototype.multiply = function (otherVector) {\r\n          return new Vector2(this.x * otherVector.x, this.y * otherVector.y);\r\n      };\r\n      /**\r\n       * Sets \"result\" coordinates with the multiplication of the current Vector2 and the given one coordinates\r\n       * @param otherVector - defines the other vector\r\n       * @param result - defines the target vector\r\n       * @returns the unmodified current Vector2\r\n       */\r\n      Vector2.prototype.multiplyToRef = function (otherVector, result) {\r\n          result.x = this.x * otherVector.x;\r\n          result.y = this.y * otherVector.y;\r\n          return this;\r\n      };\r\n      /**\r\n       * Gets a new Vector2 set with the Vector2 coordinates multiplied by the given floats\r\n       * @param x - defines the first coordinate\r\n       * @param y - defines the second coordinate\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.prototype.multiplyByFloats = function (x, y) {\r\n          return new Vector2(this.x * x, this.y * y);\r\n      };\r\n      /**\r\n       * Returns a new Vector2 set with the Vector2 coordinates divided by the given one coordinates\r\n       * @param otherVector - defines the other vector\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.prototype.divide = function (otherVector) {\r\n          return new Vector2(this.x / otherVector.x, this.y / otherVector.y);\r\n      };\r\n      /**\r\n       * Sets the \"result\" coordinates with the Vector2 divided by the given one coordinates\r\n       * @param otherVector - defines the other vector\r\n       * @param result - defines the target vector\r\n       * @returns the unmodified current Vector2\r\n       */\r\n      Vector2.prototype.divideToRef = function (otherVector, result) {\r\n          result.x = this.x / otherVector.x;\r\n          result.y = this.y / otherVector.y;\r\n          return this;\r\n      };\r\n      /**\r\n       * Divides the current Vector2 coordinates by the given ones\r\n       * @param otherVector - defines the other vector\r\n       * @returns the current updated Vector2\r\n       */\r\n      Vector2.prototype.divideInPlace = function (otherVector) {\r\n          return this.divideToRef(otherVector, this);\r\n      };\r\n      /**\r\n       * Gets a new Vector2 with current Vector2 negated coordinates\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.prototype.negate = function () {\r\n          return new Vector2(-this.x, -this.y);\r\n      };\r\n      /**\r\n       * Multiply the Vector2 coordinates by scale\r\n       * @param scale - defines the scaling factor\r\n       * @returns the current updated Vector2\r\n       */\r\n      Vector2.prototype.scaleInPlace = function (scale) {\r\n          this.x *= scale;\r\n          this.y *= scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Vector2 scaled by \"scale\" from the current Vector2\r\n       * @param scale - defines the scaling factor\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.prototype.scale = function (scale) {\r\n          var result = new Vector2(0, 0);\r\n          this.scaleToRef(scale, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Scale the current Vector2 values by a factor to a given Vector2\r\n       * @param scale - defines the scale factor\r\n       * @param result - defines the Vector2 object where to store the result\r\n       * @returns the unmodified current Vector2\r\n       */\r\n      Vector2.prototype.scaleToRef = function (scale, result) {\r\n          result.x = this.x * scale;\r\n          result.y = this.y * scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Scale the current Vector2 values by a factor and add the result to a given Vector2\r\n       * @param scale - defines the scale factor\r\n       * @param result - defines the Vector2 object where to store the result\r\n       * @returns the unmodified current Vector2\r\n       */\r\n      Vector2.prototype.scaleAndAddToRef = function (scale, result) {\r\n          result.x += this.x * scale;\r\n          result.y += this.y * scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Gets a boolean if two vectors are equals\r\n       * @param otherVector - defines the other vector\r\n       * @returns true if the given vector coordinates strictly equal the current Vector2 ones\r\n       */\r\n      Vector2.prototype.equals = function (otherVector) {\r\n          return otherVector && this.x === otherVector.x && this.y === otherVector.y;\r\n      };\r\n      /**\r\n       * Gets a boolean if two vectors are equals (using an epsilon value)\r\n       * @param otherVector - defines the other vector\r\n       * @param epsilon - defines the minimal distance to consider equality\r\n       * @returns true if the given vector coordinates are close to the current ones by a distance of epsilon.\r\n       */\r\n      Vector2.prototype.equalsWithEpsilon = function (otherVector, epsilon) {\r\n          if (epsilon === void 0) { epsilon = Epsilon; }\r\n          return (otherVector &&\r\n              Scalar.WithinEpsilon(this.x, otherVector.x, epsilon) &&\r\n              Scalar.WithinEpsilon(this.y, otherVector.y, epsilon));\r\n      };\r\n      /**\r\n       * Gets a new Vector2 from current Vector2 floored values\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.prototype.floor = function () {\r\n          return new Vector2(Math.floor(this.x), Math.floor(this.y));\r\n      };\r\n      /**\r\n       * Gets a new Vector2 from current Vector2 floored values\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.prototype.fract = function () {\r\n          return new Vector2(this.x - Math.floor(this.x), this.y - Math.floor(this.y));\r\n      };\r\n      // Properties\r\n      /**\r\n       * Gets the length of the vector\r\n       * @returns the vector length (float)\r\n       */\r\n      Vector2.prototype.length = function () {\r\n          return Math.sqrt(this.x * this.x + this.y * this.y);\r\n      };\r\n      /**\r\n       * Gets the vector squared length\r\n       * @returns the vector squared length (float)\r\n       */\r\n      Vector2.prototype.lengthSquared = function () {\r\n          return this.x * this.x + this.y * this.y;\r\n      };\r\n      // Methods\r\n      /**\r\n       * Normalize the vector\r\n       * @returns the current updated Vector2\r\n       */\r\n      Vector2.prototype.normalize = function () {\r\n          var len = this.length();\r\n          if (len === 0) {\r\n              return this;\r\n          }\r\n          var num = 1.0 / len;\r\n          this.x *= num;\r\n          this.y *= num;\r\n          return this;\r\n      };\r\n      /**\r\n       * Gets a new Vector2 copied from the Vector2\r\n       * @returns a new Vector2\r\n       */\r\n      Vector2.prototype.clone = function () {\r\n          return new Vector2(this.x, this.y);\r\n      };\r\n      return Vector2;\r\n  }());\n\n  /**\r\n   * This represents an arc in a 2d space.\r\n   * @public\r\n   */\r\n  var Arc2 = /** @class */ (function () {\r\n      /**\r\n       * Creates an Arc object from the three given points : start, middle and end.\r\n       * @param startPoint - Defines the start point of the arc\r\n       * @param midPoint - Defines the midlle point of the arc\r\n       * @param endPoint - Defines the end point of the arc\r\n       */\r\n      function Arc2(\r\n      /** Defines the start point of the arc */\r\n      startPoint, \r\n      /** Defines the mid point of the arc */\r\n      midPoint, \r\n      /** Defines the end point of the arc */\r\n      endPoint) {\r\n          this.startPoint = startPoint;\r\n          this.midPoint = midPoint;\r\n          this.endPoint = endPoint;\r\n          var temp = Math.pow(midPoint.x, 2) + Math.pow(midPoint.y, 2);\r\n          var startToMid = (Math.pow(startPoint.x, 2) + Math.pow(startPoint.y, 2) - temp) / 2;\r\n          var midToEnd = (temp - Math.pow(endPoint.x, 2) - Math.pow(endPoint.y, 2)) / 2;\r\n          var det = (startPoint.x - midPoint.x) * (midPoint.y - endPoint.y) - (midPoint.x - endPoint.x) * (startPoint.y - midPoint.y);\r\n          this.centerPoint = new Vector2((startToMid * (midPoint.y - endPoint.y) - midToEnd * (startPoint.y - midPoint.y)) / det, ((startPoint.x - midPoint.x) * midToEnd - (midPoint.x - endPoint.x) * startToMid) / det);\r\n          this.radius = this.centerPoint.subtract(this.startPoint).length();\r\n          this.startAngle = Angle.BetweenTwoPoints(this.centerPoint, this.startPoint);\r\n          var a1 = this.startAngle.degrees();\r\n          var a2 = Angle.BetweenTwoPoints(this.centerPoint, this.midPoint).degrees();\r\n          var a3 = Angle.BetweenTwoPoints(this.centerPoint, this.endPoint).degrees();\r\n          // angles correction\r\n          if (a2 - a1 > +180.0) {\r\n              a2 -= 360.0;\r\n          }\r\n          if (a2 - a1 < -180.0) {\r\n              a2 += 360.0;\r\n          }\r\n          if (a3 - a2 > +180.0) {\r\n              a3 -= 360.0;\r\n          }\r\n          if (a3 - a2 < -180.0) {\r\n              a3 += 360.0;\r\n          }\r\n          this.orientation = a2 - a1 < 0 ? exports.Orientation.CW : exports.Orientation.CCW;\r\n          this.angle = Angle.FromDegrees(this.orientation === exports.Orientation.CW ? a1 - a3 : a3 - a1);\r\n      }\r\n      return Arc2;\r\n  }());\n\n  /**\r\n   * Defines the 3 main axes\r\n   * @public\r\n   */\r\n  var Axis = /** @class */ (function () {\r\n      function Axis() {\r\n      }\r\n      /** X axis */\r\n      Axis.X = new Vector3(1.0, 0.0, 0.0);\r\n      /** Y axis */\r\n      Axis.Y = new Vector3(0.0, 1.0, 0.0);\r\n      /** Z axis */\r\n      Axis.Z = new Vector3(0.0, 0.0, 1.0);\r\n      return Axis;\r\n  }());\n\n  /**\r\n   * Class used to represent a Bezier curve\r\n   * @public\r\n   */\r\n  var BezierCurve = /** @class */ (function () {\r\n      function BezierCurve() {\r\n      }\r\n      /**\r\n       * Returns the cubic Bezier interpolated value (float) at \"t\" (float) from the given x1, y1, x2, y2 floats\r\n       * @param t - defines the time\r\n       * @param x1 - defines the left coordinate on X axis\r\n       * @param y1 - defines the left coordinate on Y axis\r\n       * @param x2 - defines the right coordinate on X axis\r\n       * @param y2 - defines the right coordinate on Y axis\r\n       * @returns the interpolated value\r\n       */\r\n      BezierCurve.Interpolate = function (t, x1, y1, x2, y2) {\r\n          // Extract X (which is equal to time here)\r\n          var f0 = 1 - 3 * x2 + 3 * x1;\r\n          var f1 = 3 * x2 - 6 * x1;\r\n          var f2 = 3 * x1;\r\n          var refinedT = t;\r\n          for (var i = 0; i < 5; i++) {\r\n              var refinedT2 = refinedT * refinedT;\r\n              var refinedT3 = refinedT2 * refinedT;\r\n              var x = f0 * refinedT3 + f1 * refinedT2 + f2 * refinedT;\r\n              var slope = 1.0 / (3.0 * f0 * refinedT2 + 2.0 * f1 * refinedT + f2);\r\n              refinedT -= (x - t) * slope;\r\n              refinedT = Math.min(1, Math.max(0, refinedT));\r\n          }\r\n          // Resolve cubic bezier for the given x\r\n          return (3 * Math.pow(1 - refinedT, 2) * refinedT * y1 +\r\n              3 * (1 - refinedT) * Math.pow(refinedT, 2) * y2 +\r\n              Math.pow(refinedT, 3));\r\n      };\r\n      return BezierCurve;\r\n  }());\n\n  /**\r\n   * Class used to hold a RBGA color\r\n   * @public\r\n   */\r\n  var Color4 = /** @class */ (function () {\r\n      /**\r\n       * Creates a new Color4 object from red, green, blue values, all between 0 and 1\r\n       * @param r - defines the red component (between 0 and 1, default is 0)\r\n       * @param g - defines the green component (between 0 and 1, default is 0)\r\n       * @param b - defines the blue component (between 0 and 1, default is 0)\r\n       * @param a - defines the alpha component (between 0 and 1, default is 1)\r\n       */\r\n      function Color4(\r\n      /**\r\n       * Defines the red component (between 0 and 1, default is 0)\r\n       */\r\n      r, \r\n      /**\r\n       * Defines the green component (between 0 and 1, default is 0)\r\n       */\r\n      g, \r\n      /**\r\n       * Defines the blue component (between 0 and 1, default is 0)\r\n       */\r\n      b, \r\n      /**\r\n       * Defines the alpha component (between 0 and 1, default is 1)\r\n       */\r\n      a) {\r\n          if (r === void 0) { r = 0; }\r\n          if (g === void 0) { g = 0; }\r\n          if (b === void 0) { b = 0; }\r\n          if (a === void 0) { a = 1; }\r\n          this.r = r;\r\n          this.g = g;\r\n          this.b = b;\r\n          this.a = a;\r\n      }\r\n      // Statics\r\n      /**\r\n       * Creates a new Color4 from the string containing valid hexadecimal values\r\n       * @param hex - defines a string containing valid hexadecimal values\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.FromHexString = function (hex) {\r\n          if (hex.substring(0, 1) !== '#' || hex.length !== 9) {\r\n              return new Color4(0.0, 0.0, 0.0, 0.0);\r\n          }\r\n          var r = parseInt(hex.substring(1, 3), 16);\r\n          var g = parseInt(hex.substring(3, 5), 16);\r\n          var b = parseInt(hex.substring(5, 7), 16);\r\n          var a = parseInt(hex.substring(7, 9), 16);\r\n          return Color4.FromInts(r, g, b, a);\r\n      };\r\n      /**\r\n       * Creates a new Color4 object set with the linearly interpolated values of \"amount\" between the left Color4 object and the right Color4 object\r\n       * @param left - defines the start value\r\n       * @param right - defines the end value\r\n       * @param amount - defines the gradient factor\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.Lerp = function (left, right, amount) {\r\n          var result = new Color4(0.0, 0.0, 0.0, 0.0);\r\n          Color4.LerpToRef(left, right, amount, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Set the given \"result\" with the linearly interpolated values of \"amount\" between the left Color4 object and the right Color4 object\r\n       * @param left - defines the start value\r\n       * @param right - defines the end value\r\n       * @param amount - defines the gradient factor\r\n       * @param result - defines the Color4 object where to store data\r\n       */\r\n      Color4.LerpToRef = function (left, right, amount, result) {\r\n          result.r = left.r + (right.r - left.r) * amount;\r\n          result.g = left.g + (right.g - left.g) * amount;\r\n          result.b = left.b + (right.b - left.b) * amount;\r\n          result.a = left.a + (right.a - left.a) * amount;\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a red color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color4.Red = function () {\r\n          return new Color4(1.0, 0, 0, 1.0);\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a green color\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.Green = function () {\r\n          return new Color4(0, 1.0, 0, 1.0);\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a blue color\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.Blue = function () {\r\n          return new Color4(0, 0, 1.0, 1.0);\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a black color\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.Black = function () {\r\n          return new Color4(0, 0, 0, 1);\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a white color\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.White = function () {\r\n          return new Color4(1, 1, 1, 1);\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a purple color\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.Purple = function () {\r\n          return new Color4(0.5, 0, 0.5, 1);\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a magenta color\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.Magenta = function () {\r\n          return new Color4(1, 0, 1, 1);\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a yellow color\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.Yellow = function () {\r\n          return new Color4(1, 1, 0, 1);\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a gray color\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.Gray = function () {\r\n          return new Color4(0.5, 0.5, 0.5, 1.0);\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a teal color\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.Teal = function () {\r\n          return new Color4(0, 1.0, 1.0, 1.0);\r\n      };\r\n      /**\r\n       * Returns a Color4 value containing a transparent color\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.Clear = function () {\r\n          return new Color4(0, 0, 0, 0);\r\n      };\r\n      /**\r\n       * Creates a new Color4 from a Color3 and an alpha value\r\n       * @param color3 - defines the source Color3 to read from\r\n       * @param alpha - defines the alpha component (1.0 by default)\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.FromColor3 = function (color3, alpha) {\r\n          if (alpha === void 0) { alpha = 1.0; }\r\n          return new Color4(color3.r, color3.g, color3.b, alpha);\r\n      };\r\n      /**\r\n       * Creates a new Color4 from the starting index element of the given array\r\n       * @param array - defines the source array to read from\r\n       * @param offset - defines the offset in the source array\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.FromArray = function (array, offset) {\r\n          if (offset === void 0) { offset = 0; }\r\n          return new Color4(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);\r\n      };\r\n      /**\r\n       * Creates a new Color3 from integer values (less than 256)\r\n       * @param r - defines the red component to read from (value between 0 and 255)\r\n       * @param g - defines the green component to read from (value between 0 and 255)\r\n       * @param b - defines the blue component to read from (value between 0 and 255)\r\n       * @param a - defines the alpha component to read from (value between 0 and 255)\r\n       * @returns a new Color3 object\r\n       */\r\n      Color4.FromInts = function (r, g, b, a) {\r\n          return new Color4(r / 255.0, g / 255.0, b / 255.0, a / 255.0);\r\n      };\r\n      /**\r\n       * Check the content of a given array and convert it to an array containing RGBA data\r\n       * If the original array was already containing count * 4 values then it is returned directly\r\n       * @param colors - defines the array to check\r\n       * @param count - defines the number of RGBA data to expect\r\n       * @returns an array containing count * 4 values (RGBA)\r\n       */\r\n      Color4.CheckColors4 = function (colors, count) {\r\n          // Check if color3 was used\r\n          if (colors.length === count * 3) {\r\n              var colors4 = [];\r\n              for (var index = 0; index < colors.length; index += 3) {\r\n                  var newIndex = (index / 3) * 4;\r\n                  colors4[newIndex] = colors[index];\r\n                  colors4[newIndex + 1] = colors[index + 1];\r\n                  colors4[newIndex + 2] = colors[index + 2];\r\n                  colors4[newIndex + 3] = 1.0;\r\n              }\r\n              return colors4;\r\n          }\r\n          return colors;\r\n      };\r\n      // Operators\r\n      /**\r\n       * Adds in place the given Color4 values to the current Color4 object\r\n       * @param right - defines the second operand\r\n       * @returns the current updated Color4 object\r\n       */\r\n      Color4.prototype.addInPlace = function (right) {\r\n          this.r += right.r;\r\n          this.g += right.g;\r\n          this.b += right.b;\r\n          this.a += right.a;\r\n          return this;\r\n      };\r\n      /**\r\n       * Creates a new array populated with 4 numeric elements : red, green, blue, alpha values\r\n       * @returns the new array\r\n       */\r\n      Color4.prototype.asArray = function () {\r\n          var result = new Array();\r\n          this.toArray(result, 0);\r\n          return result;\r\n      };\r\n      /**\r\n       * Stores from the starting index in the given array the Color4 successive values\r\n       * @param array - defines the array where to store the r,g,b components\r\n       * @param index - defines an optional index in the target array to define where to start storing values\r\n       * @returns the current Color4 object\r\n       */\r\n      Color4.prototype.toArray = function (array, index) {\r\n          if (index === void 0) { index = 0; }\r\n          array[index] = this.r;\r\n          array[index + 1] = this.g;\r\n          array[index + 2] = this.b;\r\n          array[index + 3] = this.a;\r\n          return this;\r\n      };\r\n      /**\r\n       * Creates a new Color4 set with the added values of the current Color4 and of the given one\r\n       * @param right - defines the second operand\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.prototype.add = function (right) {\r\n          return new Color4(this.r + right.r, this.g + right.g, this.b + right.b, this.a + right.a);\r\n      };\r\n      /**\r\n       * Creates a new Color4 set with the subtracted values of the given one from the current Color4\r\n       * @param right - defines the second operand\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.prototype.subtract = function (right) {\r\n          return new Color4(this.r - right.r, this.g - right.g, this.b - right.b, this.a - right.a);\r\n      };\r\n      /**\r\n       * Subtracts the given ones from the current Color4 values and stores the results in \"result\"\r\n       * @param right - defines the second operand\r\n       * @param result - defines the Color4 object where to store the result\r\n       * @returns the current Color4 object\r\n       */\r\n      Color4.prototype.subtractToRef = function (right, result) {\r\n          result.r = this.r - right.r;\r\n          result.g = this.g - right.g;\r\n          result.b = this.b - right.b;\r\n          result.a = this.a - right.a;\r\n          return this;\r\n      };\r\n      /**\r\n       * Creates a new Color4 with the current Color4 values multiplied by scale\r\n       * @param scale - defines the scaling factor to apply\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.prototype.scale = function (scale) {\r\n          return new Color4(this.r * scale, this.g * scale, this.b * scale, this.a * scale);\r\n      };\r\n      /**\r\n       * Multiplies the current Color4 values by scale and stores the result in \"result\"\r\n       * @param scale - defines the scaling factor to apply\r\n       * @param result - defines the Color4 object where to store the result\r\n       * @returns the current unmodified Color4\r\n       */\r\n      Color4.prototype.scaleToRef = function (scale, result) {\r\n          result.r = this.r * scale;\r\n          result.g = this.g * scale;\r\n          result.b = this.b * scale;\r\n          result.a = this.a * scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Scale the current Color4 values by a factor and add the result to a given Color4\r\n       * @param scale - defines the scale factor\r\n       * @param result - defines the Color4 object where to store the result\r\n       * @returns the unmodified current Color4\r\n       */\r\n      Color4.prototype.scaleAndAddToRef = function (scale, result) {\r\n          result.r += this.r * scale;\r\n          result.g += this.g * scale;\r\n          result.b += this.b * scale;\r\n          result.a += this.a * scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Clamps the rgb values by the min and max values and stores the result into \"result\"\r\n       * @param min - defines minimum clamping value (default is 0)\r\n       * @param max - defines maximum clamping value (default is 1)\r\n       * @param result - defines color to store the result into.\r\n       * @returns the cuurent Color4\r\n       */\r\n      Color4.prototype.clampToRef = function (min, max, result) {\r\n          if (min === void 0) { min = 0; }\r\n          if (max === void 0) { max = 1; }\r\n          result.r = Scalar.Clamp(this.r, min, max);\r\n          result.g = Scalar.Clamp(this.g, min, max);\r\n          result.b = Scalar.Clamp(this.b, min, max);\r\n          result.a = Scalar.Clamp(this.a, min, max);\r\n          return this;\r\n      };\r\n      /**\r\n       * Multipy an Color4 value by another and return a new Color4 object\r\n       * @param color - defines the Color4 value to multiply by\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.prototype.multiply = function (color) {\r\n          return new Color4(this.r * color.r, this.g * color.g, this.b * color.b, this.a * color.a);\r\n      };\r\n      /**\r\n       * Multipy a Color4 value by another and push the result in a reference value\r\n       * @param color - defines the Color4 value to multiply by\r\n       * @param result - defines the Color4 to fill the result in\r\n       * @returns the result Color4\r\n       */\r\n      Color4.prototype.multiplyToRef = function (color, result) {\r\n          result.r = this.r * color.r;\r\n          result.g = this.g * color.g;\r\n          result.b = this.b * color.b;\r\n          result.a = this.a * color.a;\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a string with the Color4 current values\r\n       * @returns the string representation of the Color4 object\r\n       */\r\n      Color4.prototype.toString = function () {\r\n          return '{R: ' + this.r + ' G:' + this.g + ' B:' + this.b + ' A:' + this.a + '}';\r\n      };\r\n      /**\r\n       * Returns the string \"Color4\"\r\n       * @returns \"Color4\"\r\n       */\r\n      Color4.prototype.getClassName = function () {\r\n          return 'Color4';\r\n      };\r\n      /**\r\n       * Compute the Color4 hash code\r\n       * @returns an unique number that can be used to hash Color4 objects\r\n       */\r\n      Color4.prototype.getHashCode = function () {\r\n          var hash = this.r || 0;\r\n          hash = (hash * 397) ^ (this.g || 0);\r\n          hash = (hash * 397) ^ (this.b || 0);\r\n          hash = (hash * 397) ^ (this.a || 0);\r\n          return hash;\r\n      };\r\n      /**\r\n       * Creates a new Color4 copied from the current one\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.prototype.clone = function () {\r\n          return new Color4(this.r, this.g, this.b, this.a);\r\n      };\r\n      /**\r\n       * Copies the given Color4 values into the current one\r\n       * @param source - defines the source Color4 object\r\n       * @returns the current updated Color4 object\r\n       */\r\n      Color4.prototype.copyFrom = function (source) {\r\n          this.r = source.r;\r\n          this.g = source.g;\r\n          this.b = source.b;\r\n          this.a = source.a;\r\n          return this;\r\n      };\r\n      /**\r\n       * Copies the given float values into the current one\r\n       * @param r - defines the red component to read from\r\n       * @param g - defines the green component to read from\r\n       * @param b - defines the blue component to read from\r\n       * @param a - defines the alpha component to read from\r\n       * @returns the current updated Color4 object\r\n       */\r\n      Color4.prototype.copyFromFloats = function (r, g, b, a) {\r\n          this.r = r;\r\n          this.g = g;\r\n          this.b = b;\r\n          this.a = a;\r\n          return this;\r\n      };\r\n      /**\r\n       * Copies the given float values into the current one\r\n       * @param r - defines the red component to read from\r\n       * @param g - defines the green component to read from\r\n       * @param b - defines the blue component to read from\r\n       * @param a - defines the alpha component to read from\r\n       * @returns the current updated Color4 object\r\n       */\r\n      Color4.prototype.set = function (r, g, b, a) {\r\n          return this.copyFromFloats(r, g, b, a);\r\n      };\r\n      /**\r\n       * Compute the Color4 hexadecimal code as a string\r\n       * @returns a string containing the hexadecimal representation of the Color4 object\r\n       */\r\n      Color4.prototype.toHexString = function () {\r\n          var intR = (this.r * 255) | 0;\r\n          var intG = (this.g * 255) | 0;\r\n          var intB = (this.b * 255) | 0;\r\n          var intA = (this.a * 255) | 0;\r\n          return '#' + Scalar.ToHex(intR) + Scalar.ToHex(intG) + Scalar.ToHex(intB) + Scalar.ToHex(intA);\r\n      };\r\n      /**\r\n       * Computes a new Color4 converted from the current one to linear space\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.prototype.toLinearSpace = function () {\r\n          var convertedColor = new Color4();\r\n          this.toLinearSpaceToRef(convertedColor);\r\n          return convertedColor;\r\n      };\r\n      /**\r\n       * Converts the Color4 values to linear space and stores the result in \"convertedColor\"\r\n       * @param convertedColor - defines the Color4 object where to store the linear space version\r\n       * @returns the unmodified Color4\r\n       */\r\n      Color4.prototype.toLinearSpaceToRef = function (convertedColor) {\r\n          convertedColor.r = Math.pow(this.r, ToLinearSpace);\r\n          convertedColor.g = Math.pow(this.g, ToLinearSpace);\r\n          convertedColor.b = Math.pow(this.b, ToLinearSpace);\r\n          convertedColor.a = this.a;\r\n          return this;\r\n      };\r\n      /**\r\n       * Computes a new Color4 converted from the current one to gamma space\r\n       * @returns a new Color4 object\r\n       */\r\n      Color4.prototype.toGammaSpace = function () {\r\n          var convertedColor = new Color4();\r\n          this.toGammaSpaceToRef(convertedColor);\r\n          return convertedColor;\r\n      };\r\n      /**\r\n       * Converts the Color4 values to gamma space and stores the result in \"convertedColor\"\r\n       * @param convertedColor - defines the Color4 object where to store the gamma space version\r\n       * @returns the unmodified Color4\r\n       */\r\n      Color4.prototype.toGammaSpaceToRef = function (convertedColor) {\r\n          convertedColor.r = Math.pow(this.r, ToGammaSpace);\r\n          convertedColor.g = Math.pow(this.g, ToGammaSpace);\r\n          convertedColor.b = Math.pow(this.b, ToGammaSpace);\r\n          convertedColor.a = this.a;\r\n          return this;\r\n      };\r\n      return Color4;\r\n  }());\n\n  /**\r\n   * Class used to hold a RBG color\r\n   * @public\r\n   */\r\n  var Color3 = /** @class */ (function () {\r\n      /**\r\n       * Creates a new Color3 object from red, green, blue values, all between 0 and 1\r\n       * @param r - defines the red component (between 0 and 1, default is 0)\r\n       * @param g - defines the green component (between 0 and 1, default is 0)\r\n       * @param b - defines the blue component (between 0 and 1, default is 0)\r\n       */\r\n      function Color3(\r\n      /**\r\n       * Defines the red component (between 0 and 1, default is 0)\r\n       */\r\n      r, \r\n      /**\r\n       * Defines the green component (between 0 and 1, default is 0)\r\n       */\r\n      g, \r\n      /**\r\n       * Defines the blue component (between 0 and 1, default is 0)\r\n       */\r\n      b) {\r\n          if (r === void 0) { r = 0; }\r\n          if (g === void 0) { g = 0; }\r\n          if (b === void 0) { b = 0; }\r\n          this.r = r;\r\n          this.g = g;\r\n          this.b = b;\r\n      }\r\n      // Statics\r\n      /**\r\n       * Creates a new Color3 from the string containing valid hexadecimal values\r\n       * @param hex - defines a string containing valid hexadecimal values\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.FromHexString = function (hex) {\r\n          if (hex.substring(0, 1) !== '#' || hex.length !== 7) {\r\n              return new Color3(0, 0, 0);\r\n          }\r\n          var r = parseInt(hex.substring(1, 3), 16);\r\n          var g = parseInt(hex.substring(3, 5), 16);\r\n          var b = parseInt(hex.substring(5, 7), 16);\r\n          return Color3.FromInts(r, g, b);\r\n      };\r\n      /**\r\n       * Creates a new Vector3 from the starting index of the given array\r\n       * @param array - defines the source array\r\n       * @param offset - defines an offset in the source array\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.FromArray = function (array, offset) {\r\n          if (offset === void 0) { offset = 0; }\r\n          return new Color3(array[offset], array[offset + 1], array[offset + 2]);\r\n      };\r\n      /**\r\n       * Creates a new Color3 from integer values (less than 256)\r\n       * @param r - defines the red component to read from (value between 0 and 255)\r\n       * @param g - defines the green component to read from (value between 0 and 255)\r\n       * @param b - defines the blue component to read from (value between 0 and 255)\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.FromInts = function (r, g, b) {\r\n          return new Color3(r / 255.0, g / 255.0, b / 255.0);\r\n      };\r\n      /**\r\n       * Creates a new Color3 with values linearly interpolated of \"amount\" between the start Color3 and the end Color3\r\n       * @param start - defines the start Color3 value\r\n       * @param end - defines the end Color3 value\r\n       * @param amount - defines the gradient value between start and end\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Lerp = function (start, end, amount) {\r\n          var result = new Color3(0.0, 0.0, 0.0);\r\n          Color3.LerpToRef(start, end, amount, result);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a new Color3 with values linearly interpolated of \"amount\" between the start Color3 and the end Color3\r\n       * @param left - defines the start value\r\n       * @param right - defines the end value\r\n       * @param amount - defines the gradient factor\r\n       * @param result - defines the Color3 object where to store the result\r\n       */\r\n      Color3.LerpToRef = function (left, right, amount, result) {\r\n          result.r = left.r + (right.r - left.r) * amount;\r\n          result.g = left.g + (right.g - left.g) * amount;\r\n          result.b = left.b + (right.b - left.b) * amount;\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a red color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Red = function () {\r\n          return new Color3(1, 0, 0);\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a green color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Green = function () {\r\n          return new Color3(0, 1, 0);\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a blue color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Blue = function () {\r\n          return new Color3(0, 0, 1);\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a black color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Black = function () {\r\n          return new Color3(0, 0, 0);\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a white color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.White = function () {\r\n          return new Color3(1, 1, 1);\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a purple color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Purple = function () {\r\n          return new Color3(0.5, 0, 0.5);\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a magenta color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Magenta = function () {\r\n          return new Color3(1, 0, 1);\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a yellow color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Yellow = function () {\r\n          return new Color3(1, 1, 0);\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a gray color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Gray = function () {\r\n          return new Color3(0.5, 0.5, 0.5);\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a teal color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Teal = function () {\r\n          return new Color3(0, 1.0, 1.0);\r\n      };\r\n      /**\r\n       * Returns a Color3 value containing a random color\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.Random = function () {\r\n          return new Color3(Math.random(), Math.random(), Math.random());\r\n      };\r\n      /**\r\n       * Creates a string with the Color3 current values\r\n       * @returns the string representation of the Color3 object\r\n       */\r\n      Color3.prototype.toString = function () {\r\n          return '{R: ' + this.r + ' G:' + this.g + ' B:' + this.b + '}';\r\n      };\r\n      /**\r\n       * Returns the string \"Color3\"\r\n       * @returns \"Color3\"\r\n       */\r\n      Color3.prototype.getClassName = function () {\r\n          return 'Color3';\r\n      };\r\n      /**\r\n       * Compute the Color3 hash code\r\n       * @returns an unique number that can be used to hash Color3 objects\r\n       */\r\n      Color3.prototype.getHashCode = function () {\r\n          var hash = this.r || 0;\r\n          hash = (hash * 397) ^ (this.g || 0);\r\n          hash = (hash * 397) ^ (this.b || 0);\r\n          return hash;\r\n      };\r\n      // Operators\r\n      /**\r\n       * Stores in the given array from the given starting index the red, green, blue values as successive elements\r\n       * @param array - defines the array where to store the r,g,b components\r\n       * @param index - defines an optional index in the target array to define where to start storing values\r\n       * @returns the current Color3 object\r\n       */\r\n      Color3.prototype.toArray = function (array, index) {\r\n          if (index === void 0) { index = 0; }\r\n          array[index] = this.r;\r\n          array[index + 1] = this.g;\r\n          array[index + 2] = this.b;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Color4 object from the current Color3 and the given alpha\r\n       * @param alpha - defines the alpha component on the new Color4 object (default is 1)\r\n       * @returns a new Color4 object\r\n       */\r\n      Color3.prototype.toColor4 = function (alpha) {\r\n          if (alpha === void 0) { alpha = 1; }\r\n          return new Color4(this.r, this.g, this.b, alpha);\r\n      };\r\n      /**\r\n       * Returns a new array populated with 3 numeric elements : red, green and blue values\r\n       * @returns the new array\r\n       */\r\n      Color3.prototype.asArray = function () {\r\n          var result = new Array();\r\n          this.toArray(result, 0);\r\n          return result;\r\n      };\r\n      /**\r\n       * Returns the luminance value\r\n       * @returns a float value\r\n       */\r\n      Color3.prototype.toLuminance = function () {\r\n          return this.r * 0.3 + this.g * 0.59 + this.b * 0.11;\r\n      };\r\n      /**\r\n       * Multiply each Color3 rgb values by the given Color3 rgb values in a new Color3 object\r\n       * @param otherColor - defines the second operand\r\n       * @returns the new Color3 object\r\n       */\r\n      Color3.prototype.multiply = function (otherColor) {\r\n          return new Color3(this.r * otherColor.r, this.g * otherColor.g, this.b * otherColor.b);\r\n      };\r\n      /**\r\n       * Multiply the rgb values of the Color3 and the given Color3 and stores the result in the object \"result\"\r\n       * @param otherColor - defines the second operand\r\n       * @param result - defines the Color3 object where to store the result\r\n       * @returns the current Color3\r\n       */\r\n      Color3.prototype.multiplyToRef = function (otherColor, result) {\r\n          result.r = this.r * otherColor.r;\r\n          result.g = this.g * otherColor.g;\r\n          result.b = this.b * otherColor.b;\r\n          return this;\r\n      };\r\n      /**\r\n       * Determines equality between Color3 objects\r\n       * @param otherColor - defines the second operand\r\n       * @returns true if the rgb values are equal to the given ones\r\n       */\r\n      Color3.prototype.equals = function (otherColor) {\r\n          return otherColor && this.r === otherColor.r && this.g === otherColor.g && this.b === otherColor.b;\r\n      };\r\n      /**\r\n       * Determines equality between the current Color3 object and a set of r,b,g values\r\n       * @param r - defines the red component to check\r\n       * @param g - defines the green component to check\r\n       * @param b - defines the blue component to check\r\n       * @returns true if the rgb values are equal to the given ones\r\n       */\r\n      Color3.prototype.equalsFloats = function (r, g, b) {\r\n          return this.r === r && this.g === g && this.b === b;\r\n      };\r\n      /**\r\n       * Multiplies in place each rgb value by scale\r\n       * @param scale - defines the scaling factor\r\n       * @returns the updated Color3\r\n       */\r\n      Color3.prototype.scale = function (scale) {\r\n          return new Color3(this.r * scale, this.g * scale, this.b * scale);\r\n      };\r\n      /**\r\n       * Multiplies the rgb values by scale and stores the result into \"result\"\r\n       * @param scale - defines the scaling factor\r\n       * @param result - defines the Color3 object where to store the result\r\n       * @returns the unmodified current Color3\r\n       */\r\n      Color3.prototype.scaleToRef = function (scale, result) {\r\n          result.r = this.r * scale;\r\n          result.g = this.g * scale;\r\n          result.b = this.b * scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Scale the current Color3 values by a factor and add the result to a given Color3\r\n       * @param scale - defines the scale factor\r\n       * @param result - defines color to store the result into\r\n       * @returns the unmodified current Color3\r\n       */\r\n      Color3.prototype.scaleAndAddToRef = function (scale, result) {\r\n          result.r += this.r * scale;\r\n          result.g += this.g * scale;\r\n          result.b += this.b * scale;\r\n          return this;\r\n      };\r\n      /**\r\n       * Clamps the rgb values by the min and max values and stores the result into \"result\"\r\n       * @param min - defines minimum clamping value (default is 0)\r\n       * @param max - defines maximum clamping value (default is 1)\r\n       * @param result - defines color to store the result into\r\n       * @returns the original Color3\r\n       */\r\n      Color3.prototype.clampToRef = function (min, max, result) {\r\n          if (min === void 0) { min = 0; }\r\n          if (max === void 0) { max = 1; }\r\n          result.r = Scalar.Clamp(this.r, min, max);\r\n          result.g = Scalar.Clamp(this.g, min, max);\r\n          result.b = Scalar.Clamp(this.b, min, max);\r\n          return this;\r\n      };\r\n      /**\r\n       * Creates a new Color3 set with the added values of the current Color3 and of the given one\r\n       * @param otherColor - defines the second operand\r\n       * @returns the new Color3\r\n       */\r\n      Color3.prototype.add = function (otherColor) {\r\n          return new Color3(this.r + otherColor.r, this.g + otherColor.g, this.b + otherColor.b);\r\n      };\r\n      /**\r\n       * Stores the result of the addition of the current Color3 and given one rgb values into \"result\"\r\n       * @param otherColor - defines the second operand\r\n       * @param result - defines Color3 object to store the result into\r\n       * @returns the unmodified current Color3\r\n       */\r\n      Color3.prototype.addToRef = function (otherColor, result) {\r\n          result.r = this.r + otherColor.r;\r\n          result.g = this.g + otherColor.g;\r\n          result.b = this.b + otherColor.b;\r\n          return this;\r\n      };\r\n      /**\r\n       * Returns a new Color3 set with the subtracted values of the given one from the current Color3\r\n       * @param otherColor - defines the second operand\r\n       * @returns the new Color3\r\n       */\r\n      Color3.prototype.subtract = function (otherColor) {\r\n          return new Color3(this.r - otherColor.r, this.g - otherColor.g, this.b - otherColor.b);\r\n      };\r\n      /**\r\n       * Stores the result of the subtraction of given one from the current Color3 rgb values into \"result\"\r\n       * @param otherColor - defines the second operand\r\n       * @param result - defines Color3 object to store the result into\r\n       * @returns the unmodified current Color3\r\n       */\r\n      Color3.prototype.subtractToRef = function (otherColor, result) {\r\n          result.r = this.r - otherColor.r;\r\n          result.g = this.g - otherColor.g;\r\n          result.b = this.b - otherColor.b;\r\n          return this;\r\n      };\r\n      /**\r\n       * Copy the current object\r\n       * @returns a new Color3 copied the current one\r\n       */\r\n      Color3.prototype.clone = function () {\r\n          return new Color3(this.r, this.g, this.b);\r\n      };\r\n      /**\r\n       * Copies the rgb values from the source in the current Color3\r\n       * @param source - defines the source Color3 object\r\n       * @returns the updated Color3 object\r\n       */\r\n      Color3.prototype.copyFrom = function (source) {\r\n          this.r = source.r;\r\n          this.g = source.g;\r\n          this.b = source.b;\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates the Color3 rgb values from the given floats\r\n       * @param r - defines the red component to read from\r\n       * @param g - defines the green component to read from\r\n       * @param b - defines the blue component to read from\r\n       * @returns the current Color3 object\r\n       */\r\n      Color3.prototype.copyFromFloats = function (r, g, b) {\r\n          this.r = r;\r\n          this.g = g;\r\n          this.b = b;\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates the Color3 rgb values from the given floats\r\n       * @param r - defines the red component to read from\r\n       * @param g - defines the green component to read from\r\n       * @param b - defines the blue component to read from\r\n       * @returns the current Color3 object\r\n       */\r\n      Color3.prototype.set = function (r, g, b) {\r\n          return this.copyFromFloats(r, g, b);\r\n      };\r\n      /**\r\n       * Compute the Color3 hexadecimal code as a string\r\n       * @returns a string containing the hexadecimal representation of the Color3 object\r\n       */\r\n      Color3.prototype.toHexString = function () {\r\n          var intR = (this.r * 255) | 0;\r\n          var intG = (this.g * 255) | 0;\r\n          var intB = (this.b * 255) | 0;\r\n          return '#' + Scalar.ToHex(intR) + Scalar.ToHex(intG) + Scalar.ToHex(intB);\r\n      };\r\n      /**\r\n       * Computes a new Color3 converted from the current one to linear space\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.prototype.toLinearSpace = function () {\r\n          var convertedColor = new Color3();\r\n          this.toLinearSpaceToRef(convertedColor);\r\n          return convertedColor;\r\n      };\r\n      /**\r\n       * Converts the Color3 values to linear space and stores the result in \"convertedColor\"\r\n       * @param convertedColor - defines the Color3 object where to store the linear space version\r\n       * @returns the unmodified Color3\r\n       */\r\n      Color3.prototype.toLinearSpaceToRef = function (convertedColor) {\r\n          convertedColor.r = Math.pow(this.r, ToLinearSpace);\r\n          convertedColor.g = Math.pow(this.g, ToLinearSpace);\r\n          convertedColor.b = Math.pow(this.b, ToLinearSpace);\r\n          return this;\r\n      };\r\n      /**\r\n       * Computes a new Color3 converted from the current one to gamma space\r\n       * @returns a new Color3 object\r\n       */\r\n      Color3.prototype.toGammaSpace = function () {\r\n          var convertedColor = new Color3();\r\n          this.toGammaSpaceToRef(convertedColor);\r\n          return convertedColor;\r\n      };\r\n      /**\r\n       * Converts the Color3 values to gamma space and stores the result in \"convertedColor\"\r\n       * @param convertedColor - defines the Color3 object where to store the gamma space version\r\n       * @returns the unmodified Color3\r\n       */\r\n      Color3.prototype.toGammaSpaceToRef = function (convertedColor) {\r\n          convertedColor.r = Math.pow(this.r, ToGammaSpace);\r\n          convertedColor.g = Math.pow(this.g, ToGammaSpace);\r\n          convertedColor.b = Math.pow(this.b, ToGammaSpace);\r\n          return this;\r\n      };\r\n      /**\r\n       * Serializes Color3\r\n       */\r\n      Color3.prototype.toJSON = function () {\r\n          return {\r\n              r: this.r,\r\n              g: this.g,\r\n              b: this.b\r\n          };\r\n      };\r\n      return Color3;\r\n  }());\n\n  /**\r\n   * A Curve3 object is a logical object, so not a mesh, to handle curves in the 3D geometric space.\r\n   * A Curve3 is designed from a series of successive Vector3.\r\n   * {@link https://doc.babylonjs.com/how_to/how_to_use_curve3 }\r\n   * @public\r\n   */\r\n  var Curve3 = /** @class */ (function () {\r\n      /**\r\n       * A Curve3 object is a logical object, so not a mesh, to handle curves in the 3D geometric space.\r\n       * A Curve3 is designed from a series of successive Vector3.\r\n       * {@link http://doc.babylonjs.com/tutorials/How_to_use_Curve3#curve3-object | Tutorial }\r\n       * @param points - points which make up the curve\r\n       */\r\n      function Curve3(points) {\r\n          this._length = 0.0;\r\n          this._points = points;\r\n          this._length = this._computeLength(points);\r\n      }\r\n      /**\r\n       * Returns a Curve3 object along a Quadratic Bezier curve : http://doc.babylonjs.com/tutorials/How_to_use_Curve3#quadratic-bezier-curve\r\n       * @param v0 - (Vector3) the origin point of the Quadratic Bezier\r\n       * @param v1 - (Vector3) the control point\r\n       * @param v2 - (Vector3) the end point of the Quadratic Bezier\r\n       * @param nbPoints - (integer) the wanted number of points in the curve\r\n       * @returns the created Curve3\r\n       */\r\n      Curve3.CreateQuadraticBezier = function (v0, v1, v2, nbPoints) {\r\n          // tslint:disable-next-line:no-parameter-reassignment\r\n          nbPoints = nbPoints > 2 ? nbPoints : 3;\r\n          var bez = new Array();\r\n          var equation = function (t, val0, val1, val2) {\r\n              var res = (1.0 - t) * (1.0 - t) * val0 + 2.0 * t * (1.0 - t) * val1 + t * t * val2;\r\n              return res;\r\n          };\r\n          for (var i = 0; i <= nbPoints; i++) {\r\n              bez.push(new Vector3(equation(i / nbPoints, v0.x, v1.x, v2.x), equation(i / nbPoints, v0.y, v1.y, v2.y), equation(i / nbPoints, v0.z, v1.z, v2.z)));\r\n          }\r\n          return new Curve3(bez);\r\n      };\r\n      /**\r\n       * Returns a Curve3 object along a Cubic Bezier curve : http://doc.babylonjs.com/tutorials/How_to_use_Curve3#cubic-bezier-curve\r\n       * @param v0 - (Vector3) the origin point of the Cubic Bezier\r\n       * @param v1 - (Vector3) the first control point\r\n       * @param v2 - (Vector3) the second control point\r\n       * @param v3 - (Vector3) the end point of the Cubic Bezier\r\n       * @param nbPoints - (integer) the wanted number of points in the curve\r\n       * @returns the created Curve3\r\n       */\r\n      Curve3.CreateCubicBezier = function (v0, v1, v2, v3, nbPoints) {\r\n          // tslint:disable-next-line:no-parameter-reassignment\r\n          nbPoints = nbPoints > 3 ? nbPoints : 4;\r\n          var bez = new Array();\r\n          var equation = function (t, val0, val1, val2, val3) {\r\n              var res = (1.0 - t) * (1.0 - t) * (1.0 - t) * val0 +\r\n                  3.0 * t * (1.0 - t) * (1.0 - t) * val1 +\r\n                  3.0 * t * t * (1.0 - t) * val2 +\r\n                  t * t * t * val3;\r\n              return res;\r\n          };\r\n          for (var i = 0; i <= nbPoints; i++) {\r\n              bez.push(new Vector3(equation(i / nbPoints, v0.x, v1.x, v2.x, v3.x), equation(i / nbPoints, v0.y, v1.y, v2.y, v3.y), equation(i / nbPoints, v0.z, v1.z, v2.z, v3.z)));\r\n          }\r\n          return new Curve3(bez);\r\n      };\r\n      /**\r\n       * Returns a Curve3 object along a Hermite Spline curve : http://doc.babylonjs.com/tutorials/How_to_use_Curve3#hermite-spline\r\n       * @param p1 - (Vector3) the origin point of the Hermite Spline\r\n       * @param t1 - (Vector3) the tangent vector at the origin point\r\n       * @param p2 - (Vector3) the end point of the Hermite Spline\r\n       * @param t2 - (Vector3) the tangent vector at the end point\r\n       * @param nbPoints - (integer) the wanted number of points in the curve\r\n       * @returns the created Curve3\r\n       */\r\n      Curve3.CreateHermiteSpline = function (p1, t1, p2, t2, nbPoints) {\r\n          var hermite = new Array();\r\n          var step = 1.0 / nbPoints;\r\n          for (var i = 0; i <= nbPoints; i++) {\r\n              hermite.push(Vector3.Hermite(p1, t1, p2, t2, i * step));\r\n          }\r\n          return new Curve3(hermite);\r\n      };\r\n      /**\r\n       * Returns a Curve3 object along a CatmullRom Spline curve :\r\n       * @param points - (array of Vector3) the points the spline must pass through. At least, four points required\r\n       * @param nbPoints - (integer) the wanted number of points between each curve control points\r\n       * @param closed - (boolean) optional with default false, when true forms a closed loop from the points\r\n       * @returns the created Curve3\r\n       */\r\n      Curve3.CreateCatmullRomSpline = function (points, nbPoints, closed) {\r\n          var catmullRom = new Array();\r\n          var step = 1.0 / nbPoints;\r\n          var amount = 0.0;\r\n          if (closed) {\r\n              var pointsCount = points.length;\r\n              for (var i = 0; i < pointsCount; i++) {\r\n                  amount = 0;\r\n                  for (var c = 0; c < nbPoints; c++) {\r\n                      catmullRom.push(Vector3.CatmullRom(points[i % pointsCount], points[(i + 1) % pointsCount], points[(i + 2) % pointsCount], points[(i + 3) % pointsCount], amount));\r\n                      amount += step;\r\n                  }\r\n              }\r\n              catmullRom.push(catmullRom[0]);\r\n          }\r\n          else {\r\n              var totalPoints = new Array();\r\n              totalPoints.push(points[0].clone());\r\n              Array.prototype.push.apply(totalPoints, points);\r\n              totalPoints.push(points[points.length - 1].clone());\r\n              var i = 0;\r\n              for (i = 0; i < totalPoints.length - 3; i++) {\r\n                  amount = 0;\r\n                  for (var c = 0; c < nbPoints; c++) {\r\n                      catmullRom.push(Vector3.CatmullRom(totalPoints[i], totalPoints[i + 1], totalPoints[i + 2], totalPoints[i + 3], amount));\r\n                      amount += step;\r\n                  }\r\n              }\r\n              i--;\r\n              catmullRom.push(Vector3.CatmullRom(totalPoints[i], totalPoints[i + 1], totalPoints[i + 2], totalPoints[i + 3], amount));\r\n          }\r\n          return new Curve3(catmullRom);\r\n      };\r\n      /**\r\n       * @returns the Curve3 stored array of successive Vector3\r\n       */\r\n      Curve3.prototype.getPoints = function () {\r\n          return this._points;\r\n      };\r\n      /**\r\n       * @returns the computed length (float) of the curve.\r\n       */\r\n      Curve3.prototype.length = function () {\r\n          return this._length;\r\n      };\r\n      /**\r\n       * Returns a new instance of Curve3 object : var curve = curveA.continue(curveB);\r\n       * This new Curve3 is built by translating and sticking the curveB at the end of the curveA.\r\n       * curveA and curveB keep unchanged.\r\n       * @param curve - the curve to continue from this curve\r\n       * @returns the newly constructed curve\r\n       */\r\n      Curve3.prototype.continue = function (curve) {\r\n          var lastPoint = this._points[this._points.length - 1];\r\n          var continuedPoints = this._points.slice();\r\n          var curvePoints = curve.getPoints();\r\n          for (var i = 1; i < curvePoints.length; i++) {\r\n              continuedPoints.push(curvePoints[i].subtract(curvePoints[0]).add(lastPoint));\r\n          }\r\n          var continuedCurve = new Curve3(continuedPoints);\r\n          return continuedCurve;\r\n      };\r\n      Curve3.prototype._computeLength = function (path) {\r\n          var l = 0;\r\n          for (var i = 1; i < path.length; i++) {\r\n              l += path[i].subtract(path[i - 1]).length();\r\n          }\r\n          return l;\r\n      };\r\n      return Curve3;\r\n  }());\n\n  /**\r\n   * Represens a plane by the equation ax + by + cz + d = 0\r\n   * @public\r\n   */\r\n  var Plane = /** @class */ (function () {\r\n      /**\r\n       * Creates a Plane object according to the given floats a, b, c, d and the plane equation : ax + by + cz + d = 0\r\n       * @param a - a component of the plane\r\n       * @param b - b component of the plane\r\n       * @param c - c component of the plane\r\n       * @param d - d component of the plane\r\n       */\r\n      function Plane(a, b, c, d) {\r\n          this.normal = new Vector3(a, b, c);\r\n          this.d = d;\r\n      }\r\n      // Statics\r\n      /**\r\n       * Creates a plane from an  array\r\n       * @param array - the array to create a plane from\r\n       * @returns a new Plane from the given array.\r\n       */\r\n      Plane.FromArray = function (array) {\r\n          return new Plane(array[0], array[1], array[2], array[3]);\r\n      };\r\n      /**\r\n       * Creates a plane from three points\r\n       * @param point1 - point used to create the plane\r\n       * @param point2 - point used to create the plane\r\n       * @param point3 - point used to create the plane\r\n       * @returns a new Plane defined by the three given points.\r\n       */\r\n      Plane.FromPoints = function (point1, point2, point3) {\r\n          var result = new Plane(0.0, 0.0, 0.0, 0.0);\r\n          result.copyFromPoints(point1, point2, point3);\r\n          return result;\r\n      };\r\n      /**\r\n       * Creates a plane from an origin point and a normal\r\n       * @param origin - origin of the plane to be constructed\r\n       * @param normal - normal of the plane to be constructed\r\n       * @returns a new Plane the normal vector to this plane at the given origin point.\r\n       * Note : the vector \"normal\" is updated because normalized.\r\n       */\r\n      Plane.FromPositionAndNormal = function (origin, normal) {\r\n          var result = new Plane(0.0, 0.0, 0.0, 0.0);\r\n          normal.normalize();\r\n          result.normal = normal;\r\n          result.d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);\r\n          return result;\r\n      };\r\n      /**\r\n       * Calculates the distance from a plane and a point\r\n       * @param origin - origin of the plane to be constructed\r\n       * @param normal - normal of the plane to be constructed\r\n       * @param point - point to calculate distance to\r\n       * @returns the signed distance between the plane defined by the normal vector at the \"origin\"\" point and the given other point.\r\n       */\r\n      Plane.SignedDistanceToPlaneFromPositionAndNormal = function (origin, normal, point) {\r\n          var d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);\r\n          return Vector3.Dot(point, normal) + d;\r\n      };\r\n      /**\r\n       * @returns the plane coordinates as a new array of 4 elements [a, b, c, d].\r\n       */\r\n      Plane.prototype.asArray = function () {\r\n          return [this.normal.x, this.normal.y, this.normal.z, this.d];\r\n      };\r\n      // Methods\r\n      /**\r\n       * @returns a new plane copied from the current Plane.\r\n       */\r\n      Plane.prototype.clone = function () {\r\n          return new Plane(this.normal.x, this.normal.y, this.normal.z, this.d);\r\n      };\r\n      /**\r\n       * @returns the string \"Plane\".\r\n       */\r\n      Plane.prototype.getClassName = function () {\r\n          return 'Plane';\r\n      };\r\n      /**\r\n       * @returns the Plane hash code.\r\n       */\r\n      Plane.prototype.getHashCode = function () {\r\n          var hash = this.normal.getHashCode();\r\n          hash = (hash * 397) ^ (this.d || 0);\r\n          return hash;\r\n      };\r\n      /**\r\n       * Normalize the current Plane in place.\r\n       * @returns the updated Plane.\r\n       */\r\n      Plane.prototype.normalize = function () {\r\n          var norm = Math.sqrt(this.normal.x * this.normal.x + this.normal.y * this.normal.y + this.normal.z * this.normal.z);\r\n          var magnitude = 0.0;\r\n          if (norm !== 0) {\r\n              magnitude = 1.0 / norm;\r\n          }\r\n          this.normal.x *= magnitude;\r\n          this.normal.y *= magnitude;\r\n          this.normal.z *= magnitude;\r\n          this.d *= magnitude;\r\n          return this;\r\n      };\r\n      /**\r\n       * Applies a transformation the plane and returns the result\r\n       * @param transformation - the transformation matrix to be applied to the plane\r\n       * @returns a new Plane as the result of the transformation of the current Plane by the given matrix.\r\n       */\r\n      Plane.prototype.transform = function (transformation) {\r\n          var transposedMatrix = MathTmp.Matrix[0];\r\n          Matrix.TransposeToRef(transformation, transposedMatrix);\r\n          var m = transposedMatrix.m;\r\n          var x = this.normal.x;\r\n          var y = this.normal.y;\r\n          var z = this.normal.z;\r\n          var d = this.d;\r\n          var normalX = x * m[0] + y * m[1] + z * m[2] + d * m[3];\r\n          var normalY = x * m[4] + y * m[5] + z * m[6] + d * m[7];\r\n          var normalZ = x * m[8] + y * m[9] + z * m[10] + d * m[11];\r\n          var finalD = x * m[12] + y * m[13] + z * m[14] + d * m[15];\r\n          return new Plane(normalX, normalY, normalZ, finalD);\r\n      };\r\n      /**\r\n       * Calcualtte the dot product between the point and the plane normal\r\n       * @param point - point to calculate the dot product with\r\n       * @returns the dot product (float) of the point coordinates and the plane normal.\r\n       */\r\n      Plane.prototype.dotCoordinate = function (point) {\r\n          return this.normal.x * point.x + this.normal.y * point.y + this.normal.z * point.z + this.d;\r\n      };\r\n      /**\r\n       * Updates the current Plane from the plane defined by the three given points.\r\n       * @param point1 - one of the points used to contruct the plane\r\n       * @param point2 - one of the points used to contruct the plane\r\n       * @param point3 - one of the points used to contruct the plane\r\n       * @returns the updated Plane.\r\n       */\r\n      Plane.prototype.copyFromPoints = function (point1, point2, point3) {\r\n          var x1 = point2.x - point1.x;\r\n          var y1 = point2.y - point1.y;\r\n          var z1 = point2.z - point1.z;\r\n          var x2 = point3.x - point1.x;\r\n          var y2 = point3.y - point1.y;\r\n          var z2 = point3.z - point1.z;\r\n          var yz = y1 * z2 - z1 * y2;\r\n          var xz = z1 * x2 - x1 * z2;\r\n          var xy = x1 * y2 - y1 * x2;\r\n          var pyth = Math.sqrt(yz * yz + xz * xz + xy * xy);\r\n          var invPyth;\r\n          if (pyth !== 0) {\r\n              invPyth = 1.0 / pyth;\r\n          }\r\n          else {\r\n              invPyth = 0.0;\r\n          }\r\n          this.normal.x = yz * invPyth;\r\n          this.normal.y = xz * invPyth;\r\n          this.normal.z = xy * invPyth;\r\n          this.d = -(this.normal.x * point1.x + this.normal.y * point1.y + this.normal.z * point1.z);\r\n          return this;\r\n      };\r\n      /**\r\n       * Checks if the plane is facing a given direction\r\n       * @param direction - the direction to check if the plane is facing\r\n       * @param epsilon - value the dot product is compared against (returns true if dot &lt;= epsilon)\r\n       * @returns True is the vector \"direction\"  is the same side than the plane normal.\r\n       */\r\n      Plane.prototype.isFrontFacingTo = function (direction, epsilon) {\r\n          var dot = Vector3.Dot(this.normal, direction);\r\n          return dot <= epsilon;\r\n      };\r\n      /**\r\n       * Calculates the distance to a point\r\n       * @param point - point to calculate distance to\r\n       * @returns the signed distance (float) from the given point to the Plane.\r\n       */\r\n      Plane.prototype.signedDistanceTo = function (point) {\r\n          return Vector3.Dot(point, this.normal) + this.d;\r\n      };\r\n      return Plane;\r\n  }());\n\n  /**\r\n   * Reprasents a camera frustum\r\n   * @public\r\n   */\r\n  var Frustum = /** @class */ (function () {\r\n      function Frustum() {\r\n      }\r\n      /**\r\n       * Gets the planes representing the frustum\r\n       * @param transform - matrix to be applied to the returned planes\r\n       * @returns a new array of 6 Frustum planes computed by the given transformation matrix.\r\n       */\r\n      Frustum.GetPlanes = function (transform) {\r\n          var frustumPlanes = [];\r\n          for (var index = 0; index < 6; index++) {\r\n              frustumPlanes.push(new Plane(0.0, 0.0, 0.0, 0.0));\r\n          }\r\n          Frustum.GetPlanesToRef(transform, frustumPlanes);\r\n          return frustumPlanes;\r\n      };\r\n      /**\r\n       * Gets the near frustum plane transformed by the transform matrix\r\n       * @param transform - transformation matrix to be applied to the resulting frustum plane\r\n       * @param frustumPlane - the resuling frustum plane\r\n       */\r\n      Frustum.GetNearPlaneToRef = function (transform, frustumPlane) {\r\n          var m = transform.m;\r\n          frustumPlane.normal.x = m[3] + m[2];\r\n          frustumPlane.normal.y = m[7] + m[6];\r\n          frustumPlane.normal.z = m[11] + m[10];\r\n          frustumPlane.d = m[15] + m[14];\r\n          frustumPlane.normalize();\r\n      };\r\n      /**\r\n       * Gets the far frustum plane transformed by the transform matrix\r\n       * @param transform - transformation matrix to be applied to the resulting frustum plane\r\n       * @param frustumPlane - the resuling frustum plane\r\n       */\r\n      Frustum.GetFarPlaneToRef = function (transform, frustumPlane) {\r\n          var m = transform.m;\r\n          frustumPlane.normal.x = m[3] - m[2];\r\n          frustumPlane.normal.y = m[7] - m[6];\r\n          frustumPlane.normal.z = m[11] - m[10];\r\n          frustumPlane.d = m[15] - m[14];\r\n          frustumPlane.normalize();\r\n      };\r\n      /**\r\n       * Gets the left frustum plane transformed by the transform matrix\r\n       * @param transform - transformation matrix to be applied to the resulting frustum plane\r\n       * @param frustumPlane - the resuling frustum plane\r\n       */\r\n      Frustum.GetLeftPlaneToRef = function (transform, frustumPlane) {\r\n          var m = transform.m;\r\n          frustumPlane.normal.x = m[3] + m[0];\r\n          frustumPlane.normal.y = m[7] + m[4];\r\n          frustumPlane.normal.z = m[11] + m[8];\r\n          frustumPlane.d = m[15] + m[12];\r\n          frustumPlane.normalize();\r\n      };\r\n      /**\r\n       * Gets the right frustum plane transformed by the transform matrix\r\n       * @param transform - transformation matrix to be applied to the resulting frustum plane\r\n       * @param frustumPlane - the resuling frustum plane\r\n       */\r\n      Frustum.GetRightPlaneToRef = function (transform, frustumPlane) {\r\n          var m = transform.m;\r\n          frustumPlane.normal.x = m[3] - m[0];\r\n          frustumPlane.normal.y = m[7] - m[4];\r\n          frustumPlane.normal.z = m[11] - m[8];\r\n          frustumPlane.d = m[15] - m[12];\r\n          frustumPlane.normalize();\r\n      };\r\n      /**\r\n       * Gets the top frustum plane transformed by the transform matrix\r\n       * @param transform - transformation matrix to be applied to the resulting frustum plane\r\n       * @param frustumPlane - the resuling frustum plane\r\n       */\r\n      Frustum.GetTopPlaneToRef = function (transform, frustumPlane) {\r\n          var m = transform.m;\r\n          frustumPlane.normal.x = m[3] - m[1];\r\n          frustumPlane.normal.y = m[7] - m[5];\r\n          frustumPlane.normal.z = m[11] - m[9];\r\n          frustumPlane.d = m[15] - m[13];\r\n          frustumPlane.normalize();\r\n      };\r\n      /**\r\n       * Gets the bottom frustum plane transformed by the transform matrix\r\n       * @param transform - transformation matrix to be applied to the resulting frustum plane\r\n       * @param frustumPlane - the resuling frustum plane\r\n       */\r\n      Frustum.GetBottomPlaneToRef = function (transform, frustumPlane) {\r\n          var m = transform.m;\r\n          frustumPlane.normal.x = m[3] + m[1];\r\n          frustumPlane.normal.y = m[7] + m[5];\r\n          frustumPlane.normal.z = m[11] + m[9];\r\n          frustumPlane.d = m[15] + m[13];\r\n          frustumPlane.normalize();\r\n      };\r\n      /**\r\n       * Sets the given array \"frustumPlanes\" with the 6 Frustum planes computed by the given transformation matrix.\r\n       * @param transform - transformation matrix to be applied to the resulting frustum planes\r\n       * @param frustumPlanes - the resuling frustum planes\r\n       */\r\n      Frustum.GetPlanesToRef = function (transform, frustumPlanes) {\r\n          // Near\r\n          Frustum.GetNearPlaneToRef(transform, frustumPlanes[0]);\r\n          // Far\r\n          Frustum.GetFarPlaneToRef(transform, frustumPlanes[1]);\r\n          // Left\r\n          Frustum.GetLeftPlaneToRef(transform, frustumPlanes[2]);\r\n          // Right\r\n          Frustum.GetRightPlaneToRef(transform, frustumPlanes[3]);\r\n          // Top\r\n          Frustum.GetTopPlaneToRef(transform, frustumPlanes[4]);\r\n          // Bottom\r\n          Frustum.GetBottomPlaneToRef(transform, frustumPlanes[5]);\r\n      };\r\n      return Frustum;\r\n  }());\n\n  /**\r\n   * Represents a 2D path made up of multiple 2D points\r\n   * @public\r\n   */\r\n  var Path2 = /** @class */ (function () {\r\n      /**\r\n       * Creates a Path2 object from the starting 2D coordinates x and y.\r\n       * @param x - the starting points x value\r\n       * @param y - the starting points y value\r\n       */\r\n      function Path2(x, y) {\r\n          /**\r\n           * If the path start and end point are the same\r\n           */\r\n          this.closed = false;\r\n          this._points = new Array();\r\n          this._length = 0.0;\r\n          this._points.push(new Vector2(x, y));\r\n      }\r\n      /**\r\n       * Creates a new path starting from an x and y position\r\n       * @param x - starting x value\r\n       * @param y - starting y value\r\n       * @returns a new Path2 starting at the coordinates (x, y).\r\n       */\r\n      Path2.StartingAt = function (x, y) {\r\n          return new Path2(x, y);\r\n      };\r\n      /**\r\n       * Adds a new segment until the given coordinates (x, y) to the current Path2.\r\n       * @param x - the added points x value\r\n       * @param y - the added points y value\r\n       * @returns the updated Path2.\r\n       */\r\n      Path2.prototype.addLineTo = function (x, y) {\r\n          if (this.closed) {\r\n              return this;\r\n          }\r\n          var newPoint = new Vector2(x, y);\r\n          var previousPoint = this._points[this._points.length - 1];\r\n          this._points.push(newPoint);\r\n          this._length += newPoint.subtract(previousPoint).length();\r\n          return this;\r\n      };\r\n      /**\r\n       * Adds _numberOfSegments_ segments according to the arc definition (middle point coordinates, end point coordinates, the arc start point being the current Path2 last point) to the current Path2.\r\n       * @param midX - middle point x value\r\n       * @param midY - middle point y value\r\n       * @param endX - end point x value\r\n       * @param endY - end point y value\r\n       * @param numberOfSegments - (default: 36)\r\n       * @returns the updated Path2.\r\n       */\r\n      Path2.prototype.addArcTo = function (midX, midY, endX, endY, numberOfSegments) {\r\n          if (numberOfSegments === void 0) { numberOfSegments = 36; }\r\n          if (this.closed) {\r\n              return this;\r\n          }\r\n          var startPoint = this._points[this._points.length - 1];\r\n          var midPoint = new Vector2(midX, midY);\r\n          var endPoint = new Vector2(endX, endY);\r\n          var arc = new Arc2(startPoint, midPoint, endPoint);\r\n          var increment = arc.angle.radians() / numberOfSegments;\r\n          if (arc.orientation === exports.Orientation.CW) {\r\n              increment *= -1;\r\n          }\r\n          var currentAngle = arc.startAngle.radians() + increment;\r\n          for (var i = 0; i < numberOfSegments; i++) {\r\n              var x = Math.cos(currentAngle) * arc.radius + arc.centerPoint.x;\r\n              var y = Math.sin(currentAngle) * arc.radius + arc.centerPoint.y;\r\n              this.addLineTo(x, y);\r\n              currentAngle += increment;\r\n          }\r\n          return this;\r\n      };\r\n      /**\r\n       * Closes the Path2.\r\n       * @returns the Path2.\r\n       */\r\n      Path2.prototype.close = function () {\r\n          this.closed = true;\r\n          return this;\r\n      };\r\n      /**\r\n       * Gets the sum of the distance between each sequential point in the path\r\n       * @returns the Path2 total length (float).\r\n       */\r\n      Path2.prototype.length = function () {\r\n          var result = this._length;\r\n          if (!this.closed) {\r\n              var lastPoint = this._points[this._points.length - 1];\r\n              var firstPoint = this._points[0];\r\n              result += firstPoint.subtract(lastPoint).length();\r\n          }\r\n          return result;\r\n      };\r\n      /**\r\n       * Gets the points which construct the path\r\n       * @returns the Path2 internal array of points.\r\n       */\r\n      Path2.prototype.getPoints = function () {\r\n          return this._points;\r\n      };\r\n      /**\r\n       * Retreives the point at the distance aways from the starting point\r\n       * @param normalizedLengthPosition - the length along the path to retreive the point from\r\n       * @returns a new Vector2 located at a percentage of the Path2 total length on this path.\r\n       */\r\n      Path2.prototype.getPointAtLengthPosition = function (normalizedLengthPosition) {\r\n          if (normalizedLengthPosition < 0 || normalizedLengthPosition > 1) {\r\n              return Vector2.Zero();\r\n          }\r\n          var lengthPosition = normalizedLengthPosition * this.length();\r\n          var previousOffset = 0;\r\n          for (var i = 0; i < this._points.length; i++) {\r\n              var j = (i + 1) % this._points.length;\r\n              var a = this._points[i];\r\n              var b = this._points[j];\r\n              var bToA = b.subtract(a);\r\n              var nextOffset = bToA.length() + previousOffset;\r\n              if (lengthPosition >= previousOffset && lengthPosition <= nextOffset) {\r\n                  var dir = bToA.normalize();\r\n                  var localOffset = lengthPosition - previousOffset;\r\n                  return new Vector2(a.x + dir.x * localOffset, a.y + dir.y * localOffset);\r\n              }\r\n              previousOffset = nextOffset;\r\n          }\r\n          return Vector2.Zero();\r\n      };\r\n      return Path2;\r\n  }());\n\n  /**\r\n   * Represents a 3D path made up of multiple 3D points\r\n   * @public\r\n   */\r\n  var Path3D = /** @class */ (function () {\r\n      /**\r\n       * new Path3D(path, normal, raw)\r\n       * Creates a Path3D. A Path3D is a logical math object, so not a mesh.\r\n       * please read the description in the tutorial :  http://doc.babylonjs.com/tutorials/How_to_use_Path3D\r\n       * @param path - an array of Vector3, the curve axis of the Path3D\r\n       * @param normal - (options) Vector3, the first wanted normal to the curve. Ex (0, 1, 0) for a vertical normal.\r\n       * @param raw - (optional, default false) : boolean, if true the returned Path3D isn't normalized. Useful to depict path acceleration or speed.\r\n       */\r\n      function Path3D(\r\n      /**\r\n       * an array of Vector3, the curve axis of the Path3D\r\n       */\r\n      path, firstNormal, raw) {\r\n          if (firstNormal === void 0) { firstNormal = null; }\r\n          this.path = path;\r\n          this._curve = new Array();\r\n          this._distances = new Array();\r\n          this._tangents = new Array();\r\n          this._normals = new Array();\r\n          this._binormals = new Array();\r\n          for (var p = 0; p < path.length; p++) {\r\n              this._curve[p] = path[p].clone(); // hard copy\r\n          }\r\n          this._raw = raw || false;\r\n          this._compute(firstNormal);\r\n      }\r\n      /**\r\n       * Returns the Path3D array of successive Vector3 designing its curve.\r\n       * @returns the Path3D array of successive Vector3 designing its curve.\r\n       */\r\n      Path3D.prototype.getCurve = function () {\r\n          return this._curve;\r\n      };\r\n      /**\r\n       * Returns an array populated with tangent vectors on each Path3D curve point.\r\n       * @returns an array populated with tangent vectors on each Path3D curve point.\r\n       */\r\n      Path3D.prototype.getTangents = function () {\r\n          return this._tangents;\r\n      };\r\n      /**\r\n       * Returns an array populated with normal vectors on each Path3D curve point.\r\n       * @returns an array populated with normal vectors on each Path3D curve point.\r\n       */\r\n      Path3D.prototype.getNormals = function () {\r\n          return this._normals;\r\n      };\r\n      /**\r\n       * Returns an array populated with binormal vectors on each Path3D curve point.\r\n       * @returns an array populated with binormal vectors on each Path3D curve point.\r\n       */\r\n      Path3D.prototype.getBinormals = function () {\r\n          return this._binormals;\r\n      };\r\n      /**\r\n       * Returns an array populated with distances (float) of the i-th point from the first curve point.\r\n       * @returns an array populated with distances (float) of the i-th point from the first curve point.\r\n       */\r\n      Path3D.prototype.getDistances = function () {\r\n          return this._distances;\r\n      };\r\n      /**\r\n       * Forces the Path3D tangent, normal, binormal and distance recomputation.\r\n       * @param path - path which all values are copied into the curves points\r\n       * @param firstNormal - which should be projected onto the curve\r\n       * @returns the same object updated.\r\n       */\r\n      Path3D.prototype.update = function (path, firstNormal) {\r\n          if (firstNormal === void 0) { firstNormal = null; }\r\n          for (var p = 0; p < path.length; p++) {\r\n              this._curve[p].x = path[p].x;\r\n              this._curve[p].y = path[p].y;\r\n              this._curve[p].z = path[p].z;\r\n          }\r\n          this._compute(firstNormal);\r\n          return this;\r\n      };\r\n      // private function compute() : computes tangents, normals and binormals\r\n      Path3D.prototype._compute = function (firstNormal) {\r\n          var l = this._curve.length;\r\n          // first and last tangents\r\n          this._tangents[0] = this._getFirstNonNullVector(0);\r\n          if (!this._raw) {\r\n              this._tangents[0].normalize();\r\n          }\r\n          this._tangents[l - 1] = this._curve[l - 1].subtract(this._curve[l - 2]);\r\n          if (!this._raw) {\r\n              this._tangents[l - 1].normalize();\r\n          }\r\n          // normals and binormals at first point : arbitrary vector with _normalVector()\r\n          var tg0 = this._tangents[0];\r\n          var pp0 = this._normalVector(this._curve[0], tg0, firstNormal);\r\n          this._normals[0] = pp0;\r\n          if (!this._raw) {\r\n              this._normals[0].normalize();\r\n          }\r\n          this._binormals[0] = Vector3.Cross(tg0, this._normals[0]);\r\n          if (!this._raw) {\r\n              this._binormals[0].normalize();\r\n          }\r\n          this._distances[0] = 0.0;\r\n          // normals and binormals : next points\r\n          var prev; // previous vector (segment)\r\n          var cur; // current vector (segment)\r\n          var curTang; // current tangent\r\n          // previous normal\r\n          var prevBinor; // previous binormal\r\n          for (var i = 1; i < l; i++) {\r\n              // tangents\r\n              prev = this._getLastNonNullVector(i);\r\n              if (i < l - 1) {\r\n                  cur = this._getFirstNonNullVector(i);\r\n                  this._tangents[i] = prev.add(cur);\r\n                  this._tangents[i].normalize();\r\n              }\r\n              this._distances[i] = this._distances[i - 1] + prev.length();\r\n              // normals and binormals\r\n              // http://www.cs.cmu.edu/afs/andrew/scs/cs/15-462/web/old/asst2camera.html\r\n              curTang = this._tangents[i];\r\n              prevBinor = this._binormals[i - 1];\r\n              this._normals[i] = Vector3.Cross(prevBinor, curTang);\r\n              if (!this._raw) {\r\n                  this._normals[i].normalize();\r\n              }\r\n              this._binormals[i] = Vector3.Cross(curTang, this._normals[i]);\r\n              if (!this._raw) {\r\n                  this._binormals[i].normalize();\r\n              }\r\n          }\r\n      };\r\n      // returns the first non null vector from index : curve[index + N].subtract(curve[index])\r\n      Path3D.prototype._getFirstNonNullVector = function (index) {\r\n          var i = 1;\r\n          var nNVector = this._curve[index + i].subtract(this._curve[index]);\r\n          while (nNVector.length() === 0 && index + i + 1 < this._curve.length) {\r\n              i++;\r\n              nNVector = this._curve[index + i].subtract(this._curve[index]);\r\n          }\r\n          return nNVector;\r\n      };\r\n      // returns the last non null vector from index : curve[index].subtract(curve[index - N])\r\n      Path3D.prototype._getLastNonNullVector = function (index) {\r\n          var i = 1;\r\n          var nLVector = this._curve[index].subtract(this._curve[index - i]);\r\n          while (nLVector.length() === 0 && index > i + 1) {\r\n              i++;\r\n              nLVector = this._curve[index].subtract(this._curve[index - i]);\r\n          }\r\n          return nLVector;\r\n      };\r\n      // private function normalVector(v0, vt, va) :\r\n      // returns an arbitrary point in the plane defined by the point v0 and the vector vt orthogonal to this plane\r\n      // if va is passed, it returns the va projection on the plane orthogonal to vt at the point v0\r\n      Path3D.prototype._normalVector = function (v0, vt, va) {\r\n          var normal0;\r\n          var tgl = vt.length();\r\n          if (tgl === 0.0) {\r\n              tgl = 1.0;\r\n          }\r\n          if (va === undefined || va === null) {\r\n              var point = void 0;\r\n              if (!Scalar.WithinEpsilon(Math.abs(vt.y) / tgl, 1.0, Epsilon)) {\r\n                  // search for a point in the plane\r\n                  point = new Vector3(0.0, -1.0, 0.0);\r\n              }\r\n              else if (!Scalar.WithinEpsilon(Math.abs(vt.x) / tgl, 1.0, Epsilon)) {\r\n                  point = new Vector3(1.0, 0.0, 0.0);\r\n              }\r\n              else if (!Scalar.WithinEpsilon(Math.abs(vt.z) / tgl, 1.0, Epsilon)) {\r\n                  point = new Vector3(0.0, 0.0, 1.0);\r\n              }\r\n              else {\r\n                  point = Vector3.Zero();\r\n              }\r\n              normal0 = Vector3.Cross(vt, point);\r\n          }\r\n          else {\r\n              normal0 = Vector3.Cross(vt, va);\r\n              Vector3.CrossToRef(normal0, vt, normal0);\r\n          }\r\n          normal0.normalize();\r\n          return normal0;\r\n      };\r\n      return Path3D;\r\n  }());\n\n  /**\r\n   * Size containing widht and height\r\n   * @public\r\n   */\r\n  var Size = /** @class */ (function () {\r\n      /**\r\n       * Creates a Size object from the given width and height (floats).\r\n       * @param width - width of the new size\r\n       * @param height - height of the new size\r\n       */\r\n      function Size(width, height) {\r\n          this.width = width;\r\n          this.height = height;\r\n      }\r\n      Object.defineProperty(Size.prototype, \"surface\", {\r\n          /**\r\n           * The surface of the Size : width * height (float).\r\n           */\r\n          get: function () {\r\n              return this.width * this.height;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      /**\r\n       * Create a new size of zero\r\n       * @returns a new Size set to (0.0, 0.0)\r\n       */\r\n      Size.Zero = function () {\r\n          return new Size(0.0, 0.0);\r\n      };\r\n      /**\r\n       * Creates a new Size set at the linear interpolation \"amount\" between \"start\" and \"end\"\r\n       * @param start - starting size to lerp between\r\n       * @param end - end size to lerp between\r\n       * @param amount - amount to lerp between the start and end values\r\n       * @returns a new Size set at the linear interpolation \"amount\" between \"start\" and \"end\"\r\n       */\r\n      Size.Lerp = function (start, end, amount) {\r\n          var w = start.width + (end.width - start.width) * amount;\r\n          var h = start.height + (end.height - start.height) * amount;\r\n          return new Size(w, h);\r\n      };\r\n      /**\r\n       * Returns a string with the Size width and height\r\n       * @returns a string with the Size width and height\r\n       */\r\n      Size.prototype.toString = function () {\r\n          return \"{W: \" + this.width + \", H: \" + this.height + \"}\";\r\n      };\r\n      /**\r\n       * \"Size\"\r\n       * @returns the string \"Size\"\r\n       */\r\n      Size.prototype.getClassName = function () {\r\n          return 'Size';\r\n      };\r\n      /**\r\n       * Returns the Size hash code.\r\n       * @returns a hash code for a unique width and height\r\n       */\r\n      Size.prototype.getHashCode = function () {\r\n          var hash = this.width || 0;\r\n          hash = (hash * 397) ^ (this.height || 0);\r\n          return hash;\r\n      };\r\n      /**\r\n       * Updates the current size from the given one.\r\n       * @param src - the given size\r\n       */\r\n      Size.prototype.copyFrom = function (src) {\r\n          this.width = src.width;\r\n          this.height = src.height;\r\n      };\r\n      /**\r\n       * Updates in place the current Size from the given floats.\r\n       * @param width - width of the new size\r\n       * @param height - height of the new size\r\n       * @returns the updated Size.\r\n       */\r\n      Size.prototype.copyFromFloats = function (width, height) {\r\n          this.width = width;\r\n          this.height = height;\r\n          return this;\r\n      };\r\n      /**\r\n       * Updates in place the current Size from the given floats.\r\n       * @param width - width to set\r\n       * @param height - height to set\r\n       * @returns the updated Size.\r\n       */\r\n      Size.prototype.set = function (width, height) {\r\n          return this.copyFromFloats(width, height);\r\n      };\r\n      /**\r\n       * Multiplies the width and height by numbers\r\n       * @param w - factor to multiple the width by\r\n       * @param h - factor to multiple the height by\r\n       * @returns a new Size set with the multiplication result of the current Size and the given floats.\r\n       */\r\n      Size.prototype.multiplyByFloats = function (w, h) {\r\n          return new Size(this.width * w, this.height * h);\r\n      };\r\n      /**\r\n       * Clones the size\r\n       * @returns a new Size copied from the given one.\r\n       */\r\n      Size.prototype.clone = function () {\r\n          return new Size(this.width, this.height);\r\n      };\r\n      /**\r\n       * True if the current Size and the given one width and height are strictly equal.\r\n       * @param other - the other size to compare against\r\n       * @returns True if the current Size and the given one width and height are strictly equal.\r\n       */\r\n      Size.prototype.equals = function (other) {\r\n          if (!other) {\r\n              return false;\r\n          }\r\n          return this.width === other.width && this.height === other.height;\r\n      };\r\n      /**\r\n       * Sums the width and height of two sizes\r\n       * @param otherSize - size to add to this size\r\n       * @returns a new Size set as the addition result of the current Size and the given one.\r\n       */\r\n      Size.prototype.add = function (otherSize) {\r\n          var r = new Size(this.width + otherSize.width, this.height + otherSize.height);\r\n          return r;\r\n      };\r\n      /**\r\n       * Subtracts the width and height of two\r\n       * @param otherSize - size to subtract to this size\r\n       * @returns a new Size set as the subtraction result of  the given one from the current Size.\r\n       */\r\n      Size.prototype.subtract = function (otherSize) {\r\n          var r = new Size(this.width - otherSize.width, this.height - otherSize.height);\r\n          return r;\r\n      };\r\n      return Size;\r\n  }());\n\n  var defaultParams = {\r\n      looping: true,\r\n      speed: 1.0,\r\n      weight: 1.0,\r\n      layer: 0\r\n  };\r\n  /**\r\n   * @public\r\n   */\r\n  var AnimationState = /** @class */ (function (_super) {\r\n      __extends(AnimationState, _super);\r\n      function AnimationState(clip, params) {\r\n          if (params === void 0) { params = defaultParams; }\r\n          var _this = _super.call(this) || this;\r\n          // @internal\r\n          _this.isAnimationClip = true;\r\n          /**\r\n           * Does the animation loop?, default: true\r\n           */\r\n          _this.looping = defaultParams.looping;\r\n          /**\r\n           * Weight of the animation, values from 0 to 1, used to blend several animations. default: 1\r\n           */\r\n          _this.weight = defaultParams.weight;\r\n          /**\r\n           * Is the animation playing? default: true\r\n           */\r\n          _this.playing = false;\r\n          /**\r\n           * Does any anyone asked to reset the animation? default: false\r\n           */\r\n          _this.shouldReset = false;\r\n          /**\r\n           * The animation speed\r\n           */\r\n          _this.speed = defaultParams.speed;\r\n          // @internal\r\n          _this.name = newId('AnimClip');\r\n          /**\r\n           * Layering allows you to have two or more levels of animation on an object's parameters at the same time\r\n           */\r\n          _this.layer = defaultParams.layer;\r\n          _this.clip = clip;\r\n          _this.setParams(__assign({}, params));\r\n          return _this;\r\n      }\r\n      /**\r\n       * Sets the clip parameters\r\n       */\r\n      AnimationState.prototype.setParams = function (params) {\r\n          this.looping = params.looping !== undefined ? params.looping : this.looping;\r\n          this.speed = params.speed || this.speed;\r\n          this.weight = params.weight || this.weight;\r\n          this.layer = params.layer || this.layer;\r\n          return this;\r\n      };\r\n      AnimationState.prototype.toJSON = function () {\r\n          var ret = JSON.parse(JSON.stringify(_super.prototype.toJSON.call(this)));\r\n          if (this.shouldReset) {\r\n              this.shouldReset = false;\r\n          }\r\n          return ret;\r\n      };\r\n      /**\r\n       * Starts the animation\r\n       */\r\n      AnimationState.prototype.play = function (reset) {\r\n          var _a;\r\n          if (reset === void 0) { reset = false; }\r\n          (_a = this.owner) === null || _a === void 0 ? void 0 : _a.play(this, reset);\r\n      };\r\n      /**\r\n       * Pauses the animation\r\n       */\r\n      AnimationState.prototype.pause = function () {\r\n          var _a;\r\n          (_a = this.owner) === null || _a === void 0 ? void 0 : _a.pause(this);\r\n      };\r\n      /**\r\n       * Resets the animation state to the frame 0\r\n       */\r\n      AnimationState.prototype.reset = function () {\r\n          this.shouldReset = true;\r\n      };\r\n      /**\r\n       * Resets and pauses the animation\r\n       */\r\n      AnimationState.prototype.stop = function () {\r\n          var _a;\r\n          (_a = this.owner) === null || _a === void 0 ? void 0 : _a.stop(this);\r\n      };\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], AnimationState.prototype, \"clip\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AnimationState.prototype, \"looping\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AnimationState.prototype, \"weight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AnimationState.prototype, \"playing\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AnimationState.prototype, \"shouldReset\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AnimationState.prototype, \"speed\", void 0);\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], AnimationState.prototype, \"name\", void 0);\r\n      return AnimationState;\r\n  }(ObservableComponent));\n\n  /** @public */\r\n  exports.InputEventType = void 0;\r\n  (function (InputEventType) {\r\n      InputEventType[InputEventType[\"DOWN\"] = 0] = \"DOWN\";\r\n      InputEventType[InputEventType[\"UP\"] = 1] = \"UP\";\r\n  })(exports.InputEventType || (exports.InputEventType = {}));\r\n  /** @public */\r\n  exports.CameraMode = void 0;\r\n  (function (CameraMode) {\r\n      CameraMode[CameraMode[\"FirstPerson\"] = 0] = \"FirstPerson\";\r\n      CameraMode[CameraMode[\"ThirdPerson\"] = 1] = \"ThirdPerson\";\r\n      CameraMode[CameraMode[\"BuildingToolGodMode\"] = 2] = \"BuildingToolGodMode\";\r\n  })(exports.CameraMode || (exports.CameraMode = {}));\r\n  // @internal\r\n  var AVATAR_OBSERVABLE = 'AVATAR_OBSERVABLE';\r\n  /** @public */\r\n  exports.LandRole = void 0;\r\n  (function (LandRole) {\r\n      LandRole[\"OWNER\"] = \"owner\";\r\n      LandRole[\"OPERATOR\"] = \"operator\";\r\n  })(exports.LandRole || (exports.LandRole = {}));\n\n  // tslint:disable:ter-indent\r\n  /**\r\n   * @public\r\n   */\r\n  exports.ActionButton = void 0;\r\n  (function (ActionButton) {\r\n      ActionButton[\"POINTER\"] = \"POINTER\";\r\n      ActionButton[\"PRIMARY\"] = \"PRIMARY\";\r\n      ActionButton[\"SECONDARY\"] = \"SECONDARY\";\r\n      ActionButton[\"ANY\"] = \"ANY\";\r\n      ActionButton[\"FORWARD\"] = \"FORWARD\";\r\n      ActionButton[\"BACKWARD\"] = \"BACKWARD\";\r\n      ActionButton[\"RIGHT\"] = \"RIGHT\";\r\n      ActionButton[\"LEFT\"] = \"LEFT\";\r\n      ActionButton[\"JUMP\"] = \"JUMP\";\r\n      ActionButton[\"WALK\"] = \"WALK\";\r\n      ActionButton[\"ACTION_3\"] = \"ACTION_3\";\r\n      ActionButton[\"ACTION_4\"] = \"ACTION_4\";\r\n      ActionButton[\"ACTION_5\"] = \"ACTION_5\";\r\n      ActionButton[\"ACTION_6\"] = \"ACTION_6\";\r\n  })(exports.ActionButton || (exports.ActionButton = {}));\r\n  /**\r\n   * @public\r\n   */\r\n  var PointerEventComponent = /** @class */ (function () {\r\n      function PointerEventComponent(callback) {\r\n          this.callback = callback;\r\n          if (!callback || !('apply' in callback) || !('call' in callback)) {\r\n              throw new Error('Callback is not a function');\r\n          }\r\n          // tslint:disable-next-line:no-use-before-declare\r\n          Input.ensureInstance();\r\n      }\r\n      return PointerEventComponent;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  var GlobalPointerDown = /** @class */ (function (_super) {\r\n      __extends(GlobalPointerDown, _super);\r\n      function GlobalPointerDown() {\r\n          return _super !== null && _super.apply(this, arguments) || this;\r\n      }\r\n      GlobalPointerDown = __decorate([\r\n          Component('pointerDown')\r\n      ], GlobalPointerDown);\r\n      return GlobalPointerDown;\r\n  }(PointerEventComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var GlobalPointerUp = /** @class */ (function (_super) {\r\n      __extends(GlobalPointerUp, _super);\r\n      function GlobalPointerUp() {\r\n          return _super !== null && _super.apply(this, arguments) || this;\r\n      }\r\n      GlobalPointerUp = __decorate([\r\n          Component('pointerUp')\r\n      ], GlobalPointerUp);\r\n      return GlobalPointerUp;\r\n  }(PointerEventComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var Subscription = /** @class */ (function () {\r\n      function Subscription(fn, useRaycast) {\r\n          this.fn = fn;\r\n          this.useRaycast = useRaycast;\r\n      }\r\n      return Subscription;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  var Input = /** @class */ (function () {\r\n      function Input() {\r\n          // @internal\r\n          this.buttonIdMapping = [\r\n              exports.ActionButton.POINTER,\r\n              exports.ActionButton.PRIMARY,\r\n              exports.ActionButton.SECONDARY,\r\n              exports.ActionButton.ANY,\r\n              exports.ActionButton.FORWARD,\r\n              exports.ActionButton.BACKWARD,\r\n              exports.ActionButton.RIGHT,\r\n              exports.ActionButton.LEFT,\r\n              exports.ActionButton.JUMP,\r\n              exports.ActionButton.WALK,\r\n              exports.ActionButton.ACTION_3,\r\n              exports.ActionButton.ACTION_4,\r\n              exports.ActionButton.ACTION_5,\r\n              exports.ActionButton.ACTION_6\r\n          ];\r\n          // @internal\r\n          this.subscriptions = this.buttonIdMapping.reduce(function (acc, k) {\r\n              var _a;\r\n              return (__assign(__assign({}, acc), (_a = {}, _a[k] = { BUTTON_DOWN: [], BUTTON_UP: [] }, _a)));\r\n          }, {});\r\n          this.internalState = this.buttonIdMapping.reduce(function (acc, k) {\r\n              var _a;\r\n              return (__assign(__assign({}, acc), (_a = {}, _a[k] = { BUTTON_DOWN: false }, _a)));\r\n          }, {});\r\n      }\r\n      Object.defineProperty(Input, \"instance\", {\r\n          get: function () {\r\n              Input.ensureInstance();\r\n              return Input._instance;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Input.ensureInstance = function () {\r\n          if (!Input._instance) {\r\n              Input._instance = new Input();\r\n          }\r\n      };\r\n      /**\r\n       * Allows to know if a button is pressed\r\n       *\r\n       * Returns true if the button is pressed\r\n       * @param buttonId - The id of the button.\r\n       */\r\n      Input.prototype.isButtonPressed = function (buttonId) {\r\n          return this.internalState[buttonId];\r\n      };\r\n      /**\r\n       * Subscribes to an input event and triggers the provided callback.\r\n       *\r\n       * Returns a function that can be called to remove the subscription.\r\n       * @param eventName - The name of the event (see InputEventKind).\r\n       * @param buttonId - The id of the button.\r\n       * @param useRaycast - Enables getting raycast information.\r\n       * @param fn - A callback function to be called when the event is triggered.\r\n       */\r\n      Input.prototype.subscribe = function (eventName, buttonId, useRaycast, fn) {\r\n          var _this = this;\r\n          this.subscriptions[buttonId][eventName].push(new Subscription(fn, useRaycast));\r\n          return function () {\r\n              _this.unsubscribe(eventName, buttonId, fn);\r\n          };\r\n      };\r\n      /**\r\n       * Removes an existing input event subscription.\r\n       * @param eventName - The name of the event (see InputEventKind).\r\n       * @param buttonId - The id of the button.\r\n       * @param fn - The callback function used when subscribing to the event.\r\n       */\r\n      Input.prototype.unsubscribe = function (eventName, buttonId, fn) {\r\n          var index = this.getSubscriptionId(eventName, buttonId, fn);\r\n          if (index > -1) {\r\n              return this.subscriptions[buttonId][eventName].splice(index, 1);\r\n          }\r\n          return false;\r\n      };\r\n      Input.prototype.handlePointerEvent = function (data) {\r\n          var button = this.getPointerById(data.buttonId);\r\n          if (!button) {\r\n              return;\r\n          }\r\n          var eventResult = __assign(__assign({}, data), { button: button, direction: new Vector3().copyFrom(data.direction), origin: new Vector3().copyFrom(data.origin), hit: undefined });\r\n          var hit = data.hit\r\n              ? __assign(__assign({}, data.hit), { hitPoint: new Vector3().copyFrom(data.hit.hitPoint), normal: new Vector3().copyFrom(data.hit.normal), worldNormal: new Vector3().copyFrom(data.hit.worldNormal) }) : undefined;\r\n          if (data.type === exports.InputEventType.DOWN) {\r\n              this.internalState[button].BUTTON_DOWN = true;\r\n              for (var i = 0; i < this.subscriptions[button]['BUTTON_DOWN'].length; i++) {\r\n                  var subscription = this.subscriptions[button]['BUTTON_DOWN'][i];\r\n                  // remove hit information when raycast is disabled\r\n                  if (subscription.useRaycast) {\r\n                      eventResult.hit = hit;\r\n                  }\r\n                  else {\r\n                      eventResult.hit = undefined;\r\n                  }\r\n                  subscription.fn(eventResult);\r\n              }\r\n              if (hit && hit.entityId && DisposableComponent.engine) {\r\n                  var entity = DisposableComponent.engine.entities[hit.entityId];\r\n                  var handler = entity && entity.getComponentOrNull(GlobalPointerDown);\r\n                  if (handler) {\r\n                      eventResult.hit = hit;\r\n                      handler.callback(eventResult);\r\n                  }\r\n              }\r\n          }\r\n          else {\r\n              this.internalState[button].BUTTON_DOWN = false;\r\n              for (var i = 0; i < this.subscriptions[button]['BUTTON_UP'].length; i++) {\r\n                  var subscription = this.subscriptions[button]['BUTTON_UP'][i];\r\n                  // remove hit information when raycast is disabled\r\n                  if (subscription.useRaycast) {\r\n                      eventResult.hit = hit;\r\n                  }\r\n                  else {\r\n                      eventResult.hit = undefined;\r\n                  }\r\n                  subscription.fn(eventResult);\r\n              }\r\n              if (hit && hit.entityId && DisposableComponent.engine) {\r\n                  var entity = DisposableComponent.engine.entities[hit.entityId];\r\n                  var handler = entity && entity.getComponentOrNull(GlobalPointerUp);\r\n                  if (handler) {\r\n                      eventResult.hit = hit;\r\n                      handler.callback(eventResult);\r\n                  }\r\n              }\r\n          }\r\n      };\r\n      Input.prototype.getSubscriptionId = function (eventName, buttonId, fn) {\r\n          for (var i = 0; i < this.subscriptions[buttonId][eventName].length; i++) {\r\n              if (this.subscriptions[buttonId][eventName][i].fn === fn) {\r\n                  return i;\r\n              }\r\n          }\r\n          return -1;\r\n      };\r\n      Input.prototype.getPointerById = function (id) {\r\n          if (id < 0 || id >= this.buttonIdMapping.length) {\r\n              return null;\r\n          }\r\n          var actionButton = this.buttonIdMapping[id];\r\n          if (actionButton === exports.ActionButton.ANY) {\r\n              return null;\r\n          }\r\n          return actionButton;\r\n      };\r\n      return Input;\r\n  }());\n\n  /**\r\n   * @internal\r\n   */\r\n  exports.CLASS_ID = void 0;\r\n  (function (CLASS_ID) {\r\n      CLASS_ID[CLASS_ID[\"TRANSFORM\"] = 1] = \"TRANSFORM\";\r\n      CLASS_ID[CLASS_ID[\"UUID_CALLBACK\"] = 8] = \"UUID_CALLBACK\";\r\n      CLASS_ID[CLASS_ID[\"BOX_SHAPE\"] = 16] = \"BOX_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"SPHERE_SHAPE\"] = 17] = \"SPHERE_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"PLANE_SHAPE\"] = 18] = \"PLANE_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"CONE_SHAPE\"] = 19] = \"CONE_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"CYLINDER_SHAPE\"] = 20] = \"CYLINDER_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"TEXT_SHAPE\"] = 21] = \"TEXT_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"NFT_SHAPE\"] = 22] = \"NFT_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"UI_WORLD_SPACE_SHAPE\"] = 23] = \"UI_WORLD_SPACE_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"UI_SCREEN_SPACE_SHAPE\"] = 24] = \"UI_SCREEN_SPACE_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"UI_CONTAINER_RECT\"] = 25] = \"UI_CONTAINER_RECT\";\r\n      CLASS_ID[CLASS_ID[\"UI_CONTAINER_STACK\"] = 26] = \"UI_CONTAINER_STACK\";\r\n      CLASS_ID[CLASS_ID[\"UI_TEXT_SHAPE\"] = 27] = \"UI_TEXT_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"UI_INPUT_TEXT_SHAPE\"] = 28] = \"UI_INPUT_TEXT_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"UI_IMAGE_SHAPE\"] = 29] = \"UI_IMAGE_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"UI_SLIDER_SHAPE\"] = 30] = \"UI_SLIDER_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"CIRCLE_SHAPE\"] = 31] = \"CIRCLE_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"BILLBOARD\"] = 32] = \"BILLBOARD\";\r\n      CLASS_ID[CLASS_ID[\"ANIMATION\"] = 33] = \"ANIMATION\";\r\n      CLASS_ID[CLASS_ID[\"FONT\"] = 34] = \"FONT\";\r\n      CLASS_ID[CLASS_ID[\"UI_FULLSCREEN_SHAPE\"] = 40] = \"UI_FULLSCREEN_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"UI_BUTTON_SHAPE\"] = 41] = \"UI_BUTTON_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"GLTF_SHAPE\"] = 54] = \"GLTF_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"OBJ_SHAPE\"] = 55] = \"OBJ_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"AVATAR_SHAPE\"] = 56] = \"AVATAR_SHAPE\";\r\n      CLASS_ID[CLASS_ID[\"BASIC_MATERIAL\"] = 64] = \"BASIC_MATERIAL\";\r\n      CLASS_ID[CLASS_ID[\"PBR_MATERIAL\"] = 65] = \"PBR_MATERIAL\";\r\n      CLASS_ID[CLASS_ID[\"HIGHLIGHT_ENTITY\"] = 66] = \"HIGHLIGHT_ENTITY\";\r\n      /** @deprecated */\r\n      CLASS_ID[CLASS_ID[\"SOUND\"] = 67] = \"SOUND\";\r\n      CLASS_ID[CLASS_ID[\"TEXTURE\"] = 68] = \"TEXTURE\";\r\n      CLASS_ID[CLASS_ID[\"VIDEO_CLIP\"] = 70] = \"VIDEO_CLIP\";\r\n      CLASS_ID[CLASS_ID[\"VIDEO_TEXTURE\"] = 71] = \"VIDEO_TEXTURE\";\r\n      CLASS_ID[CLASS_ID[\"AUDIO_CLIP\"] = 200] = \"AUDIO_CLIP\";\r\n      CLASS_ID[CLASS_ID[\"AUDIO_SOURCE\"] = 201] = \"AUDIO_SOURCE\";\r\n      CLASS_ID[CLASS_ID[\"AUDIO_STREAM\"] = 202] = \"AUDIO_STREAM\";\r\n      CLASS_ID[CLASS_ID[\"GIZMOS\"] = 203] = \"GIZMOS\";\r\n      CLASS_ID[CLASS_ID[\"SMART_ITEM\"] = 204] = \"SMART_ITEM\";\r\n      CLASS_ID[CLASS_ID[\"AVATAR_MODIFIER_AREA\"] = 205] = \"AVATAR_MODIFIER_AREA\";\r\n      // For state sync only\r\n      CLASS_ID[CLASS_ID[\"NAME\"] = 300] = \"NAME\";\r\n      CLASS_ID[CLASS_ID[\"LOCKED_ON_EDIT\"] = 301] = \"LOCKED_ON_EDIT\";\r\n      CLASS_ID[CLASS_ID[\"VISIBLE_ON_EDIT\"] = 302] = \"VISIBLE_ON_EDIT\";\r\n  })(exports.CLASS_ID || (exports.CLASS_ID = {}));\r\n  /** @public */\r\n  exports.AvatarModifiers = void 0;\r\n  (function (AvatarModifiers) {\r\n      AvatarModifiers[\"HIDE_AVATARS\"] = \"HIDE_AVATARS\";\r\n      AvatarModifiers[\"DISABLE_PASSPORTS\"] = \"DISABLE_PASSPORTS\";\r\n  })(exports.AvatarModifiers || (exports.AvatarModifiers = {}));\r\n  /**\r\n   * Define an area where avatars can be modified in some way\r\n   * @public\r\n   */\r\n  var AvatarModifierArea = /** @class */ (function (_super) {\r\n      __extends(AvatarModifierArea, _super);\r\n      function AvatarModifierArea(args) {\r\n          var _this = _super.call(this) || this;\r\n          _this.area = args.area;\r\n          _this.modifiers = args.modifiers;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarModifierArea.prototype, \"area\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarModifierArea.prototype, \"modifiers\", void 0);\r\n      AvatarModifierArea = __decorate([\r\n          Component('engine.avatarModifierArea', exports.CLASS_ID.AVATAR_MODIFIER_AREA)\r\n      ], AvatarModifierArea);\r\n      return AvatarModifierArea;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var Transform = /** @class */ (function (_super) {\r\n      __extends(Transform, _super);\r\n      function Transform(args) {\r\n          if (args === void 0) { args = {}; }\r\n          var _this = _super.call(this) || this;\r\n          _this.position = args.position || Vector3.Zero();\r\n          _this.rotation = args.rotation || Quaternion.Identity;\r\n          _this.scale = args.scale || new Vector3(1, 1, 1);\r\n          return _this;\r\n      }\r\n      Object.defineProperty(Transform.prototype, \"eulerAngles\", {\r\n          /**\r\n           * @public\r\n           * The rotation as Euler angles in degrees.\r\n           */\r\n          get: function () {\r\n              return this.rotation.eulerAngles;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      /**\r\n       * @public\r\n       * Rotates the transform so the forward vector points at target's current position.\r\n       */\r\n      Transform.prototype.lookAt = function (target, worldUp) {\r\n          if (worldUp === void 0) { worldUp = MathTmp.staticUp; }\r\n          var result = new Matrix();\r\n          Matrix.LookAtLHToRef(this.position, target, worldUp, result);\r\n          result.invert();\r\n          Quaternion.FromRotationMatrixToRef(result, this.rotation);\r\n          return this;\r\n      };\r\n      /**\r\n       * @public\r\n       * Applies a rotation of euler angles around the x, y and z axis.\r\n       */\r\n      Transform.prototype.rotate = function (axis, angle) {\r\n          this.rotation.multiplyInPlace(this.rotation.angleAxis(angle, axis));\r\n          return this;\r\n      };\r\n      /**\r\n       * @public\r\n       * Moves the transform in the direction and distance of translation.\r\n       */\r\n      Transform.prototype.translate = function (vec) {\r\n          this.position.addInPlace(vec);\r\n          return this;\r\n      };\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Transform.prototype, \"position\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Transform.prototype, \"rotation\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Transform.prototype, \"scale\", void 0);\r\n      Transform = __decorate([\r\n          Component('engine.transform', exports.CLASS_ID.TRANSFORM)\r\n      ], Transform);\r\n      return Transform;\r\n  }(ObservableComponent));\r\n  /**\r\n   * Billboard defines a behavior that makes the entity face the camera in any moment.\r\n   * @public\r\n   */\r\n  var Billboard = /** @class */ (function (_super) {\r\n      __extends(Billboard, _super);\r\n      function Billboard(x, y, z) {\r\n          if (x === void 0) { x = true; }\r\n          if (y === void 0) { y = true; }\r\n          if (z === void 0) { z = true; }\r\n          var _this = _super.call(this) || this;\r\n          _this.x = true;\r\n          _this.y = true;\r\n          _this.z = true;\r\n          _this.x = x;\r\n          _this.y = y;\r\n          _this.z = z;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Billboard.prototype, \"x\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Billboard.prototype, \"y\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Billboard.prototype, \"z\", void 0);\r\n      Billboard = __decorate([\r\n          Component('engine.billboard', exports.CLASS_ID.BILLBOARD)\r\n      ], Billboard);\r\n      return Billboard;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var Shape = /** @class */ (function (_super) {\r\n      __extends(Shape, _super);\r\n      function Shape() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          /**\r\n           * Set to true to turn on the collider for the entity.\r\n           */\r\n          _this.withCollisions = true;\r\n          /**\r\n           * Set to true to turn on the PointerEvents blocking for the entity.\r\n           */\r\n          _this.isPointerBlocker = true;\r\n          /**\r\n           * Defines if the entity and its children should be rendered\r\n           */\r\n          _this.visible = true;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Shape.prototype, \"withCollisions\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Shape.prototype, \"isPointerBlocker\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Shape.prototype, \"visible\", void 0);\r\n      return Shape;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var BoxShape = /** @class */ (function (_super) {\r\n      __extends(BoxShape, _super);\r\n      function BoxShape() {\r\n          return _super !== null && _super.apply(this, arguments) || this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], BoxShape.prototype, \"uvs\", void 0);\r\n      BoxShape = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.BOX_SHAPE)\r\n      ], BoxShape);\r\n      return BoxShape;\r\n  }(Shape));\r\n  /**\r\n   * @public\r\n   */\r\n  var SphereShape = /** @class */ (function (_super) {\r\n      __extends(SphereShape, _super);\r\n      function SphereShape() {\r\n          return _super !== null && _super.apply(this, arguments) || this;\r\n      }\r\n      SphereShape = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.SPHERE_SHAPE)\r\n      ], SphereShape);\r\n      return SphereShape;\r\n  }(Shape));\r\n  /**\r\n   * @public\r\n   */\r\n  var CircleShape = /** @class */ (function (_super) {\r\n      __extends(CircleShape, _super);\r\n      function CircleShape() {\r\n          return _super !== null && _super.apply(this, arguments) || this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], CircleShape.prototype, \"segments\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], CircleShape.prototype, \"arc\", void 0);\r\n      CircleShape = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.CIRCLE_SHAPE)\r\n      ], CircleShape);\r\n      return CircleShape;\r\n  }(Shape));\r\n  /**\r\n   * @public\r\n   */\r\n  var PlaneShape = /** @class */ (function (_super) {\r\n      __extends(PlaneShape, _super);\r\n      function PlaneShape() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          /**\r\n           * Sets the horizontal length of the plane. Defaults to 1.\r\n           */\r\n          _this.width = 1;\r\n          /**\r\n           * Sets the vertical length of the plane. Defaults to 1.\r\n           */\r\n          _this.height = 1;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], PlaneShape.prototype, \"width\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], PlaneShape.prototype, \"height\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], PlaneShape.prototype, \"uvs\", void 0);\r\n      PlaneShape = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.PLANE_SHAPE)\r\n      ], PlaneShape);\r\n      return PlaneShape;\r\n  }(Shape));\r\n  /**\r\n   * @public\r\n   */\r\n  var ConeShape = /** @class */ (function (_super) {\r\n      __extends(ConeShape, _super);\r\n      function ConeShape() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          /**\r\n           * The radius of the top of a truncated cone. Defaults to 0.\r\n           */\r\n          _this.radiusTop = 0;\r\n          /**\r\n           * The radius of the base of the cone. Defaults to 1.\r\n           */\r\n          _this.radiusBottom = 1;\r\n          /**\r\n           * Sets the number of rings along the cone height (positive integer). Defaults to 1.\r\n           */\r\n          _this.segmentsHeight = 1;\r\n          /**\r\n           * Sets the number of cone sides (positive integer). Defaults to 36.\r\n           */\r\n          _this.segmentsRadial = 36;\r\n          /**\r\n           * Adds two extra faces per subdivision to enclose the cone around its height axis.\r\n           * Defaults to false.\r\n           */\r\n          _this.openEnded = false;\r\n          /**\r\n           * Sets the radius of the top and bottom caps at once.\r\n           *\r\n           * Properties `radiusTop` and `radiusBottom` are prioritized over this one.\r\n           */\r\n          _this.radius = null;\r\n          /**\r\n           * Sets the ratio (max 1) to apply to the circumference to slice the cone. Defaults to 360.\r\n           */\r\n          _this.arc = 360;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], ConeShape.prototype, \"radiusTop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], ConeShape.prototype, \"radiusBottom\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], ConeShape.prototype, \"segmentsHeight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], ConeShape.prototype, \"segmentsRadial\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], ConeShape.prototype, \"openEnded\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], ConeShape.prototype, \"radius\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], ConeShape.prototype, \"arc\", void 0);\r\n      ConeShape = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.CONE_SHAPE)\r\n      ], ConeShape);\r\n      return ConeShape;\r\n  }(Shape));\r\n  /**\r\n   * @public\r\n   */\r\n  var CylinderShape = /** @class */ (function (_super) {\r\n      __extends(CylinderShape, _super);\r\n      function CylinderShape() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          /**\r\n           * The radius of the top of the cylinder. Defaults to 0.\r\n           */\r\n          _this.radiusTop = 1;\r\n          /**\r\n           * The radius of the base of the cylinder. Defaults to 1.\r\n           */\r\n          _this.radiusBottom = 1;\r\n          /**\r\n           * Sets the number of rings along the cylinder height (positive integer). Defaults to 1.\r\n           */\r\n          _this.segmentsHeight = 1;\r\n          /**\r\n           * Sets the number of cylinder sides (positive integer). Defaults to 36.\r\n           */\r\n          _this.segmentsRadial = 36;\r\n          /**\r\n           * Adds two extra faces per subdivision to enclose the cylinder around its height axis.\r\n           * Defaults to false.\r\n           */\r\n          _this.openEnded = false;\r\n          /**\r\n           * Sets the radius of the top and bottom caps at once.\r\n           *\r\n           * Properties `radiusTop` and `radiusBottom` are prioritized over this one.\r\n           */\r\n          _this.radius = null;\r\n          /**\r\n           * Sets the ratio (max 1) to apply to the circumference to slice the cylinder. Defaults to 360.\r\n           */\r\n          _this.arc = 360;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], CylinderShape.prototype, \"radiusTop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], CylinderShape.prototype, \"radiusBottom\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], CylinderShape.prototype, \"segmentsHeight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], CylinderShape.prototype, \"segmentsRadial\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], CylinderShape.prototype, \"openEnded\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], CylinderShape.prototype, \"radius\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], CylinderShape.prototype, \"arc\", void 0);\r\n      CylinderShape = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.CYLINDER_SHAPE)\r\n      ], CylinderShape);\r\n      return CylinderShape;\r\n  }(Shape));\r\n  /**\r\n   * @public\r\n   */\r\n  var GLTFShape = /** @class */ (function (_super) {\r\n      __extends(GLTFShape, _super);\r\n      function GLTFShape(src) {\r\n          var _this = _super.call(this) || this;\r\n          _this.src = src;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          Shape.readonly\r\n      ], GLTFShape.prototype, \"src\", void 0);\r\n      GLTFShape = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.GLTF_SHAPE)\r\n      ], GLTFShape);\r\n      return GLTFShape;\r\n  }(Shape));\r\n  /** @public */\r\n  exports.PictureFrameStyle = void 0;\r\n  (function (PictureFrameStyle) {\r\n      PictureFrameStyle[PictureFrameStyle[\"Classic\"] = 0] = \"Classic\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Baroque_Ornament\"] = 1] = \"Baroque_Ornament\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Diamond_Ornament\"] = 2] = \"Diamond_Ornament\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Minimal_Wide\"] = 3] = \"Minimal_Wide\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Minimal_Grey\"] = 4] = \"Minimal_Grey\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Blocky\"] = 5] = \"Blocky\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Gold_Edges\"] = 6] = \"Gold_Edges\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Gold_Carved\"] = 7] = \"Gold_Carved\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Gold_Wide\"] = 8] = \"Gold_Wide\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Gold_Rounded\"] = 9] = \"Gold_Rounded\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Metal_Medium\"] = 10] = \"Metal_Medium\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Metal_Wide\"] = 11] = \"Metal_Wide\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Metal_Slim\"] = 12] = \"Metal_Slim\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Metal_Rounded\"] = 13] = \"Metal_Rounded\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Pins\"] = 14] = \"Pins\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Minimal_Black\"] = 15] = \"Minimal_Black\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Minimal_White\"] = 16] = \"Minimal_White\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Tape\"] = 17] = \"Tape\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Wood_Slim\"] = 18] = \"Wood_Slim\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Wood_Wide\"] = 19] = \"Wood_Wide\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Wood_Twigs\"] = 20] = \"Wood_Twigs\";\r\n      PictureFrameStyle[PictureFrameStyle[\"Canvas\"] = 21] = \"Canvas\";\r\n      PictureFrameStyle[PictureFrameStyle[\"None\"] = 22] = \"None\";\r\n  })(exports.PictureFrameStyle || (exports.PictureFrameStyle = {}));\r\n  /**\r\n   * @public\r\n   */\r\n  var NFTShape = /** @class */ (function (_super) {\r\n      __extends(NFTShape, _super);\r\n      function NFTShape(src, args) {\r\n          if (args === void 0) { args = {}; }\r\n          var _this = _super.call(this) || this;\r\n          _this.src = src;\r\n          var color = new Color3(0.6404918, 0.611472, 0.8584906);\r\n          var style = exports.PictureFrameStyle.Classic;\r\n          // check if args is color (backwards compatibility)\r\n          if ('r' in args) {\r\n              color = args;\r\n          }\r\n          else if (args != null) {\r\n              if (args.color)\r\n                  color = args.color;\r\n              if (args.style)\r\n                  style = args.style;\r\n          }\r\n          _this.color = color;\r\n          _this.style = style;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          Shape.readonly\r\n      ], NFTShape.prototype, \"src\", void 0);\r\n      __decorate([\r\n          Shape.readonly\r\n      ], NFTShape.prototype, \"style\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], NFTShape.prototype, \"color\", void 0);\r\n      NFTShape = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.NFT_SHAPE)\r\n      ], NFTShape);\r\n      return NFTShape;\r\n  }(Shape));\r\n  /**\r\n   * @public\r\n   */\r\n  var Texture = /** @class */ (function (_super) {\r\n      __extends(Texture, _super);\r\n      function Texture(src, opts) {\r\n          var _this = _super.call(this) || this;\r\n          _this.src = src;\r\n          if (opts) {\r\n              for (var i in opts) {\r\n                  var that = _this;\r\n                  that[i] = opts[i];\r\n              }\r\n          }\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], Texture.prototype, \"src\", void 0);\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], Texture.prototype, \"samplingMode\", void 0);\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], Texture.prototype, \"wrap\", void 0);\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], Texture.prototype, \"hasAlpha\", void 0);\r\n      Texture = __decorate([\r\n          DisposableComponent('engine.texture', exports.CLASS_ID.TEXTURE)\r\n      ], Texture);\r\n      return Texture;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var Animator = /** @class */ (function (_super) {\r\n      __extends(Animator, _super);\r\n      function Animator() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.states = [];\r\n          return _this;\r\n      }\r\n      /**\r\n       * Adds an AnimationState to the animation lists.\r\n       */\r\n      Animator.prototype.addClip = function (clip) {\r\n          var _this = this;\r\n          this.states.push(clip);\r\n          clip.onChange(function () {\r\n              _this.dirty = true;\r\n          });\r\n          clip.owner = this;\r\n          return this;\r\n      };\r\n      /**\r\n       * Gets the animation clip instance for the specified clip name.\r\n       * If the clip doesn't exist a new one will be created.\r\n       */\r\n      Animator.prototype.getClip = function (clipName) {\r\n          for (var i = 0; i < this.states.length; i++) {\r\n              var clip = this.states[i];\r\n              if (clip.clip === clipName) {\r\n                  return clip;\r\n              }\r\n          }\r\n          var newClip = new AnimationState(clipName);\r\n          this.addClip(newClip);\r\n          return newClip;\r\n      };\r\n      /**\r\n       * Resets and pauses the animation state, if the clip is null it will stop all animations on this animator\r\n       */\r\n      Animator.prototype.stop = function (clip) {\r\n          if (clip) {\r\n              clip.playing = false;\r\n              clip.shouldReset = true;\r\n          }\r\n          else {\r\n              for (var i = 0; i < this.states.length; i++) {\r\n                  var animationState = this.states[i];\r\n                  this.stop(animationState);\r\n              }\r\n          }\r\n      };\r\n      /**\r\n       * Starts the animation\r\n       */\r\n      Animator.prototype.play = function (clip, reset) {\r\n          if (reset === void 0) { reset = false; }\r\n          for (var i = 0; i < this.states.length; i++) {\r\n              var animationState = this.states[i];\r\n              if (animationState.layer === clip.layer && clip !== animationState) {\r\n                  this.pause(animationState);\r\n              }\r\n          }\r\n          if (reset)\r\n              clip.shouldReset = true;\r\n          clip.playing = true;\r\n          clip.dirty = true;\r\n          clip.data.nonce = Math.random();\r\n      };\r\n      /**\r\n       * Pauses the animation state, if the clip is null it will pause all animations on this animator\r\n       */\r\n      Animator.prototype.pause = function (clip) {\r\n          if (clip) {\r\n              clip.playing = false;\r\n          }\r\n          else {\r\n              for (var i = 0; i < this.states.length; i++) {\r\n                  var animationState = this.states[i];\r\n                  this.pause(animationState);\r\n              }\r\n          }\r\n      };\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], Animator.prototype, \"states\", void 0);\r\n      Animator = __decorate([\r\n          Component('engine.animator', exports.CLASS_ID.ANIMATION)\r\n      ], Animator);\r\n      return Animator;\r\n  }(Shape));\r\n  /**\r\n   * @public\r\n   */\r\n  var OBJShape = /** @class */ (function (_super) {\r\n      __extends(OBJShape, _super);\r\n      function OBJShape(src) {\r\n          var _this = _super.call(this) || this;\r\n          _this.src = src;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OBJShape.prototype, \"src\", void 0);\r\n      OBJShape = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.OBJ_SHAPE)\r\n      ], OBJShape);\r\n      return OBJShape;\r\n  }(Shape));\r\n  /**\r\n   * @public\r\n   */\r\n  var Font = /** @class */ (function (_super) {\r\n      __extends(Font, _super);\r\n      function Font(src) {\r\n          if (src === void 0) { src = ''; }\r\n          var _this = _super.call(this) || this;\r\n          _this.src = src;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], Font.prototype, \"src\", void 0);\r\n      Font = __decorate([\r\n          DisposableComponent('engine.font', exports.CLASS_ID.FONT)\r\n      ], Font);\r\n      return Font;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  exports.Fonts = void 0;\r\n  (function (Fonts) {\r\n      /** @deprecated SanFrancisco has been deprecated. Use SansSerif instead.*/\r\n      Fonts[\"SanFrancisco\"] = \"builtin:SF-UI-Text-Regular SDF\";\r\n      /** @deprecated SanFrancisco_Heavy has been deprecated. Use SansSerif_Heavy instead.*/\r\n      Fonts[\"SanFrancisco_Heavy\"] = \"builtin:SF-UI-Text-Heavy SDF\";\r\n      /** @deprecated SanFrancisco_Semibold has been deprecated. Use SansSerif_SemiBold instead.*/\r\n      Fonts[\"SanFrancisco_Semibold\"] = \"builtin:SF-UI-Text-Semibold SDF\";\r\n      Fonts[\"LiberationSans\"] = \"builtin:LiberationSans SDF\";\r\n      Fonts[\"SansSerif\"] = \"SansSerif\";\r\n      Fonts[\"SansSerif_Heavy\"] = \"SansSerif_Heavy\";\r\n      Fonts[\"SansSerif_Bold\"] = \"SansSerif_Bold\";\r\n      Fonts[\"SansSerif_SemiBold\"] = \"SansSerif_SemiBold\";\r\n  })(exports.Fonts || (exports.Fonts = {}));\r\n  /**\r\n   * @public\r\n   */\r\n  var TextShape = /** @class */ (function (_super) {\r\n      __extends(TextShape, _super);\r\n      function TextShape(value) {\r\n          var _this = _super.call(this) || this;\r\n          _this.outlineWidth = 0;\r\n          _this.outlineColor = new Color3(1, 1, 1);\r\n          _this.color = new Color3(1, 1, 1);\r\n          _this.fontSize = 10;\r\n          _this.opacity = 1.0;\r\n          _this.value = '';\r\n          _this.lineSpacing = '0px';\r\n          _this.lineCount = 0;\r\n          _this.textWrapping = false;\r\n          _this.shadowBlur = 0;\r\n          _this.shadowOffsetX = 0;\r\n          _this.shadowOffsetY = 0;\r\n          _this.shadowColor = new Color3(1, 1, 1);\r\n          _this.hTextAlign = 'center';\r\n          _this.vTextAlign = 'center';\r\n          _this.width = 1;\r\n          _this.height = 1;\r\n          _this.paddingTop = 0;\r\n          _this.paddingRight = 0;\r\n          _this.paddingBottom = 0;\r\n          _this.paddingLeft = 0;\r\n          _this.billboard = false;\r\n          _this.visible = true;\r\n          if (value) {\r\n              _this.value = value;\r\n          }\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"outlineWidth\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"outlineColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"color\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"fontSize\", void 0);\r\n      __decorate([\r\n          ObservableComponent.component\r\n      ], TextShape.prototype, \"font\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"opacity\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"value\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"lineSpacing\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"lineCount\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"textWrapping\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"shadowBlur\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"shadowOffsetX\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"shadowOffsetY\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"shadowColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"hTextAlign\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"vTextAlign\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"width\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"height\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"paddingTop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"paddingRight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"paddingBottom\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"paddingLeft\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"billboard\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], TextShape.prototype, \"visible\", void 0);\r\n      TextShape = __decorate([\r\n          Component('engine.text', exports.CLASS_ID.TEXT_SHAPE)\r\n      ], TextShape);\r\n      return TextShape;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  exports.TransparencyMode = void 0;\r\n  (function (TransparencyMode) {\r\n      TransparencyMode[TransparencyMode[\"OPAQUE\"] = 0] = \"OPAQUE\";\r\n      TransparencyMode[TransparencyMode[\"ALPHA_TEST\"] = 1] = \"ALPHA_TEST\";\r\n      TransparencyMode[TransparencyMode[\"ALPHA_BLEND\"] = 2] = \"ALPHA_BLEND\";\r\n      TransparencyMode[TransparencyMode[\"ALPHA_TEST_AND_BLEND\"] = 3] = \"ALPHA_TEST_AND_BLEND\";\r\n      TransparencyMode[TransparencyMode[\"AUTO\"] = 4] = \"AUTO\";\r\n  })(exports.TransparencyMode || (exports.TransparencyMode = {}));\r\n  /**\r\n   * @public\r\n   */\r\n  var Material = /** @class */ (function (_super) {\r\n      __extends(Material, _super);\r\n      function Material() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          /**\r\n           * Cutoff level for ALPHATEST mode. Range is between 0 and 1.\r\n           * Defaults to 0.5\r\n           */\r\n          _this.alphaTest = 0.5;\r\n          /**\r\n           * Allow the material to cast shadows over other objects\r\n           */\r\n          _this.castShadows = true;\r\n          /**\r\n           * Sets the transparency mode of the material.\r\n           * Defaults to -1.\r\n           *\r\n           * | Value | Type                                           |\r\n           * | ----- | ---------------------------------------------- |\r\n           * | 0     | OPAQUE  (default)                              |\r\n           * | 1     | ALPHATEST                                      |\r\n           * | 2     | ALPHABLEND                                     |\r\n           * | 3     | ALPHATESTANDBLEND                              |\r\n           * | 4     | AUTO (ALPHABLEND if alpha OPAQUE otherwise     |\r\n           */\r\n          _this.transparencyMode = exports.TransparencyMode.AUTO;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"alphaTest\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"albedoColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"emissiveColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"metallic\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"roughness\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"reflectivityColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"directIntensity\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"microSurface\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"emissiveIntensity\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"specularIntensity\", void 0);\r\n      __decorate([\r\n          ObservableComponent.component\r\n      ], Material.prototype, \"albedoTexture\", void 0);\r\n      __decorate([\r\n          ObservableComponent.component\r\n      ], Material.prototype, \"alphaTexture\", void 0);\r\n      __decorate([\r\n          ObservableComponent.component\r\n      ], Material.prototype, \"emissiveTexture\", void 0);\r\n      __decorate([\r\n          ObservableComponent.component\r\n      ], Material.prototype, \"bumpTexture\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"castShadows\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Material.prototype, \"transparencyMode\", void 0);\r\n      Material = __decorate([\r\n          DisposableComponent('engine.material', exports.CLASS_ID.PBR_MATERIAL)\r\n      ], Material);\r\n      return Material;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var BasicMaterial = /** @class */ (function (_super) {\r\n      __extends(BasicMaterial, _super);\r\n      function BasicMaterial() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          /**\r\n           * A number between 0 and 1.\r\n           * Any pixel with an alpha lower than this value will be shown as transparent.\r\n           */\r\n          _this.alphaTest = 0.5;\r\n          /**\r\n           * Allow the material to cast shadows over other objects\r\n           */\r\n          _this.castShadows = true;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.component\r\n      ], BasicMaterial.prototype, \"texture\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], BasicMaterial.prototype, \"alphaTest\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], BasicMaterial.prototype, \"castShadows\", void 0);\r\n      BasicMaterial = __decorate([\r\n          DisposableComponent('engine.material', exports.CLASS_ID.BASIC_MATERIAL)\r\n      ], BasicMaterial);\r\n      return BasicMaterial;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var OnUUIDEvent = /** @class */ (function (_super) {\r\n      __extends(OnUUIDEvent, _super);\r\n      function OnUUIDEvent(callback) {\r\n          var _this = _super.call(this) || this;\r\n          // @internal\r\n          _this.uuid = newId('UUID');\r\n          if (!callback || !('apply' in callback) || !('call' in callback)) {\r\n              throw new Error('Callback is not a function');\r\n          }\r\n          _this.callback = callback;\r\n          return _this;\r\n      }\r\n      OnUUIDEvent.uuidEvent = function (target, propertyKey) {\r\n          if (delete target[propertyKey]) {\r\n              var componentSymbol_1 = propertyKey + '_' + Math.random();\r\n              target[componentSymbol_1] = undefined;\r\n              Object.defineProperty(target, componentSymbol_1, __assign(__assign({}, Object.getOwnPropertyDescriptor(target, componentSymbol_1)), { enumerable: false }));\r\n              Object.defineProperty(target, propertyKey.toString(), {\r\n                  get: function () {\r\n                      return this[componentSymbol_1];\r\n                  },\r\n                  set: function (value) {\r\n                      var oldValue = this[componentSymbol_1];\r\n                      if (value) {\r\n                          if (value instanceof OnUUIDEvent) {\r\n                              this.data[propertyKey] = value.uuid;\r\n                          }\r\n                          else {\r\n                              throw new Error('value is not an OnUUIDEvent');\r\n                          }\r\n                      }\r\n                      else {\r\n                          this.data[propertyKey] = null;\r\n                      }\r\n                      this[componentSymbol_1] = value;\r\n                      if (value !== oldValue) {\r\n                          this.dirty = true;\r\n                          for (var i = 0; i < this.subscriptions.length; i++) {\r\n                              this.subscriptions[i](propertyKey, value, oldValue);\r\n                          }\r\n                      }\r\n                  },\r\n                  enumerable: true\r\n              });\r\n          }\r\n      };\r\n      OnUUIDEvent.prototype.toJSON = function () {\r\n          return { uuid: this.uuid, type: this.type };\r\n      };\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], OnUUIDEvent.prototype, \"callback\", void 0);\r\n      return OnUUIDEvent;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var OnPointerUUIDEvent = /** @class */ (function (_super) {\r\n      __extends(OnPointerUUIDEvent, _super);\r\n      function OnPointerUUIDEvent() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.button = exports.ActionButton.ANY;\r\n          _this.hoverText = 'Interact';\r\n          _this.distance = 10;\r\n          _this.showFeedback = true;\r\n          return _this;\r\n      }\r\n      OnPointerUUIDEvent.prototype.toJSON = function () {\r\n          return {\r\n              uuid: this.uuid,\r\n              type: this.type,\r\n              button: this.button,\r\n              hoverText: this.hoverText,\r\n              distance: this.distance,\r\n              showFeedback: this.showFeedback\r\n          };\r\n      };\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], OnPointerUUIDEvent.prototype, \"button\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], OnPointerUUIDEvent.prototype, \"hoverText\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], OnPointerUUIDEvent.prototype, \"distance\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], OnPointerUUIDEvent.prototype, \"showFeedback\", void 0);\r\n      return OnPointerUUIDEvent;\r\n  }(OnUUIDEvent));\r\n  /**\r\n   * @internal\r\n   */\r\n  var OnPointerLock = /** @class */ (function (_super) {\r\n      __extends(OnPointerLock, _super);\r\n      function OnPointerLock() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.type = 'onPointerLock';\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnPointerLock.prototype, \"type\", void 0);\r\n      OnPointerLock = __decorate([\r\n          Component('engine.onPointerLock', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnPointerLock);\r\n      return OnPointerLock;\r\n  }(OnUUIDEvent));\r\n  /**\r\n   * @public\r\n   */\r\n  var OnAnimationEnd = /** @class */ (function (_super) {\r\n      __extends(OnAnimationEnd, _super);\r\n      function OnAnimationEnd() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.type = 'onAnimationEnd';\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnAnimationEnd.prototype, \"type\", void 0);\r\n      OnAnimationEnd = __decorate([\r\n          Component('engine.onAnimationEnd', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnAnimationEnd);\r\n      return OnAnimationEnd;\r\n  }(OnUUIDEvent));\r\n  /**\r\n   * @internal\r\n   */\r\n  var SmartItem = /** @class */ (function (_super) {\r\n      __extends(SmartItem, _super);\r\n      function SmartItem() {\r\n          return _super !== null && _super.apply(this, arguments) || this;\r\n      }\r\n      SmartItem = __decorate([\r\n          Component('engine.smartItem', exports.CLASS_ID.SMART_ITEM)\r\n      ], SmartItem);\r\n      return SmartItem;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var VideoClip = /** @class */ (function (_super) {\r\n      __extends(VideoClip, _super);\r\n      function VideoClip(url) {\r\n          var _this = _super.call(this) || this;\r\n          _this.url = url;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], VideoClip.prototype, \"url\", void 0);\r\n      VideoClip = __decorate([\r\n          DisposableComponent('engine.VideoClip', exports.CLASS_ID.VIDEO_CLIP)\r\n      ], VideoClip);\r\n      return VideoClip;\r\n  }(ObservableComponent));\r\n  /** @public */\r\n  exports.VideoStatus = void 0;\r\n  (function (VideoStatus) {\r\n      VideoStatus[VideoStatus[\"NONE\"] = 0] = \"NONE\";\r\n      VideoStatus[VideoStatus[\"ERROR\"] = 1] = \"ERROR\";\r\n      VideoStatus[VideoStatus[\"LOADING\"] = 2] = \"LOADING\";\r\n      VideoStatus[VideoStatus[\"READY\"] = 3] = \"READY\";\r\n      VideoStatus[VideoStatus[\"PLAYING\"] = 4] = \"PLAYING\";\r\n      VideoStatus[VideoStatus[\"BUFFERING\"] = 5] = \"BUFFERING\";\r\n  })(exports.VideoStatus || (exports.VideoStatus = {}));\r\n  /**\r\n   * @public\r\n   */\r\n  var VideoTexture = /** @class */ (function (_super) {\r\n      __extends(VideoTexture, _super);\r\n      function VideoTexture(videoClip, opts) {\r\n          var _this = _super.call(this) || this;\r\n          _this.volume = 1;\r\n          _this.playbackRate = 1;\r\n          _this.loop = false;\r\n          _this.seek = -1;\r\n          _this._position = -1;\r\n          _this._videoLength = -1;\r\n          _this._status = exports.VideoStatus.NONE;\r\n          /**\r\n           * Is this VideoTexture playing?\r\n           */\r\n          _this.playing = false;\r\n          if (!(videoClip instanceof VideoClip)) {\r\n              throw new Error(\"Trying to create VideoTexture(VideoClip) with an invalid VideoClip\");\r\n          }\r\n          _this.videoClipId = getComponentId(videoClip);\r\n          if (opts) {\r\n              for (var i in opts) {\r\n                  var that = _this;\r\n                  that[i] = opts[i];\r\n              }\r\n          }\r\n          return _this;\r\n      }\r\n      VideoTexture.prototype.play = function () {\r\n          this.playing = true;\r\n      };\r\n      VideoTexture.prototype.pause = function () {\r\n          this.playing = false;\r\n      };\r\n      VideoTexture.prototype.reset = function () {\r\n          this.seekTime(0);\r\n          this.pause();\r\n      };\r\n      VideoTexture.prototype.seekTime = function (seconds) {\r\n          this.seek = seconds;\r\n          this.dirty = true;\r\n          this.data.nonce = Math.random();\r\n      };\r\n      VideoTexture.prototype.toJSON = function () {\r\n          if (this.seek >= 0) {\r\n              // the seek value was changed/used\r\n              var ret = JSON.parse(JSON.stringify(_super.prototype.toJSON.call(this)));\r\n              this.seek = -1;\r\n              return ret;\r\n          }\r\n          return _super.prototype.toJSON.call(this);\r\n      };\r\n      VideoTexture.prototype.update = function (videoEvent) {\r\n          if (videoEvent.videoClipId == this.videoClipId) {\r\n              this._status = videoEvent.videoStatus || exports.VideoStatus.NONE;\r\n              this._videoLength = videoEvent.totalVideoLength;\r\n              this._position = videoEvent.currentOffset;\r\n          }\r\n      };\r\n      Object.defineProperty(VideoTexture.prototype, \"position\", {\r\n          get: function () {\r\n              return this._position;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Object.defineProperty(VideoTexture.prototype, \"videoLength\", {\r\n          get: function () {\r\n              return this._videoLength;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Object.defineProperty(VideoTexture.prototype, \"status\", {\r\n          get: function () {\r\n              return this._status;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], VideoTexture.prototype, \"videoClipId\", void 0);\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], VideoTexture.prototype, \"samplingMode\", void 0);\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], VideoTexture.prototype, \"wrap\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], VideoTexture.prototype, \"volume\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], VideoTexture.prototype, \"playbackRate\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], VideoTexture.prototype, \"loop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], VideoTexture.prototype, \"seek\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], VideoTexture.prototype, \"playing\", void 0);\r\n      VideoTexture = __decorate([\r\n          DisposableComponent('engine.VideoTexture', exports.CLASS_ID.VIDEO_TEXTURE)\r\n      ], VideoTexture);\r\n      return VideoTexture;\r\n  }(ObservableComponent));\n\n  /**\r\n   * @public\r\n   */\r\n  var Camera = /** @class */ (function () {\r\n      function Camera() {\r\n          var _this = this;\r\n          /** Camera position, relative to the parcel. */\r\n          this.position = new Vector3();\r\n          /** Camera rotation */\r\n          this.rotation = new Quaternion();\r\n          /** Feet position, relative to the parcel.  */\r\n          this.feetPosition = new Vector3();\r\n          /** Camera position, absolute. */\r\n          this.worldPosition = new Vector3();\r\n          // @internal\r\n          this.lastEventPosition = { x: 0, y: 0, z: 0 };\r\n          // @internal\r\n          this.lastEventWorldPosition = { x: 0, y: 0, z: 0 };\r\n          // @internal\r\n          this.lastEventRotation = { x: 0, y: 0, z: 0, w: 1.0 };\r\n          // @internal\r\n          this._playerHeight = 1.6;\r\n          // @internal\r\n          this._cameraMode = exports.CameraMode.FirstPerson;\r\n          if (typeof dcl !== 'undefined') {\r\n              dcl.subscribe('positionChanged');\r\n              dcl.subscribe('rotationChanged');\r\n              dcl.subscribe('cameraModeChanged');\r\n              dcl.onEvent(function (event) {\r\n                  switch (event.type) {\r\n                      case 'positionChanged':\r\n                          _this.positionChanged(event.data);\r\n                          break;\r\n                      case 'rotationChanged':\r\n                          _this.rotationChanged(event.data);\r\n                          break;\r\n                      case 'cameraModeChanged':\r\n                          _this.cameraModeChanged(event.data);\r\n                          break;\r\n                  }\r\n              });\r\n          }\r\n          Object.defineProperty(this.position, 'x', {\r\n              get: function () { return _this.lastEventPosition.x; }\r\n          });\r\n          Object.defineProperty(this.position, 'y', {\r\n              get: function () { return _this.lastEventPosition.y; }\r\n          });\r\n          Object.defineProperty(this.position, 'z', {\r\n              get: function () { return _this.lastEventPosition.z; }\r\n          });\r\n          Object.defineProperty(this.worldPosition, 'x', {\r\n              get: function () { return _this.lastEventWorldPosition.x; }\r\n          });\r\n          Object.defineProperty(this.worldPosition, 'y', {\r\n              get: function () { return _this.lastEventWorldPosition.y; }\r\n          });\r\n          Object.defineProperty(this.worldPosition, 'z', {\r\n              get: function () { return _this.lastEventWorldPosition.z; }\r\n          });\r\n          Object.defineProperty(this.feetPosition, 'x', {\r\n              get: function () { return _this.lastEventPosition.x; }\r\n          });\r\n          Object.defineProperty(this.feetPosition, 'y', {\r\n              get: function () { return _this.lastEventPosition.y - _this.playerHeight; }\r\n          });\r\n          Object.defineProperty(this.feetPosition, 'z', {\r\n              get: function () { return _this.lastEventPosition.z; }\r\n          });\r\n          Object.defineProperty(this.rotation, 'x', {\r\n              get: function () { return _this.lastEventRotation.x; }\r\n          });\r\n          Object.defineProperty(this.rotation, 'y', {\r\n              get: function () { return _this.lastEventRotation.y; }\r\n          });\r\n          Object.defineProperty(this.rotation, 'z', {\r\n              get: function () { return _this.lastEventRotation.z; }\r\n          });\r\n          Object.defineProperty(this.rotation, 'w', {\r\n              get: function () { return _this.lastEventRotation.w; }\r\n          });\r\n      }\r\n      Object.defineProperty(Camera, \"instance\", {\r\n          get: function () {\r\n              if (!Camera._instance) {\r\n                  Camera._instance = new Camera();\r\n              }\r\n              return Camera._instance;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Object.defineProperty(Camera.prototype, \"playerHeight\", {\r\n          /** Player height. */\r\n          get: function () {\r\n              return this._playerHeight;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Object.defineProperty(Camera.prototype, \"cameraMode\", {\r\n          /** Get Camera Mode. */\r\n          get: function () {\r\n              return this._cameraMode;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      // @internal\r\n      Camera.prototype.positionChanged = function (e) {\r\n          this.lastEventPosition = e.position;\r\n          this.lastEventWorldPosition = e.cameraPosition;\r\n          this._playerHeight = e.playerHeight;\r\n      };\r\n      // @internal\r\n      Camera.prototype.rotationChanged = function (e) {\r\n          this.lastEventRotation = e.quaternion;\r\n      };\r\n      // @internal\r\n      Camera.prototype.cameraModeChanged = function (e) {\r\n          this._cameraMode = e.cameraMode;\r\n      };\r\n      return Camera;\r\n  }());\n\n  /**\r\n   * @internal\r\n   */\r\n  var QueryPrefix;\r\n  (function (QueryPrefix) {\r\n      QueryPrefix[\"HitFirst\"] = \"rqhf\";\r\n      QueryPrefix[\"HitAll\"] = \"rqha\";\r\n  })(QueryPrefix || (QueryPrefix = {}));\r\n  /**\r\n   * @public\r\n   */\r\n  var PhysicsCast = /** @class */ (function () {\r\n      function PhysicsCast() {\r\n          this.queries = {};\r\n      }\r\n      Object.defineProperty(PhysicsCast, \"instance\", {\r\n          get: function () {\r\n              PhysicsCast.ensureInstance();\r\n              return PhysicsCast._instance;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      PhysicsCast.ensureInstance = function () {\r\n          if (!PhysicsCast._instance) {\r\n              PhysicsCast._instance = new PhysicsCast();\r\n          }\r\n      };\r\n      PhysicsCast.prototype.getRayFromCamera = function (distance) {\r\n          var rotation = Camera.instance.rotation;\r\n          var rotationMat = Matrix.Identity();\r\n          rotation.toRotationMatrix(rotationMat);\r\n          var direction = Vector3.TransformCoordinates(Vector3.Forward(), rotationMat);\r\n          var ray = {\r\n              origin: Camera.instance.position,\r\n              direction: direction,\r\n              distance: distance\r\n          };\r\n          return ray;\r\n      };\r\n      PhysicsCast.prototype.getRayFromPositions = function (from, to) {\r\n          var direction = to.subtract(from);\r\n          var length = direction.length();\r\n          var ray = {\r\n              origin: from,\r\n              direction: direction.normalize(),\r\n              distance: length\r\n          };\r\n          return ray;\r\n      };\r\n      PhysicsCast.prototype.hitFirst = function (ray, hitCallback, id) {\r\n          var queryId = typeof id === 'number' ? QueryPrefix.HitFirst + id : uuid();\r\n          this.queries[queryId] = hitCallback;\r\n          if (typeof dcl != 'undefined') {\r\n              dcl.query('raycast', { queryId: queryId, queryType: 'HitFirst', ray: ray });\r\n          }\r\n      };\r\n      PhysicsCast.prototype.hitAll = function (ray, hitCallback, id) {\r\n          var queryId = typeof id === 'number' ? QueryPrefix.HitAll + id : uuid();\r\n          this.queries[queryId] = hitCallback;\r\n          if (typeof dcl != 'undefined') {\r\n              dcl.query('raycast', { queryId: queryId, queryType: 'HitAll', ray: ray });\r\n          }\r\n      };\r\n      PhysicsCast.prototype.hitFirstAvatar = function (ray, hitCallback) {\r\n          log('not implemented yet');\r\n      };\r\n      PhysicsCast.prototype.hitAllAvatars = function (ray, hitCallback) {\r\n          log('not implemented yet');\r\n      };\r\n      PhysicsCast.prototype.handleRaycastHitFirstResponse = function (response) {\r\n          this.queries[response.payload.queryId](response.payload.payload);\r\n          delete this.queries[response.payload.queryId];\r\n      };\r\n      PhysicsCast.prototype.handleRaycastHitAllResponse = function (response) {\r\n          this.queries[response.payload.queryId](response.payload.payload);\r\n          delete this.queries[response.payload.queryId];\r\n      };\r\n      return PhysicsCast;\r\n  }());\n\n  /**\r\n   * @public\r\n   */\r\n  var RaycastEventSystem = /** @class */ (function () {\r\n      function RaycastEventSystem() {\r\n      }\r\n      RaycastEventSystem.prototype.activate = function (engine) {\r\n          engine.eventManager.addListener(RaycastResponse, this, function (event) {\r\n              if (event.payload.queryType === 'HitFirst') {\r\n                  PhysicsCast.instance.handleRaycastHitFirstResponse(event);\r\n              }\r\n              else if (event.payload.queryType === 'HitAll') {\r\n                  PhysicsCast.instance.handleRaycastHitAllResponse(event);\r\n              }\r\n          });\r\n          if (typeof dcl !== 'undefined') {\r\n              dcl.subscribe('raycastResponse');\r\n          }\r\n      };\r\n      RaycastEventSystem.prototype.deactivate = function () {\r\n          if (typeof dcl !== 'undefined') {\r\n              dcl.unsubscribe('raycastResponse');\r\n          }\r\n      };\r\n      return RaycastEventSystem;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  var PointerEventSystem = /** @class */ (function () {\r\n      function PointerEventSystem() {\r\n      }\r\n      PointerEventSystem.prototype.activate = function (engine) {\r\n          engine.eventManager.addListener(PointerEvent, this, function (event) {\r\n              Input.instance.handlePointerEvent(event.payload);\r\n          });\r\n          if (typeof dcl !== 'undefined') {\r\n              dcl.subscribe('pointerUp');\r\n              dcl.subscribe('pointerDown');\r\n              dcl.subscribe('actionButtonEvent');\r\n          }\r\n      };\r\n      PointerEventSystem.prototype.deactivate = function () {\r\n          if (typeof dcl !== 'undefined') {\r\n              dcl.unsubscribe('pointerUp');\r\n              dcl.unsubscribe('pointerDown');\r\n              dcl.unsubscribe('actionButtonEvent');\r\n          }\r\n      };\r\n      return PointerEventSystem;\r\n  }());\r\n  /**\r\n   * @public\r\n   */\r\n  var UUIDEventSystem = /** @class */ (function () {\r\n      function UUIDEventSystem() {\r\n          this.handlerMap = {};\r\n      }\r\n      UUIDEventSystem.prototype.activate = function (engine) {\r\n          engine.eventManager.addListener(UUIDEvent, this, this.handleEvent);\r\n          engine.eventManager.addListener(ComponentAdded, this, this.componentAdded);\r\n          engine.eventManager.addListener(ComponentRemoved, this, this.componentRemoved);\r\n          if (typeof dcl !== 'undefined') {\r\n              dcl.subscribe('uuidEvent');\r\n          }\r\n      };\r\n      UUIDEventSystem.prototype.deactivate = function () {\r\n          if (typeof dcl !== 'undefined') {\r\n              dcl.unsubscribe('uuidEvent');\r\n          }\r\n      };\r\n      UUIDEventSystem.prototype.onAddEntity = function (entity) {\r\n          for (var componentName in entity.components) {\r\n              var component = entity.components[componentName];\r\n              if (component instanceof OnUUIDEvent) {\r\n                  this.handlerMap[component.uuid] = component;\r\n              }\r\n          }\r\n      };\r\n      UUIDEventSystem.prototype.onRemoveEntity = function (entity) {\r\n          for (var componentName in entity.components) {\r\n              var component = entity.components[componentName];\r\n              if (component instanceof OnUUIDEvent) {\r\n                  delete this.handlerMap[component.uuid];\r\n              }\r\n          }\r\n      };\r\n      UUIDEventSystem.prototype.componentAdded = function (event) {\r\n          if (event.entity.isAddedToEngine()) {\r\n              var component = event.entity.components[event.componentName];\r\n              if (component instanceof OnUUIDEvent) {\r\n                  this.handlerMap[component.uuid] = component;\r\n              }\r\n          }\r\n      };\r\n      UUIDEventSystem.prototype.componentRemoved = function (event) {\r\n          if (event.entity.isAddedToEngine()) {\r\n              if (event.component instanceof OnUUIDEvent) {\r\n                  delete this.handlerMap[event.component.uuid];\r\n              }\r\n          }\r\n      };\r\n      UUIDEventSystem.prototype.handleEvent = function (event) {\r\n          if (event.uuid in this.handlerMap) {\r\n              var handler = this.handlerMap[event.uuid];\r\n              if (handler) {\r\n                  if (handler.callback && 'call' in handler.callback) {\r\n                      handler.callback(event.payload);\r\n                  }\r\n              }\r\n          }\r\n      };\r\n      return UUIDEventSystem;\r\n  }());\r\n  /** @internal */\r\n  var raycastEventSystem = new RaycastEventSystem();\r\n  /** @internal */\r\n  var pointerEventSystem = new PointerEventSystem();\r\n  /** @internal */\r\n  var uuidEventSystem = new UUIDEventSystem();\n\n  /**\r\n   * @public\r\n   */\r\n  var AudioClip = /** @class */ (function (_super) {\r\n      __extends(AudioClip, _super);\r\n      function AudioClip(url) {\r\n          var _this = _super.call(this) || this;\r\n          /**\r\n           * Is this clip looping by default?\r\n           */\r\n          _this.loop = false;\r\n          /**\r\n           * Clip's master volume. This volume affects all the AudioSources.\r\n           * Valid ranges from 0 to 1\r\n           */\r\n          _this.volume = 1;\r\n          _this.url = url;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], AudioClip.prototype, \"url\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AudioClip.prototype, \"loop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AudioClip.prototype, \"loadingCompleteEventId\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AudioClip.prototype, \"volume\", void 0);\r\n      AudioClip = __decorate([\r\n          DisposableComponent('engine.AudioClip', exports.CLASS_ID.AUDIO_CLIP)\r\n      ], AudioClip);\r\n      return AudioClip;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var AudioSource = /** @class */ (function (_super) {\r\n      __extends(AudioSource, _super);\r\n      function AudioSource(audioClip) {\r\n          var _this = _super.call(this) || this;\r\n          _this.audioClip = audioClip;\r\n          /**\r\n           * Is this clip looping by default?\r\n           */\r\n          _this.loop = false;\r\n          /**\r\n           * Clip's master volume. This volume affects all the AudioSources.\r\n           * Valid ranges from 0 to 1\r\n           */\r\n          _this.volume = 1;\r\n          /**\r\n           * Is this AudioSource playing?\r\n           */\r\n          _this.playing = false;\r\n          /**\r\n           * Pitch, default: 1.0, range from 0.0 to MaxFloat\r\n           */\r\n          _this.pitch = 1.0;\r\n          /**\r\n           * Timestamp of when the playOnce was executed to see if we need to start over the audio\r\n           */\r\n          _this.playedAtTimestamp = Date.now();\r\n          if (!(audioClip instanceof AudioClip)) {\r\n              throw new Error(\"Trying to create AudioSource(AudioClip) with an invalid AudioClip\");\r\n          }\r\n          _this.audioClipId = getComponentId(audioClip);\r\n          return _this;\r\n      }\r\n      /**\r\n       * Disables the looping and plays the current source once.\r\n       * If the sound was playing, it stops and starts over.\r\n       */\r\n      AudioSource.prototype.playOnce = function () {\r\n          this.playing = true;\r\n          this.dirty = true;\r\n          this.playedAtTimestamp = Date.now();\r\n          this.data.nonce = Math.random();\r\n          return this;\r\n      };\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], AudioSource.prototype, \"audioClipId\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AudioSource.prototype, \"loop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AudioSource.prototype, \"volume\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AudioSource.prototype, \"playing\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AudioSource.prototype, \"pitch\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AudioSource.prototype, \"playedAtTimestamp\", void 0);\r\n      AudioSource = __decorate([\r\n          Component('engine.AudioSource', exports.CLASS_ID.AUDIO_SOURCE)\r\n      ], AudioSource);\r\n      return AudioSource;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @public\r\n   */\r\n  var AudioStream = /** @class */ (function (_super) {\r\n      __extends(AudioStream, _super);\r\n      function AudioStream(url) {\r\n          var _this = _super.call(this) || this;\r\n          _this.playing = false;\r\n          _this.volume = 1;\r\n          _this.url = url;\r\n          _this.playing = true;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], AudioStream.prototype, \"url\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AudioStream.prototype, \"playing\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AudioStream.prototype, \"volume\", void 0);\r\n      AudioStream = __decorate([\r\n          Component('engine.AudioStream', exports.CLASS_ID.AUDIO_STREAM)\r\n      ], AudioStream);\r\n      return AudioStream;\r\n  }(ObservableComponent));\n\n  /**\r\n   * Gizmo identifiers\r\n   * @public\r\n   */\r\n  exports.Gizmo = void 0;\r\n  (function (Gizmo) {\r\n      Gizmo[\"MOVE\"] = \"MOVE\";\r\n      Gizmo[\"ROTATE\"] = \"ROTATE\";\r\n      Gizmo[\"SCALE\"] = \"SCALE\";\r\n      Gizmo[\"NONE\"] = \"NONE\";\r\n  })(exports.Gizmo || (exports.Gizmo = {}));\r\n  /**\r\n   * This event is triggered after the user finalizes dragging a gizmo.\r\n   * @public\r\n   */\r\n  var OnGizmoEvent = /** @class */ (function (_super) {\r\n      __extends(OnGizmoEvent, _super);\r\n      function OnGizmoEvent() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.type = 'gizmoEvent';\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnGizmoEvent.prototype, \"type\", void 0);\r\n      OnGizmoEvent = __decorate([\r\n          Component('engine.gizmoEvent', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnGizmoEvent);\r\n      return OnGizmoEvent;\r\n  }(OnUUIDEvent));\r\n  /**\r\n   * Enables gizmos in the entity. Gizmos only work in EDITOR, PREVIEW or DEBUG modes.\r\n   * @public\r\n   */\r\n  var Gizmos = /** @class */ (function (_super) {\r\n      __extends(Gizmos, _super);\r\n      function Gizmos() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          /**\r\n           * Enable position gizmo\r\n           */\r\n          _this.position = true;\r\n          /**\r\n           * Enable rotation gizmo\r\n           */\r\n          _this.rotation = true;\r\n          /**\r\n           * Enable scale gizmo\r\n           */\r\n          _this.scale = true;\r\n          /**\r\n           * Cycle through gizmos using click.\r\n           */\r\n          _this.cycle = true;\r\n          /**\r\n           * Align the gizmos to match the local reference system\r\n           */\r\n          _this.localReference = false;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Gizmos.prototype, \"position\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Gizmos.prototype, \"rotation\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Gizmos.prototype, \"scale\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Gizmos.prototype, \"cycle\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Gizmos.prototype, \"selectedGizmo\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], Gizmos.prototype, \"localReference\", void 0);\r\n      Gizmos = __decorate([\r\n          Component('engine.gizmos', exports.CLASS_ID.GIZMOS)\r\n      ], Gizmos);\r\n      return Gizmos;\r\n  }(ObservableComponent));\n\n  /**\r\n   * @public\r\n   */\r\n  var OnFocus = /** @class */ (function (_super) {\r\n      __extends(OnFocus, _super);\r\n      function OnFocus(callback) {\r\n          var _this = _super.call(this, callback) || this;\r\n          _this.type = 'onFocus';\r\n          // This injection is necessary ONLY in events that are ALWAYS turned on and are\r\n          // not assignable to entities. Like events for the UI elements\r\n          // TODO(Brian): This will be removed when UI gets back to the entity parenting.\r\n          uuidEventSystem.handlerMap[_this.uuid] = _this;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnFocus.prototype, \"type\", void 0);\r\n      OnFocus = __decorate([\r\n          Component('engine.onFocus', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnFocus);\r\n      return OnFocus;\r\n  }(OnUUIDEvent));\r\n  /**\r\n   * @public\r\n   */\r\n  var OnTextSubmit = /** @class */ (function (_super) {\r\n      __extends(OnTextSubmit, _super);\r\n      function OnTextSubmit(callback) {\r\n          var _this = _super.call(this, callback) || this;\r\n          _this.type = 'onTextSubmit';\r\n          // This injection is necessary ONLY in events that are ALWAYS turned on and are\r\n          // not assignable to entities. Like events for the UI elements\r\n          // TODO(Brian): This will be removed when UI gets back to the entity parenting.\r\n          uuidEventSystem.handlerMap[_this.uuid] = _this;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnTextSubmit.prototype, \"type\", void 0);\r\n      OnTextSubmit = __decorate([\r\n          Component('engine.onTextSubmit', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnTextSubmit);\r\n      return OnTextSubmit;\r\n  }(OnUUIDEvent));\r\n  /**\r\n   * @public\r\n   */\r\n  var OnBlur = /** @class */ (function (_super) {\r\n      __extends(OnBlur, _super);\r\n      function OnBlur(callback) {\r\n          var _this = _super.call(this, callback) || this;\r\n          _this.type = 'onBlur';\r\n          // This injection is necessary ONLY in events that are ALWAYS turned on and are\r\n          // not assignable to entities. Like events for the UI elements\r\n          // TODO(Brian): This will be removed when UI gets back to the entity parenting.\r\n          uuidEventSystem.handlerMap[_this.uuid] = _this;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnBlur.prototype, \"type\", void 0);\r\n      OnBlur = __decorate([\r\n          Component('engine.onBlur', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnBlur);\r\n      return OnBlur;\r\n  }(OnUUIDEvent));\r\n  /**\r\n   * @public\r\n   */\r\n  var OnEnter = /** @class */ (function (_super) {\r\n      __extends(OnEnter, _super);\r\n      function OnEnter(callback) {\r\n          var _this = _super.call(this, callback) || this;\r\n          _this.type = 'onEnter';\r\n          // This injection is necessary ONLY in events that are ALWAYS turned on and are\r\n          // not assignable to entities. Like events for the UI elements\r\n          // TODO(Brian): This will be removed when UI gets back to the entity parenting.\r\n          uuidEventSystem.handlerMap[_this.uuid] = _this;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnEnter.prototype, \"type\", void 0);\r\n      OnEnter = __decorate([\r\n          Component('engine.onEnter', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnEnter);\r\n      return OnEnter;\r\n  }(OnUUIDEvent));\r\n  /**\r\n   * @public\r\n   */\r\n  var OnChanged = /** @class */ (function (_super) {\r\n      __extends(OnChanged, _super);\r\n      function OnChanged(callback) {\r\n          var _this = _super.call(this, callback) || this;\r\n          _this.type = 'onChange';\r\n          // This injection is necessary ONLY in events that are ALWAYS turned on and are\r\n          // not assignable to entities. Like events for the UI elements\r\n          // TODO(Brian): This will be removed when UI gets back to the entity parenting.\r\n          uuidEventSystem.handlerMap[_this.uuid] = _this;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnChanged.prototype, \"type\", void 0);\r\n      OnChanged = __decorate([\r\n          Component('engine.onChange', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnChanged);\r\n      return OnChanged;\r\n  }(OnUUIDEvent));\r\n  /**\r\n   * @public @deprecated use `OnPointerDown` instead\r\n   */\r\n  var OnClick = /** @class */ (function (_super) {\r\n      __extends(OnClick, _super);\r\n      function OnClick(callback, options) {\r\n          var _this = _super.call(this, callback) || this;\r\n          _this.type = 'onClick';\r\n          // This injection is necessary ONLY in events that are ALWAYS turned on and are\r\n          // not assignable to entities. Like events for the UI elements\r\n          // TODO(Brian): This will be removed when UI gets back to the entity parenting.\r\n          uuidEventSystem.handlerMap[_this.uuid] = _this;\r\n          if (options) {\r\n              _this.showFeedback = !(options.showFeedback === false);\r\n              if (options.button) {\r\n                  _this.button = options.button;\r\n              }\r\n              if (options.hoverText) {\r\n                  _this.hoverText = options.hoverText;\r\n              }\r\n              if (options.distance) {\r\n                  _this.distance = options.distance;\r\n              }\r\n          }\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnClick.prototype, \"type\", void 0);\r\n      OnClick = __decorate([\r\n          Component('engine.onClick', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnClick);\r\n      return OnClick;\r\n  }(OnPointerUUIDEvent));\r\n  /**\r\n   * @public\r\n   */\r\n  var OnPointerDown = /** @class */ (function (_super) {\r\n      __extends(OnPointerDown, _super);\r\n      function OnPointerDown(callback, options) {\r\n          var _this = _super.call(this, callback) || this;\r\n          _this.type = 'pointerDown';\r\n          // This injection is necessary ONLY in events that are ALWAYS turned on and are\r\n          // not assignable to entities. Like events for the UI elements\r\n          // TODO(Brian): This will be removed when UI gets back to the entity parenting.\r\n          uuidEventSystem.handlerMap[_this.uuid] = _this;\r\n          if (options) {\r\n              _this.showFeedback = !(options.showFeedback === false);\r\n              if (options.button) {\r\n                  _this.button = options.button;\r\n              }\r\n              if (options.hoverText) {\r\n                  _this.hoverText = options.hoverText;\r\n              }\r\n              if (options.distance) {\r\n                  _this.distance = options.distance;\r\n              }\r\n          }\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnPointerDown.prototype, \"type\", void 0);\r\n      OnPointerDown = __decorate([\r\n          Component('engine.pointerDown', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnPointerDown);\r\n      return OnPointerDown;\r\n  }(OnPointerUUIDEvent));\r\n  /**\r\n   * @public\r\n   */\r\n  var OnPointerUp = /** @class */ (function (_super) {\r\n      __extends(OnPointerUp, _super);\r\n      function OnPointerUp(callback, options) {\r\n          var _this = _super.call(this, callback) || this;\r\n          _this.type = 'pointerUp';\r\n          // This injection is necessary ONLY in events that are ALWAYS turned on and are\r\n          // not assignable to entities. Like events for the UI elements\r\n          // TODO(Brian): This will be removed when UI gets back to the entity parenting.\r\n          uuidEventSystem.handlerMap[_this.uuid] = _this;\r\n          if (options) {\r\n              _this.showFeedback = !(options.showFeedback === false);\r\n              if (options.button) {\r\n                  _this.button = options.button;\r\n              }\r\n              if (options.hoverText) {\r\n                  _this.hoverText = options.hoverText;\r\n              }\r\n              if (options.distance) {\r\n                  _this.distance = options.distance;\r\n              }\r\n          }\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.readonly\r\n      ], OnPointerUp.prototype, \"type\", void 0);\r\n      OnPointerUp = __decorate([\r\n          Component('engine.pointerUp', exports.CLASS_ID.UUID_CALLBACK)\r\n      ], OnPointerUp);\r\n      return OnPointerUp;\r\n  }(OnPointerUUIDEvent));\n\n  /**\r\n   * @public\r\n   */\r\n  var UIShape = /** @class */ (function (_super) {\r\n      __extends(UIShape, _super);\r\n      function UIShape(parent) {\r\n          var _this = _super.call(this) || this;\r\n          /**\r\n           * Defines if the entity and its children should be rendered\r\n           */\r\n          _this.name = null;\r\n          _this.visible = true;\r\n          _this.opacity = 1;\r\n          _this.hAlign = 'center';\r\n          _this.vAlign = 'center';\r\n          _this.width = '100px';\r\n          _this.height = '50px';\r\n          _this.positionX = '0px';\r\n          _this.positionY = '0px';\r\n          _this.isPointerBlocker = true;\r\n          if (parent) {\r\n              _this._parent = parent;\r\n              _this.data.parentComponent = getComponentId(parent);\r\n          }\r\n          return _this;\r\n      }\r\n      Object.defineProperty(UIShape.prototype, \"parent\", {\r\n          get: function () {\r\n              return this._parent;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      Object.defineProperty(UIShape.prototype, \"parentComponent\", {\r\n          // @internal\r\n          get: function () {\r\n              return this.data.parentComponent;\r\n          },\r\n          enumerable: false,\r\n          configurable: true\r\n      });\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIShape.prototype, \"name\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIShape.prototype, \"visible\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIShape.prototype, \"opacity\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIShape.prototype, \"hAlign\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIShape.prototype, \"vAlign\", void 0);\r\n      __decorate([\r\n          ObservableComponent.uiValue\r\n      ], UIShape.prototype, \"width\", void 0);\r\n      __decorate([\r\n          ObservableComponent.uiValue\r\n      ], UIShape.prototype, \"height\", void 0);\r\n      __decorate([\r\n          ObservableComponent.uiValue\r\n      ], UIShape.prototype, \"positionX\", void 0);\r\n      __decorate([\r\n          ObservableComponent.uiValue\r\n      ], UIShape.prototype, \"positionY\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIShape.prototype, \"isPointerBlocker\", void 0);\r\n      return UIShape;\r\n  }(ObservableComponent));\r\n  /**\r\n   * @internal\r\n   * NOTE(Brian): this should be deprecated\r\n   */\r\n  var UIFullScreen = /** @class */ (function (_super) {\r\n      __extends(UIFullScreen, _super);\r\n      function UIFullScreen() {\r\n          return _super.call(this, null) || this;\r\n      }\r\n      UIFullScreen = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.UI_FULLSCREEN_SHAPE)\r\n      ], UIFullScreen);\r\n      return UIFullScreen;\r\n  }(UIShape));\r\n  /**\r\n   * @internal\r\n   * NOTE(Brian): this should be deprecated\r\n   */\r\n  var UIWorldSpace = /** @class */ (function (_super) {\r\n      __extends(UIWorldSpace, _super);\r\n      function UIWorldSpace() {\r\n          return _super.call(this, null) || this;\r\n      }\r\n      UIWorldSpace = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.UI_WORLD_SPACE_SHAPE)\r\n      ], UIWorldSpace);\r\n      return UIWorldSpace;\r\n  }(UIShape));\r\n  /**\r\n   * @public\r\n   */\r\n  var UICanvas = /** @class */ (function (_super) {\r\n      __extends(UICanvas, _super);\r\n      function UICanvas() {\r\n          return _super.call(this, null) || this;\r\n      }\r\n      UICanvas = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.UI_SCREEN_SPACE_SHAPE)\r\n      ], UICanvas);\r\n      return UICanvas;\r\n  }(UIShape));\r\n  /**\r\n   * @public\r\n   */\r\n  var UIContainerRect = /** @class */ (function (_super) {\r\n      __extends(UIContainerRect, _super);\r\n      function UIContainerRect() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.thickness = 0;\r\n          _this.color = Color4.Clear();\r\n          _this.alignmentUsesSize = true;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIContainerRect.prototype, \"thickness\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIContainerRect.prototype, \"color\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIContainerRect.prototype, \"alignmentUsesSize\", void 0);\r\n      UIContainerRect = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.UI_CONTAINER_RECT)\r\n      ], UIContainerRect);\r\n      return UIContainerRect;\r\n  }(UIShape));\r\n  /**\r\n   * @public\r\n   */\r\n  exports.UIStackOrientation = void 0;\r\n  (function (UIStackOrientation) {\r\n      UIStackOrientation[UIStackOrientation[\"VERTICAL\"] = 0] = \"VERTICAL\";\r\n      UIStackOrientation[UIStackOrientation[\"HORIZONTAL\"] = 1] = \"HORIZONTAL\";\r\n  })(exports.UIStackOrientation || (exports.UIStackOrientation = {}));\r\n  /**\r\n   * @public\r\n   */\r\n  var UIContainerStack = /** @class */ (function (_super) {\r\n      __extends(UIContainerStack, _super);\r\n      function UIContainerStack() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.adaptWidth = true;\r\n          _this.adaptHeight = true;\r\n          _this.color = Color4.Clear();\r\n          _this.stackOrientation = exports.UIStackOrientation.VERTICAL;\r\n          _this.spacing = 0;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIContainerStack.prototype, \"adaptWidth\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIContainerStack.prototype, \"adaptHeight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIContainerStack.prototype, \"color\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIContainerStack.prototype, \"stackOrientation\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIContainerStack.prototype, \"spacing\", void 0);\r\n      UIContainerStack = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.UI_CONTAINER_STACK)\r\n      ], UIContainerStack);\r\n      return UIContainerStack;\r\n  }(UIShape));\r\n  /**\r\n   * @public\r\n   */\r\n  var UIButton = /** @class */ (function (_super) {\r\n      __extends(UIButton, _super);\r\n      function UIButton() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.fontSize = 10;\r\n          _this.fontWeight = 'normal';\r\n          _this.thickness = 0;\r\n          _this.cornerRadius = 0;\r\n          _this.color = Color4.White();\r\n          _this.background = Color4.White();\r\n          _this.paddingTop = 0;\r\n          _this.paddingRight = 0;\r\n          _this.paddingBottom = 0;\r\n          _this.paddingLeft = 0;\r\n          _this.shadowBlur = 0;\r\n          _this.shadowOffsetX = 0;\r\n          _this.shadowOffsetY = 0;\r\n          _this.shadowColor = Color4.Black();\r\n          _this.text = 'button';\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"fontSize\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"fontWeight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"thickness\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"cornerRadius\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"color\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"background\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"paddingTop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"paddingRight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"paddingBottom\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"paddingLeft\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"shadowBlur\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"shadowOffsetX\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"shadowOffsetY\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"shadowColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIButton.prototype, \"text\", void 0);\r\n      UIButton = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.UI_BUTTON_SHAPE)\r\n      ], UIButton);\r\n      return UIButton;\r\n  }(UIShape));\r\n  /**\r\n   * @public\r\n   */\r\n  var UIText = /** @class */ (function (_super) {\r\n      __extends(UIText, _super);\r\n      function UIText() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.outlineWidth = 0;\r\n          _this.outlineColor = Color4.White();\r\n          _this.color = Color4.White();\r\n          _this.fontSize = 10;\r\n          _this.fontAutoSize = false;\r\n          _this.value = '';\r\n          _this.lineSpacing = 0;\r\n          _this.lineCount = 0;\r\n          _this.adaptWidth = false;\r\n          _this.adaptHeight = false;\r\n          _this.textWrapping = false;\r\n          _this.shadowBlur = 0;\r\n          _this.shadowOffsetX = 0;\r\n          _this.shadowOffsetY = 0;\r\n          _this.shadowColor = Color4.Black();\r\n          _this.hTextAlign = 'left';\r\n          _this.vTextAlign = 'bottom';\r\n          _this.paddingTop = 0;\r\n          _this.paddingRight = 0;\r\n          _this.paddingBottom = 0;\r\n          _this.paddingLeft = 0;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"outlineWidth\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"outlineColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"color\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"fontSize\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"fontAutoSize\", void 0);\r\n      __decorate([\r\n          ObservableComponent.component\r\n      ], UIText.prototype, \"font\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"value\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"lineSpacing\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"lineCount\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"adaptWidth\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"adaptHeight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"textWrapping\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"shadowBlur\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"shadowOffsetX\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"shadowOffsetY\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"shadowColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"hTextAlign\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"vTextAlign\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"paddingTop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"paddingRight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"paddingBottom\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIText.prototype, \"paddingLeft\", void 0);\r\n      UIText = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.UI_TEXT_SHAPE)\r\n      ], UIText);\r\n      return UIText;\r\n  }(UIShape));\r\n  /**\r\n   * @public\r\n   */\r\n  var UIInputText = /** @class */ (function (_super) {\r\n      __extends(UIInputText, _super);\r\n      function UIInputText(parent) {\r\n          var _this = _super.call(this, parent) || this;\r\n          _this.outlineWidth = 0;\r\n          _this.outlineColor = Color4.Black();\r\n          _this.color = Color4.Clear();\r\n          _this.fontSize = 10;\r\n          _this.value = '';\r\n          _this.placeholder = '';\r\n          _this.margin = 10;\r\n          _this.hTextAlign = 'left';\r\n          _this.vTextAlign = 'bottom';\r\n          _this.focusedBackground = Color4.Black();\r\n          _this.textWrapping = false;\r\n          _this.shadowBlur = 0;\r\n          _this.shadowOffsetX = 0;\r\n          _this.shadowOffsetY = 0;\r\n          _this.shadowColor = Color4.White();\r\n          _this.paddingTop = 0;\r\n          _this.paddingRight = 0;\r\n          _this.paddingBottom = 0;\r\n          _this.paddingLeft = 0;\r\n          _this.onTextSubmit = null;\r\n          _this.onChanged = null;\r\n          _this.onFocus = null;\r\n          _this.onBlur = null;\r\n          _this.onTextChanged = new OnChanged(function (e) {\r\n              var _a = e.value, value = _a.value, isSubmit = _a.isSubmit;\r\n              // NOTE: here we want to keep the same `dirty` state as before changing `this.value`\r\n              // because changing `this.value` will set the component as `dirty` and send a message to the renderer with it value\r\n              // and that message is unnecesary (if the only thing that have changed is `this.value`) since that new value has come from the renderer itself\r\n              var isDirty = _this.dirty;\r\n              _this.value = value;\r\n              _this.dirty = isDirty;\r\n              if (isSubmit && _this.onTextSubmit) {\r\n                  var onSubmitValue = { text: value };\r\n                  _this.onTextSubmit.callback(onSubmitValue);\r\n              }\r\n              else if (!isSubmit && _this.onChanged) {\r\n                  var onChangeValue = { value: value, pointerId: e.pointerId };\r\n                  _this.onChanged.callback(onChangeValue);\r\n              }\r\n          });\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"outlineWidth\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"outlineColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"color\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"fontSize\", void 0);\r\n      __decorate([\r\n          ObservableComponent.component\r\n      ], UIInputText.prototype, \"font\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"value\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"placeholder\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"margin\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"hTextAlign\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"vTextAlign\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"focusedBackground\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"textWrapping\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"shadowBlur\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"shadowOffsetX\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"shadowOffsetY\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"shadowColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"paddingTop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"paddingRight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"paddingBottom\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIInputText.prototype, \"paddingLeft\", void 0);\r\n      __decorate([\r\n          OnUUIDEvent.uuidEvent\r\n      ], UIInputText.prototype, \"onTextChanged\", void 0);\r\n      __decorate([\r\n          OnUUIDEvent.uuidEvent\r\n      ], UIInputText.prototype, \"onFocus\", void 0);\r\n      __decorate([\r\n          OnUUIDEvent.uuidEvent\r\n      ], UIInputText.prototype, \"onBlur\", void 0);\r\n      UIInputText = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.UI_INPUT_TEXT_SHAPE)\r\n      ], UIInputText);\r\n      return UIInputText;\r\n  }(UIShape));\r\n  /**\r\n   * @public\r\n   */\r\n  var UIImage = /** @class */ (function (_super) {\r\n      __extends(UIImage, _super);\r\n      function UIImage(parent, source) {\r\n          var _this = _super.call(this, parent) || this;\r\n          _this.sourceLeft = 0;\r\n          _this.sourceTop = 0;\r\n          _this.sourceWidth = 1;\r\n          _this.sourceHeight = 1;\r\n          _this.paddingTop = 0;\r\n          _this.paddingRight = 0;\r\n          _this.paddingBottom = 0;\r\n          _this.paddingLeft = 0;\r\n          _this.sizeInPixels = true;\r\n          _this.onClick = null;\r\n          _this.source = source;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIImage.prototype, \"sourceLeft\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIImage.prototype, \"sourceTop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIImage.prototype, \"sourceWidth\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIImage.prototype, \"sourceHeight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.component\r\n      ], UIImage.prototype, \"source\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIImage.prototype, \"paddingTop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIImage.prototype, \"paddingRight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIImage.prototype, \"paddingBottom\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIImage.prototype, \"paddingLeft\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIImage.prototype, \"sizeInPixels\", void 0);\r\n      __decorate([\r\n          OnUUIDEvent.uuidEvent\r\n      ], UIImage.prototype, \"onClick\", void 0);\r\n      UIImage = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.UI_IMAGE_SHAPE)\r\n      ], UIImage);\r\n      return UIImage;\r\n  }(UIShape));\r\n  /**\r\n   * @public\r\n   */\r\n  var UIScrollRect = /** @class */ (function (_super) {\r\n      __extends(UIScrollRect, _super);\r\n      function UIScrollRect() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.valueX = 0;\r\n          _this.valueY = 0;\r\n          _this.backgroundColor = Color4.Clear();\r\n          _this.isHorizontal = false;\r\n          _this.isVertical = false;\r\n          _this.paddingTop = 0;\r\n          _this.paddingRight = 0;\r\n          _this.paddingBottom = 0;\r\n          _this.paddingLeft = 0;\r\n          _this.onChanged = null;\r\n          return _this;\r\n      }\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIScrollRect.prototype, \"valueX\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIScrollRect.prototype, \"valueY\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIScrollRect.prototype, \"backgroundColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIScrollRect.prototype, \"isHorizontal\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIScrollRect.prototype, \"isVertical\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIScrollRect.prototype, \"paddingTop\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIScrollRect.prototype, \"paddingRight\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIScrollRect.prototype, \"paddingBottom\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], UIScrollRect.prototype, \"paddingLeft\", void 0);\r\n      __decorate([\r\n          OnUUIDEvent.uuidEvent\r\n      ], UIScrollRect.prototype, \"onChanged\", void 0);\r\n      UIScrollRect = __decorate([\r\n          DisposableComponent('engine.shape', exports.CLASS_ID.UI_SLIDER_SHAPE)\r\n      ], UIScrollRect);\r\n      return UIScrollRect;\r\n  }(UIShape));\n\n  /**\r\n   * @public\r\n   */\r\n  var AvatarShape = /** @class */ (function (_super) {\r\n      __extends(AvatarShape, _super);\r\n      function AvatarShape() {\r\n          var _this = _super !== null && _super.apply(this, arguments) || this;\r\n          _this.useDummyModel = false;\r\n          _this.talking = false;\r\n          return _this;\r\n      }\r\n      AvatarShape_1 = AvatarShape;\r\n      AvatarShape.Dummy = function () {\r\n          var avatarShape = new AvatarShape_1();\r\n          avatarShape.useDummyModel = true;\r\n          return avatarShape;\r\n      };\r\n      var AvatarShape_1;\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"id\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"name\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"expressionTriggerId\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"expressionTriggerTimestamp\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"bodyShape\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"wearables\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"skinColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"hairColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"eyeColor\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"useDummyModel\", void 0);\r\n      __decorate([\r\n          ObservableComponent.field\r\n      ], AvatarShape.prototype, \"talking\", void 0);\r\n      AvatarShape = AvatarShape_1 = __decorate([\r\n          Component('engine.avatarShape', exports.CLASS_ID.AVATAR_SHAPE)\r\n      ], AvatarShape);\r\n      return AvatarShape;\r\n  }(ObservableComponent));\n\n  var communicationsController = null;\r\n  var communicationsControllerPromise = null;\r\n  var _messageObserver = null;\r\n  /**\r\n   * @internal\r\n   */\r\n  function getMessageObserver() {\r\n      if (!_messageObserver) {\r\n          _messageObserver = new Observable();\r\n      }\r\n      return _messageObserver;\r\n  }\r\n  function ensureCommunicationsController() {\r\n      if (!communicationsControllerPromise) {\r\n          communicationsControllerPromise = dcl.loadModule('@decentraland/CommunicationsController', {});\r\n          communicationsControllerPromise.then(function ($) {\r\n              communicationsController = $;\r\n          });\r\n          var observer_1 = getMessageObserver();\r\n          dcl.subscribe('comms');\r\n          dcl.onEvent(function (event) {\r\n              if (event.type === 'comms') {\r\n                  observer_1.notifyObservers(event.data);\r\n              }\r\n          });\r\n      }\r\n      return communicationsControllerPromise;\r\n  }\r\n  /**\r\n   * @public\r\n   */\r\n  var MessageBus = /** @class */ (function () {\r\n      function MessageBus() {\r\n          var _this = this;\r\n          this.messageQueue = [];\r\n          this.connected = false;\r\n          this.flushing = false;\r\n          ensureCommunicationsController().then(function ($) {\r\n              _this.connected = true;\r\n              _this.flush();\r\n          });\r\n      }\r\n      MessageBus.prototype.on = function (message, callback) {\r\n          return getMessageObserver().add(function (e) {\r\n              try {\r\n                  var m = JSON.parse(e.message);\r\n                  if (m.message === message) {\r\n                      callback(m.payload, e.sender);\r\n                  }\r\n              }\r\n              catch (e) {\r\n                  dcl.error('Error parsing comms message ' + (e.message || ''), e);\r\n              }\r\n          });\r\n      };\r\n      // @internal\r\n      MessageBus.prototype.sendRaw = function (message) {\r\n          this.messageQueue.push(message);\r\n          if (this.connected) {\r\n              this.flush();\r\n          }\r\n      };\r\n      MessageBus.prototype.emit = function (message, payload) {\r\n          var messageToSend = JSON.stringify({ message: message, payload: payload });\r\n          this.sendRaw(messageToSend);\r\n          getMessageObserver().notifyObservers({ message: messageToSend, sender: 'self' });\r\n      };\r\n      MessageBus.prototype.flush = function () {\r\n          var _this = this;\r\n          if (this.messageQueue.length === 0)\r\n              return;\r\n          if (!this.connected)\r\n              return;\r\n          if (!communicationsController)\r\n              return;\r\n          if (this.flushing)\r\n              return;\r\n          var message = this.messageQueue.shift();\r\n          this.flushing = true;\r\n          dcl.callRpc(communicationsController.rpcHandle, 'send', [message]).then(function (_) {\r\n              _this.flushing = false;\r\n              _this.flush();\r\n          }, function (e) {\r\n              _this.flushing = false;\r\n              error('Error flushing MessageBus', e);\r\n          });\r\n      };\r\n      return MessageBus;\r\n  }());\n\n  // CORE DEPENDENCIES\r\n  var entity = new Entity('scene');\r\n  entity.uuid = '0';\r\n  // Initialize engine\r\n  /** @public */\r\n  var engine = new Engine(entity);\r\n  DisposableComponent.engine = engine;\r\n  // Initialize Decentraland interface\r\n  if (typeof dcl !== 'undefined') {\r\n      engine.addSystem(new DecentralandSynchronizationSystem(dcl), Infinity);\r\n      _initEventObservables(dcl);\r\n  }\r\n  // Initialize UUID Events system\r\n  engine.addSystem(uuidEventSystem);\r\n  // Initialize Pointer Events System\r\n  engine.addSystem(pointerEventSystem);\r\n  // Initialize Raycast Events System\r\n  engine.addSystem(raycastEventSystem);\n\n  exports.AVATAR_OBSERVABLE = AVATAR_OBSERVABLE;\n  exports.Angle = Angle;\n  exports.AnimationState = AnimationState;\n  exports.Animator = Animator;\n  exports.Arc2 = Arc2;\n  exports.Attachable = Attachable;\n  exports.AudioClip = AudioClip;\n  exports.AudioSource = AudioSource;\n  exports.AudioStream = AudioStream;\n  exports.AvatarModifierArea = AvatarModifierArea;\n  exports.AvatarShape = AvatarShape;\n  exports.Axis = Axis;\n  exports.BasicMaterial = BasicMaterial;\n  exports.BezierCurve = BezierCurve;\n  exports.Billboard = Billboard;\n  exports.BoxShape = BoxShape;\n  exports.Camera = Camera;\n  exports.CircleShape = CircleShape;\n  exports.Color3 = Color3;\n  exports.Color4 = Color4;\n  exports.Component = Component;\n  exports.ComponentAdded = ComponentAdded;\n  exports.ComponentGroup = ComponentGroup;\n  exports.ComponentRemoved = ComponentRemoved;\n  exports.ConeShape = ConeShape;\n  exports.Curve3 = Curve3;\n  exports.CylinderShape = CylinderShape;\n  exports.DEG2RAD = DEG2RAD;\n  exports.DisposableComponent = DisposableComponent;\n  exports.DisposableComponentCreated = DisposableComponentCreated;\n  exports.DisposableComponentRemoved = DisposableComponentRemoved;\n  exports.DisposableComponentUpdated = DisposableComponentUpdated;\n  exports.Engine = Engine;\n  exports.Entity = Entity;\n  exports.Epsilon = Epsilon;\n  exports.EventConstructor = EventConstructor;\n  exports.EventManager = EventManager;\n  exports.Font = Font;\n  exports.Frustum = Frustum;\n  exports.GLTFShape = GLTFShape;\n  exports.Gizmos = Gizmos;\n  exports.GlobalPointerDown = GlobalPointerDown;\n  exports.GlobalPointerUp = GlobalPointerUp;\n  exports.Input = Input;\n  exports.Material = Material;\n  exports.MathTmp = MathTmp;\n  exports.Matrix = Matrix;\n  exports.MessageBus = MessageBus;\n  exports.MultiObserver = MultiObserver;\n  exports.NFTShape = NFTShape;\n  exports.OBJShape = OBJShape;\n  exports.Observable = Observable;\n  exports.ObservableComponent = ObservableComponent;\n  exports.Observer = Observer;\n  exports.ObserverEventState = ObserverEventState;\n  exports.OnAnimationEnd = OnAnimationEnd;\n  exports.OnBlur = OnBlur;\n  exports.OnChanged = OnChanged;\n  exports.OnClick = OnClick;\n  exports.OnEnter = OnEnter;\n  exports.OnFocus = OnFocus;\n  exports.OnGizmoEvent = OnGizmoEvent;\n  exports.OnPointerDown = OnPointerDown;\n  exports.OnPointerLock = OnPointerLock;\n  exports.OnPointerUUIDEvent = OnPointerUUIDEvent;\n  exports.OnPointerUp = OnPointerUp;\n  exports.OnTextSubmit = OnTextSubmit;\n  exports.OnUUIDEvent = OnUUIDEvent;\n  exports.ParentChanged = ParentChanged;\n  exports.Path2 = Path2;\n  exports.Path3D = Path3D;\n  exports.PhysicsCast = PhysicsCast;\n  exports.Plane = Plane;\n  exports.PlaneShape = PlaneShape;\n  exports.PointerEvent = PointerEvent;\n  exports.PointerEventComponent = PointerEventComponent;\n  exports.PointerEventSystem = PointerEventSystem;\n  exports.Quaternion = Quaternion;\n  exports.RAD2DEG = RAD2DEG;\n  exports.RaycastEventSystem = RaycastEventSystem;\n  exports.RaycastResponse = RaycastResponse;\n  exports.Scalar = Scalar;\n  exports.Shape = Shape;\n  exports.Size = Size;\n  exports.SmartItem = SmartItem;\n  exports.SphereShape = SphereShape;\n  exports.Subscription = Subscription;\n  exports.TextShape = TextShape;\n  exports.Texture = Texture;\n  exports.ToGammaSpace = ToGammaSpace;\n  exports.ToLinearSpace = ToLinearSpace;\n  exports.Transform = Transform;\n  exports.UIButton = UIButton;\n  exports.UICanvas = UICanvas;\n  exports.UIContainerRect = UIContainerRect;\n  exports.UIContainerStack = UIContainerStack;\n  exports.UIFullScreen = UIFullScreen;\n  exports.UIImage = UIImage;\n  exports.UIInputText = UIInputText;\n  exports.UIScrollRect = UIScrollRect;\n  exports.UIShape = UIShape;\n  exports.UIText = UIText;\n  exports.UIValue = UIValue;\n  exports.UIWorldSpace = UIWorldSpace;\n  exports.UUIDEvent = UUIDEvent;\n  exports.UUIDEventSystem = UUIDEventSystem;\n  exports.Vector2 = Vector2;\n  exports.Vector3 = Vector3;\n  exports.Vector4 = Vector4;\n  exports.VideoClip = VideoClip;\n  exports.VideoTexture = VideoTexture;\n  exports._initEventObservables = _initEventObservables;\n  exports.buildArray = buildArray;\n  exports.engine = engine;\n  exports.error = error;\n  exports.executeTask = executeTask;\n  exports.getComponentClassId = getComponentClassId;\n  exports.getComponentId = getComponentId;\n  exports.getComponentName = getComponentName;\n  exports.getMessageObserver = getMessageObserver;\n  exports.isDisposableComponent = isDisposableComponent;\n  exports.log = log;\n  exports.newId = newId;\n  exports.onCameraModeChangedObservable = onCameraModeChangedObservable;\n  exports.onEnterScene = onEnterScene;\n  exports.onEnterSceneObservable = onEnterSceneObservable;\n  exports.onIdleStateChangedObservable = onIdleStateChangedObservable;\n  exports.onLeaveScene = onLeaveScene;\n  exports.onLeaveSceneObservable = onLeaveSceneObservable;\n  exports.onPlayerConnectedObservable = onPlayerConnectedObservable;\n  exports.onPlayerDisconnectedObservable = onPlayerDisconnectedObservable;\n  exports.onPlayerExpressionObservable = onPlayerExpressionObservable;\n  exports.onPointerLockedStateChange = onPointerLockedStateChange;\n  exports.onProfileChanged = onProfileChanged;\n  exports.onRealmChangedObservable = onRealmChangedObservable;\n  exports.onSceneReadyObservable = onSceneReadyObservable;\n  exports.onVideoEvent = onVideoEvent;\n  exports.openExternalURL = openExternalURL;\n  exports.openNFTDialog = openNFTDialog;\n  exports.pointerEventSystem = pointerEventSystem;\n  exports.raycastEventSystem = raycastEventSystem;\n  exports.teleportTo = teleportTo;\n  exports.uuid = uuid;\n  exports.uuidEventSystem = uuidEventSystem;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}(this.self = this.self || {}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lY3MvQXR0YWNoYWJsZS50cyIsIi4uLy4uL3NyYy9lY3MvaGVscGVycy50cyIsIi4uLy4uL3NyYy9lY3MvRXZlbnRNYW5hZ2VyLnRzIiwiLi4vLi4vc3JjL2Vjcy9JRW50aXR5LnRzIiwiLi4vLi4vc3JjL2Vjcy9VSVZhbHVlLnRzIiwiLi4vLi4vc3JjL2Vjcy9Db21wb25lbnQudHMiLCIuLi8uLi9zcmMvZWNzL0NvbXBvbmVudEdyb3VwLnRzIiwiLi4vLi4vc3JjL2Vjcy9FbnRpdHkudHMiLCIuLi8uLi9zcmMvZWNzL0VuZ2luZS50cyIsIi4uLy4uL3NyYy9lY3MvVGFzay50cyIsIi4uLy4uL3NyYy9lY3MvT2JzZXJ2YWJsZS50cyIsIi4uLy4uL3NyYy9lY3MvVXNlckFjdGlvbnMudHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL0V2ZW50cy50cyIsIi4uLy4uL3NyYy9kZWNlbnRyYWxhbmQvSW1wbGVtZW50YXRpb24udHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL21hdGgvdHlwZXMudHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL21hdGgvU2NhbGFyLnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9tYXRoL1ZlY3RvcjQudHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL21hdGgvTWF0cml4LnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9tYXRoL1F1YXRlcm5pb24udHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL21hdGgvVmVjdG9yMy50cyIsIi4uLy4uL3NyYy9kZWNlbnRyYWxhbmQvbWF0aC9wcmVhbGxvY2F0ZWRWYXJpYWJsZXMudHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL21hdGgvQW5nbGUudHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL21hdGgvVmVjdG9yMi50cyIsIi4uLy4uL3NyYy9kZWNlbnRyYWxhbmQvbWF0aC9BcmMyLnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9tYXRoL0F4aXMudHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL21hdGgvQmV6aWVyQ3VydmUudHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL21hdGgvQ29sb3I0LnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9tYXRoL0NvbG9yMy50cyIsIi4uLy4uL3NyYy9kZWNlbnRyYWxhbmQvbWF0aC9DdXJ2ZTNkLnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9tYXRoL1BsYW5lLnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9tYXRoL0Z1cnN0dW0udHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL21hdGgvUGF0aDJkLnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9tYXRoL1BhdGgzZC50cyIsIi4uLy4uL3NyYy9kZWNlbnRyYWxhbmQvbWF0aC9TaXplLnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9BbmltYXRpb25TdGF0ZS50cyIsIi4uLy4uL3NyYy9kZWNlbnRyYWxhbmQvVHlwZXMudHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL0lucHV0LnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9Db21wb25lbnRzLnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9DYW1lcmEudHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL1BoeXNpY3NDYXN0LnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9TeXN0ZW1zLnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9BdWRpby50cyIsIi4uLy4uL3NyYy9kZWNlbnRyYWxhbmQvR2l6bW9zLnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9VSUV2ZW50cy50cyIsIi4uLy4uL3NyYy9kZWNlbnRyYWxhbmQvVUlTaGFwZXMudHMiLCIuLi8uLi9zcmMvZGVjZW50cmFsYW5kL0F2YXRhclNoYXBlLnRzIiwiLi4vLi4vc3JjL2RlY2VudHJhbGFuZC9NZXNzYWdlQnVzLnRzIiwiLi4vLi4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElFbnRpdHksIElFbmdpbmUgfSBmcm9tIFwiLi9JRW50aXR5XCJcblxuLyoqXG4gKiBFbnRpdGllcyBjYW4gYmUgYXR0YWNoZWQgdG8gZWFjaCBvdGhlciBieSB1c2luZyB0aGUgYHNldFBhcmVudGAgbWV0aG9kLiBIb3dldmVyLCB0aGVyZSBhcmUgY2FzZXMgd2hlcmUgd2UgbWlnaHQgd2FudCB0byBhdHRhY2ggZW50aXRpZXNcbiAqIHRvIG90aGVyIG9iamVjdHMgdGhhdCBhcmUgbm90IGVudGl0aWVzIGNyZWF0ZWQgYnkgdGhlIHNhbWUgc2NlbmUgKGZvciBleGFtcGxlLCB0aGUgcGxheWVyJ3MgYXZhdGFyKS4gRm9yIHRob3NlIGNhc2VzLCB3ZSBoYXZlIHRoaXMgY2xhc3MuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBdHRhY2hhYmxlIHtcblxuICAvKiogVXNlZCB0byBhdHRhY2ggZW50aXRpZXMgdG8gdGhlIGF2YXRhci4gRW50aXRpZXMgd2lsbCBmb2xsb3cgdGhlIGF2YXRhciB3aGVuIGl0IG1vdmVzICovXG4gIHN0YXRpYyByZWFkb25seSBBVkFUQVI6IEF0dGFjaGFibGUgPSB7IGdldEVudGl0eVJlcHJlc2VudGF0aW9uOiAoZW5naW5lOiBJRW5naW5lKSA9PiBlbmdpbmUuYXZhdGFyRW50aXR5IH0gYXMgY29uc3RcbiAgLyoqIFVzZWQgdG8gYXR0YWNoIGVudGl0aWVzIHRvIHRoZSBjYW1lcmEuIFdoZW4gaW4gZmlyc3QgcGVyc29uIG1vZGUsIHRoZSBhdHRhY2hlZCBlbnRpdGllcyB3aWxsIGFsc28gcm90YXRlIHdpdGggdGhlIGNhbWVyYSAqL1xuICBzdGF0aWMgcmVhZG9ubHkgRklSU1RfUEVSU09OX0NBTUVSQTogQXR0YWNoYWJsZSA9IHsgZ2V0RW50aXR5UmVwcmVzZW50YXRpb246IChlbmdpbmU6IElFbmdpbmUpID0+IGVuZ2luZS5maXJzdFBlcnNvbkNhbWVyYUVudGl0eSB9IGFzIGNvbnN0XG5cbiAgLy8gQGludGVybmFsXG4gIC8qKiBFbnRpdGllcyBtdXN0IGJlIGF0dGFjaGVkIHRvIGVudGl0aWVzLCBzbyBpbiB0aGlzIGNhc2UsIGVhY2ggYXR0YWNoYWJsZSBvYmplY3QgbXVzdCByZXR1cm4gdGhlIGVudGl0eSB1c2VkIHRvIHByZXNlbnQgaXQgKi9cbiAgYWJzdHJhY3QgZ2V0RW50aXR5UmVwcmVzZW50YXRpb24oZW5naW5lOiBJRW5naW5lKTogSUVudGl0eVxufVxuIiwibGV0IGxhc3RHZW5lcmF0ZWRJZCA9IDBcblxuZGVjbGFyZSB2YXIgY29uc29sZTogYW55XG5cbi8qKlxuICogTG9nIGZ1bmN0aW9uLiBPbmx5IHdvcmtzIGluIGRlYnVnIG1vZGUsIG90aGVyd2lzZSBpdCBkb2VzIG5vdGhpbmcuXG4gKiBAcGFyYW0gYXJncyAtIGFueSBsb2dnYWJsZSBwYXJhbWV0ZXJcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvZyguLi5hcmdzOiBhbnlbXSkge1xuICBpZiAodHlwZW9mIGRjbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkY2wubG9nKC4uLmFyZ3MpXG4gIH0gZWxzZSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmxvZygnREVCVUc6JywgLi4uYXJncylcbiAgfVxufVxuXG4vKipcbiAqIEVycm9yIGZ1bmN0aW9uLiBQcmludHMgYSBjb25zb2xlIGVycm9yLiBPbmx5IHdvcmtzIGluIGRlYnVnIG1vZGUsIG90aGVyd2lzZSBpdCBkb2VzIG5vdGhpbmcuXG4gKiBAcGFyYW0gZXJyb3IgLSBzdHJpbmcgb3IgRXJyb3Igb2JqZWN0LlxuICogQHBhcmFtIGRhdGEgLSBhbnkgZGVidWcgaW5mb3JtYXRpb24uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcnJvcihlcnJvcjogc3RyaW5nIHwgRXJyb3IsIGRhdGE/OiBhbnkpIHtcbiAgaWYgKHR5cGVvZiBkY2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZGNsLmVycm9yKGVycm9yIGFzIGFueSwgZGF0YSlcbiAgfSBlbHNlIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgIGNvbnNvbGUuZXJyb3IoJ0VSUk9SOicsIGVycm9yLCBkYXRhKVxuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgbmV3IHByZWZpeGVkIGlkXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZXdJZCh0eXBlOiBzdHJpbmcpIHtcbiAgbGFzdEdlbmVyYXRlZElkKytcbiAgaWYgKHR5cGUubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ25ld0lkKHR5cGU6IHN0cmluZyk6IHR5cGUgY2Fubm90IGJlIGVtcHR5JylcbiAgcmV0dXJuIHR5cGUgKyBsYXN0R2VuZXJhdGVkSWQudG9TdHJpbmcoMzYpXG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1dWlkKCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgIGxldCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwXG4gICAgbGV0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpXG4gIH0pXG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgZ2l2ZW4gc2l6ZSBmaWxsZWQgd2l0aCBlbGVtZW50IGJ1aWx0IGZyb20gdGhlIGdpdmVuIGNvbnN0cnVjdG9yIGFuZCB0aGUgcGFyYW10ZXJzXG4gKiBAcGFyYW0gc2l6ZSAtIHRoZSBudW1iZXIgb2YgZWxlbWVudCB0byBjb25zdHJ1Y3QgYW5kIHB1dCBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSBpdGVtQnVpbGRlciAtIGEgY2FsbGJhY2sgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBpdGVtLiBDYWxsZWQgb25jZSBwZXIgYXJyYXkgZW50cnkuXG4gKiBAcmV0dXJucyBhIG5ldyBhcnJheSBmaWxsZWQgd2l0aCBuZXcgb2JqZWN0c1xuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEFycmF5PFQ+KHNpemU6IG51bWJlciwgaXRlbUJ1aWxkZXI6ICgpID0+IFQpOiBBcnJheTxUPiB7XG4gIGNvbnN0IGE6IFRbXSA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgYS5wdXNoKGl0ZW1CdWlsZGVyKCkpXG4gIH1cbiAgcmV0dXJuIGFcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcGVuRXh0ZXJuYWxVUkwodXJsOiBzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBkY2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZGNsLm9wZW5FeHRlcm5hbFVybCh1cmwpXG4gIH0gZWxzZSB7XG4gICAgZXJyb3IoJ0VSUk9SOiBvcGVuRXh0ZXJuYWxVUkwgZGNsIGlzIHVuZGVmaW5lZCcpXG4gIH1cbn1cblxuLyoqXG4gKiBQb3B1cCBORlQgaW5mbyBkaWFsb2dcbiAqIEBwYXJhbSBzY3IgLSAnZXRoZXJldW06Ly9jb250cmFjdEFkZHJlc3MvdG9rZW5JRCdcbiAqIEBwYXJhbSBjb21tZW50IC0gb3B0aW9uYWwuIGFkZCBhIGNvbW1lbnQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcGVuTkZURGlhbG9nKHNjcjogc3RyaW5nLCBjb21tZW50OiBzdHJpbmcgfCBudWxsID0gbnVsbCkge1xuICBpZiAodHlwZW9mIGRjbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCByZWdleCA9IC9ldGhlcmV1bTpcXC9cXC8oLispXFwvKC4rKS9cbiAgICBjb25zdCBtYXRjaGVzID0gc2NyLm1hdGNoKHJlZ2V4KVxuXG4gICAgaWYgKCFtYXRjaGVzIHx8IG1hdGNoZXMubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgZGNsLm9wZW5ORlREaWFsb2cobWF0Y2hlc1sxXSwgbWF0Y2hlc1syXSwgY29tbWVudClcbiAgfSBlbHNlIHtcbiAgICBlcnJvcignRVJST1I6IG9wZW5ORlREaWFsb2cgZGNsIGlzIHVuZGVmaW5lZCcpXG4gIH1cbn1cbiIsImltcG9ydCB7IGVycm9yLCBuZXdJZCB9IGZyb20gJy4vaGVscGVycydcblxuY29uc3QgZXZlbnROYW1lU3ltYm9sID0gJ19fZXZlbnRfbmFtZV9fJ1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJRXZlbnRDb25zdHJ1Y3RvcjxUPiB7XG4gIC8vIEBpbnRlcm5hbFxuICBbZXZlbnROYW1lU3ltYm9sXT86IHN0cmluZ1xuICBuZXcgKC4uLmFyZ3M6IGFueVtdKTogVFxufVxuXG5jb25zdCB0YWtlbkV2ZW50TmFtZXM6IHN0cmluZ1tdID0gW11cblxuZnVuY3Rpb24gZ2V0RXZlbnROYW1lRnJvbUNvbnN0cnVjdG9yPFQ+KGN0b3I6IElFdmVudENvbnN0cnVjdG9yPFQ+KTogc3RyaW5nIHtcbiAgaWYgKCEoZXZlbnROYW1lU3ltYm9sIGluIGN0b3IpIHx8IHR5cGVvZiBjdG9yW2V2ZW50TmFtZVN5bWJvbF0gIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgRXZlbnRDb25zdHJ1Y3RvciBpcyBub3QgcmVnaXN0ZXJlZCcpXG4gIH1cbiAgcmV0dXJuIGN0b3JbZXZlbnROYW1lU3ltYm9sXSBhcyBhbnkgYXMgc3RyaW5nXG59XG5cbnR5cGUgRXZlbnRMaXN0ZW5lcjxYPiA9IHtcbiAgbGlzdGVuZXI6IFhcbiAgZm46ICh0aGlzOiBYLCBldmVudDogYW55KSA9PiB2b2lkXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRXZlbnRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IFJlY29yZDxzdHJpbmcsIEFycmF5PEV2ZW50TGlzdGVuZXI8YW55Pj4+ID0ge31cblxuICBhZGRMaXN0ZW5lcjxULCBYPihldmVudENsYXNzOiBJRXZlbnRDb25zdHJ1Y3RvcjxUPiwgbGlzdGVuZXI6IFgsIGxpc3RlbmVyRnVuY3Rpb246ICh0aGlzOiBYLCBldmVudDogVCkgPT4gdm9pZCkge1xuICAgIGlmICghZXZlbnRDbGFzcyB8fCB0eXBlb2YgKGV2ZW50Q2xhc3MgYXMgYW55KSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEV2ZW50Q29uc3RydWN0b3InKVxuICAgIH1cbiAgICBjb25zdCBldmVudE5hbWUgPSBnZXRFdmVudE5hbWVGcm9tQ29uc3RydWN0b3IoZXZlbnRDbGFzcylcblxuICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdXG5cbiAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdXG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHggPSBsaXN0ZW5lcnNbaV1cbiAgICAgIGlmICh4Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm92aWRlZCBsaXN0ZW5lciBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnKVxuICAgICAgfVxuICAgIH1cblxuICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgIGxpc3RlbmVyLFxuICAgICAgZm46IGxpc3RlbmVyRnVuY3Rpb25cbiAgICB9KVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJlbW92ZUxpc3RlbmVyPFg+KGxpc3RlbmVyOiBYLCBldmVudENsYXNzOiBJRXZlbnRDb25zdHJ1Y3Rvcjxhbnk+KTogYm9vbGVhbiB7XG4gICAgaWYgKCFldmVudENsYXNzIHx8IHR5cGVvZiAoZXZlbnRDbGFzcyBhcyBhbnkpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgRXZlbnRDb25zdHJ1Y3RvcicpXG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnROYW1lID0gZ2V0RXZlbnROYW1lRnJvbUNvbnN0cnVjdG9yKGV2ZW50Q2xhc3MpXG5cbiAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXVxuXG4gICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB4ID0gbGlzdGVuZXJzW2ldXG4gICAgICBpZiAoeC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZmlyZUV2ZW50PFQgZXh0ZW5kcyBvYmplY3Q+KGV2ZW50OiBUKSB7XG4gICAgY29uc3QgZXZlbnROYW1lID0gZ2V0RXZlbnROYW1lRnJvbUNvbnN0cnVjdG9yKChldmVudCBhcyBhbnkpLmNvbnN0cnVjdG9yKVxuXG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV1cblxuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbCA9IGxpc3RlbmVyc1tpXVxuICAgICAgICAgIGwuZm4uY2FsbChsLmxpc3RlbmVyLCBldmVudClcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIFRPRE86IGUgbWF5IG5vdCBiZSBhbiBpbnN0YW5jZSBvZiBFcnJvclxuICAgICAgICAgIGVycm9yKGUgYXMgYW55KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEV2ZW50Q29uc3RydWN0b3IoKTogQ2xhc3NEZWNvcmF0b3Ige1xuICBjb25zdCBldmVudE5hbWUgPSBuZXdJZCgnRVYnKVxuXG4gIGlmICh0YWtlbkV2ZW50TmFtZXMuaW5kZXhPZihldmVudE5hbWUpICE9PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGV2ZW50IG5hbWUgJHtldmVudE5hbWV9IGlzIGFscmVhZHkgdGFrZW5gKVxuICB9XG5cbiAgdGFrZW5FdmVudE5hbWVzLnB1c2goZXZlbnROYW1lKVxuXG4gIHJldHVybiA8VEZ1bmN0aW9uIGV4dGVuZHMgRnVuY3Rpb24+KHRhcmdldDogVEZ1bmN0aW9uKTogVEZ1bmN0aW9uIHwgdm9pZCA9PiB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICAgIDsodGFyZ2V0IGFzIGFueSlbZXZlbnROYW1lU3ltYm9sXSA9IGV2ZW50TmFtZVxuICAgIHJldHVybiB0YXJnZXRcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50TGlrZSwgQ29tcG9uZW50Q29uc3RydWN0b3IgfSBmcm9tICcuL0NvbXBvbmVudCdcbmltcG9ydCB7IEV2ZW50Q29uc3RydWN0b3IsIEV2ZW50TWFuYWdlciB9IGZyb20gJy4vRXZlbnRNYW5hZ2VyJ1xuaW1wb3J0IHsgQXR0YWNoYWJsZSB9IGZyb20gJy4vQXR0YWNoYWJsZSdcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVN5c3RlbSB7XG4gIGFjdGl2ZT86IGJvb2xlYW5cblxuICBhY3RpdmF0ZT8oZW5naW5lOiBJRW5naW5lKTogdm9pZFxuICBkZWFjdGl2YXRlPygpOiB2b2lkXG5cbiAgdXBkYXRlPyhkdDogbnVtYmVyKTogdm9pZFxuXG4gIG9uQWRkRW50aXR5PyhlbnRpdHk6IElFbnRpdHkpOiB2b2lkXG4gIG9uUmVtb3ZlRW50aXR5PyhlbnRpdHk6IElFbnRpdHkpOiB2b2lkXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIElFbmdpbmUge1xuICByb290RW50aXR5OiBJRW50aXR5XG4gIHJlYWRvbmx5IGZpcnN0UGVyc29uQ2FtZXJhRW50aXR5OiBJRW50aXR5XG4gIHJlYWRvbmx5IGF2YXRhckVudGl0eTogSUVudGl0eVxuICByZWFkb25seSBlbnRpdGllczogUmVhZG9ubHk8UmVjb3JkPHN0cmluZywgSUVudGl0eT4+XG5cbiAgYWRkRW50aXR5KGVudGl0eTogSUVudGl0eSk6IHZvaWRcbiAgcmVtb3ZlRW50aXR5KGVudGl0eTogSUVudGl0eSk6IHZvaWRcbiAgYWRkU3lzdGVtKHN5c3RlbTogSVN5c3RlbSwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWRcbiAgcmVtb3ZlU3lzdGVtKHN5c3RlbTogSVN5c3RlbSk6IHZvaWRcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUVudGl0eSB7XG4gIGNoaWxkcmVuOiBSZWNvcmQ8c3RyaW5nLCBJRW50aXR5PlxuICBldmVudE1hbmFnZXI6IEV2ZW50TWFuYWdlciB8IG51bGxcbiAgYWxpdmU6IGJvb2xlYW5cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG4gIHJlYWRvbmx5IGNvbXBvbmVudHM6IFJlY29yZDxzdHJpbmcsIGFueT5cblxuICBpc0FkZGVkVG9FbmdpbmUoKTogYm9vbGVhblxuICBnZXRQYXJlbnQoKTogSUVudGl0eSB8IG51bGxcbiAgc2V0UGFyZW50KGU6IElFbnRpdHkgfCBBdHRhY2hhYmxlIHwgbnVsbCk6IHZvaWRcblxuICBnZXRDb21wb25lbnQ8VCA9IGFueT4oY29tcG9uZW50OiBzdHJpbmcpOiBUXG4gIGdldENvbXBvbmVudDxUPihjb21wb25lbnQ6IENvbXBvbmVudENvbnN0cnVjdG9yPFQ+KTogVFxuICBnZXRDb21wb25lbnQ8VD4oY29tcG9uZW50OiBDb21wb25lbnRDb25zdHJ1Y3RvcjxUPiB8IHN0cmluZyk6IFRcblxuICAvKipcbiAgICogR2V0cyBhIGNvbXBvbmVudCwgaWYgaXQgZG9lc24ndCBleGlzdCwgaXQgcmV0dXJucyBudWxsLlxuICAgKiBAcGFyYW0gY29tcG9uZW50IC0gY29tcG9uZW50IGNsYXNzIG9yIG5hbWVcbiAgICovXG4gIGdldENvbXBvbmVudE9yTnVsbDxUID0gYW55Pihjb21wb25lbnQ6IHN0cmluZyk6IFQgfCBudWxsXG4gIGdldENvbXBvbmVudE9yTnVsbDxUPihjb21wb25lbnQ6IENvbXBvbmVudENvbnN0cnVjdG9yPFQ+KTogVCB8IG51bGxcbiAgZ2V0Q29tcG9uZW50T3JOdWxsPFQ+KGNvbXBvbmVudDogQ29tcG9uZW50Q29uc3RydWN0b3I8VD4gfCBzdHJpbmcpOiBUIHwgbnVsbFxuXG4gIGdldENvbXBvbmVudE9yQ3JlYXRlPFQ+KGNvbXBvbmVudDogQ29tcG9uZW50Q29uc3RydWN0b3I8VD4gJiB7IG5ldygpOiBUIH0pOiBUXG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjb21wb25lbnQuIElmIHRoZSBjb21wb25lbnQgYWxyZWFkeSBleGlzdCwgaXQgdGhyb3dzIGFuIEVycm9yLlxuICAgKiBAcGFyYW0gY29tcG9uZW50IC0gY29tcG9uZW50IGluc3RhbmNlLlxuICAgKi9cbiAgYWRkQ29tcG9uZW50PFQgZXh0ZW5kcyBvYmplY3Q+KGNvbXBvbmVudDogVCk6IHZvaWRcblxuICBhZGRDb21wb25lbnRPclJlcGxhY2U8VCBleHRlbmRzIG9iamVjdD4oY29tcG9uZW50OiBUKTogdm9pZFxuXG4gIHJlbW92ZUNvbXBvbmVudChjb21wb25lbnQ6IHN0cmluZywgdHJpZ2dlclJlbW92ZWRFdmVudD86IGJvb2xlYW4pOiB2b2lkXG4gIHJlbW92ZUNvbXBvbmVudDxUIGV4dGVuZHMgb2JqZWN0Pihjb21wb25lbnQ6IFQsIHRyaWdnZXJSZW1vdmVkRXZlbnQ/OiBib29sZWFuKTogdm9pZFxuICByZW1vdmVDb21wb25lbnQoY29tcG9uZW50OiBDb21wb25lbnRDb25zdHJ1Y3Rvcjxhbnk+LCB0cmlnZ2VyUmVtb3ZlZEV2ZW50PzogYm9vbGVhbik6IHZvaWRcbiAgcmVtb3ZlQ29tcG9uZW50KGNvbXBvbmVudDogb2JqZWN0IHwgc3RyaW5nIHwgRnVuY3Rpb24sIHRyaWdnZXJSZW1vdmVkRXZlbnQ6IGFueSk6IHZvaWRcblxuICBoYXNDb21wb25lbnQ8VCA9IGFueT4oY29tcG9uZW50OiBzdHJpbmcpOiBib29sZWFuXG4gIGhhc0NvbXBvbmVudDxUPihjb21wb25lbnQ6IENvbXBvbmVudENvbnN0cnVjdG9yPFQ+KTogYm9vbGVhblxuICBoYXNDb21wb25lbnQ8VCBleHRlbmRzIG9iamVjdD4oY29tcG9uZW50OiBUKTogYm9vbGVhblxuICBoYXNDb21wb25lbnQ8VD4oY29tcG9uZW50OiBDb21wb25lbnRDb25zdHJ1Y3RvcjxUPiB8IHN0cmluZyk6IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBFdmVudENvbnN0cnVjdG9yKClcbmV4cG9ydCBjbGFzcyBDb21wb25lbnRSZW1vdmVkIHtcbiAgY29uc3RydWN0b3IocHVibGljIGVudGl0eTogSUVudGl0eSwgcHVibGljIGNvbXBvbmVudE5hbWU6IHN0cmluZywgcHVibGljIGNvbXBvbmVudDogQ29tcG9uZW50TGlrZSkge1xuICAgIC8vIHN0dWJcbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQEV2ZW50Q29uc3RydWN0b3IoKVxuZXhwb3J0IGNsYXNzIENvbXBvbmVudEFkZGVkIHtcbiAgY29uc3RydWN0b3IocHVibGljIGVudGl0eTogSUVudGl0eSwgcHVibGljIGNvbXBvbmVudE5hbWU6IHN0cmluZywgcHVibGljIGNsYXNzSWQ6IG51bWJlciB8IG51bGwpIHtcbiAgICAvLyBzdHViXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBFdmVudENvbnN0cnVjdG9yKClcbmV4cG9ydCBjbGFzcyBQYXJlbnRDaGFuZ2VkIHtcbiAgY29uc3RydWN0b3IocHVibGljIGVudGl0eTogSUVudGl0eSwgcHVibGljIHBhcmVudDogSUVudGl0eSB8IG51bGwpIHtcbiAgICAvLyBzdHViXG4gIH1cbn1cbiIsIi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZW51bSBVSVZhbHVlVHlwZSB7XG4gIFBFUkNFTlQgPSAwLFxuICBQSVhFTFMgPSAxXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgVUlWYWx1ZSB7XG4gIHZhbHVlOiBudW1iZXJcbiAgdHlwZTogVUlWYWx1ZVR5cGVcblxuICBjb25zdHJ1Y3Rvcih2YWx1ZTogc3RyaW5nIHwgbnVtYmVyKSB7XG4gICAgdGhpcy50eXBlID0gVUlWYWx1ZVR5cGUuUElYRUxTXG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgbGV0IHZhbHVlQXNTdHJpbmc6IHN0cmluZyA9IHZhbHVlXG4gICAgICBpZiAodmFsdWVBc1N0cmluZy5pbmRleE9mKCdweCcpID4gLTEpIHtcbiAgICAgICAgdGhpcy50eXBlID0gVUlWYWx1ZVR5cGUuUElYRUxTXG4gICAgICB9IGVsc2UgaWYgKHZhbHVlQXNTdHJpbmcuaW5kZXhPZignJScpID4gLTEpIHtcbiAgICAgICAgdGhpcy50eXBlID0gVUlWYWx1ZVR5cGUuUEVSQ0VOVFxuICAgICAgfVxuXG4gICAgICB0aGlzLnZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZUFzU3RyaW5nKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWVcbiAgICB9XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGxldCByZXN1bHQ6IHN0cmluZyA9IHRoaXMudmFsdWUudG9TdHJpbmcoKVxuXG4gICAgaWYgKHRoaXMudHlwZSA9PT0gVUlWYWx1ZVR5cGUuUEVSQ0VOVCkge1xuICAgICAgcmVzdWx0ICs9ICclJ1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgKz0gJ3B4J1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuIiwiaW1wb3J0IHsgbmV3SWQgfSBmcm9tICcuL2hlbHBlcnMnXG5pbXBvcnQgeyBFdmVudENvbnN0cnVjdG9yIH0gZnJvbSAnLi9FdmVudE1hbmFnZXInXG5pbXBvcnQgeyBVSVZhbHVlIH0gZnJvbSAnLi9VSVZhbHVlJ1xuXG5jb25zdCBjb21wb25lbnRTeW1ib2wgPSAnX19uYW1lX19zeW1ib2xfJ1xuY29uc3QgY29tcG9uZW50Q2xhc3NJZFN5bWJvbCA9ICdfX2NsYXNzSWRfX3N5bWJvbF8nXG5jb25zdCBjb21wb25lbnRJZFN5bWJvbCA9ICdfX2NvbXBvbmVudF9faWRfJ1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRMaWtlIHtcbiAgLy8gQGludGVybmFsXG4gIFtjb21wb25lbnRTeW1ib2xdPzogc3RyaW5nXG4gIC8vIEBpbnRlcm5hbFxuICBbY29tcG9uZW50Q2xhc3NJZFN5bWJvbF0/OiBudW1iZXJcblxuICAvLyBAaW50ZXJuYWxcbiAgYWRkZWRUb0VudGl0eT8oZW50aXR5OiBhbnkpOiB2b2lkXG4gIC8vIEBpbnRlcm5hbFxuICByZW1vdmVkRnJvbUVudGl0eT8oZW50aXR5OiBhbnkpOiB2b2lkXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIERpc3Bvc2FibGVDb21wb25lbnRMaWtlIGV4dGVuZHMgQ29tcG9uZW50TGlrZSB7XG4gIC8vIEBpbnRlcm5hbFxuICBbY29tcG9uZW50SWRTeW1ib2xdPzogc3RyaW5nXG4gIG9uRGlzcG9zZT8oKTogdm9pZFxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRDb25zdHJ1Y3RvcjxUIGV4dGVuZHMgQ29tcG9uZW50TGlrZT4ge1xuICAvLyBAaW50ZXJuYWxcbiAgW2NvbXBvbmVudFN5bWJvbF0/OiBzdHJpbmdcbiAgLy8gQGludGVybmFsXG4gIFtjb21wb25lbnRDbGFzc0lkU3ltYm9sXT86IG51bWJlclxuICBpc0NvbXBvbmVudD86IGJvb2xlYW5cbiAgb3JpZ2luYWxDbGFzc05hbWU/OiBzdHJpbmdcbiAgbmV3ICguLi5hcmdzOiBhbnlbXSk6IFRcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGlzcG9zYWJsZUNvbXBvbmVudENvbnN0cnVjdG9yPFQgZXh0ZW5kcyBEaXNwb3NhYmxlQ29tcG9uZW50TGlrZT4ge1xuICAvLyBAaW50ZXJuYWxcbiAgW2NvbXBvbmVudFN5bWJvbF0/OiBzdHJpbmdcbiAgLy8gQGludGVybmFsXG4gIFtjb21wb25lbnRDbGFzc0lkU3ltYm9sXT86IG51bWJlclxuICBpc0NvbXBvbmVudD86IGJvb2xlYW5cbiAgaXNEaXNwb3NhYmxlQ29tcG9uZW50PzogdHJ1ZVxuICBvcmlnaW5hbENsYXNzTmFtZT86IHN0cmluZ1xuICBuZXcgKC4uLmFyZ3M6IGFueVtdKTogVFxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQEV2ZW50Q29uc3RydWN0b3IoKVxuZXhwb3J0IGNsYXNzIERpc3Bvc2FibGVDb21wb25lbnRDcmVhdGVkIHtcbiAgY29uc3RydWN0b3IocHVibGljIGNvbXBvbmVudElkOiBzdHJpbmcsIHB1YmxpYyBjb21wb25lbnROYW1lOiBzdHJpbmcsIHB1YmxpYyBjbGFzc0lkOiBudW1iZXIpIHtcbiAgICAvLyBzdHViXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBFdmVudENvbnN0cnVjdG9yKClcbmV4cG9ydCBjbGFzcyBEaXNwb3NhYmxlQ29tcG9uZW50UmVtb3ZlZCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBjb21wb25lbnRJZDogc3RyaW5nKSB7XG4gICAgLy8gc3R1YlxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARXZlbnRDb25zdHJ1Y3RvcigpXG5leHBvcnQgY2xhc3MgRGlzcG9zYWJsZUNvbXBvbmVudFVwZGF0ZWQge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgY29tcG9uZW50SWQ6IHN0cmluZywgcHVibGljIGNvbXBvbmVudDogRGlzcG9zYWJsZUNvbXBvbmVudExpa2UpIHtcbiAgICAvLyBzdHViXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDb21wb25lbnQoY29tcG9uZW50TmFtZTogc3RyaW5nLCBjbGFzc0lkPzogbnVtYmVyKSB7XG4gIHJldHVybiBmdW5jdGlvbjxURnVuY3Rpb24gZXh0ZW5kcyBDb21wb25lbnRDb25zdHJ1Y3Rvcjxhbnk+Pih0YXJnZXQ6IFRGdW5jdGlvbik6IFRGdW5jdGlvbiB8IHZvaWQge1xuICAgIGlmICh0YXJnZXQuaXNDb21wb25lbnQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IGV4dGVuZCBhIGNvbXBvbmVudC4gVHJ5aW5nIHRvIGV4dGVuZCAke3RhcmdldC5vcmlnaW5hbENsYXNzTmFtZX0gd2l0aDogJHtjb21wb25lbnROYW1lfWBcbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBleHRlbmRlZENsYXNzID0gdGFyZ2V0IGFzIGFueVxuXG4gICAgY29uc3QgUmVnaXN0ZXJlZENvbXBvbmVudDogYW55ID0gZnVuY3Rpb24gUmVnaXN0ZXJlZENvbXBvbmVudCgpIHtcbiAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gICAgICBjb25zdCByZXQgPSBuZXcgZXh0ZW5kZWRDbGFzcyguLi5hcmdzKVxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmV0LCBjb21wb25lbnRTeW1ib2wsIHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGNvbXBvbmVudE5hbWVcbiAgICAgIH0pXG5cbiAgICAgIGlmIChjbGFzc0lkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwgY29tcG9uZW50Q2xhc3NJZFN5bWJvbCwge1xuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBjbGFzc0lkXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXRcbiAgICB9XG5cbiAgICBpZiAoY2xhc3NJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBSZWdpc3RlcmVkQ29tcG9uZW50W2NvbXBvbmVudENsYXNzSWRTeW1ib2xdID0gY2xhc3NJZFxuICAgIH1cblxuICAgIFJlZ2lzdGVyZWRDb21wb25lbnRbY29tcG9uZW50U3ltYm9sXSA9IGNvbXBvbmVudE5hbWVcbiAgICBSZWdpc3RlcmVkQ29tcG9uZW50LmlzQ29tcG9uZW50ID0gdHJ1ZVxuICAgIFJlZ2lzdGVyZWRDb21wb25lbnQub3JpZ2luYWxDbGFzc05hbWUgPSBjb21wb25lbnROYW1lXG5cbiAgICBSZWdpc3RlcmVkQ29tcG9uZW50LnByb3RvdHlwZSA9IHRhcmdldC5wcm90b3R5cGVcbiAgICBSZWdpc3RlcmVkQ29tcG9uZW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHRhcmdldFxuXG4gICAgcmV0dXJuIFJlZ2lzdGVyZWRDb21wb25lbnQgYXMgVEZ1bmN0aW9uXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIERpc3Bvc2FibGVDb21wb25lbnQoY29tcG9uZW50TmFtZTogc3RyaW5nLCBjbGFzc0lkOiBudW1iZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uPFRGdW5jdGlvbiBleHRlbmRzIERpc3Bvc2FibGVDb21wb25lbnRDb25zdHJ1Y3Rvcjxhbnk+Pih0YXJnZXQ6IFRGdW5jdGlvbik6IFRGdW5jdGlvbiB8IHZvaWQge1xuICAgIGlmICh0YXJnZXQuaXNDb21wb25lbnQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IGV4dGVuZCBhIGNvbXBvbmVudC4gVHJ5aW5nIHRvIGV4dGVuZCAke3RhcmdldC5vcmlnaW5hbENsYXNzTmFtZX0gd2l0aDogJHtjb21wb25lbnROYW1lfWBcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIChjbGFzc0lkIGFzIGFueSkgIT09ICdudW1iZXInIHx8IGlzTmFOKGNsYXNzSWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGNsYXNzSWQ6ICR7Y2xhc3NJZH0gaXMgYW4gaW52YWxpZCBpbnRlZ2VyYClcbiAgICB9XG5cbiAgICBjb25zdCBleHRlbmRlZENsYXNzID0gdGFyZ2V0IGFzIGFueVxuXG4gICAgY29uc3QgUmVnaXN0ZXJlZENvbXBvbmVudDogYW55ID0gZnVuY3Rpb24gUmVnaXN0ZXJlZENvbXBvbmVudCgpIHtcbiAgICAgIGlmICghRGlzcG9zYWJsZUNvbXBvbmVudC5lbmdpbmUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbmVlZCB0byBzZXQgYSBEaXNwb3NhYmxlQ29tcG9uZW50LmVuZ2luZSBiZWZvcmUgY3JlYXRpbmcgZGlzcG9zYWJsZSBjb21wb25lbnRzJylcbiAgICAgIH1cblxuICAgICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICAgIGNvbnN0IHJldCA9IG5ldyBleHRlbmRlZENsYXNzKC4uLmFyZ3MpXG4gICAgICBjb25zdCBpZCA9IG5ld0lkKCdDJylcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwgY29tcG9uZW50U3ltYm9sLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBjb21wb25lbnROYW1lXG4gICAgICB9KVxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmV0LCBjb21wb25lbnRJZFN5bWJvbCwge1xuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogaWRcbiAgICAgIH0pXG5cbiAgICAgIGlmICgoY2xhc3NJZCBhcyBhbnkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwgY29tcG9uZW50Q2xhc3NJZFN5bWJvbCwge1xuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBjbGFzc0lkXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChEaXNwb3NhYmxlQ29tcG9uZW50LmVuZ2luZSkge1xuICAgICAgICBEaXNwb3NhYmxlQ29tcG9uZW50LmVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChyZXQpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXRcbiAgICB9XG5cbiAgICBpZiAoKGNsYXNzSWQgYXMgYW55KSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBSZWdpc3RlcmVkQ29tcG9uZW50W2NvbXBvbmVudENsYXNzSWRTeW1ib2xdID0gY2xhc3NJZFxuICAgIH1cblxuICAgIFJlZ2lzdGVyZWRDb21wb25lbnRbY29tcG9uZW50U3ltYm9sXSA9IGNvbXBvbmVudE5hbWVcbiAgICBSZWdpc3RlcmVkQ29tcG9uZW50LmlzQ29tcG9uZW50ID0gdHJ1ZVxuICAgIFJlZ2lzdGVyZWRDb21wb25lbnQuaXNEaXNwb3NhYmxlQ29tcG9uZW50ID0gdHJ1ZVxuICAgIFJlZ2lzdGVyZWRDb21wb25lbnQub3JpZ2luYWxDbGFzc05hbWUgPSBjb21wb25lbnROYW1lXG5cbiAgICBSZWdpc3RlcmVkQ29tcG9uZW50LnByb3RvdHlwZSA9IHRhcmdldC5wcm90b3R5cGVcbiAgICBSZWdpc3RlcmVkQ29tcG9uZW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHRhcmdldFxuXG4gICAgcmV0dXJuIFJlZ2lzdGVyZWRDb21wb25lbnQgYXMgVEZ1bmN0aW9uXG4gIH1cbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IG5hbWVzcGFjZSBEaXNwb3NhYmxlQ29tcG9uZW50IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6d2hpdGVzcGFjZVxuICBleHBvcnQgbGV0IGVuZ2luZTogYW55ID0gbnVsbFxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWU8VCBleHRlbmRzIFJlY29yZDxhbnksIGFueT4gPSBhbnk+KGNvbXBvbmVudDogVCB8IENvbXBvbmVudENvbnN0cnVjdG9yPFQ+KTogc3RyaW5nIHtcbiAgaWYgKCFjb21wb25lbnQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNvbXBvbmVudCArICcgaXMgbm90IGEgY29tcG9uZW50LicpXG4gIH1cbiAgaWYgKGNvbXBvbmVudFtjb21wb25lbnRTeW1ib2xdKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudFtjb21wb25lbnRTeW1ib2xdIGFzIHN0cmluZ1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoY29tcG9uZW50ICsgJyBpcyBub3QgYSByZWdpc3RlcmVkIGNvbXBvbmVudC4nKVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudENsYXNzSWQ8VCBleHRlbmRzIFJlY29yZDxhbnksIGFueT4gPSBhbnk+KFxuICBjb21wb25lbnQ6IFQgfCBDb21wb25lbnRDb25zdHJ1Y3RvcjxUPlxuKTogbnVtYmVyIHwgbnVsbCB7XG4gIGlmICghY29tcG9uZW50KSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihjb21wb25lbnQgKyAnIGlzIG5vdCBhIGNvbXBvbmVudC4nKVxuICB9XG4gIGlmIChjb21wb25lbnRbY29tcG9uZW50Q2xhc3NJZFN5bWJvbF0pIHtcbiAgICByZXR1cm4gY29tcG9uZW50W2NvbXBvbmVudENsYXNzSWRTeW1ib2xdIGFzIG51bWJlclxuICB9XG4gIGlmICghY29tcG9uZW50W2NvbXBvbmVudFN5bWJvbF0pIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNvbXBvbmVudCArICcgaXMgbm90IGEgcmVnaXN0ZXJlZCBjb21wb25lbnQuJylcbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcG9uZW50SWQ8VCBleHRlbmRzIERpc3Bvc2FibGVDb21wb25lbnRMaWtlPihjb21wb25lbnQ6IFQpOiBzdHJpbmcge1xuICBpZiAoIWNvbXBvbmVudCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoY29tcG9uZW50ICsgJyBpcyBub3QgYSBjb21wb25lbnQuJylcbiAgfVxuICBpZiAoY29tcG9uZW50W2NvbXBvbmVudElkU3ltYm9sXSkge1xuICAgIHJldHVybiAoY29tcG9uZW50W2NvbXBvbmVudElkU3ltYm9sXSBhcyBhbnkpIGFzIHN0cmluZ1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoY29tcG9uZW50ICsgJyBpcyBub3QgYSByZWdpc3RlcmVkIGRpc3Bvc2FibGUgY29tcG9uZW50LicpXG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBPYnNlcnZhYmxlQ29tcG9uZW50U3Vic2NyaXB0aW9uID0gKGtleTogc3RyaW5nLCBuZXdWYWw6IGFueSwgb2xkVmFsOiBhbnkpID0+IHZvaWRcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgLy8gQGludGVybmFsXG4gIGRpcnR5OiBib29sZWFuID0gZmFsc2VcbiAgLy8gQGludGVybmFsXG4gIGRhdGE6IGFueSA9IHt9XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9uczogQXJyYXk8T2JzZXJ2YWJsZUNvbXBvbmVudFN1YnNjcmlwdGlvbj4gPSBbXVxuXG4gIHN0YXRpYyBjb21wb25lbnQodGFyZ2V0OiBPYnNlcnZhYmxlQ29tcG9uZW50LCBwcm9wZXJ0eUtleTogc3RyaW5nKSB7XG4gICAgaWYgKGRlbGV0ZSAodGFyZ2V0IGFzIGFueSlbcHJvcGVydHlLZXldKSB7XG4gICAgICBjb25zdCBjb21wb25lbnRTeW1ib2wgPSBwcm9wZXJ0eUtleSArICdfJyArIE1hdGgucmFuZG9tKClcbiAgICAgIDsodGFyZ2V0IGFzIGFueSlbY29tcG9uZW50U3ltYm9sXSA9IHVuZGVmaW5lZFxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb21wb25lbnRTeW1ib2wsIHtcbiAgICAgICAgLi4uT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbXBvbmVudFN5bWJvbCksXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KVxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleS50b1N0cmluZygpLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXNbY29tcG9uZW50U3ltYm9sXVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzW2NvbXBvbmVudFN5bWJvbF1cblxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhW3Byb3BlcnR5S2V5XSA9IGdldENvbXBvbmVudElkKHZhbHVlKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcHJvcGVydHlLZXldID0gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXNbY29tcG9uZW50U3ltYm9sXSA9IHZhbHVlXG5cbiAgICAgICAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnNbaV0ocHJvcGVydHlLZXksIHZhbHVlLCBvbGRWYWx1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGZpZWxkKHRhcmdldDogT2JzZXJ2YWJsZUNvbXBvbmVudCwgcHJvcGVydHlLZXk6IHN0cmluZykge1xuICAgIGlmIChkZWxldGUgKHRhcmdldCBhcyBhbnkpW3Byb3BlcnR5S2V5XSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlLZXkudG9TdHJpbmcoKSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKHRoaXM6IE9ic2VydmFibGVDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW3Byb3BlcnR5S2V5XVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHRoaXM6IE9ic2VydmFibGVDb21wb25lbnQsIHZhbHVlKSB7XG4gICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLmRhdGFbcHJvcGVydHlLZXldXG4gICAgICAgICAgdGhpcy5kYXRhW3Byb3BlcnR5S2V5XSA9IHZhbHVlXG5cbiAgICAgICAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnNbaV0ocHJvcGVydHlLZXksIHZhbHVlLCBvbGRWYWx1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHVpVmFsdWUodGFyZ2V0OiBPYnNlcnZhYmxlQ29tcG9uZW50LCBwcm9wZXJ0eUtleTogc3RyaW5nKSB7XG4gICAgaWYgKGRlbGV0ZSAodGFyZ2V0IGFzIGFueSlbcHJvcGVydHlLZXldKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleS50b1N0cmluZygpLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24odGhpczogT2JzZXJ2YWJsZUNvbXBvbmVudCk6IHN0cmluZyB8IG51bWJlciB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtwcm9wZXJ0eUtleV0udG9TdHJpbmcoKVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHRoaXM6IE9ic2VydmFibGVDb21wb25lbnQsIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuZGF0YVtwcm9wZXJ0eUtleV1cblxuICAgICAgICAgIGNvbnN0IGZpbmFsVmFsdWUgPSBuZXcgVUlWYWx1ZSh2YWx1ZSlcblxuICAgICAgICAgIHRoaXMuZGF0YVtwcm9wZXJ0eUtleV0gPSBmaW5hbFZhbHVlXG5cbiAgICAgICAgICBpZiAoZmluYWxWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlXG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uc1tpXShwcm9wZXJ0eUtleSwgZmluYWxWYWx1ZSwgb2xkVmFsdWUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyByZWFkb25seSh0YXJnZXQ6IE9ic2VydmFibGVDb21wb25lbnQsIHByb3BlcnR5S2V5OiBzdHJpbmcpIHtcbiAgICBpZiAoZGVsZXRlICh0YXJnZXQgYXMgYW55KVtwcm9wZXJ0eUtleV0pIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LnRvU3RyaW5nKCksIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbih0aGlzOiBPYnNlcnZhYmxlQ29tcG9uZW50KSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5S2V5IGluIHRoaXMuZGF0YSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGZpZWxkICR7cHJvcGVydHlLZXl9IGlzIHVuaW5pdGlhbGl6ZWRgKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW3Byb3BlcnR5S2V5XVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHRoaXM6IE9ic2VydmFibGVDb21wb25lbnQsIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5S2V5IGluIHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZmllbGQgJHtwcm9wZXJ0eUtleX0gaXMgcmVhZG9ubHlgKVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmRhdGFbcHJvcGVydHlLZXldID0gdmFsdWVcbiAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlKGZuOiBPYnNlcnZhYmxlQ29tcG9uZW50U3Vic2NyaXB0aW9uKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goZm4pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Rpc3Bvc2FibGVDb21wb25lbnQoY29tcG9uZW50OiBDb21wb25lbnRMaWtlKSB7XG4gIHJldHVybiBjb21wb25lbnRJZFN5bWJvbCBpbiBjb21wb25lbnRcbn1cbiIsImltcG9ydCB7IGdldENvbXBvbmVudE5hbWUsIENvbXBvbmVudENvbnN0cnVjdG9yIH0gZnJvbSAnLi9Db21wb25lbnQnXG5pbXBvcnQgeyBJRW50aXR5IH0gZnJvbSAnLi9JRW50aXR5J1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIENvbXBvbmVudEdyb3VwIHtcbiAgcmVhZG9ubHkgZW50aXRpZXM6IFJlYWRvbmx5QXJyYXk8SUVudGl0eT4gPSBbXVxuICByZWFkb25seSByZXF1aXJlcyE6IFJlYWRvbmx5QXJyYXk8Q29tcG9uZW50Q29uc3RydWN0b3I8YW55Pj5cbiAgcmVhZG9ubHkgcmVxdWlyZXNOYW1lcyE6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPlxuXG4gIGFjdGl2ZTogYm9vbGVhbiA9IGZhbHNlXG5cbiAgcHJpdmF0ZSBfcmVxdWlyZXNOYW1lczogc3RyaW5nW10gPSBbXVxuXG4gIGNvbnN0cnVjdG9yKC4uLnJlcXVpcmVzOiBDb21wb25lbnRDb25zdHJ1Y3Rvcjxhbnk+W10pIHtcbiAgICAvLyB2YWxpZGF0ZSByZXF1aXJlcyBsaXN0XG4gICAgaWYgKCFyZXF1aXJlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wb25lbnRHcm91cDogQ291bGQgbm90IGxvYWQgdGhlIHJlcXVpcmVzIGxpc3QnKVxuICAgIH1cbiAgICBpZiAoIShyZXF1aXJlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wb25lbnRHcm91cDogcmVxdWlyZXMgbGlzdCBpcyBub3QgYW4gQXJyYXknKVxuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVxdWlyZXMnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmVxdWlyZXMuc2xpY2UoKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JlcXVpcmVzTmFtZXMnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWlyZXNOYW1lcy5zbGljZSgpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGZvciAobGV0IGl4ID0gMDsgaXggPCByZXF1aXJlcy5sZW5ndGg7IGl4KyspIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHJlcXVpcmVzW2l4XVxuICAgICAgbGV0IG5hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsXG5cbiAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29tcG9uZW50R3JvdXA6IHRoZSByZXF1aXJlZCBjb21wb25lbnQgYXQgbG9jYXRpb24gJHtpeH0gaXMgaW52YWxpZGApXG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXBvbmVudClcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDb21wb25lbnRHcm91cDogdGhlIHJlcXVpcmVkIGNvbXBvbmVudCBhdCBsb2NhdGlvbiAke2l4fSBpcyBub3QgcmVnaXN0ZXJlZCBhcyBhIEBDb21wb25lbnQuIFJlbWVtYmVyIHRvIHByb3ZpZGUgdGhlIGNsYXNzIG9mIHRoZSBjb21wb25lbnQsIG5vdCB0aGUgbmFtZWBcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fcmVxdWlyZXNOYW1lcy5zb21lKCQgPT4gJCA9PT0gbmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb21wb25lbnRHcm91cDogdGhlIHJlcXVpcmVkIGNvbXBvbmVudCBsaXN0IGhhcyBhIHJlcGVhdGVkIG5hbWUgJHtuYW1lfWApXG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlcXVpcmVzTmFtZXMucHVzaChuYW1lKVxuICAgIH1cbiAgfVxuXG4gIGhhc0VudGl0eShlbnRpdHk6IElFbnRpdHkpOiBib29sZWFuIHtcbiAgICBpZiAoIWVudGl0eS5pc0FkZGVkVG9FbmdpbmUoKSkgcmV0dXJuIGZhbHNlXG5cbiAgICByZXR1cm4gdGhpcy5lbnRpdGllcy5pbmRleE9mKGVudGl0eSkgIT09IC0xXG4gIH1cblxuICAvLyBAaW50ZXJuYWxcbiAgYWRkRW50aXR5KGVudGl0eTogSUVudGl0eSkge1xuICAgIGlmICghZW50aXR5LmlzQWRkZWRUb0VuZ2luZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDb21wb25lbnRHcm91cDogQ2Fubm90IGFkZCBhIGVudGl0eSB0aGF0IGlzIG5vdCBhZGRlZCB0byB0aGUgZW5naW5lJylcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lbnRpdGllcy5pbmRleE9mKGVudGl0eSkgPT09IC0xKSB7XG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6c2VtaWNvbG9uXG4gICAgICA7KHRoaXMuZW50aXRpZXMgYXMgSUVudGl0eVtdKS5wdXNoKGVudGl0eSlcbiAgICB9XG4gIH1cblxuICAvLyBAaW50ZXJuYWxcbiAgcmVtb3ZlRW50aXR5KGVudGl0eTogSUVudGl0eSkge1xuICAgIGNvbnN0IGlkID0gdGhpcy5lbnRpdGllcy5pbmRleE9mKGVudGl0eSlcblxuICAgIGlmIChpZCAhPT0gLTEpIHtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpzZW1pY29sb25cbiAgICAgIDsodGhpcy5lbnRpdGllcyBhcyBJRW50aXR5W10pLnNwbGljZShpZCwgMSlcbiAgICB9XG4gIH1cblxuICAvLyBAaW50ZXJuYWxcbiAgY29tcG9uZW50UmVtb3ZlZChlbnRpdHk6IElFbnRpdHksIGNvbXBvbmVudDogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuX3JlcXVpcmVzTmFtZXMuaW5kZXhPZihjb21wb25lbnQpICE9PSAtMSkge1xuICAgICAgdGhpcy5yZW1vdmVFbnRpdHkoZW50aXR5KVxuICAgIH1cbiAgfVxuXG4gIC8vIEBpbnRlcm5hbFxuICBtZWV0c1JlcXVpcmVtZW50cyhlbnRpdHk6IElFbnRpdHkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3JlcXVpcmVzTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSB0aGlzLl9yZXF1aXJlc05hbWVzW2ldXG4gICAgICBpZiAoIShjb21wb25lbnROYW1lIGluIGVudGl0eS5jb21wb25lbnRzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0Q29tcG9uZW50TmFtZSwgQ29tcG9uZW50Q29uc3RydWN0b3IsIGdldENvbXBvbmVudENsYXNzSWQsIENvbXBvbmVudExpa2UgfSBmcm9tICcuL0NvbXBvbmVudCdcbmltcG9ydCB7IElFbmdpbmUsIElFbnRpdHksIENvbXBvbmVudEFkZGVkLCBDb21wb25lbnRSZW1vdmVkLCBQYXJlbnRDaGFuZ2VkIH0gZnJvbSAnLi9JRW50aXR5J1xuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyIH0gZnJvbSAnLi9FdmVudE1hbmFnZXInXG5pbXBvcnQgeyBuZXdJZCwgbG9nIH0gZnJvbSAnLi9oZWxwZXJzJ1xuaW1wb3J0IHsgQXR0YWNoYWJsZSB9IGZyb20gJy4vQXR0YWNoYWJsZSdcblxuLy8gdHNsaW50OmRpc2FibGU6bm8tdXNlLWJlZm9yZS1kZWNsYXJlXG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRW50aXR5IGltcGxlbWVudHMgSUVudGl0eSB7XG4gIHB1YmxpYyBjaGlsZHJlbjogUmVjb3JkPHN0cmluZywgSUVudGl0eT4gPSB7fVxuICBwdWJsaWMgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXIgfCBudWxsID0gbnVsbFxuICBwdWJsaWMgYWxpdmU6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIHB1YmxpYyByZWFkb25seSB1dWlkOiBzdHJpbmcgPSBuZXdJZCgnRScpXG4gIHB1YmxpYyByZWFkb25seSBjb21wb25lbnRzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge31cblxuICAvLyBAaW50ZXJuYWxcbiAgcHVibGljIGVuZ2luZTogSUVuZ2luZSB8IG51bGwgPSBudWxsXG5cbiAgLy8gQGludGVybmFsXG4gIHByaXZhdGUgX3BhcmVudDogSUVudGl0eSB8IG51bGwgPSBudWxsXG5cbiAgY29uc3RydWN0b3IocHVibGljIG5hbWU/OiBzdHJpbmcpIHtcbiAgICAvLyBzdHViXG4gIH1cblxuICAvKipcbiAgICogQWRkcyBvciByZXBsYWNlcyBhIGNvbXBvbmVudCBpbiB0aGUgZW50aXR5LlxuICAgKiBAcGFyYW0gY29tcG9uZW50IC0gY29tcG9uZW50IGluc3RhbmNlLlxuICAgKi9cbiAgYWRkQ29tcG9uZW50T3JSZXBsYWNlPFQgZXh0ZW5kcyBvYmplY3Q+KGNvbXBvbmVudDogVCk6IFQge1xuICAgIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBwYXNzZWQgYSBmdW5jdGlvbiBvciBjbGFzcyBhcyBhIGNvbXBvbmVudCwgYW4gaW5zdGFuY2Ugb2YgY29tcG9uZW50IGlzIGV4cGVjdGVkJylcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgWW91IHBhc3NlZCBhICR7dHlwZW9mIGNvbXBvbmVudH0sIGFuIGluc3RhbmNlIG9mIGNvbXBvbmVudCBpcyBleHBlY3RlZGApXG4gICAgfVxuXG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KVxuXG4gICAgaWYgKHRoaXMuY29tcG9uZW50c1tjb21wb25lbnROYW1lXSkge1xuICAgICAgaWYgKHRoaXMuY29tcG9uZW50c1tjb21wb25lbnROYW1lXSA9PT0gY29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRcbiAgICAgIH1cbiAgICAgIHRoaXMucmVtb3ZlQ29tcG9uZW50KHRoaXMuY29tcG9uZW50c1tjb21wb25lbnROYW1lXSwgZmFsc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuYWRkQ29tcG9uZW50KGNvbXBvbmVudClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIGEgY29tcG9uZW50IGlzIHByZXNlbnQgaW4gdGhlIGVudGl0eS5cbiAgICogQHBhcmFtIGNvbXBvbmVudCAtIGNvbXBvbmVudCBjbGFzcywgaW5zdGFuY2Ugb3IgbmFtZVxuICAgKi9cbiAgaGFzQ29tcG9uZW50PFQgPSBhbnk+KGNvbXBvbmVudDogc3RyaW5nKTogYm9vbGVhblxuICBoYXNDb21wb25lbnQ8VD4oY29tcG9uZW50OiBDb21wb25lbnRDb25zdHJ1Y3RvcjxUPik6IGJvb2xlYW5cbiAgaGFzQ29tcG9uZW50PFQgZXh0ZW5kcyBvYmplY3Q+KGNvbXBvbmVudDogVCk6IGJvb2xlYW5cbiAgaGFzQ29tcG9uZW50PFQ+KGNvbXBvbmVudDogQ29tcG9uZW50Q29uc3RydWN0b3I8VD4gfCBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCB0eXBlT2ZDb21wb25lbnQgPSB0eXBlb2YgY29tcG9uZW50XG5cbiAgICBpZiAodHlwZU9mQ29tcG9uZW50ICE9PSAnc3RyaW5nJyAmJiB0eXBlT2ZDb21wb25lbnQgIT09ICdvYmplY3QnICYmIHR5cGVPZkNvbXBvbmVudCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbnRpdHkjaGFzKGNvbXBvbmVudCk6IGNvbXBvbmVudCBpcyBub3QgYSBjbGFzcywgbmFtZSBvciBpbnN0YW5jZScpXG4gICAgfVxuXG4gICAgaWYgKChjb21wb25lbnQgYXMgYW55KSA9PSBudWxsKSByZXR1cm4gZmFsc2VcblxuICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSB0eXBlT2ZDb21wb25lbnQgPT09ICdzdHJpbmcnID8gKGNvbXBvbmVudCBhcyBzdHJpbmcpIDogZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQgYXMgYW55KVxuXG4gICAgY29uc3Qgc3RvcmVkQ29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdXG5cbiAgICBpZiAoIXN0b3JlZENvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKHR5cGVPZkNvbXBvbmVudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBzdG9yZWRDb21wb25lbnQgPT09IGNvbXBvbmVudFxuICAgIH1cblxuICAgIGlmICh0eXBlT2ZDb21wb25lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBzdG9yZWRDb21wb25lbnQgaW5zdGFuY2VvZiAoY29tcG9uZW50IGFzIENvbXBvbmVudENvbnN0cnVjdG9yPFQ+KVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIGNvbXBvbmVudCwgaWYgaXQgZG9lc24ndCBleGlzdCwgaXQgdGhyb3dzIGFuIEVycm9yLlxuICAgKiBAcGFyYW0gY29tcG9uZW50IC0gY29tcG9uZW50IGNsYXNzIG9yIG5hbWVcbiAgICovXG4gIGdldENvbXBvbmVudDxUID0gYW55Pihjb21wb25lbnQ6IHN0cmluZyk6IFRcbiAgZ2V0Q29tcG9uZW50PFQ+KGNvbXBvbmVudDogQ29tcG9uZW50Q29uc3RydWN0b3I8VD4pOiBUXG4gIGdldENvbXBvbmVudDxUPihjb21wb25lbnQ6IENvbXBvbmVudENvbnN0cnVjdG9yPFQ+IHwgc3RyaW5nKTogVCB7XG4gICAgY29uc3QgdHlwZU9mQ29tcG9uZW50ID0gdHlwZW9mIGNvbXBvbmVudFxuXG4gICAgaWYgKHR5cGVPZkNvbXBvbmVudCAhPT0gJ3N0cmluZycgJiYgdHlwZU9mQ29tcG9uZW50ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VudGl0eSNnZXQoY29tcG9uZW50KTogY29tcG9uZW50IGlzIG5vdCBhIGNsYXNzIG9yIG5hbWUnKVxuICAgIH1cblxuICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSB0eXBlT2ZDb21wb25lbnQgPT09ICdzdHJpbmcnID8gKGNvbXBvbmVudCBhcyBzdHJpbmcpIDogZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQgYXMgYW55KVxuXG4gICAgY29uc3Qgc3RvcmVkQ29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdXG5cbiAgICBpZiAoIXN0b3JlZENvbXBvbmVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4gbm90IGdldCBjb21wb25lbnQgXCIke2NvbXBvbmVudE5hbWV9XCIgZnJvbSBlbnRpdHkgXCIke3RoaXMuaWRlbnRpZmllcn1cImApXG4gICAgfVxuXG4gICAgaWYgKHR5cGVPZkNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKHN0b3JlZENvbXBvbmVudCBpbnN0YW5jZW9mIChjb21wb25lbnQgYXMgQ29tcG9uZW50Q29uc3RydWN0b3I8VD4pKSB7XG4gICAgICAgIHJldHVybiBzdG9yZWRDb21wb25lbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuIG5vdCBnZXQgY29tcG9uZW50IFwiJHtjb21wb25lbnROYW1lfVwiIGZyb20gZW50aXR5IFwiJHt0aGlzLmlkZW50aWZpZXJ9XCIgKGJ5IGluc3RhbmNlKWApXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0b3JlZENvbXBvbmVudFxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBjb21wb25lbnQsIGlmIGl0IGRvZXNuJ3QgZXhpc3QsIGl0IHJldHVybnMgbnVsbC5cbiAgICogQHBhcmFtIGNvbXBvbmVudCAtIGNvbXBvbmVudCBjbGFzcyBvciBuYW1lXG4gICAqL1xuICBnZXRDb21wb25lbnRPck51bGw8VCA9IGFueT4oY29tcG9uZW50OiBzdHJpbmcpOiBUIHwgbnVsbFxuICBnZXRDb21wb25lbnRPck51bGw8VD4oY29tcG9uZW50OiBDb21wb25lbnRDb25zdHJ1Y3RvcjxUPik6IFQgfCBudWxsXG4gIGdldENvbXBvbmVudE9yTnVsbDxUPihjb21wb25lbnQ6IENvbXBvbmVudENvbnN0cnVjdG9yPFQ+IHwgc3RyaW5nKTogVCB8IG51bGwge1xuICAgIGNvbnN0IHR5cGVPZkNvbXBvbmVudCA9IHR5cGVvZiBjb21wb25lbnRcblxuICAgIGlmICh0eXBlT2ZDb21wb25lbnQgIT09ICdzdHJpbmcnICYmIHR5cGVPZkNvbXBvbmVudCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbnRpdHkjZ2V0T3JOdWxsKGNvbXBvbmVudCk6IGNvbXBvbmVudCBpcyBub3QgYSBjbGFzcyBvciBuYW1lJylcbiAgICB9XG5cbiAgICBjb25zdCBjb21wb25lbnROYW1lID0gdHlwZU9mQ29tcG9uZW50ID09PSAnc3RyaW5nJyA/IChjb21wb25lbnQgYXMgc3RyaW5nKSA6IGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50IGFzIGFueSlcblxuICAgIGNvbnN0IHN0b3JlZENvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50c1tjb21wb25lbnROYW1lXVxuXG4gICAgaWYgKCFzdG9yZWRDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgaWYgKHR5cGVPZkNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKHN0b3JlZENvbXBvbmVudCBpbnN0YW5jZW9mIChjb21wb25lbnQgYXMgQ29tcG9uZW50Q29uc3RydWN0b3I8VD4pKSB7XG4gICAgICAgIHJldHVybiBzdG9yZWRDb21wb25lbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0b3JlZENvbXBvbmVudFxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBjb21wb25lbnQsIGlmIGl0IGRvZXNuJ3QgZXhpc3QsIGl0IGNyZWF0ZXMgdGhlIGNvbXBvbmVudCBhbmQgcmV0dXJucyBpdC5cbiAgICogQHBhcmFtIGNvbXBvbmVudCAtIGNvbXBvbmVudCBjbGFzc1xuICAgKi9cbiAgZ2V0Q29tcG9uZW50T3JDcmVhdGU8VD4oY29tcG9uZW50OiBDb21wb25lbnRDb25zdHJ1Y3RvcjxUPiAmIHsgbmV3KCk6IFQgfSk6IFQge1xuICAgIGlmICh0eXBlb2YgKGNvbXBvbmVudCBhcyBhbnkpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VudGl0eSNnZXRPckNyZWF0ZShjb21wb25lbnQpOiBjb21wb25lbnQgaXMgbm90IGEgY2xhc3MnKVxuICAgIH1cblxuICAgIGxldCByZXQgPSB0aGlzLmdldENvbXBvbmVudE9yTnVsbChjb21wb25lbnQpXG5cbiAgICBpZiAoIXJldCkge1xuICAgICAgcmV0ID0gbmV3IGNvbXBvbmVudCgpXG4gICAgICAvLyBTYWZlLWd1YXJkIHRvIG9ubHkgYWRkIHJlZ2lzdGVyZWQgY29tcG9uZW50cyB0byBlbnRpdGllc1xuICAgICAgZ2V0Q29tcG9uZW50TmFtZShyZXQpXG4gICAgICB0aGlzLmFkZENvbXBvbmVudE9yUmVwbGFjZShyZXQgYXMgYW55KVxuICAgIH1cblxuICAgIHJldHVybiByZXRcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgY29tcG9uZW50LiBJZiB0aGUgY29tcG9uZW50IGFscmVhZHkgZXhpc3QsIGl0IHRocm93cyBhbiBFcnJvci5cbiAgICogQHBhcmFtIGNvbXBvbmVudCAtIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgICovXG4gIGFkZENvbXBvbmVudDxUIGV4dGVuZHMgb2JqZWN0Pihjb21wb25lbnQ6IFQpOiBUIHtcbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0VudGl0eSNhZGQoY29tcG9uZW50KTogWW91IHBhc3NlZCBhIGZ1bmN0aW9uIG9yIGNsYXNzIGFzIGEgY29tcG9uZW50LCBhbiBpbnN0YW5jZSBvZiBjb21wb25lbnQgaXMgZXhwZWN0ZWQnXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KVxuICAgIGNvbnN0IGNsYXNzSWQgPSBnZXRDb21wb25lbnRDbGFzc0lkKGNvbXBvbmVudClcblxuICAgIGlmICh0aGlzLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQSBjb21wb25lbnQgb2YgdHlwZSBcIiR7Y29tcG9uZW50TmFtZX1cIiBpcyBhbHJlYWR5IHByZXNlbnQgaW4gZW50aXR5IFwiJHt0aGlzLmlkZW50aWZpZXJ9XCJgKVxuICAgIH1cblxuICAgIHRoaXMuY29tcG9uZW50c1tjb21wb25lbnROYW1lXSA9IGNvbXBvbmVudFxuXG4gICAgaWYgKHRoaXMuZXZlbnRNYW5hZ2VyKSB7XG4gICAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQobmV3IENvbXBvbmVudEFkZGVkKHRoaXMsIGNvbXBvbmVudE5hbWUsIGNsYXNzSWQpKVxuICAgIH1cblxuICAgIGNvbnN0IHN0b3JlZENvbXBvbmVudCA9IGNvbXBvbmVudCBhcyBDb21wb25lbnRMaWtlXG5cbiAgICBpZiAodHlwZW9mIHN0b3JlZENvbXBvbmVudC5hZGRlZFRvRW50aXR5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzdG9yZWRDb21wb25lbnQuYWRkZWRUb0VudGl0eSh0aGlzKVxuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGNvbXBvbmVudCBpbnN0YW5jZSBmcm9tIHRoZSBlbnRpdHkuXG4gICAqIEBwYXJhbSBjb21wb25lbnQgLSBjb21wb25lbnQgaW5zdGFuY2UgdG8gcmVtb3ZlXG4gICAqIEBwYXJhbSB0cmlnZ2VyUmVtb3ZlZEV2ZW50IC0gc2hvdWxkIHRoaXMgYWN0aW9uIHRyaWdnZXIgYW4gZXZlbnQ/XG4gICAqL1xuICByZW1vdmVDb21wb25lbnQoY29tcG9uZW50OiBzdHJpbmcsIHRyaWdnZXJSZW1vdmVkRXZlbnQ/OiBib29sZWFuKTogdm9pZFxuICByZW1vdmVDb21wb25lbnQ8VCBleHRlbmRzIG9iamVjdD4oY29tcG9uZW50OiBULCB0cmlnZ2VyUmVtb3ZlZEV2ZW50PzogYm9vbGVhbik6IHZvaWRcbiAgcmVtb3ZlQ29tcG9uZW50KGNvbXBvbmVudDogQ29tcG9uZW50Q29uc3RydWN0b3I8YW55PiwgdHJpZ2dlclJlbW92ZWRFdmVudD86IGJvb2xlYW4pOiB2b2lkXG4gIHJlbW92ZUNvbXBvbmVudChjb21wb25lbnQ6IG9iamVjdCB8IHN0cmluZyB8IEZ1bmN0aW9uLCB0cmlnZ2VyUmVtb3ZlZEV2ZW50ID0gdHJ1ZSk6IHZvaWQge1xuICAgIGNvbnN0IHR5cGVPZkNvbXBvbmVudCA9IHR5cGVvZiBjb21wb25lbnRcblxuICAgIGlmICh0eXBlT2ZDb21wb25lbnQgIT09ICdzdHJpbmcnICYmIHR5cGVPZkNvbXBvbmVudCAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlT2ZDb21wb25lbnQgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VudGl0eSNyZW1vdmUoY29tcG9uZW50KTogY29tcG9uZW50IGlzIG5vdCBhIGNsYXNzLCBjbGFzcyBvciBuYW1lJylcbiAgICB9XG5cbiAgICBjb25zdCBjb21wb25lbnROYW1lID0gdHlwZU9mQ29tcG9uZW50ID09PSAnc3RyaW5nJyA/IChjb21wb25lbnQgYXMgc3RyaW5nKSA6IGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50IGFzIGFueSlcblxuICAgIGNvbnN0IHN0b3JlZENvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50c1tjb21wb25lbnROYW1lXSBhcyBDb21wb25lbnRMaWtlIHwgdm9pZFxuXG4gICAgaWYgKCFzdG9yZWRDb21wb25lbnQpIHtcbiAgICAgIGxvZyhgRW50aXR5IFdhcm5pbmc6IFRyeWluZyB0byByZW1vdmUgaW5leGlzdGluZyBjb21wb25lbnQgXCIke2NvbXBvbmVudE5hbWV9XCIgZnJvbSBlbnRpdHkgXCIke3RoaXMuaWRlbnRpZmllcn1cImApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodHlwZU9mQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoc3RvcmVkQ29tcG9uZW50IGluc3RhbmNlb2YgKGNvbXBvbmVudCBhcyBDb21wb25lbnRDb25zdHJ1Y3Rvcjxhbnk+KSkge1xuICAgICAgICBkZWxldGUgdGhpcy5jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdXG5cbiAgICAgICAgaWYgKHN0b3JlZENvbXBvbmVudCkge1xuICAgICAgICAgIGlmICh0cmlnZ2VyUmVtb3ZlZEV2ZW50ICYmIHRoaXMuZXZlbnRNYW5hZ2VyKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQobmV3IENvbXBvbmVudFJlbW92ZWQodGhpcywgY29tcG9uZW50TmFtZSwgc3RvcmVkQ29tcG9uZW50KSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHN0b3JlZENvbXBvbmVudC5yZW1vdmVkRnJvbUVudGl0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3RvcmVkQ29tcG9uZW50LnJlbW92ZWRGcm9tRW50aXR5KHRoaXMpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nKFxuICAgICAgICAgIGBFbnRpdHkgV2FybmluZzogVHJ5aW5nIHRvIHJlbW92ZSB3cm9uZyAoYnkgY29uc3RydWN0b3IpIGNvbXBvbmVudCBcIiR7Y29tcG9uZW50TmFtZX1cIiBmcm9tIGVudGl0eSBcIiR7dGhpcy5pZGVudGlmaWVyfVwiYFxuICAgICAgICApXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV1cblxuICAgIGlmIChzdG9yZWRDb21wb25lbnQpIHtcbiAgICAgIGlmICh0cmlnZ2VyUmVtb3ZlZEV2ZW50ICYmIHRoaXMuZXZlbnRNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChuZXcgQ29tcG9uZW50UmVtb3ZlZCh0aGlzLCBjb21wb25lbnROYW1lLCBzdG9yZWRDb21wb25lbnQpKVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHN0b3JlZENvbXBvbmVudC5yZW1vdmVkRnJvbUVudGl0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzdG9yZWRDb21wb25lbnQucmVtb3ZlZEZyb21FbnRpdHkodGhpcylcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm5cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVudGl0eSBpcyBhbHJlYWR5IGFkZGVkIHRvIHRoZSBlbmdpbmUuXG4gICAqIFJldHVybnMgZmFsc2UgaWYgbm8gZW5naW5lIHdhcyBkZWZpbmVkLlxuICAgKi9cbiAgaXNBZGRlZFRvRW5naW5lKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmVuZ2luZSAmJiAodGhpcy51dWlkIGluIHRoaXMuZW5naW5lLmVudGl0aWVzIHx8IHRoaXMuZW5naW5lLnJvb3RFbnRpdHkgPT09IHRoaXMpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBhcmVudCBlbnRpdHlcbiAgICovXG4gIHNldFBhcmVudChfcGFyZW50OiBJRW50aXR5IHwgQXR0YWNoYWJsZSB8IG51bGwpOiBJRW50aXR5IHtcbiAgICBsZXQgbmV3UGFyZW50OiBJRW50aXR5IHwgbnVsbFxuXG4gICAgLy8gQ2hlY2sgaWYgcGFyZW50IGlzIG9mIHR5cGUgQXR0YWNoYWJsZVxuICAgIGlmIChfcGFyZW50ICYmICdnZXRFbnRpdHlSZXByZXNlbnRhdGlvbicgaW4gX3BhcmVudCkge1xuICAgICAgaWYgKCF0aGlzLmVuZ2luZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluIG9yZGVyIHRvIHNldCBhbiBhdHRhY2hhYmxlIGFzIHBhcmVudCwgeW91IGZpcnN0IG5lZWQgdG8gYWRkIHRoZSBlbnRpdHkgdG8gdGhlIGVuZ2luZS5gKVxuICAgICAgfVxuICAgICAgbmV3UGFyZW50ID0gX3BhcmVudC5nZXRFbnRpdHlSZXByZXNlbnRhdGlvbih0aGlzLmVuZ2luZSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgbmV3UGFyZW50ID0gIV9wYXJlbnQgJiYgdGhpcy5lbmdpbmUgPyB0aGlzLmVuZ2luZS5yb290RW50aXR5IDogX3BhcmVudFxuICAgIH1cbiAgICBsZXQgY3VycmVudFBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KClcblxuICAgIGlmIChuZXdQYXJlbnQgPT09IHRoaXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEZhaWxlZCB0byBzZXQgcGFyZW50IGZvciBlbnRpdHkgXCIke3RoaXMuaWRlbnRpZmllcn1cIjogQW4gZW50aXR5IGNhbid0IHNldCBpdHNlbGYgYXMgYSBpdHMgb3duIHBhcmVudGBcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAobmV3UGFyZW50ID09PSBjdXJyZW50UGFyZW50KSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGNvbnN0IGNpcmN1bGFyQW5jZXN0b3IgPSB0aGlzLmdldENpcmN1bGFyQW5jZXN0b3IobmV3UGFyZW50KVxuXG4gICAgaWYgKGNpcmN1bGFyQW5jZXN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEZhaWxlZCB0byBzZXQgcGFyZW50IGZvciBlbnRpdHkgXCIke3RoaXMuaWRlbnRpZmllcn1cIjogQ2lyY3VsYXIgcGFyZW50IHJlZmVyZW5jZXMgYXJlIG5vdCBhbGxvd2VkIChTZWUgZW50aXR5IFwiJHtjaXJjdWxhckFuY2VzdG9yfVwiKWBcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFBhcmVudCkge1xuICAgICAgZGVsZXRlIGN1cnJlbnRQYXJlbnQuY2hpbGRyZW5bdGhpcy51dWlkXVxuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBwYXJlbnQgYW5kIGNoaWxkIGFyZSBib3RoIG9uIHRoZSBlbmdpbmUsIG9yIG9mZiB0aGUgZW5naW5lLCB0b2dldGhlclxuICAgIGlmIChuZXdQYXJlbnQgIT09IG51bGwgJiYgbmV3UGFyZW50LnV1aWQgIT09ICcwJykge1xuICAgICAgaWYgKCFuZXdQYXJlbnQuaXNBZGRlZFRvRW5naW5lKCkgJiYgdGhpcy5pc0FkZGVkVG9FbmdpbmUoKSkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6c2VtaWNvbG9uXG4gICAgICAgIHRoaXMuZW5naW5lIS5yZW1vdmVFbnRpdHkodGhpcylcbiAgICAgIH1cbiAgICAgIGlmIChuZXdQYXJlbnQuaXNBZGRlZFRvRW5naW5lKCkgJiYgIXRoaXMuaXNBZGRlZFRvRW5naW5lKCkpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICAgICAgICAobmV3UGFyZW50IGFzIEVudGl0eSkuZW5naW5lIS5hZGRFbnRpdHkodGhpcylcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9wYXJlbnQgPSBuZXdQYXJlbnQgfHwgbnVsbFxuICAgIHRoaXMucmVnaXN0ZXJBc0NoaWxkKClcblxuICAgIGlmICh0aGlzLmV2ZW50TWFuYWdlciAmJiB0aGlzLmVuZ2luZSkge1xuICAgICAgdGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KG5ldyBQYXJlbnRDaGFuZ2VkKHRoaXMsIG5ld1BhcmVudCkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwYXJlbnQgZW50aXR5XG4gICAqL1xuICBnZXRQYXJlbnQoKTogSUVudGl0eSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl9wYXJlbnRcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZSB8fCB0aGlzLnV1aWRcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q2lyY3VsYXJBbmNlc3RvcihlbnQ6IElFbnRpdHkgfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMuZW5naW5lID8gdGhpcy5lbmdpbmUucm9vdEVudGl0eSA6IG51bGxcbiAgICBsZXQgZTogSUVudGl0eSB8IG51bGwgPSBlbnRcblxuICAgIHdoaWxlIChlICYmIGUgIT09IHJvb3QpIHtcbiAgICAgIGNvbnN0IHBhcmVudDogSUVudGl0eSB8IG51bGwgPSBlLmdldFBhcmVudCgpXG4gICAgICBpZiAocGFyZW50ID09PSB0aGlzKSB7XG4gICAgICAgIHJldHVybiBlLnV1aWRcbiAgICAgIH1cbiAgICAgIGUgPSBwYXJlbnRcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3RlckFzQ2hpbGQoKSB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKVxuXG4gICAgaWYgKHRoaXMudXVpZCAmJiBwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5jaGlsZHJlblt0aGlzLnV1aWRdID0gdGhpc1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgSUVuZ2luZSwgSVN5c3RlbSwgSUVudGl0eSwgQ29tcG9uZW50QWRkZWQsIENvbXBvbmVudFJlbW92ZWQgfSBmcm9tICcuL0lFbnRpdHknXG5cbmltcG9ydCB7XG4gIGdldENvbXBvbmVudE5hbWUsXG4gIGdldENvbXBvbmVudElkLFxuICBEaXNwb3NhYmxlQ29tcG9uZW50VXBkYXRlZCxcbiAgRGlzcG9zYWJsZUNvbXBvbmVudExpa2UsXG4gIENvbXBvbmVudENvbnN0cnVjdG9yLFxuICBEaXNwb3NhYmxlQ29tcG9uZW50Q3JlYXRlZCxcbiAgRGlzcG9zYWJsZUNvbXBvbmVudFJlbW92ZWQsXG4gIGdldENvbXBvbmVudENsYXNzSWRcbn0gZnJvbSAnLi9Db21wb25lbnQnXG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tICcuL0V2ZW50TWFuYWdlcidcbmltcG9ydCB7IENvbXBvbmVudEdyb3VwIH0gZnJvbSAnLi9Db21wb25lbnRHcm91cCdcblxuaW1wb3J0IHsgbG9nLCBlcnJvciB9IGZyb20gJy4vaGVscGVycydcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4vRW50aXR5J1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG50eXBlIFN5c3RlbUVudHJ5ID0geyBzeXN0ZW06IElTeXN0ZW07IHByaW9yaXR5OiBudW1iZXIgfVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEVuZ2luZSBpbXBsZW1lbnRzIElFbmdpbmUge1xuICByZWFkb25seSBldmVudE1hbmFnZXI6IEV2ZW50TWFuYWdlciA9IG5ldyBFdmVudE1hbmFnZXIoKVxuICByZWFkb25seSByb290RW50aXR5OiBJRW50aXR5XG4gIHJlYWRvbmx5IGZpcnN0UGVyc29uQ2FtZXJhRW50aXR5OiBJRW50aXR5XG4gIHJlYWRvbmx5IGF2YXRhckVudGl0eTogSUVudGl0eVxuXG4gIC8vIEBpbnRlcm5hbFxuICByZWFkb25seSBzeXN0ZW1zOiBTeXN0ZW1FbnRyeVtdID0gW11cblxuICAvLyBAaW50ZXJuYWxcbiAgcmVhZG9ubHkgZW50aXR5TGlzdHM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIElFbnRpdHk+PiA9IHt9XG5cbiAgLy8gQGludGVybmFsXG4gIHJlYWRvbmx5IGFkZGVkU3lzdGVtczogSVN5c3RlbVtdID0gW11cblxuICBwcml2YXRlIHJlYWRvbmx5IF9lbnRpdGllczogUmVjb3JkPHN0cmluZywgSUVudGl0eT4gPSB7fVxuICBwcml2YXRlIHJlYWRvbmx5IF9kaXNwb3NhYmxlQ29tcG9uZW50czogUmVjb3JkPHN0cmluZywgRGlzcG9zYWJsZUNvbXBvbmVudExpa2U+ID0ge31cbiAgcHJpdmF0ZSByZWFkb25seSBfY29tcG9uZW50R3JvdXBzOiBSZWNvcmQ8c3RyaW5nLCBDb21wb25lbnRHcm91cFtdPiA9IHt9XG5cbiAgLy8gc3lzdGVtcyB0aGF0IGRvZXNuJ3QgcmVxdWlyZSBhbnkgY29tcG9uZW50IG9yIGhhbmRsZSB0aGVpciBvd24gbG9naWNcbiAgcHJpdmF0ZSByZWFkb25seSBzaW1wbGVTeXN0ZW1zOiBJU3lzdGVtW10gPSBbXVxuXG4gIGdldCBlbnRpdGllcygpIHtcbiAgICByZXR1cm4gdGhpcy5fZW50aXRpZXMgYXMgUmVhZG9ubHk8UmVjb3JkPHN0cmluZywgSUVudGl0eT4+XG4gIH1cblxuICBnZXQgZGlzcG9zYWJsZUNvbXBvbmVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2FibGVDb21wb25lbnRzIGFzIFJlYWRvbmx5PFJlY29yZDxzdHJpbmcsIERpc3Bvc2FibGVDb21wb25lbnRMaWtlPj5cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHJvb3RFbnRpdHk6IElFbnRpdHkpIHtcbiAgICB0aGlzLmV2ZW50TWFuYWdlci5hZGRMaXN0ZW5lcihDb21wb25lbnRBZGRlZCwgdGhpcywgdGhpcy5jb21wb25lbnRBZGRlZEhhbmRsZXIpXG4gICAgdGhpcy5ldmVudE1hbmFnZXIuYWRkTGlzdGVuZXIoQ29tcG9uZW50UmVtb3ZlZCwgdGhpcywgdGhpcy5jb21wb25lbnRSZW1vdmVkSGFuZGxlcilcbiAgICB0aGlzLnJvb3RFbnRpdHkgPSByb290RW50aXR5XG4gICAgdGhpcy5maXJzdFBlcnNvbkNhbWVyYUVudGl0eSA9IG5ldyBFbnRpdHkoKVxuICAgIDsodGhpcy5maXJzdFBlcnNvbkNhbWVyYUVudGl0eSBhcyBhbnkpLnV1aWQgPSAnRmlyc3RQZXJzb25DYW1lcmFFbnRpdHlSZWZlcmVuY2UnXG4gICAgdGhpcy5hZGRFbnRpdHkodGhpcy5maXJzdFBlcnNvbkNhbWVyYUVudGl0eSlcbiAgICB0aGlzLmF2YXRhckVudGl0eSA9IG5ldyBFbnRpdHkoKVxuICAgIDsodGhpcy5hdmF0YXJFbnRpdHkgYXMgYW55KS51dWlkID0gJ0F2YXRhckVudGl0eVJlZmVyZW5jZSdcbiAgICB0aGlzLmFkZEVudGl0eSh0aGlzLmF2YXRhckVudGl0eSlcbiAgfVxuXG4gIGFkZEVudGl0eShlbnRpdHk6IElFbnRpdHkpOiBJRW50aXR5IHtcbiAgICBjb25zdCBwYXJlbnQgPSBlbnRpdHkuZ2V0UGFyZW50KClcblxuICAgIGlmIChlbnRpdHkuaXNBZGRlZFRvRW5naW5lKCkpIHtcbiAgICAgIHJldHVybiBlbnRpdHlcbiAgICB9XG5cbiAgICBlbnRpdHkuZXZlbnRNYW5hZ2VyID0gdGhpcy5ldmVudE1hbmFnZXJcbiAgICA7KGVudGl0eSBhcyBFbnRpdHkpLmVuZ2luZSA9IHRoaXNcblxuICAgIHRoaXMuX2VudGl0aWVzW2VudGl0eS51dWlkXSA9IGVudGl0eVxuXG4gICAgdGhpcy5jaGVja1JlcXVpcmVtZW50c0FuZEFkZChlbnRpdHkpXG5cbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgZW50aXR5LnNldFBhcmVudCh0aGlzLnJvb3RFbnRpdHkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghcGFyZW50LmlzQWRkZWRUb0VuZ2luZSgpICYmIHBhcmVudCAhPT0gdGhpcy5yb290RW50aXR5KSB7XG4gICAgICAgIGxvZygnRW5naW5lOiB3YXJuaW5nLCBhZGRlZCBhbiBlbnRpdHkgd2l0aCBhIHBhcmVudCBub3QgcHJlc2VudCBpbiB0aGUgZW5naW5lLiBQYXJlbnQgaWQ6ICcgKyBwYXJlbnQudXVpZClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbnRpdHkuYWxpdmUgPSB0cnVlXG5cbiAgICBmb3IgKGxldCBpIGluIGVudGl0eS5jaGlsZHJlbikge1xuICAgICAgY29uc3QgY2hpbGQgPSBlbnRpdHkuY2hpbGRyZW5baV1cbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICBpZiAoIWNoaWxkLmlzQWRkZWRUb0VuZ2luZSgpKSB7XG4gICAgICAgICAgdGhpcy5hZGRFbnRpdHkoY2hpbGQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZW50aXR5XG4gIH1cblxuICByZW1vdmVFbnRpdHkoZW50aXR5OiBJRW50aXR5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaWQgPSBlbnRpdHkudXVpZFxuXG4gICAgaWYgKGVudGl0eS5pc0FkZGVkVG9FbmdpbmUoKSkge1xuICAgICAgZm9yIChsZXQgY29tcG9uZW50TmFtZSBpbiBlbnRpdHkuY29tcG9uZW50cykge1xuICAgICAgICBjb25zdCBjb21wb25lbnRHcm91cHMgPSB0aGlzLl9jb21wb25lbnRHcm91cHNbY29tcG9uZW50TmFtZV1cblxuICAgICAgICBpZiAoY29tcG9uZW50R3JvdXBzKSB7XG4gICAgICAgICAgZm9yIChsZXQgZ3JvdXBJbmRleCBpbiBjb21wb25lbnRHcm91cHMpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudEdyb3Vwc1tncm91cEluZGV4XS5yZW1vdmVFbnRpdHkoZW50aXR5KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSB0aGlzLmVudGl0eUxpc3RzW2NvbXBvbmVudE5hbWVdW2lkXVxuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2ltcGxlU3lzdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzeXN0ZW0gPSB0aGlzLnNpbXBsZVN5c3RlbXNbaV1cblxuICAgICAgICBpZiAoc3lzdGVtLm9uUmVtb3ZlRW50aXR5KSB7XG4gICAgICAgICAgc3lzdGVtLm9uUmVtb3ZlRW50aXR5KGVudGl0eSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpIGluIGVudGl0eS5jaGlsZHJlbikge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGVudGl0eS5jaGlsZHJlbltpXVxuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUVudGl0eShjaGlsZClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBlbnRpdHkuYWxpdmUgPSBmYWxzZVxuICAgICAgZW50aXR5LmV2ZW50TWFuYWdlciA9IG51bGxcblxuICAgICAgZGVsZXRlIHRoaXMuX2VudGl0aWVzW2lkXVxuXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2coJ0VuZ2luZTogVHJ5aW5nIHRvIHJlbW92ZSBub24gZXhpc3RlbnQgZW50aXR5IGZyb20gZW5naW5lLicpXG4gICAgICBpZiAoIWVudGl0eS5pc0FkZGVkVG9FbmdpbmUoKSkge1xuICAgICAgICBsb2coYEVuZ2luZTogRW50aXR5IFwiJHtlbnRpdHkudXVpZH1cIiBoYXMgbm90IGJlZW4gYWRkZWQgdG8gYW55IGVuZ2luZSB5ZXQuYClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZygnRW5naW5lOiBFbnRpdHkgaWQ6ICcgKyBpZClcbiAgICAgIH1cbiAgICAgIGxvZyhcIkVuZ2luZTogRW50aXR5J3MgY29tcG9uZW50czpcIilcbiAgICAgIGZvciAobGV0IGNvbXBvbmVudE5hbWUgaW4gZW50aXR5LmNvbXBvbmVudHMpIHtcbiAgICAgICAgbG9nKGNvbXBvbmVudE5hbWUpXG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBhZGRTeXN0ZW0oc3lzdGVtOiBJU3lzdGVtLCBwcmlvcml0eTogbnVtYmVyID0gMCkge1xuICAgIGlmICh0aGlzLmFkZGVkU3lzdGVtcy5pbmRleE9mKHN5c3RlbSkgIT09IC0xKSB7XG4gICAgICBsb2coJ0VuZ2luZTogVHJ5aW5nIHRvIGFkZCBhIHN5c3RlbSB0aGF0IGlzIGFscmVhZHkgYWRkZWQuIEFib3J0aW5nJylcbiAgICAgIHJldHVybiBzeXN0ZW1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zeXN0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zeXN0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5zeXN0ZW1zW2ldXG4gICAgICAgIGNvbnN0IGlzTGFzdCA9IGkgPT09IHRoaXMuc3lzdGVtcy5sZW5ndGggLSAxXG5cbiAgICAgICAgaWYgKGVudHJ5LnByaW9yaXR5ID4gcHJpb3JpdHkpIHtcbiAgICAgICAgICB0aGlzLmFkZGVkU3lzdGVtcy5wdXNoKHN5c3RlbSlcbiAgICAgICAgICB0aGlzLnN5c3RlbXMuc3BsaWNlKGksIDAsIHsgc3lzdGVtLCBwcmlvcml0eSB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH0gZWxzZSBpZiAoaXNMYXN0KSB7XG4gICAgICAgICAgdGhpcy5hZGRlZFN5c3RlbXMucHVzaChzeXN0ZW0pXG4gICAgICAgICAgdGhpcy5zeXN0ZW1zLnNwbGljZShpICsgMSwgMCwgeyBzeXN0ZW0sIHByaW9yaXR5IH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZGVkU3lzdGVtcy5wdXNoKHN5c3RlbSlcbiAgICAgIHRoaXMuc3lzdGVtcy5zcGxpY2UoMSwgMCwgeyBzeXN0ZW0sIHByaW9yaXR5IH0pXG4gICAgfVxuXG4gICAgdGhpcy5yZWdpc3RlclN5c3RlbShzeXN0ZW0pXG5cbiAgICByZXR1cm4gc3lzdGVtXG4gIH1cblxuICByZW1vdmVTeXN0ZW0oc3lzdGVtOiBJU3lzdGVtKSB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5hZGRlZFN5c3RlbXMuaW5kZXhPZihzeXN0ZW0pXG5cbiAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgc3lzdGVtLmFjdGl2ZSA9IGZhbHNlXG5cbiAgICAgIGlmIChzeXN0ZW0uZGVhY3RpdmF0ZSkge1xuICAgICAgICBzeXN0ZW0uZGVhY3RpdmF0ZSgpXG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWRkZWRTeXN0ZW1zLnNwbGljZShpZHgsIDEpXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zeXN0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN5cyA9IHRoaXMuc3lzdGVtc1tpXS5zeXN0ZW1cbiAgICAgICAgaWYgKHN5cyA9PT0gc3lzdGVtKSB7XG4gICAgICAgICAgdGhpcy5zeXN0ZW1zLnNwbGljZShpLCAxKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgZm9yIChsZXQgaSBpbiB0aGlzLnN5c3RlbXMpIHtcbiAgICAgIGNvbnN0IHN5c3RlbSA9IHRoaXMuc3lzdGVtc1tpXS5zeXN0ZW1cbiAgICAgIGlmIChzeXN0ZW0uYWN0aXZlICYmIHN5c3RlbS51cGRhdGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzeXN0ZW0udXBkYXRlKGR0KVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gVE9ETzogZSBtYXkgbm90IGJlIGFuIEVycm9yXG4gICAgICAgICAgZXJyb3IoZSBhcyBhbnkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGdldEVudGl0aWVzV2l0aENvbXBvbmVudChjb21wb25lbnQ6IHN0cmluZyk6IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgZ2V0RW50aXRpZXNXaXRoQ29tcG9uZW50KGNvbXBvbmVudDogQ29tcG9uZW50Q29uc3RydWN0b3I8YW55Pik6IFJlY29yZDxzdHJpbmcsIElFbnRpdHk+XG4gIGdldEVudGl0aWVzV2l0aENvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudENvbnN0cnVjdG9yPGFueT4gfCBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBJRW50aXR5PiB7XG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9IHR5cGVvZiBjb21wb25lbnQgPT09ICdzdHJpbmcnID8gY29tcG9uZW50IDogZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpXG5cbiAgICBpZiAoY29tcG9uZW50TmFtZSBpbiB0aGlzLmVudGl0eUxpc3RzKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbnRpdHlMaXN0c1tjb21wb25lbnROYW1lXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKHRoaXMuZW50aXR5TGlzdHNbY29tcG9uZW50TmFtZV0gPSB7fSlcbiAgICB9XG4gIH1cblxuICByZWdpc3RlckNvbXBvbmVudChjb21wb25lbnQ6IERpc3Bvc2FibGVDb21wb25lbnRMaWtlKSB7XG4gICAgY29uc3QgaWQgPSBnZXRDb21wb25lbnRJZChjb21wb25lbnQpXG4gICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KVxuICAgIGNvbnN0IGNsYXNzSWQgPSBnZXRDb21wb25lbnRDbGFzc0lkKGNvbXBvbmVudClcbiAgICB0aGlzLl9kaXNwb3NhYmxlQ29tcG9uZW50c1tpZF0gPSBjb21wb25lbnRcbiAgICBpZiAoY2xhc3NJZCAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KG5ldyBEaXNwb3NhYmxlQ29tcG9uZW50Q3JlYXRlZChpZCwgbmFtZSwgY2xhc3NJZCkpXG4gICAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQobmV3IERpc3Bvc2FibGVDb21wb25lbnRVcGRhdGVkKGlkLCBjb21wb25lbnQpKVxuICAgIH1cbiAgfVxuXG4gIGRpc3Bvc2VDb21wb25lbnQoY29tcG9uZW50OiBEaXNwb3NhYmxlQ29tcG9uZW50TGlrZSkge1xuICAgIGNvbnN0IGlkID0gZ2V0Q29tcG9uZW50SWQoY29tcG9uZW50KVxuXG4gICAgaWYgKGRlbGV0ZSB0aGlzLl9kaXNwb3NhYmxlQ29tcG9uZW50c1tpZF0pIHtcbiAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChuZXcgRGlzcG9zYWJsZUNvbXBvbmVudFJlbW92ZWQoaWQpKVxuXG4gICAgICBpZiAoY29tcG9uZW50Lm9uRGlzcG9zZSkge1xuICAgICAgICBjb21wb25lbnQub25EaXNwb3NlKClcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgdXBkYXRlQ29tcG9uZW50KGNvbXBvbmVudDogRGlzcG9zYWJsZUNvbXBvbmVudExpa2UpIHtcbiAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQobmV3IERpc3Bvc2FibGVDb21wb25lbnRVcGRhdGVkKGdldENvbXBvbmVudElkKGNvbXBvbmVudCksIGNvbXBvbmVudCkpXG4gIH1cblxuICBnZXRDb21wb25lbnRHcm91cCguLi5yZXF1aXJlczogQ29tcG9uZW50Q29uc3RydWN0b3I8YW55PltdKSB7XG4gICAgbGV0IGNvbXBvbmVudEdyb3VwID0gdW5kZWZpbmVkXG5cbiAgICAvLyBSZXR1cm4gYW4gYWxyZWFkeSBjcmVhdGVkIGNvbXBvbmVudC1ncm91cCBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuICAgIGlmIChyZXF1aXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyAxLiBnZXQgY29tcG9uZW50IGdyb3VwcyBmb3IgZmlyc3QgcmVxdWlyZVxuICAgICAgbGV0IGNvbXBvbmVudEdyb3VwcyA9IHRoaXMuX2NvbXBvbmVudEdyb3Vwc1tnZXRDb21wb25lbnROYW1lKHJlcXVpcmVzWzBdKV1cblxuICAgICAgaWYgKGNvbXBvbmVudEdyb3Vwcykge1xuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gcmVxdWlyZXMuc2xpY2UoKVxuXG4gICAgICAgIC8vIDIuIHNlYXJjaCBmb3IgYSBjb21wb25lbnQgZ3JvdXAgdGhhdCBoYXMgYWxsIHRoZSBzYW1lIHJlcXVpcmVtZW50c1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudEdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHRyYXZlcnNlZENvbXBvbmVudEdyb3VwID0gY29tcG9uZW50R3JvdXBzW2ldXG5cbiAgICAgICAgICBpZiAoY29tcG9uZW50cy5sZW5ndGggPT09IHRyYXZlcnNlZENvbXBvbmVudEdyb3VwLnJlcXVpcmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb21wb25lbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIGlmICh0cmF2ZXJzZWRDb21wb25lbnRHcm91cC5yZXF1aXJlcy5pbmRleE9mKGNvbXBvbmVudHNbal0pID09PSAtMSkgYnJlYWtcblxuICAgICAgICAgICAgICBpZiAoaiA9PT0gY29tcG9uZW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50R3JvdXAgPSB0cmF2ZXJzZWRDb21wb25lbnRHcm91cFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb21wb25lbnRHcm91cCkgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29tcG9uZW50R3JvdXApIHtcbiAgICAgIC8vIDMuIEZvdW5kIGFuIGV4aXN0ZW50IGNvbXBvbmVudCBncm91cCB3aXRoIHRoZSBleGFjdCBzYW1lIHJlcXVpcmVtZW50c1xuICAgICAgcmV0dXJuIGNvbXBvbmVudEdyb3VwXG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlIGNyZWF0ZSBhbmQgc3RvcmUgaXRcbiAgICBjb21wb25lbnRHcm91cCA9IG5ldyBDb21wb25lbnRHcm91cCguLi5yZXF1aXJlcylcblxuICAgIGNvbXBvbmVudEdyb3VwLmFjdGl2ZSA9IHRydWVcblxuICAgIGNvbnN0IHJlcXVpcmVzTmFtZXMgPSBjb21wb25lbnRHcm91cC5yZXF1aXJlc05hbWVzXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcXVpcmVzTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSByZXF1aXJlc05hbWVzW2ldXG5cbiAgICAgIGxldCBjb21wb25lbnRHcm91cHMgPSB0aGlzLl9jb21wb25lbnRHcm91cHNbY29tcG9uZW50TmFtZV1cblxuICAgICAgaWYgKCFjb21wb25lbnRHcm91cHMpIHtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50R3JvdXBzW2NvbXBvbmVudE5hbWVdID0gY29tcG9uZW50R3JvdXBzID0gW11cbiAgICAgIH1cblxuICAgICAgaWYgKGNvbXBvbmVudEdyb3Vwcy5pbmRleE9mKGNvbXBvbmVudEdyb3VwKSA9PT0gLTEpIHtcbiAgICAgICAgY29tcG9uZW50R3JvdXBzLnB1c2goY29tcG9uZW50R3JvdXApXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgZW50aXR5SWQgaW4gdGhpcy5fZW50aXRpZXMpIHtcbiAgICAgIHRoaXMuY2hlY2tSZXF1aXJlbWVudHModGhpcy5fZW50aXRpZXNbZW50aXR5SWRdLCBjb21wb25lbnRHcm91cClcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcG9uZW50R3JvdXBcbiAgfVxuXG4gIHJlbW92ZUNvbXBvbmVudEdyb3VwKGNvbXBvbmVudEdyb3VwOiBDb21wb25lbnRHcm91cCkge1xuICAgIGlmIChjb21wb25lbnRHcm91cC5hY3RpdmUpIHtcbiAgICAgIGNvbXBvbmVudEdyb3VwLmFjdGl2ZSA9IGZhbHNlXG4gICAgICBjb25zdCByZXF1aXJlc05hbWVzID0gY29tcG9uZW50R3JvdXAucmVxdWlyZXNOYW1lc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXF1aXJlc05hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSByZXF1aXJlc05hbWVzW2ldXG5cbiAgICAgICAgbGV0IGNvbXBvbmVudEdyb3VwcyA9IHRoaXMuX2NvbXBvbmVudEdyb3Vwc1tjb21wb25lbnROYW1lXVxuXG4gICAgICAgIGlmIChjb21wb25lbnRHcm91cHMpIHtcbiAgICAgICAgICBjb25zdCBpZHggPSBjb21wb25lbnRHcm91cHMuaW5kZXhPZihjb21wb25lbnRHcm91cClcbiAgICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgY29tcG9uZW50R3JvdXBzLnNwbGljZShpZHgsIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJTeXN0ZW0oc3lzdGVtOiBJU3lzdGVtKSB7XG4gICAgc3lzdGVtLmFjdGl2ZSA9IHRydWVcblxuICAgIGlmIChzeXN0ZW0uYWN0aXZhdGUpIHtcbiAgICAgIHN5c3RlbS5hY3RpdmF0ZSh0aGlzKVxuICAgIH1cblxuICAgIHRoaXMuc2ltcGxlU3lzdGVtcy5wdXNoKHN5c3RlbSlcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tSZXF1aXJlbWVudHNBbmRBZGQoZW50aXR5OiBJRW50aXR5KSB7XG4gICAgaWYgKCFlbnRpdHkuaXNBZGRlZFRvRW5naW5lKCkpIHJldHVyblxuXG4gICAgZm9yIChsZXQgY29tcG9uZW50TmFtZSBpbiBlbnRpdHkuY29tcG9uZW50cykge1xuICAgICAgaWYgKCEoY29tcG9uZW50TmFtZSBpbiB0aGlzLmVudGl0eUxpc3RzKSkge1xuICAgICAgICB0aGlzLmVudGl0eUxpc3RzW2NvbXBvbmVudE5hbWVdID0ge31cbiAgICAgIH1cblxuICAgICAgdGhpcy5lbnRpdHlMaXN0c1tjb21wb25lbnROYW1lXVtlbnRpdHkudXVpZF0gPSBlbnRpdHlcblxuICAgICAgY29uc3QgY29tcG9uZW50R3JvdXBzID0gdGhpcy5fY29tcG9uZW50R3JvdXBzW2NvbXBvbmVudE5hbWVdXG5cbiAgICAgIGlmIChjb21wb25lbnRHcm91cHMpIHtcbiAgICAgICAgZm9yIChsZXQgc3lzdGVtSW5kZXggaW4gY29tcG9uZW50R3JvdXBzKSB7XG4gICAgICAgICAgdGhpcy5jaGVja1JlcXVpcmVtZW50cyhlbnRpdHksIGNvbXBvbmVudEdyb3Vwc1tzeXN0ZW1JbmRleF0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2ltcGxlU3lzdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc3lzdGVtID0gdGhpcy5zaW1wbGVTeXN0ZW1zW2ldXG5cbiAgICAgIGlmIChzeXN0ZW0ub25BZGRFbnRpdHkpIHtcbiAgICAgICAgc3lzdGVtLm9uQWRkRW50aXR5KGVudGl0eSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNoZWNrUmVxdWlyZW1lbnRzKGVudGl0eTogSUVudGl0eSwgc3lzdGVtOiBDb21wb25lbnRHcm91cCkge1xuICAgIGlmIChzeXN0ZW0ubWVldHNSZXF1aXJlbWVudHMoZW50aXR5KSkge1xuICAgICAgaWYgKCFzeXN0ZW0uaGFzRW50aXR5KGVudGl0eSkpIHtcbiAgICAgICAgc3lzdGVtLmFkZEVudGl0eShlbnRpdHkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzeXN0ZW0uaGFzRW50aXR5KGVudGl0eSkpIHtcbiAgICAgICAgc3lzdGVtLnJlbW92ZUVudGl0eShlbnRpdHkpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb21wb25lbnRBZGRlZEhhbmRsZXIoZXZlbnQ6IENvbXBvbmVudEFkZGVkKSB7XG4gICAgY29uc3QgeyBlbnRpdHksIGNvbXBvbmVudE5hbWUgfSA9IGV2ZW50XG5cbiAgICBpZiAoIWVudGl0eS5pc0FkZGVkVG9FbmdpbmUoKSkgcmV0dXJuXG5cbiAgICBpZiAoIXRoaXMuZW50aXR5TGlzdHNbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgIHRoaXMuZW50aXR5TGlzdHNbY29tcG9uZW50TmFtZV0gPSB7IFtlbnRpdHkudXVpZF06IGVudGl0eSB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW50aXR5TGlzdHNbY29tcG9uZW50TmFtZV1bZW50aXR5LnV1aWRdID0gZW50aXR5XG4gICAgfVxuXG4gICAgY29uc3QgY29tcG9uZW50R3JvdXBzID0gdGhpcy5fY29tcG9uZW50R3JvdXBzW2NvbXBvbmVudE5hbWVdXG5cbiAgICBpZiAoY29tcG9uZW50R3JvdXBzKSB7XG4gICAgICBmb3IgKGxldCBpIGluIGNvbXBvbmVudEdyb3Vwcykge1xuICAgICAgICB0aGlzLmNoZWNrUmVxdWlyZW1lbnRzKGVudGl0eSwgY29tcG9uZW50R3JvdXBzW2ldKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29tcG9uZW50UmVtb3ZlZEhhbmRsZXIoZXZlbnQ6IENvbXBvbmVudFJlbW92ZWQpIHtcbiAgICAvLyBJbiBjYXNlIGEgc2luZ2xlIGNvbXBvbmVudCBnZXRzIHJlbW92ZWQgZnJvbSBhbiBlbnRpdHksIHdlIGluZm9ybVxuICAgIC8vIGFsbCBzeXN0ZW1zIHRoYXQgdGhpcyBlbnRpdHkgbG9zdCB0aGlzIHNwZWNpZmljIGNvbXBvbmVudC5cbiAgICBjb25zdCB7IGVudGl0eSwgY29tcG9uZW50TmFtZSB9ID0gZXZlbnRcblxuICAgIGlmICghZW50aXR5LmlzQWRkZWRUb0VuZ2luZSgpKSByZXR1cm5cblxuICAgIGRlbGV0ZSB0aGlzLmVudGl0eUxpc3RzW2NvbXBvbmVudE5hbWVdW2VudGl0eS51dWlkXVxuXG4gICAgY29uc3QgY29tcG9uZW50R3JvdXBzID0gdGhpcy5fY29tcG9uZW50R3JvdXBzW2NvbXBvbmVudE5hbWVdXG5cbiAgICBpZiAoY29tcG9uZW50R3JvdXBzKSB7XG4gICAgICBmb3IgKGxldCBpIGluIGNvbXBvbmVudEdyb3Vwcykge1xuICAgICAgICB0aGlzLmNoZWNrUmVxdWlyZW1lbnRzKGVudGl0eSwgY29tcG9uZW50R3JvdXBzW2ldKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgZXJyb3IgfSBmcm9tICcuL2hlbHBlcnMnXG5cbmRlY2xhcmUgdmFyIFByb21pc2U6IGFueVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgVGFza1Jlc3VsdDxUPiA9IFByb21pc2U8VD4gJiB7XG4gIGlzQ29tcGxldGU6IGJvb2xlYW5cbiAgZGlkRmFpbD86IGJvb2xlYW5cbiAgZXJyb3I/OiBFcnJvclxuICByZXN1bHQ/OiBUXG59XG5cbmNvbnN0IF9kZWZlciA9IFByb21pc2UucmVzb2x2ZSgpLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSlcblxuLyoqXG4gKiBFeGVjdXRlcyBhbiBhc3luY2hyb25vdXMgdGFza1xuICogQHBhcmFtIHRhc2sgLSB0aGUgdGFzayB0byBleGVjdXRlXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlVGFzazxUPih0YXNrOiAoKSA9PiBQcm9taXNlPFQ+KTogVGFza1Jlc3VsdDxUPiB7XG4gIGNvbnN0IHJlc3VsdDogVGFza1Jlc3VsdDxUPiA9IF9kZWZlcih0YXNrKVxuXG4gIHJlc3VsdC5pc0NvbXBsZXRlID0gZmFsc2VcblxuICByZXN1bHRcbiAgICAudGhlbigkID0+IHtcbiAgICAgIHJlc3VsdC5pc0NvbXBsZXRlID0gdHJ1ZVxuICAgICAgcmVzdWx0LnJlc3VsdCA9ICRcbiAgICAgIHJlc3VsdC5kaWRGYWlsID0gZmFsc2VcbiAgICB9KVxuICAgIC5jYXRjaCgkID0+IHtcbiAgICAgIHJlc3VsdC5pc0NvbXBsZXRlID0gdHJ1ZVxuICAgICAgcmVzdWx0LmVycm9yID0gJFxuICAgICAgcmVzdWx0LmRpZEZhaWwgPSB0cnVlXG4gICAgICBlcnJvcignZXhlY3V0ZVRhc2s6IEZBSUxFRCAnICsgJC50b1N0cmluZygpLCAkKVxuICAgIH0pXG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuIiwiaW1wb3J0IHsgZXhlY3V0ZVRhc2sgfSBmcm9tICcuL1Rhc2snXG5cbmRlY2xhcmUgdmFyIFByb21pc2U6IGFueVxuXG4vKipcbiAqIEEgY2xhc3Mgc2VydmVzIGFzIGEgbWVkaXVtIGJldHdlZW4gdGhlIG9ic2VydmFibGUgYW5kIGl0cyBvYnNlcnZlcnNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmVyRXZlbnRTdGF0ZSB7XG4gIC8qKlxuICAgKiBBbiBPYnNlcnZlciBjYW4gc2V0IHRoaXMgcHJvcGVydHkgdG8gdHJ1ZSB0byBwcmV2ZW50IHN1YnNlcXVlbnQgb2JzZXJ2ZXJzIG9mIGJlaW5nIG5vdGlmaWVkXG4gICAqL1xuICBwdWJsaWMgc2tpcE5leHRPYnNlcnZlcnMhOiBib29sZWFuXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFzayB2YWx1ZSB0aGF0IHdlcmUgdXNlZCB0byB0cmlnZ2VyIHRoZSBldmVudCBjb3JyZXNwb25kaW5nIHRvIHRoaXMgRXZlbnRTdGF0ZSBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBtYXNrITogbnVtYmVyXG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdGhhdCBvcmlnaW5hbGx5IG5vdGlmaWVkIHRoZSBldmVudFxuICAgKi9cbiAgcHVibGljIHRhcmdldD86IGFueVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBvYmplY3QgaW4gdGhlIGJ1YmJsaW5nIHBoYXNlXG4gICAqL1xuICBwdWJsaWMgY3VycmVudFRhcmdldD86IGFueVxuXG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgYmUgcG9wdWxhdGVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgbGFzdCBmdW5jdGlvbiB0aGF0IHdhcyBleGVjdXRlZC5cbiAgICogSWYgaXQgaXMgdGhlIGZpcnN0IGZ1bmN0aW9uIGluIHRoZSBjYWxsYmFjayBjaGFpbiBpdCB3aWxsIGJlIHRoZSBldmVudCBkYXRhLlxuICAgKi9cbiAgcHVibGljIGxhc3RSZXR1cm5WYWx1ZT86IGFueVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRXZlbnRTdGF0ZVxuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc3RhdGVcbiAgICogQHBhcmFtIHNraXBOZXh0T2JzZXJ2ZXJzIC0gZGVmaW5lcyBhIGZsYWcgd2hpY2ggd2lsbCBpbnN0cnVjdCB0aGUgb2JzZXJ2YWJsZSB0byBza2lwIGZvbGxvd2luZyBvYnNlcnZlcnMgd2hlbiBzZXQgdG8gdHJ1ZVxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB0aGUgb3JpZ2luYWwgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKiBAcGFyYW0gY3VycmVudFRhcmdldCAtIGRlZmluZXMgdGhlIGN1cnJlbnQgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IobWFzazogbnVtYmVyLCBza2lwTmV4dE9ic2VydmVycyA9IGZhbHNlLCB0YXJnZXQ/OiBhbnksIGN1cnJlbnRUYXJnZXQ/OiBhbnkpIHtcbiAgICB0aGlzLmluaXRhbGl6ZShtYXNrLCBza2lwTmV4dE9ic2VydmVycywgdGFyZ2V0LCBjdXJyZW50VGFyZ2V0KVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGN1cnJlbnQgZXZlbnQgc3RhdGVcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHN0YXRlXG4gICAqIEBwYXJhbSBza2lwTmV4dE9ic2VydmVycyAtIGRlZmluZXMgYSBmbGFnIHdoaWNoIHdpbGwgaW5zdHJ1Y3QgdGhlIG9ic2VydmFibGUgdG8gc2tpcCBmb2xsb3dpbmcgb2JzZXJ2ZXJzIHdoZW4gc2V0IHRvIHRydWVcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgdGhlIG9yaWdpbmFsIHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHBhcmFtIGN1cnJlbnRUYXJnZXQgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgZXZlbnQgc3RhdGVcbiAgICovXG4gIHB1YmxpYyBpbml0YWxpemUobWFzazogbnVtYmVyLCBza2lwTmV4dE9ic2VydmVycyA9IGZhbHNlLCB0YXJnZXQ/OiBhbnksIGN1cnJlbnRUYXJnZXQ/OiBhbnkpOiBPYnNlcnZlckV2ZW50U3RhdGUge1xuICAgIHRoaXMubWFzayA9IG1hc2tcbiAgICB0aGlzLnNraXBOZXh0T2JzZXJ2ZXJzID0gc2tpcE5leHRPYnNlcnZlcnNcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldFxuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50IGFuIE9ic2VydmVyIHJlZ2lzdGVyZWQgdG8gYSBnaXZlbiBPYnNlcnZhYmxlIG9iamVjdC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmVyPFQ+IHtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyBhIHByb3BlcnR5IGRlZmluaW5nIHRoYXQgdGhlIG9ic2VydmVyIGFzIHRvIGJlIHVucmVnaXN0ZXJlZCBhZnRlciB0aGUgbmV4dCBub3RpZmljYXRpb25cbiAgICovXG4gIHB1YmxpYyB1bnJlZ2lzdGVyT25OZXh0Q2FsbCA9IGZhbHNlXG5cbiAgLyoqIEZvciBpbnRlcm5hbCB1c2FnZSAqL1xuICBwdWJsaWMgX3dpbGxCZVVucmVnaXN0ZXJlZCA9IGZhbHNlXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgb2JzZXJ2ZXJcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gZGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuIHRoZSBvYnNlcnZlciBpcyBub3RpZmllZFxuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgb2YgdGhlIG9ic2VydmVyICh1c2VkIHRvIGZpbHRlciBub3RpZmljYXRpb25zKVxuICAgKiBAcGFyYW0gc2NvcGUgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHNjb3BlIHVzZWQgdG8gcmVzdG9yZSB0aGUgSlMgY29udGV4dFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuIHRoZSBvYnNlcnZlciBpcyBub3RpZmllZFxuICAgICAqL1xuICAgIHB1YmxpYyBjYWxsYmFjazogKGV2ZW50RGF0YTogVCwgZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlKSA9PiB2b2lkLFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIG1hc2sgb2YgdGhlIG9ic2VydmVyICh1c2VkIHRvIGZpbHRlciBub3RpZmljYXRpb25zKVxuICAgICAqL1xuICAgIHB1YmxpYyBtYXNrOiBudW1iZXIsXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgY3VycmVudCBzY29wZSB1c2VkIHRvIHJlc3RvcmUgdGhlIEpTIGNvbnRleHRcbiAgICAgKi9cbiAgICBwdWJsaWMgc2NvcGU6IGFueSA9IG51bGxcbiAgKSB7fVxufVxuXG4vKipcbiAqIFJlcHJlc2VudCBhIGxpc3Qgb2Ygb2JzZXJ2ZXJzIHJlZ2lzdGVyZWQgdG8gbXVsdGlwbGUgT2JzZXJ2YWJsZXMgb2JqZWN0LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgTXVsdGlPYnNlcnZlcjxUPiB7XG4gIHByaXZhdGUgX29ic2VydmVyczogT2JzZXJ2ZXI8VD5bXSB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgX29ic2VydmFibGVzOiBPYnNlcnZhYmxlPFQ+W10gfCBudWxsID0gbnVsbFxuXG4gIC8qKlxuICAgKiBSYWlzZSBhIGNhbGxiYWNrIHdoZW4gb25lIG9mIHRoZSBvYnNlcnZhYmxlIHdpbGwgbm90aWZ5XG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlcyAtIGRlZmluZXMgYSBsaXN0IG9mIG9ic2VydmFibGVzIHRvIHdhdGNoXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGRlZmluZXMgdGhlIGNhbGxiYWNrIHRvIGNhbGwgb24gbm90aWZpY2F0aW9uXG4gICAqIEBwYXJhbSBtYXNrIC0gZGVmaW5lcyB0aGUgbWFzayB1c2VkIHRvIGZpbHRlciBub3RpZmljYXRpb25zXG4gICAqIEBwYXJhbSBzY29wZSAtIGRlZmluZXMgdGhlIGN1cnJlbnQgc2NvcGUgdXNlZCB0byByZXN0b3JlIHRoZSBKUyBjb250ZXh0XG4gICAqIEByZXR1cm5zIHRoZSBuZXcgTXVsdGlPYnNlcnZlclxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBXYXRjaDxUPihcbiAgICBvYnNlcnZhYmxlczogT2JzZXJ2YWJsZTxUPltdLFxuICAgIGNhbGxiYWNrOiAoZXZlbnREYXRhOiBULCBldmVudFN0YXRlOiBPYnNlcnZlckV2ZW50U3RhdGUpID0+IHZvaWQsXG4gICAgbWFzazogbnVtYmVyID0gLTEsXG4gICAgc2NvcGU6IGFueSA9IG51bGxcbiAgKTogTXVsdGlPYnNlcnZlcjxUPiB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBNdWx0aU9ic2VydmVyPFQ+KClcblxuICAgIHJlc3VsdC5fb2JzZXJ2ZXJzID0gbmV3IEFycmF5PE9ic2VydmVyPFQ+PigpXG4gICAgcmVzdWx0Ll9vYnNlcnZhYmxlcyA9IG9ic2VydmFibGVzXG5cbiAgICBmb3IgKGxldCBvYnNlcnZhYmxlIG9mIG9ic2VydmFibGVzKSB7XG4gICAgICBsZXQgb2JzZXJ2ZXIgPSBvYnNlcnZhYmxlLmFkZChjYWxsYmFjaywgbWFzaywgZmFsc2UsIHNjb3BlKVxuICAgICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICAgIHJlc3VsdC5fb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2UgYXNzb2NpYXRlZCByZXNvdXJjZXNcbiAgICovXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9vYnNlcnZlcnMgJiYgdGhpcy5fb2JzZXJ2YWJsZXMpIHtcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl9vYnNlcnZlcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHRoaXMuX29ic2VydmFibGVzW2luZGV4XS5yZW1vdmUodGhpcy5fb2JzZXJ2ZXJzW2luZGV4XSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9vYnNlcnZlcnMgPSBudWxsXG4gICAgdGhpcy5fb2JzZXJ2YWJsZXMgPSBudWxsXG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgT2JzZXJ2YWJsZSBjbGFzcyBpcyBhIHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgT2JzZXJ2YWJsZSBwYXR0ZXJuLlxuICpcbiAqIFRoZXJlJ3Mgb25lIHNsaWdodCBwYXJ0aWN1bGFyaXR5IHRob3VnaDogYSBnaXZlbiBPYnNlcnZhYmxlIGNhbiBub3RpZnkgaXRzIG9ic2VydmVyIHVzaW5nIGEgcGFydGljdWxhciBtYXNrIHZhbHVlLCBvbmx5IHRoZSBPYnNlcnZlcnMgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgbWFzayB2YWx1ZSB3aWxsIGJlIG5vdGlmaWVkLlxuICogVGhpcyBlbmFibGUgYSBtb3JlIGZpbmUgZ3JhaW5lZCBleGVjdXRpb24gd2l0aG91dCBoYXZpbmcgdG8gcmVseSBvbiBtdWx0aXBsZSBkaWZmZXJlbnQgT2JzZXJ2YWJsZSBvYmplY3RzLlxuICogRm9yIGluc3RhbmNlIHlvdSBtYXkgaGF2ZSBhIGdpdmVuIE9ic2VydmFibGUgdGhhdCBoYXZlIGZvdXIgZGlmZmVyZW50IHR5cGVzIG9mIG5vdGlmaWNhdGlvbnM6IE1vdmUgKG1hc2sgPSAweDAxKSwgU3RvcCAobWFzayA9IDB4MDIpLCBUdXJuIFJpZ2h0IChtYXNrID0gMFgwNCksIFR1cm4gTGVmdCAobWFzayA9IDBYMDgpLlxuICogQSBnaXZlbiBvYnNlcnZlciBjYW4gcmVnaXN0ZXIgaXRzZWxmIHdpdGggb25seSBNb3ZlIGFuZCBTdG9wIChtYXNrID0gMHgwMyksIHRoZW4gaXQgd2lsbCBvbmx5IGJlIG5vdGlmaWVkIHdoZW4gb25lIG9mIHRoZXNlIHR3byBvY2N1cnMgYW5kIHdpbGwgbmV2ZXIgYmUgZm9yIFR1cm4gTGVmdC9SaWdodC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlPFQ+IHtcbiAgcHJpdmF0ZSBfb2JzZXJ2ZXJzID0gbmV3IEFycmF5PE9ic2VydmVyPFQ+PigpXG5cbiAgcHJpdmF0ZSBfZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlXG5cbiAgcHJpdmF0ZSBfb25PYnNlcnZlckFkZGVkOiBudWxsIHwgKChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHZvaWQpID0gbnVsbFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IG9ic2VydmFibGVcbiAgICogQHBhcmFtIG9uT2JzZXJ2ZXJBZGRlZCAtIGRlZmluZXMgYSBjYWxsYmFjayB0byBjYWxsIHdoZW4gYSBuZXcgb2JzZXJ2ZXIgaXMgYWRkZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9uT2JzZXJ2ZXJBZGRlZD86IChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHZvaWQpIHtcbiAgICB0aGlzLl9ldmVudFN0YXRlID0gbmV3IE9ic2VydmVyRXZlbnRTdGF0ZSgwKVxuXG4gICAgaWYgKG9uT2JzZXJ2ZXJBZGRlZCkge1xuICAgICAgdGhpcy5fb25PYnNlcnZlckFkZGVkID0gb25PYnNlcnZlckFkZGVkXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBPYnNlcnZlciB3aXRoIHRoZSBzcGVjaWZpZWQgY2FsbGJhY2tcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gdGhlIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBmb3IgdGhhdCBPYnNlcnZlclxuICAgKiBAcGFyYW0gbWFzayAtIHRoZSBtYXNrIHVzZWQgdG8gZmlsdGVyIG9ic2VydmVyc1xuICAgKiBAcGFyYW0gaW5zZXJ0Rmlyc3QgLSBpZiB0cnVlIHRoZSBjYWxsYmFjayB3aWxsIGJlIGluc2VydGVkIGF0IHRoZSBmaXJzdCBwb3NpdGlvbiwgaGVuY2UgZXhlY3V0ZWQgYmVmb3JlIHRoZSBvdGhlcnMgb25lcy4gSWYgZmFsc2UgKGRlZmF1bHQgYmVoYXZpb3IpIHRoZSBjYWxsYmFjayB3aWxsIGJlIGluc2VydGVkIGF0IHRoZSBsYXN0IHBvc2l0aW9uLCBleGVjdXRlZCBhZnRlciBhbGwgdGhlIG90aGVycyBhbHJlYWR5IHByZXNlbnQuXG4gICAqIEBwYXJhbSBzY29wZSAtIG9wdGlvbmFsIHNjb3BlIGZvciB0aGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGZyb21cbiAgICogQHBhcmFtIHVucmVnaXN0ZXJPbkZpcnN0Q2FsbCAtIGRlZmluZXMgaWYgdGhlIG9ic2VydmVyIGFzIHRvIGJlIHVucmVnaXN0ZXJlZCBhZnRlciB0aGUgbmV4dCBub3RpZmljYXRpb25cbiAgICogQHJldHVybnMgdGhlIG5ldyBvYnNlcnZlciBjcmVhdGVkIGZvciB0aGUgY2FsbGJhY2tcbiAgICovXG4gIHB1YmxpYyBhZGQoXG4gICAgY2FsbGJhY2s6IChldmVudERhdGE6IFQsIGV2ZW50U3RhdGU6IE9ic2VydmVyRXZlbnRTdGF0ZSkgPT4gdm9pZCxcbiAgICBtYXNrOiBudW1iZXIgPSAtMSxcbiAgICBpbnNlcnRGaXJzdCA9IGZhbHNlLFxuICAgIHNjb3BlOiBhbnkgPSBudWxsLFxuICAgIHVucmVnaXN0ZXJPbkZpcnN0Q2FsbCA9IGZhbHNlXG4gICk6IG51bGwgfCBPYnNlcnZlcjxUPiB7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgT2JzZXJ2ZXIoY2FsbGJhY2ssIG1hc2ssIHNjb3BlKVxuICAgIG9ic2VydmVyLnVucmVnaXN0ZXJPbk5leHRDYWxsID0gdW5yZWdpc3Rlck9uRmlyc3RDYWxsXG5cbiAgICBpZiAoaW5zZXJ0Rmlyc3QpIHtcbiAgICAgIHRoaXMuX29ic2VydmVycy51bnNoaWZ0KG9ic2VydmVyKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9vYnNlcnZlcnMucHVzaChvYnNlcnZlcilcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fb25PYnNlcnZlckFkZGVkKSB7XG4gICAgICB0aGlzLl9vbk9ic2VydmVyQWRkZWQob2JzZXJ2ZXIpXG4gICAgfVxuXG4gICAgcmV0dXJuIG9ic2VydmVyXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE9ic2VydmVyIHdpdGggdGhlIHNwZWNpZmllZCBjYWxsYmFjayBhbmQgdW5yZWdpc3RlcnMgYWZ0ZXIgdGhlIG5leHQgbm90aWZpY2F0aW9uXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIHRoZSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgZm9yIHRoYXQgT2JzZXJ2ZXJcbiAgICogQHJldHVybnMgdGhlIG5ldyBvYnNlcnZlciBjcmVhdGVkIGZvciB0aGUgY2FsbGJhY2tcbiAgICovXG4gIHB1YmxpYyBhZGRPbmNlKGNhbGxiYWNrOiAoZXZlbnREYXRhOiBULCBldmVudFN0YXRlOiBPYnNlcnZlckV2ZW50U3RhdGUpID0+IHZvaWQpOiBudWxsIHwgT2JzZXJ2ZXI8VD4ge1xuICAgIHJldHVybiB0aGlzLmFkZChjYWxsYmFjaywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gT2JzZXJ2ZXIgZnJvbSB0aGUgT2JzZXJ2YWJsZSBvYmplY3RcbiAgICogQHBhcmFtIG9ic2VydmVyIC0gdGhlIGluc3RhbmNlIG9mIHRoZSBPYnNlcnZlciB0byByZW1vdmVcbiAgICogQHJldHVybnMgZmFsc2UgaWYgaXQgZG9lc24ndCBiZWxvbmcgdG8gdGhpcyBPYnNlcnZhYmxlXG4gICAqL1xuICBwdWJsaWMgcmVtb3ZlKG9ic2VydmVyOiBudWxsIHwgT2JzZXJ2ZXI8VD4pOiBib29sZWFuIHtcbiAgICBpZiAoIW9ic2VydmVyKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBsZXQgaW5kZXggPSB0aGlzLl9vYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcilcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2RlZmVyVW5yZWdpc3RlcihvYnNlcnZlcilcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgT2JzZXJ2YWJsZSBvYmplY3RcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gdGhlIGNhbGxiYWNrIHRvIHJlbW92ZVxuICAgKiBAcGFyYW0gc2NvcGUgLSBvcHRpb25hbCBzY29wZS4gSWYgdXNlZCBvbmx5IHRoZSBjYWxsYmFja3Mgd2l0aCB0aGlzIHNjb3BlIHdpbGwgYmUgcmVtb3ZlZFxuICAgKiBAcmV0dXJucyBmYWxzZSBpZiBpdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIE9ic2VydmFibGVcbiAgICovXG4gIHB1YmxpYyByZW1vdmVDYWxsYmFjayhjYWxsYmFjazogKGV2ZW50RGF0YTogVCwgZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlKSA9PiB2b2lkLCBzY29wZT86IGFueSk6IGJvb2xlYW4ge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl9vYnNlcnZlcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAodGhpcy5fb2JzZXJ2ZXJzW2luZGV4XS5jYWxsYmFjayA9PT0gY2FsbGJhY2sgJiYgKCFzY29wZSB8fCBzY29wZSA9PT0gdGhpcy5fb2JzZXJ2ZXJzW2luZGV4XS5zY29wZSkpIHtcbiAgICAgICAgdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKHRoaXMuX29ic2VydmVyc1tpbmRleF0pXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogTm90aWZ5IGFsbCBPYnNlcnZlcnMgYnkgY2FsbGluZyB0aGVpciByZXNwZWN0aXZlIGNhbGxiYWNrIHdpdGggdGhlIGdpdmVuIGRhdGFcbiAgICogV2lsbCByZXR1cm4gdHJ1ZSBpZiBhbGwgb2JzZXJ2ZXJzIHdlcmUgZXhlY3V0ZWQsIGZhbHNlIGlmIGFuIG9ic2VydmVyIHNldCBza2lwTmV4dE9ic2VydmVycyB0byB0cnVlLCB0aGVuIHByZXZlbnQgdGhlIHN1YnNlcXVlbnQgb25lcyB0byBleGVjdXRlXG4gICAqIEBwYXJhbSBldmVudERhdGEgLSBkZWZpbmVzIHRoZSBkYXRhIHRvIHNlbmQgdG8gYWxsIG9ic2VydmVyc1xuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgb2YgdGhlIGN1cnJlbnQgbm90aWZpY2F0aW9uIChvYnNlcnZlcnMgd2l0aCBpbmNvbXBhdGlibGUgbWFzayAoaWUgbWFzayAmIG9ic2VydmVyLm1hc2sgPT09IDApIHdpbGwgbm90IGJlIG5vdGlmaWVkKVxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB0aGUgb3JpZ2luYWwgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKiBAcGFyYW0gY3VycmVudFRhcmdldCAtIGRlZmluZXMgdGhlIGN1cnJlbnQgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKiBAcmV0dXJucyBmYWxzZSBpZiB0aGUgY29tcGxldGUgb2JzZXJ2ZXIgY2hhaW4gd2FzIG5vdCBwcm9jZXNzZWQgKGJlY2F1c2Ugb25lIG9ic2VydmVyIHNldCB0aGUgc2tpcE5leHRPYnNlcnZlcnMgdG8gdHJ1ZSlcbiAgICovXG4gIHB1YmxpYyBub3RpZnlPYnNlcnZlcnMoZXZlbnREYXRhOiBULCBtYXNrOiBudW1iZXIgPSAtMSwgdGFyZ2V0PzogYW55LCBjdXJyZW50VGFyZ2V0PzogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLl9vYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGxldCBzdGF0ZSA9IHRoaXMuX2V2ZW50U3RhdGVcbiAgICBzdGF0ZS5tYXNrID0gbWFza1xuICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldFxuICAgIHN0YXRlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0XG4gICAgc3RhdGUuc2tpcE5leHRPYnNlcnZlcnMgPSBmYWxzZVxuICAgIHN0YXRlLmxhc3RSZXR1cm5WYWx1ZSA9IGV2ZW50RGF0YVxuXG4gICAgZm9yIChsZXQgb2JzIG9mIHRoaXMuX29ic2VydmVycykge1xuICAgICAgaWYgKG9icy5fd2lsbEJlVW5yZWdpc3RlcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChvYnMubWFzayAmIG1hc2spIHtcbiAgICAgICAgaWYgKG9icy5zY29wZSkge1xuICAgICAgICAgIHN0YXRlLmxhc3RSZXR1cm5WYWx1ZSA9IG9icy5jYWxsYmFjay5hcHBseShvYnMuc2NvcGUsIFtldmVudERhdGEsIHN0YXRlXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZS5sYXN0UmV0dXJuVmFsdWUgPSBvYnMuY2FsbGJhY2soZXZlbnREYXRhLCBzdGF0ZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvYnMudW5yZWdpc3Rlck9uTmV4dENhbGwpIHtcbiAgICAgICAgICB0aGlzLl9kZWZlclVucmVnaXN0ZXIob2JzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuc2tpcE5leHRPYnNlcnZlcnMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGluZyB0aGlzIHdpbGwgZXhlY3V0ZSBlYWNoIGNhbGxiYWNrLCBleHBlY3RpbmcgaXQgdG8gYmUgYSBwcm9taXNlIG9yIHJldHVybiBhIHZhbHVlLlxuICAgKiBJZiBhdCBhbnkgcG9pbnQgaW4gdGhlIGNoYWluIG9uZSBmdW5jdGlvbiBmYWlscywgdGhlIHByb21pc2Ugd2lsbCBmYWlsIGFuZCB0aGUgZXhlY3V0aW9uIHdpbGwgbm90IGNvbnRpbnVlLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGEgY2hhaW4gb2YgZXZlbnRzIChzb21ldGltZXMgYXN5bmMgZXZlbnRzKSBpcyBuZWVkZWQgdG8gaW5pdGlhbGl6ZSBhIGNlcnRhaW4gb2JqZWN0XG4gICAqIGFuZCBpdCBpcyBjcnVjaWFsIHRoYXQgYWxsIGNhbGxiYWNrcyB3aWxsIGJlIGV4ZWN1dGVkLlxuICAgKiBUaGUgb3JkZXIgb2YgdGhlIGNhbGxiYWNrcyBpcyBrZXB0LCBjYWxsYmFja3MgYXJlIG5vdCBleGVjdXRlZCBwYXJhbGxlbC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50RGF0YSAtIFRoZSBkYXRhIHRvIGJlIHNlbnQgdG8gZWFjaCBjYWxsYmFja1xuICAgKiBAcGFyYW0gbWFzayAtIGlzIHVzZWQgdG8gZmlsdGVyIG9ic2VydmVycyBkZWZhdWx0cyB0byAtMVxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB0aGUgY2FsbGJhY2sgdGFyZ2V0IChzZWUgRXZlbnRTdGF0ZSlcbiAgICogQHBhcmFtIGN1cnJlbnRUYXJnZXQgLSBkZWZpbmVzIGhlIGN1cnJlbnQgb2JqZWN0IGluIHRoZSBidWJibGluZyBwaGFzZVxuICAgKiBAcmV0dXJucyB3aWxsIHJldHVybiBhIFByb21pc2UgdGhhbiByZXNvbHZlcyB3aGVuIGFsbCBjYWxsYmFja3MgZXhlY3V0ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgKi9cbiAgcHVibGljIG5vdGlmeU9ic2VydmVyc1dpdGhQcm9taXNlKGV2ZW50RGF0YTogVCwgbWFzazogbnVtYmVyID0gLTEsIHRhcmdldD86IGFueSwgY3VycmVudFRhcmdldD86IGFueSk6IFByb21pc2U8VD4ge1xuICAgIC8vIGNyZWF0ZSBhbiBlbXB0eSBwcm9taXNlXG4gICAgbGV0IHA6IFByb21pc2U8YW55PiA9IFByb21pc2UucmVzb2x2ZShldmVudERhdGEpXG5cbiAgICAvLyBubyBvYnNlcnZlcnM/IHJldHVybiB0aGlzIHByb21pc2UuXG4gICAgaWYgKCF0aGlzLl9vYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcFxuICAgIH1cblxuICAgIGxldCBzdGF0ZSA9IHRoaXMuX2V2ZW50U3RhdGVcbiAgICBzdGF0ZS5tYXNrID0gbWFza1xuICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldFxuICAgIHN0YXRlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0XG4gICAgc3RhdGUuc2tpcE5leHRPYnNlcnZlcnMgPSBmYWxzZVxuXG4gICAgLy8gZXhlY3V0ZSBvbmUgY2FsbGJhY2sgYWZ0ZXIgYW5vdGhlciAobm90IHVzaW5nIFByb21pc2UuYWxsLCB0aGUgb3JkZXIgaXMgaW1wb3J0YW50KVxuICAgIHRoaXMuX29ic2VydmVycy5mb3JFYWNoKG9icyA9PiB7XG4gICAgICBpZiAoc3RhdGUuc2tpcE5leHRPYnNlcnZlcnMpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAob2JzLl93aWxsQmVVbnJlZ2lzdGVyZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAob2JzLm1hc2sgJiBtYXNrKSB7XG4gICAgICAgIGlmIChvYnMuc2NvcGUpIHtcbiAgICAgICAgICBwID0gcC50aGVuKGxhc3RSZXR1cm5lZFZhbHVlID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmxhc3RSZXR1cm5WYWx1ZSA9IGxhc3RSZXR1cm5lZFZhbHVlXG4gICAgICAgICAgICByZXR1cm4gb2JzLmNhbGxiYWNrLmFwcGx5KG9icy5zY29wZSwgW2V2ZW50RGF0YSwgc3RhdGVdKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcCA9IHAudGhlbihsYXN0UmV0dXJuZWRWYWx1ZSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UmV0dXJuVmFsdWUgPSBsYXN0UmV0dXJuZWRWYWx1ZVxuICAgICAgICAgICAgcmV0dXJuIG9icy5jYWxsYmFjayhldmVudERhdGEsIHN0YXRlKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9icy51bnJlZ2lzdGVyT25OZXh0Q2FsbCkge1xuICAgICAgICAgIHRoaXMuX2RlZmVyVW5yZWdpc3RlcihvYnMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gcmV0dXJuIHRoZSBldmVudERhdGFcbiAgICByZXR1cm4gcC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiBldmVudERhdGFcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSBhIHNwZWNpZmljIG9ic2VydmVyXG4gICAqIEBwYXJhbSBvYnNlcnZlciAtIGRlZmluZXMgdGhlIG9ic2VydmVyIHRvIG5vdGlmeVxuICAgKiBAcGFyYW0gZXZlbnREYXRhIC0gZGVmaW5lcyB0aGUgZGF0YSB0byBiZSBzZW50IHRvIGVhY2ggY2FsbGJhY2tcbiAgICogQHBhcmFtIG1hc2sgLSBpcyB1c2VkIHRvIGZpbHRlciBvYnNlcnZlcnMgZGVmYXVsdHMgdG8gLTFcbiAgICovXG4gIHB1YmxpYyBub3RpZnlPYnNlcnZlcihvYnNlcnZlcjogT2JzZXJ2ZXI8VD4sIGV2ZW50RGF0YTogVCwgbWFzazogbnVtYmVyID0gLTEpOiB2b2lkIHtcbiAgICBsZXQgc3RhdGUgPSB0aGlzLl9ldmVudFN0YXRlXG4gICAgc3RhdGUubWFzayA9IG1hc2tcbiAgICBzdGF0ZS5za2lwTmV4dE9ic2VydmVycyA9IGZhbHNlXG5cbiAgICBvYnNlcnZlci5jYWxsYmFjayhldmVudERhdGEsIHN0YXRlKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhlIG9ic2VydmFibGUgaGFzIGF0IGxlYXN0IG9uZSBvYnNlcnZlclxuICAgKiBAcmV0dXJucyB0cnVlIGlzIHRoZSBPYnNlcnZhYmxlIGhhcyBhdCBsZWFzdCBvbmUgT2JzZXJ2ZXIgcmVnaXN0ZXJlZFxuICAgKi9cbiAgcHVibGljIGhhc09ic2VydmVycygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aCA+IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciB0aGUgbGlzdCBvZiBvYnNlcnZlcnNcbiAgICovXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLl9vYnNlcnZlcnMgPSBuZXcgQXJyYXk8T2JzZXJ2ZXI8VD4+KClcbiAgICB0aGlzLl9vbk9ic2VydmVyQWRkZWQgPSBudWxsXG4gIH1cblxuICAvKipcbiAgICogQ2xvbmUgdGhlIGN1cnJlbnQgb2JzZXJ2YWJsZVxuICAgKiBAcmV0dXJucyBhIG5ldyBvYnNlcnZhYmxlXG4gICAqL1xuICBwdWJsaWMgY2xvbmUoKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBPYnNlcnZhYmxlPFQ+KClcblxuICAgIHJlc3VsdC5fb2JzZXJ2ZXJzID0gdGhpcy5fb2JzZXJ2ZXJzLnNsaWNlKDApXG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogRG9lcyB0aGlzIG9ic2VydmFibGUgaGFuZGxlcyBvYnNlcnZlciByZWdpc3RlcmVkIHdpdGggYSBnaXZlbiBtYXNrXG4gICAqIEBwYXJhbSBtYXNrIC0gZGVmaW5lcyB0aGUgbWFzayB0byBiZSB0ZXN0ZWRcbiAgICogQHJldHVybnMgd2hldGhlciBvciBub3Qgb25lIG9ic2VydmVyIHJlZ2lzdGVyZWQgd2l0aCB0aGUgZ2l2ZW4gbWFzayBpcyBoYW5kZWxlZFxuICAgKi9cbiAgcHVibGljIGhhc1NwZWNpZmljTWFzayhtYXNrOiBudW1iZXIgPSAtMSk6IGJvb2xlYW4ge1xuICAgIGZvciAobGV0IG9icyBvZiB0aGlzLl9vYnNlcnZlcnMpIHtcbiAgICAgIGlmIChvYnMubWFzayAmIG1hc2sgfHwgb2JzLm1hc2sgPT09IG1hc2spIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBwcml2YXRlIF9kZWZlclVucmVnaXN0ZXIob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KTogdm9pZCB7XG4gICAgb2JzZXJ2ZXIudW5yZWdpc3Rlck9uTmV4dENhbGwgPSBmYWxzZVxuICAgIG9ic2VydmVyLl93aWxsQmVVbnJlZ2lzdGVyZWQgPSB0cnVlXG4gICAgZXhlY3V0ZVRhc2soYXN5bmMgKCkgPT4gdGhpcy5fcmVtb3ZlKG9ic2VydmVyKSlcbiAgfVxuXG4gIC8vIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gbm90IGl0ZXJhdGluZyBvdmVyIF9vYnNlcnZlcnMgdG8gYXZvaWQgY2FsbGJhY2sgc2tpcHBpbmcuXG4gIC8vIFJlbW92ZXMgYW4gb2JzZXJ2ZXIgZnJvbSB0aGUgX29ic2VydmVyIEFycmF5LlxuICBwcml2YXRlIF9yZW1vdmUob2JzZXJ2ZXI6IG51bGwgfCBPYnNlcnZlcjxUPik6IGJvb2xlYW4ge1xuICAgIGlmICghb2JzZXJ2ZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGxldCBpbmRleCA9IHRoaXMuX29ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKVxuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbiIsImxldCBtb2R1bGVQcm9taXNlOiBhbnlcblxuLyoqXG4gKiB0ZWxlcG9ydCBwbGF5ZXIgdG8gYSBkZXN0aW5hdGlvblxuICogQHBhcmFtIGRlc3RpbmF0aW9uIC0gXCJjb29yZFgsY29vcmRZXCIsIFwibWFnaWNcIiwgXCJjcm93ZFwiXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZWxlcG9ydFRvKGRlc3RpbmF0aW9uOiBzdHJpbmcpIHtcbiAgLy8gZXJyb3IoYHRlbGVwb3J0VG8oZGVzdGluYXRpb24pIHdhcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlOlxuXG4gIC8vIGltcG9ydCB7cmVxdWVzdFRlbGVwb3J0fSBmcm9tICdAZGVjZW50cmFsYW5kL1VzZXJBY3Rpb25Nb2R1bGUnXG4gIC8vIGV4ZWN1dGVUYXNrKGFzeW5jICgpID0+IHtcbiAgLy8gICBhd2FpdCByZXF1ZXN0VGVsZXBvcnQoZGVzdGluYXRpb24pXG4gIC8vIH0pYClcbiAgY2FsbE1vZHVsZVJwYygncmVxdWVzdFRlbGVwb3J0JywgW2Rlc3RpbmF0aW9uXSlcbn1cblxuZnVuY3Rpb24gZW5zdXJlTW9kdWxlKCk6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIG1vZHVsZVByb21pc2UgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkY2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbW9kdWxlUHJvbWlzZSA9IGRjbC5sb2FkTW9kdWxlKCdAZGVjZW50cmFsYW5kL1VzZXJBY3Rpb25Nb2R1bGUnLCB7fSlcbiAgfVxuICByZXR1cm4gdHlwZW9mIG1vZHVsZVByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkY2wgIT09ICd1bmRlZmluZWQnXG59XG5cbmZ1bmN0aW9uIGNhbGxNb2R1bGVScGMobWV0aG9kTmFtZTogc3RyaW5nLCBhcmdzOiBhbnlbXSk6IHZvaWQge1xuICBpZiAoZW5zdXJlTW9kdWxlKCkpIHtcbiAgICBtb2R1bGVQcm9taXNlLnRoZW4oKCQ6IGFueSkgPT4ge1xuICAgICAgZGNsLmNhbGxScGMoJC5ycGNIYW5kbGUsIG1ldGhvZE5hbWUsIGFyZ3MpXG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgRXZlbnRDb25zdHJ1Y3RvciB9IGZyb20gJy4uL2Vjcy9FdmVudE1hbmFnZXInXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vZWNzL09ic2VydmFibGUnXG5pbXBvcnQgeyBWaWRlb1RleHR1cmV9IGZyb20gJy4vQ29tcG9uZW50cydcbmltcG9ydCB7IERpc3Bvc2FibGVDb21wb25lbnQgfSBmcm9tICcuLi9lY3MvQ29tcG9uZW50J1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQEV2ZW50Q29uc3RydWN0b3IoKVxuZXhwb3J0IGNsYXNzIFVVSURFdmVudDxUID0gYW55PiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB1dWlkOiBzdHJpbmcsIHB1YmxpYyByZWFkb25seSBwYXlsb2FkOiBUKSB7IH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBFdmVudENvbnN0cnVjdG9yKClcbmV4cG9ydCBjbGFzcyBSYXljYXN0UmVzcG9uc2U8VD4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGF5bG9hZDogUmF5Y2FzdFJlc3BvbnNlUGF5bG9hZDxUPlxuICApIHsgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQEV2ZW50Q29uc3RydWN0b3IoKVxuZXhwb3J0IGNsYXNzIFBvaW50ZXJFdmVudDxHbG9iYWxJbnB1dEV2ZW50UmVzdWx0PiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBwYXlsb2FkOiBHbG9iYWxJbnB1dEV2ZW50UmVzdWx0KSB7IH1cbn1cblxubGV0IGludGVybmFsRGNsOiBEZWNlbnRyYWxhbmRJbnRlcmZhY2UgfCB2b2lkXG5cbi8qKlxuICogQGludGVybmFsXG4gKiBUaGlzIGZ1bmN0aW9uIGdlbmVyYXRlcyBhIGNhbGxiYWNrIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBPYnNlcnZhYmxlXG4gKiBjb25zdHJ1Y3RvciB0byBzdWJzY3JpYmUgdG8gdGhlIGV2ZW50cyBvZiB0aGUgRGVjZW50cmFsYW5kSW50ZXJmYWNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmliZXIoZXZlbnROYW1lOiBrZXlvZiBJRXZlbnRzKSB7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWYgKGludGVybmFsRGNsKSB7XG4gICAgICBpbnRlcm5hbERjbC5zdWJzY3JpYmUoZXZlbnROYW1lKVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4geW91IGNoYW5nZSB5b3VyIGNhbWVyYSBiZXR3ZWVuIDFzdCBhbmQgM3JkIHBlcnNvblxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3Qgb25DYW1lcmFNb2RlQ2hhbmdlZE9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydjYW1lcmFNb2RlQ2hhbmdlZCddPihjcmVhdGVTdWJzY3JpYmVyKCdjYW1lcmFNb2RlQ2hhbmdlZCcpKVxuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4geW91IGNoYW5nZSB5b3VyIGNhbWVyYSBiZXR3ZWVuIDFzdCBhbmQgM3JkIHBlcnNvblxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3Qgb25JZGxlU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ2lkbGVTdGF0ZUNoYW5nZWQnXT4oY3JlYXRlU3Vic2NyaWJlcignaWRsZVN0YXRlQ2hhbmdlZCcpKVxuXG4vKipcbiAqIFRoZXNlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkIGFmdGVyIHlvdXIgY2hhcmFjdGVyIGVudGVycyB0aGUgc2NlbmUuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBvbkVudGVyU2NlbmVPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1snb25FbnRlclNjZW5lJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ29uRW50ZXJTY2VuZScpKVxuXG4vKiogQHB1YmxpYyBAZGVwcmVjYXRlZCBVc2Ugb25FbnRlclNjZW5lT2JzZXJ2YWJsZSBpbnN0ZWFkLiAqL1xuZXhwb3J0IGNvbnN0IG9uRW50ZXJTY2VuZSA9IG9uRW50ZXJTY2VuZU9ic2VydmFibGVcblxuLyoqXG4gKiBUaGVzZSBldmVudHMgYXJlIHRyaWdnZXJlZCBhZnRlciB5b3VyIGNoYXJhY3RlciBsZWF2ZXMgdGhlIHNjZW5lLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3Qgb25MZWF2ZVNjZW5lT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ29uTGVhdmVTY2VuZSddPihjcmVhdGVTdWJzY3JpYmVyKCdvbkxlYXZlU2NlbmUnKSlcblxuLyoqIEBwdWJsaWMgQGRlcHJlY2F0ZWQgVXNlIG9uTGVhdmVTY2VuZU9ic2VydmFibGUgaW5zdGVhZC4gKi9cbmV4cG9ydCBjb25zdCBvbkxlYXZlU2NlbmUgPSBvbkxlYXZlU2NlbmVPYnNlcnZhYmxlXG5cbi8qKlxuICogVGhpcyBldmVudCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgYWxsIHRoZSByZXNvdXJjZXMgb2YgdGhlIHNjZW5lIHdlcmUgbG9hZGVkIChtb2RlbHMsIHRleHR1cmVzLCBldGMuLi4pXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBvblNjZW5lUmVhZHlPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1snc2NlbmVTdGFydCddPihjcmVhdGVTdWJzY3JpYmVyKCdzY2VuZVN0YXJ0JykpXG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3Qgb25QbGF5ZXJFeHByZXNzaW9uT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3BsYXllckV4cHJlc3Npb24nXT4oY3JlYXRlU3Vic2NyaWJlcigncGxheWVyRXhwcmVzc2lvbicpKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG9uUG9pbnRlckxvY2tlZFN0YXRlQ2hhbmdlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1snb25Qb2ludGVyTG9jayddPihjcmVhdGVTdWJzY3JpYmVyKCdvblBvaW50ZXJMb2NrJykpXG5cbi8qKlxuKiBAcHVibGljXG4qL1xuZXhwb3J0IGNvbnN0IG9uVmlkZW9FdmVudCA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3ZpZGVvRXZlbnQnXT4oY3JlYXRlU3Vic2NyaWJlcigndmlkZW9FdmVudCcpKVxuXG4vKipcbiogQHB1YmxpY1xuKi9cbmV4cG9ydCBjb25zdCBvblByb2ZpbGVDaGFuZ2VkID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncHJvZmlsZUNoYW5nZWQnXT4oY3JlYXRlU3Vic2NyaWJlcigncHJvZmlsZUNoYW5nZWQnKSlcblxuLyoqXG4qIEBwdWJsaWNcbiovXG5leHBvcnQgY29uc3Qgb25QbGF5ZXJDb25uZWN0ZWRPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncGxheWVyQ29ubmVjdGVkJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ3BsYXllckNvbm5lY3RlZCcpKVxuXG4vKipcbiogQHB1YmxpY1xuKi9cbmV4cG9ydCBjb25zdCBvblBsYXllckRpc2Nvbm5lY3RlZE9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydwbGF5ZXJEaXNjb25uZWN0ZWQnXT4oY3JlYXRlU3Vic2NyaWJlcigncGxheWVyRGlzY29ubmVjdGVkJykpXG5cbi8qKlxuKiBAcHVibGljXG4qL1xuZXhwb3J0IGNvbnN0IG9uUmVhbG1DaGFuZ2VkT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ29uUmVhbG1DaGFuZ2VkJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ29uUmVhbG1DaGFuZ2VkJykpXG5cbi8qKlxuICogQGludGVybmFsXG4gKiBUaGlzIGZ1bmN0aW9uIGFkZHMgX29uZV8gbGlzdGVuZXIgdG8gdGhlIG9uRXZlbnQgZXZlbnQgb2YgZGNsIGludGVyZmFjZS5cbiAqIExldmVyYWdpbmcgYSBzd2l0Y2ggdG8gcm91dGUgZXZlbnRzIHRvIHRoZSBPYnNlcnZhYmxlIGhhbmRsZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gX2luaXRFdmVudE9ic2VydmFibGVzKGRjbDogRGVjZW50cmFsYW5kSW50ZXJmYWNlKSB7XG4gIC8vIHN0b3JlIGludGVybmFsIHJlZmVyZW5jZSB0byBkY2wsIGl0IGlzIGdvaW5nIHRvIGJlIHVzZWQgdG8gc3Vic2NyaWJlIHRvIHRoZSBldmVudHNcbiAgaW50ZXJuYWxEY2wgPSBkY2xcblxuICBpZiAoaW50ZXJuYWxEY2wpIHtcbiAgICBpbnRlcm5hbERjbC5vbkV2ZW50KChldmVudCkgPT4ge1xuICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ29uRW50ZXJTY2VuZSc6IHtcbiAgICAgICAgICBvbkVudGVyU2NlbmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhldmVudC5kYXRhIGFzIElFdmVudHNbJ29uRW50ZXJTY2VuZSddKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ29uTGVhdmVTY2VuZSc6IHtcbiAgICAgICAgICBvbkxlYXZlU2NlbmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhldmVudC5kYXRhIGFzIElFdmVudHNbJ29uTGVhdmVTY2VuZSddKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NhbWVyYU1vZGVDaGFuZ2VkJzoge1xuICAgICAgICAgIG9uQ2FtZXJhTW9kZUNoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhldmVudC5kYXRhIGFzIElFdmVudHNbJ2NhbWVyYU1vZGVDaGFuZ2VkJ10pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnaWRsZVN0YXRlQ2hhbmdlZCc6IHtcbiAgICAgICAgICBvbklkbGVTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhldmVudC5kYXRhIGFzIElFdmVudHNbJ2lkbGVTdGF0ZUNoYW5nZWQnXSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjYXNlICdzY2VuZVN0YXJ0Jzoge1xuICAgICAgICAgIG9uU2NlbmVSZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGV2ZW50LmRhdGEgYXMgSUV2ZW50c1snc2NlbmVTdGFydCddKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3BsYXllckV4cHJlc3Npb24nOiB7XG4gICAgICAgICAgb25QbGF5ZXJFeHByZXNzaW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZXZlbnQuZGF0YSBhcyBJRXZlbnRzWydwbGF5ZXJFeHByZXNzaW9uJ10pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndmlkZW9FdmVudCc6IHtcbiAgICAgICAgICBjb25zdCB2aWRlb0RhdGEgPSBldmVudC5kYXRhIGFzIElFdmVudHNbJ3ZpZGVvRXZlbnQnXVxuICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IERpc3Bvc2FibGVDb21wb25lbnQuZW5naW5lLmRpc3Bvc2FibGVDb21wb25lbnRzW3ZpZGVvRGF0YS5jb21wb25lbnRJZF0gYXMgVmlkZW9UZXh0dXJlXG4gICAgICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgY29tcG9uZW50LnVwZGF0ZSh2aWRlb0RhdGEpXG4gICAgICAgICAgfVxuICAgICAgICAgIG9uVmlkZW9FdmVudC5ub3RpZnlPYnNlcnZlcnModmlkZW9EYXRhKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3Byb2ZpbGVDaGFuZ2VkJzoge1xuICAgICAgICAgIG9uUHJvZmlsZUNoYW5nZWQubm90aWZ5T2JzZXJ2ZXJzKGV2ZW50LmRhdGEgYXMgSUV2ZW50c1sncHJvZmlsZUNoYW5nZWQnXSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjYXNlICdvblBvaW50ZXJMb2NrJzoge1xuICAgICAgICAgIG9uUG9pbnRlckxvY2tlZFN0YXRlQ2hhbmdlLm5vdGlmeU9ic2VydmVycyhldmVudC5kYXRhIGFzIElFdmVudHNbJ29uUG9pbnRlckxvY2snXSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjYXNlICdwbGF5ZXJDb25uZWN0ZWQnOiB7XG4gICAgICAgICAgb25QbGF5ZXJDb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhldmVudC5kYXRhIGFzIElFdmVudHNbJ3BsYXllckNvbm5lY3RlZCddKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6IHtcbiAgICAgICAgICBvblBsYXllckRpc2Nvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGV2ZW50LmRhdGEgYXMgSUV2ZW50c1sncGxheWVyRGlzY29ubmVjdGVkJ10pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnb25SZWFsbUNoYW5nZWQnOiB7XG4gICAgICAgICAgb25SZWFsbUNoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhldmVudC5kYXRhIGFzIElFdmVudHNbJ29uUmVhbG1DaGFuZ2VkJ10pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBEaXNwb3NhYmxlQ29tcG9uZW50Q3JlYXRlZCxcbiAgRGlzcG9zYWJsZUNvbXBvbmVudFJlbW92ZWQsXG4gIERpc3Bvc2FibGVDb21wb25lbnRVcGRhdGVkLFxuICBnZXRDb21wb25lbnRDbGFzc0lkLFxuICBnZXRDb21wb25lbnRJZCxcbiAgaXNEaXNwb3NhYmxlQ29tcG9uZW50LFxuICBPYnNlcnZhYmxlQ29tcG9uZW50XG59IGZyb20gJy4uL2Vjcy9Db21wb25lbnQnXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi9lY3MvRW5naW5lJ1xuaW1wb3J0IHsgQ29tcG9uZW50QWRkZWQsIENvbXBvbmVudFJlbW92ZWQsIElFbnRpdHksIElTeXN0ZW0sIFBhcmVudENoYW5nZWQgfSBmcm9tICcuLi9lY3MvSUVudGl0eSdcbmltcG9ydCB7IFVVSURFdmVudCwgUG9pbnRlckV2ZW50LCBSYXljYXN0UmVzcG9uc2UgfSBmcm9tICcuL0V2ZW50cydcbmltcG9ydCB7IFJheWNhc3RIaXRFbnRpdGllcywgUmF5Y2FzdEhpdEVudGl0eSB9IGZyb20gJy4vUGh5c2ljc0Nhc3QnXG5cbi8vIFRoaXMgbnVtYmVyIGlzIGRlZmluZWQgaW4gdGhlIHByb3RvY29sIEVDUy5TZXRFbnRpdHlQYXJlbnQuM1xuY29uc3QgUk9PVF9FTlRJVFlfSUQgPSAnMCdcblxuZXhwb3J0IGNsYXNzIERlY2VudHJhbGFuZFN5bmNocm9uaXphdGlvblN5c3RlbSBpbXBsZW1lbnRzIElTeXN0ZW0ge1xuICBjYWNoZWRDb21wb25lbnRzOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PiA9IHt9XG4gIGVuZ2luZSE6IEVuZ2luZVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBkY2w6IERlY2VudHJhbGFuZEludGVyZmFjZSkge31cblxuICBhY3RpdmF0ZShlbmdpbmU6IEVuZ2luZSkge1xuICAgIHRoaXMuZW5naW5lID0gZW5naW5lXG4gICAgZW5naW5lLmV2ZW50TWFuYWdlci5hZGRMaXN0ZW5lcihDb21wb25lbnRBZGRlZCwgdGhpcywgdGhpcy5jb21wb25lbnRBZGRlZClcbiAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmFkZExpc3RlbmVyKENvbXBvbmVudFJlbW92ZWQsIHRoaXMsIHRoaXMuY29tcG9uZW50UmVtb3ZlZClcbiAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmFkZExpc3RlbmVyKERpc3Bvc2FibGVDb21wb25lbnRDcmVhdGVkLCB0aGlzLCB0aGlzLmRpc3Bvc2FibGVDb21wb25lbnRDcmVhdGVkKVxuICAgIGVuZ2luZS5ldmVudE1hbmFnZXIuYWRkTGlzdGVuZXIoRGlzcG9zYWJsZUNvbXBvbmVudFJlbW92ZWQsIHRoaXMsIHRoaXMuZGlzcG9zYWJsZUNvbXBvbmVudFJlbW92ZWQpXG4gICAgZW5naW5lLmV2ZW50TWFuYWdlci5hZGRMaXN0ZW5lcihEaXNwb3NhYmxlQ29tcG9uZW50VXBkYXRlZCwgdGhpcywgdGhpcy5kaXNwb3NhYmxlQ29tcG9uZW50VXBkYXRlZClcbiAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmFkZExpc3RlbmVyKFBhcmVudENoYW5nZWQsIHRoaXMsIHRoaXMucGFyZW50Q2hhbmdlZClcblxuICAgIGNvbnN0IHJvb3RJZCA9IGVuZ2luZS5yb290RW50aXR5LnV1aWRcblxuICAgIHRoaXMuZGNsLmFkZEVudGl0eShyb290SWQpXG5cbiAgICAvLyBUT0RPKGFndXMpOiBzZW5kIGRpc3Bvc2FibGVDb21wb25lbnRzIGlmIGV4aXN0XG5cbiAgICB0aGlzLmRjbC5vblVwZGF0ZSgoZHQpID0+IHtcbiAgICAgIGVuZ2luZS51cGRhdGUoZHQpXG4gICAgICB0aGlzLnByZXNlbnRFbnRpdGllcygpXG4gICAgfSlcblxuICAgIHRoaXMuZGNsLm9uRXZlbnQoKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gZXZlbnQuZGF0YSBhcyBhbnlcbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICBjYXNlICd1dWlkRXZlbnQnOlxuICAgICAgICAgIGVuZ2luZS5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KG5ldyBVVUlERXZlbnQoZGF0YS51dWlkLCBkYXRhLnBheWxvYWQpKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3JheWNhc3RSZXNwb25zZSc6XG4gICAgICAgICAgaWYgKGRhdGEucXVlcnlUeXBlID09PSAnSGl0Rmlyc3QnKSB7XG4gICAgICAgICAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChuZXcgUmF5Y2FzdFJlc3BvbnNlPFJheWNhc3RIaXRFbnRpdHk+KGRhdGEpKVxuICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5xdWVyeVR5cGUgPT09ICdIaXRBbGwnKSB7XG4gICAgICAgICAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChuZXcgUmF5Y2FzdFJlc3BvbnNlPFJheWNhc3RIaXRFbnRpdGllcz4oZGF0YSkpXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2FjdGlvbkJ1dHRvbkV2ZW50JzpcbiAgICAgICAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChuZXcgUG9pbnRlckV2ZW50KGRhdGEucGF5bG9hZCkpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIHN5c3RlbS5vbkFkZEVudGl0eSBpcyBjYWxsZWQgYnkgdGhlIGVuZ2luZSB3aGVuIGEgZW50aXR5IGlzIGFkZGVkIHRvIHRoZVxuICAgKiBlbmdpbmUuXG4gICAqL1xuICBvbkFkZEVudGl0eShlbnRpdHk6IElFbnRpdHkpIHtcbiAgICBpZiAoZW50aXR5ICYmIGVudGl0eS5pc0FkZGVkVG9FbmdpbmUoKSkge1xuICAgICAgY29uc3QgZW50aXR5SWQgPSBlbnRpdHkudXVpZFxuICAgICAgY29uc3QgcGFyZW50ID0gZW50aXR5LmdldFBhcmVudCgpXG5cbiAgICAgIHRoaXMuZGNsLmFkZEVudGl0eShlbnRpdHlJZClcblxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBJZiB0aGUgZW50aXR5IGhhcyBhIHBhcmVudCwgd2Ugc2VuZCB0aGUgdGhlIGVucGFyZW50aW5nIHNpZ25hbFxuICAgICAgICAvLyBvdGhlcndpc2UgdGhlIGVuZ2luZSB3aWxsIGtub3cgdGhlIGVudGl0eSBpcyBzZXQgYXMgYSBjaGlsZCBvZlxuICAgICAgICAvLyBlbmdpbmUucm9vdEVudGl0eSBieSBkZWZhdWx0XG4gICAgICAgIHRoaXMuZGNsLnNldFBhcmVudChlbnRpdHlJZCwgcGFyZW50LnV1aWQpXG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgY3JlYXRlcyBhIGNhY2hlIGRpY3Rpb25hcnkgdG8gYXZvaWQgc2VuZCByZWR1bmRhbnQgaW5mb3JtYXRpb24gdG9cbiAgICAgIC8vIHRoZSBlbmdpbmUgaW4gb3JkZXIgdG8gYXZvaWQgdW5uZWNlc3Nhcnkgd29yayBpbiB0aGUgbWFpbiB0aHJlYWQuXG4gICAgICB0aGlzLmNhY2hlZENvbXBvbmVudHNbZW50aXR5SWRdID0ge31cblxuICAgICAgLy8gdGhpcyBpdGVyYXRvciBzZW5kcyB0aGUgY3VycmVudCBjb21wb25lbnRzIG9mIHRlIGVuZ2luZSBhdCB0aGUgbW9tZW50XG4gICAgICAvLyBvZiBhZGRpdGlvblxuICAgICAgZm9yIChsZXQgY29tcG9uZW50TmFtZSBpbiBlbnRpdHkuY29tcG9uZW50cykge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBlbnRpdHkuY29tcG9uZW50c1tjb21wb25lbnROYW1lXVxuICAgICAgICBjb25zdCBjbGFzc0lkID0gZ2V0Q29tcG9uZW50Q2xhc3NJZChjb21wb25lbnQpXG5cbiAgICAgICAgaWYgKGNsYXNzSWQgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoaXNEaXNwb3NhYmxlQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIC8vIFNlbmQgdGhlIGF0dGFjaCBjb21wb25lbnQgc2lnbmFsXG4gICAgICAgICAgICB0aGlzLmRjbC5hdHRhY2hFbnRpdHlDb21wb25lbnQoZW50aXR5LnV1aWQsIGNvbXBvbmVudE5hbWUsIGdldENvbXBvbmVudElkKGNvbXBvbmVudCkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudEpzb246IHN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGNvbXBvbmVudClcblxuICAgICAgICAgICAgLy8gU2VuZCB0aGUgdXBkYXRlZCBjb21wb25lbnRcbiAgICAgICAgICAgIHRoaXMuZGNsLnVwZGF0ZUVudGl0eUNvbXBvbmVudChlbnRpdHlJZCwgY29tcG9uZW50TmFtZSwgY2xhc3NJZCwgY29tcG9uZW50SnNvbilcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjYWNoZWQgY29weSBvZiB0aGUgc2VudCBjb21wb25lbnRcbiAgICAgICAgICAgIHRoaXMuY2FjaGVkQ29tcG9uZW50c1tlbnRpdHlJZF1bY29tcG9uZW50TmFtZV0gPSBjb21wb25lbnRKc29uXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHN5c3RlbS5vblJlbW92ZUVudGl0eSBpcyBjYWxsZWQgYnkgdGhlIGVuZ2luZSB3aGVuIGEgZW50aXR5IGdldHMgcmVtb3ZlZFxuICAgKiBmcm9tIHRoZSBlbmdpbmUuXG4gICAqL1xuICBvblJlbW92ZUVudGl0eShlbnRpdHk6IElFbnRpdHkpIHtcbiAgICBpZiAoZW50aXR5LmlzQWRkZWRUb0VuZ2luZSgpKSB7XG4gICAgICBjb25zdCBlbnRpdHlJZCA9IGVudGl0eS51dWlkXG5cbiAgICAgIC8vIFNlbmQgdGhlIHJlbW92ZUVudGl0eSBzaWduYWxcbiAgICAgIHRoaXMuZGNsLnJlbW92ZUVudGl0eShlbnRpdHlJZClcblxuICAgICAgLy8gUmVtb3ZlIHRoZSBjYWNoZXMgZnJvbSBsb2NhbCBtZW1vcnlcbiAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlZENvbXBvbmVudHNbZW50aXR5SWRdXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBhdCB0aGUgZW5kIG9mIGV2ZXJ5IHVwZGF0ZSBjeWNsZS5cbiAgICogSXQgZmluZHMgYW5kIHNlbmRzIHVwZGF0ZXMgaW4gY29tcG9uZW50cyBvZiB0aGUgZW5naW5lIGVudGl0aWVzLlxuICAgKi9cbiAgcHJpdmF0ZSBwcmVzZW50RW50aXRpZXMoKSB7XG4gICAgZm9yIChsZXQgaSBpbiB0aGlzLmVuZ2luZS5lbnRpdGllcykge1xuICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5lbmdpbmUuZW50aXRpZXNbaV1cblxuICAgICAgZm9yIChsZXQgY29tcG9uZW50TmFtZSBpbiBlbnRpdHkuY29tcG9uZW50cykge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBlbnRpdHkuY29tcG9uZW50c1tjb21wb25lbnROYW1lXVxuICAgICAgICBjb25zdCBjbGFzc0lkID0gZ2V0Q29tcG9uZW50Q2xhc3NJZChjb21wb25lbnQpXG5cbiAgICAgICAgaWYgKGNsYXNzSWQgIT09IG51bGwgJiYgIWlzRGlzcG9zYWJsZUNvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgICAgICAgY29uc3QganNvblJlcHJlc2VudGF0aW9uID0gdGhpcy5nZXRKc29uSWZEaXJ0eShlbnRpdHkudXVpZCwgY29tcG9uZW50TmFtZSwgY29tcG9uZW50KVxuICAgICAgICAgIGlmIChqc29uUmVwcmVzZW50YXRpb24pIHtcbiAgICAgICAgICAgIC8vIFNlbmQgdGhlIHVwZGF0ZWQgY29tcG9uZW50XG4gICAgICAgICAgICB0aGlzLmRjbC51cGRhdGVFbnRpdHlDb21wb25lbnQoZW50aXR5LnV1aWQsIGNvbXBvbmVudE5hbWUsIGNsYXNzSWQsIGpzb25SZXByZXNlbnRhdGlvbilcbiAgICAgICAgICAgIHRoaXMuY2xlYXJEaXJ0eShlbnRpdHkudXVpZCwgY29tcG9uZW50TmFtZSwgY29tcG9uZW50LCBqc29uUmVwcmVzZW50YXRpb24pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaWQgaW4gdGhpcy5lbmdpbmUuZGlzcG9zYWJsZUNvbXBvbmVudHMpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuZW5naW5lLmRpc3Bvc2FibGVDb21wb25lbnRzW2lkXVxuICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIE9ic2VydmFibGVDb21wb25lbnQgJiYgY29tcG9uZW50LmRpcnR5KSB7XG4gICAgICAgIHRoaXMuZGNsLmNvbXBvbmVudFVwZGF0ZWQoaWQsIEpTT04uc3RyaW5naWZ5KGNvbXBvbmVudCkpXG4gICAgICAgIGNvbXBvbmVudC5kaXJ0eSA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBhZnRlciBhIGNvbXBvbmVudCBpcyBhZGRlZCB0byBhbiBlbnRpdHkuIFRoZSBldmVudFxuICAgKiAocGFyYW0gMSkgY29udGFpbnMgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiB0byBub3RpZnkgdGhlIGVuZ2luZSBhYm91dCB0aGVcbiAgICogY29tcG9uZW50IHRoYXQgd2FzIGFkZGVkIGFuZCB0aGUgZW50aXR5LlxuICAgKi9cbiAgcHJpdmF0ZSBjb21wb25lbnRBZGRlZChldmVudDogQ29tcG9uZW50QWRkZWQpIHtcbiAgICBpZiAoZXZlbnQuZW50aXR5LmlzQWRkZWRUb0VuZ2luZSgpKSB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSBldmVudC5lbnRpdHkuY29tcG9uZW50c1tldmVudC5jb21wb25lbnROYW1lXVxuXG4gICAgICBpZiAoaXNEaXNwb3NhYmxlQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICAgICAgdGhpcy5kY2wuYXR0YWNoRW50aXR5Q29tcG9uZW50KGV2ZW50LmVudGl0eS51dWlkLCBldmVudC5jb21wb25lbnROYW1lLCBnZXRDb21wb25lbnRJZChjb21wb25lbnQpKVxuICAgICAgfSBlbHNlIGlmIChldmVudC5jbGFzc0lkICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEpzb246IHN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGNvbXBvbmVudClcblxuICAgICAgICAvLyBTZW5kIHRoZSB1cGRhdGVkIGNvbXBvbmVudFxuICAgICAgICB0aGlzLmRjbC51cGRhdGVFbnRpdHlDb21wb25lbnQoZXZlbnQuZW50aXR5LnV1aWQsIGV2ZW50LmNvbXBvbmVudE5hbWUsIGV2ZW50LmNsYXNzSWQsIGNvbXBvbmVudEpzb24pXG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjYWNoZWQgY29weSBvZiB0aGUgc2VudCBjb21wb25lbnRcbiAgICAgICAgdGhpcy5jYWNoZWRDb21wb25lbnRzW2V2ZW50LmVudGl0eS51dWlkXVtldmVudC5jb21wb25lbnROYW1lXSA9IGNvbXBvbmVudEpzb25cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVtb3ZlZCBmcm9tIGFuIGVudGl0eS5cbiAgICovXG4gIHByaXZhdGUgY29tcG9uZW50UmVtb3ZlZChldmVudDogQ29tcG9uZW50UmVtb3ZlZCkge1xuICAgIGlmIChldmVudC5lbnRpdHkuaXNBZGRlZFRvRW5naW5lKCkpIHtcbiAgICAgIHRoaXMuZGNsLnJlbW92ZUVudGl0eUNvbXBvbmVudChldmVudC5lbnRpdHkudXVpZCwgZXZlbnQuY29tcG9uZW50TmFtZSlcblxuICAgICAgLy8gUmVtb3ZlIHRoZSBjYWNoZWQgY29tcG9uZW50IHNvIHdlIGNhbiBzZW5kIGl0IGFnYWluIHdoZW4gcmUtYWRkaW5nXG4gICAgICBkZWxldGUgdGhpcy5jYWNoZWRDb21wb25lbnRzW2V2ZW50LmVudGl0eS51dWlkXVtldmVudC5jb21wb25lbnROYW1lXVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYWZ0ZXIgYSBkaXNwb3NhYmxlQ29tcG9uZW50IGlzIGNyZWF0ZWQuXG4gICAqIEl0IGluc3RhbnRpYXRlcyB0aGUgY29tcG9uZW50IGluIHRoZSBlbmdpbmUsIHRoZSBldmVudCB0aGF0IHVwZGF0ZXMgdGhlXG4gICAqIGNyZWF0ZWQgY29tcG9uZW50IGlzIGZpcmVkIGltbWVkaWF0bHkgYWZ0ZXIuXG4gICAqL1xuICBwcml2YXRlIGRpc3Bvc2FibGVDb21wb25lbnRDcmVhdGVkKGV2ZW50OiBEaXNwb3NhYmxlQ29tcG9uZW50Q3JlYXRlZCkge1xuICAgIHRoaXMuZGNsLmNvbXBvbmVudENyZWF0ZWQoZXZlbnQuY29tcG9uZW50SWQsIGV2ZW50LmNvbXBvbmVudE5hbWUsIGV2ZW50LmNsYXNzSWQpXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGFmdGVyIGEgZGlzcG9zYWJsZUNvbXBvbmVudCBpcyB1cGRhdGVkLCBvbmNlIHBlclxuICAgKiB1cGRhdGUgY3ljbGUgYW5kIG9uY2UgYWZ0ZXIgY3JlYXRpb24uXG4gICAqL1xuICBwcml2YXRlIGRpc3Bvc2FibGVDb21wb25lbnRSZW1vdmVkKGV2ZW50OiBEaXNwb3NhYmxlQ29tcG9uZW50UmVtb3ZlZCkge1xuICAgIHRoaXMuZGNsLmNvbXBvbmVudERpc3Bvc2VkKGV2ZW50LmNvbXBvbmVudElkKVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCByaWdodCBhZnRlciBhIGRpcG9zYWJsZUNvbXBvbmVudCBnZXRzIGRpc3Bvc2VkLiBUaGF0XG4gICAqIHByb2Nlc3MgaXMgbWFudWFsLlxuICAgKlxuICAgKiBUT0RPKG1lbmR1eixkYW5pKTogV2hhdCBoYXBwZW5zIGlmIGEgZGlzcG9zYWJsZUNvbXBvbmVudCBnZXRzIGRpc3Bvc2VkIGFuZFxuICAgKiBpdCByZW1haW5zIGF0dGFjaGVkIHRvIHNvbWUgZW50aXRpZXM/XG4gICAqL1xuICBwcml2YXRlIGRpc3Bvc2FibGVDb21wb25lbnRVcGRhdGVkKGV2ZW50OiBEaXNwb3NhYmxlQ29tcG9uZW50VXBkYXRlZCkge1xuICAgIHRoaXMuZGNsLmNvbXBvbmVudFVwZGF0ZWQoZXZlbnQuY29tcG9uZW50SWQsIEpTT04uc3RyaW5naWZ5KGV2ZW50LmNvbXBvbmVudCkpXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gYSBwYXJlbnQgY2hhbmdlcyBpbiBhbiBlbnRpdHkuXG4gICAqL1xuICBwcml2YXRlIHBhcmVudENoYW5nZWQoZXZlbnQ6IFBhcmVudENoYW5nZWQpIHtcbiAgICB0aGlzLmRjbC5zZXRQYXJlbnQoZXZlbnQuZW50aXR5LnV1aWQsIGV2ZW50LnBhcmVudCA/IGV2ZW50LnBhcmVudC51dWlkIDogUk9PVF9FTlRJVFlfSUQpXG4gIH1cblxuICBwcml2YXRlIGdldEpzb25JZkRpcnR5KGVudGl0eUlkOiBzdHJpbmcsIGNvbXBvbmVudE5hbWU6IHN0cmluZywgY29tcG9uZW50OiBhbnkpOiBmYWxzZSB8IHN0cmluZyB7XG4gICAgY29uc3QganNvblJlcHJlc2VudGF0aW9uID0gSlNPTi5zdHJpbmdpZnkoY29tcG9uZW50KVxuICAgIHJldHVybiBqc29uUmVwcmVzZW50YXRpb24gIT09IHRoaXMuY2FjaGVkQ29tcG9uZW50c1tlbnRpdHlJZF1bY29tcG9uZW50TmFtZV0gJiYganNvblJlcHJlc2VudGF0aW9uXG4gIH1cblxuICBwcml2YXRlIGNsZWFyRGlydHkoZW50aXR5SWQ6IHN0cmluZywgY29tcG9uZW50TmFtZTogc3RyaW5nLCBjb21wb25lbnQ6IGFueSwganNvblJlcHJlc2VudGF0aW9uOiBzdHJpbmcpIHtcbiAgICB0aGlzLmNhY2hlZENvbXBvbmVudHNbZW50aXR5SWRdW2NvbXBvbmVudE5hbWVdID0ganNvblJlcHJlc2VudGF0aW9uXG4gIH1cbn1cbiIsIi8qKlxuICogRGVmaW5lcyBwb3RlbnRpYWwgb3JpZW50YXRpb24gZm9yIGJhY2sgZmFjZSBjdWxsaW5nXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBlbnVtIE9yaWVudGF0aW9uIHtcbiAgLyoqXG4gICAqIENsb2Nrd2lzZVxuICAgKi9cbiAgQ1cgPSAwLFxuICAvKiogQ291bnRlciBjbG9ja3dpc2UgKi9cbiAgQ0NXID0gMVxufVxuXG4vKipcbiAqIERlZmluZXMgc3VwcG9ydGVkIHNwYWNlc1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgZW51bSBTcGFjZSB7XG4gIC8qKiBMb2NhbCAob2JqZWN0KSBzcGFjZSAqL1xuICBMT0NBTCA9IDAsXG4gIC8qKiBXb3JsZCBzcGFjZSAqL1xuICBXT1JMRCA9IDEsXG4gIC8qKiBCb25lIHNwYWNlICovXG4gIEJPTkUgPSAyXG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBOdWxsYWJsZTxUPiA9IFQgfCBudWxsXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgRmxvYXRBcnJheSA9IG51bWJlcltdXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgZmxvYXQgPSBudW1iZXJcbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBkb3VibGUgPSBudW1iZXJcblxuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgYSB2YWx1ZSB0byBnYW1tYSBzcGFjZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgVG9HYW1tYVNwYWNlID0gMSAvIDIuMlxuXG4vKipcbiAqIENvbnN0YW50IHVzZWQgdG8gY29udmVydCBhIHZhbHVlIHRvIGxpbmVhciBzcGFjZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgVG9MaW5lYXJTcGFjZSA9IDIuMlxuXG4vKipcbiAqIENvbnN0YW50IHVzZWQgdG8gZGVmaW5lIHRoZSBtaW5pbWFsIG51bWJlciB2YWx1ZSBpbiBCYWJ5bG9uLmpzXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBFcHNpbG9uID0gMC4wMDAwMDFcblxuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgZnJvbSBFdWxlciBkZWdyZWVzIHRvIHJhZGlhbnNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERFRzJSQUQgPSBNYXRoLlBJIC8gMTgwXG5cbi8qKlxuICogQ29uc3RhbnQgdXNlZCB0byBjb252ZXJ0IGZyb20gcmFkaWFucyB0byBFdWxlciBkZWdyZWVzXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBSQUQyREVHID0gMzYwIC8gKE1hdGguUEkgKiAyKVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgdGhlIHNpemUgY29udGFpbmluZyB3aWR0aCBhbmQgaGVpZ2h0XG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVNpemUge1xuICAvKipcbiAgICogV2lkdGhcbiAgICovXG4gIHdpZHRoOiBudW1iZXJcbiAgLyoqXG4gICAqIEhlaWdoaHRcbiAgICovXG4gIGhlaWdodDogbnVtYmVyXG59XG4iLCIvKipcbiAqIFNjYWxhciBjb21wdXRhdGlvbiBsaWJyYXJ5XG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBTY2FsYXIge1xuICAvKipcbiAgICogVHdvIHBpIGNvbnN0YW50cyBjb252ZW5pZW50IGZvciBjb21wdXRhdGlvbi5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgVHdvUGk6IG51bWJlciA9IE1hdGguUEkgKiAyXG5cbiAgLyoqXG4gICAqIEJvb2xlYW4gOiB0cnVlIGlmIHRoZSBhYnNvbHV0ZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBhbmQgYiBpcyBsb3dlciB0aGFuIGVwc2lsb24gKGRlZmF1bHQgPSAxLjQwMTI5OEUtNDUpXG4gICAqIEBwYXJhbSBhIC0gbnVtYmVyXG4gICAqIEBwYXJhbSBiIC0gbnVtYmVyXG4gICAqIEBwYXJhbSBlcHNpbG9uIC0gKGRlZmF1bHQgPSAxLjQwMTI5OEUtNDUpXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGFic29sdXRlIGRpZmZlcmVuY2UgYmV0d2VlbiBhIGFuZCBiIGlzIGxvd2VyIHRoYW4gZXBzaWxvbiAoZGVmYXVsdCA9IDEuNDAxMjk4RS00NSlcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgV2l0aGluRXBzaWxvbihhOiBudW1iZXIsIGI6IG51bWJlciwgZXBzaWxvbjogbnVtYmVyID0gMS40MDEyOThlLTQ1KTogYm9vbGVhbiB7XG4gICAgbGV0IG51bSA9IGEgLSBiXG4gICAgcmV0dXJuIC1lcHNpbG9uIDw9IG51bSAmJiBudW0gPD0gZXBzaWxvblxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgOiB0aGUgdXBwZXIgY2FzZSB0cmFuc2xhdGlvbiBvZiB0aGUgbnVtYmVyIGkgdG8gaGV4YWRlY2ltYWwuXG4gICAqIEBwYXJhbSBpIC0gbnVtYmVyXG4gICAqIEByZXR1cm5zIHRoZSB1cHBlciBjYXNlIHRyYW5zbGF0aW9uIG9mIHRoZSBudW1iZXIgaSB0byBoZXhhZGVjaW1hbC5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgVG9IZXgoaTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBsZXQgc3RyID0gaS50b1N0cmluZygxNilcblxuICAgIGlmIChpIDw9IDE1KSB7XG4gICAgICByZXR1cm4gKCcwJyArIHN0cikudG9VcHBlckNhc2UoKVxuICAgIH1cblxuICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgLTEgaWYgdmFsdWUgaXMgbmVnYXRpdmUgYW5kICsxIGlzIHZhbHVlIGlzIHBvc2l0aXZlLlxuICAgKiBAcGFyYW0gX3ZhbHVlIC0gdGhlIHZhbHVlXG4gICAqIEByZXR1cm5zIHRoZSB2YWx1ZSBpdHNlbGYgaWYgaXQncyBlcXVhbCB0byB6ZXJvLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBTaWduKHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IF92YWx1ZSA9ICt2YWx1ZSAvLyBjb252ZXJ0IHRvIGEgbnVtYmVyXG5cbiAgICBpZiAoX3ZhbHVlID09PSAwIHx8IGlzTmFOKF92YWx1ZSkpIHtcbiAgICAgIHJldHVybiBfdmFsdWVcbiAgICB9XG5cbiAgICByZXR1cm4gX3ZhbHVlID4gMCA/IDEgOiAtMVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZhbHVlIGl0c2VsZiBpZiBpdCdzIGJldHdlZW4gbWluIGFuZCBtYXguXG4gICAqIFJldHVybnMgbWluIGlmIHRoZSB2YWx1ZSBpcyBsb3dlciB0aGFuIG1pbi5cbiAgICogUmV0dXJucyBtYXggaWYgdGhlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBtYXguXG4gICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSB0byBjbG1hcFxuICAgKiBAcGFyYW0gbWluIC0gdGhlIG1pbiB2YWx1ZSB0byBjbGFtcCB0byAoZGVmYXVsdDogMClcbiAgICogQHBhcmFtIG1heCAtIHRoZSBtYXggdmFsdWUgdG8gY2xhbXAgdG8gKGRlZmF1bHQ6IDEpXG4gICAqIEByZXR1cm5zIHRoZSBjbGFtcGVkIHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENsYW1wKHZhbHVlOiBudW1iZXIsIG1pbiA9IDAsIG1heCA9IDEpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLm1pbihtYXgsIE1hdGgubWF4KG1pbiwgdmFsdWUpKVxuICB9XG5cbiAgLyoqXG4gICAqIHRoZSBsb2cyIG9mIHZhbHVlLlxuICAgKiBAcGFyYW0gdmFsdWUgLSB0aGUgdmFsdWUgdG8gY29tcHV0ZSBsb2cyIG9mXG4gICAqIEByZXR1cm5zIHRoZSBsb2cyIG9mIHZhbHVlLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBMb2cyKHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLmxvZyh2YWx1ZSkgKiBNYXRoLkxPRzJFXG4gIH1cblxuICAvKipcbiAgICogTG9vcHMgdGhlIHZhbHVlLCBzbyB0aGF0IGl0IGlzIG5ldmVyIGxhcmdlciB0aGFuIGxlbmd0aCBhbmQgbmV2ZXIgc21hbGxlciB0aGFuIDAuXG4gICAqXG4gICAqIFRoaXMgaXMgc2ltaWxhciB0byB0aGUgbW9kdWxvIG9wZXJhdG9yIGJ1dCBpdCB3b3JrcyB3aXRoIGZsb2F0aW5nIHBvaW50IG51bWJlcnMuXG4gICAqIEZvciBleGFtcGxlLCB1c2luZyAzLjAgZm9yIHQgYW5kIDIuNSBmb3IgbGVuZ3RoLCB0aGUgcmVzdWx0IHdvdWxkIGJlIDAuNS5cbiAgICogV2l0aCB0ID0gNSBhbmQgbGVuZ3RoID0gMi41LCB0aGUgcmVzdWx0IHdvdWxkIGJlIDAuMC5cbiAgICogTm90ZSwgaG93ZXZlciwgdGhhdCB0aGUgYmVoYXZpb3VyIGlzIG5vdCBkZWZpbmVkIGZvciBuZWdhdGl2ZSBudW1iZXJzIGFzIGl0IGlzIGZvciB0aGUgbW9kdWxvIG9wZXJhdG9yXG4gICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZVxuICAgKiBAcGFyYW0gbGVuZ3RoIC0gdGhlIGxlbmd0aFxuICAgKiBAcmV0dXJucyB0aGUgbG9vcGVkIHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJlcGVhdCh2YWx1ZTogbnVtYmVyLCBsZW5ndGg6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHZhbHVlIC0gTWF0aC5mbG9vcih2YWx1ZSAvIGxlbmd0aCkgKiBsZW5ndGhcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgdGhlIHZhbHVlIGJldHdlZW4gMC4wIGFuZCAxLjAgdXNpbmcgbWluIGFuZCBtYXggdmFsdWVzXG4gICAqIEBwYXJhbSB2YWx1ZSAtIHZhbHVlIHRvIG5vcm1hbGl6ZVxuICAgKiBAcGFyYW0gbWluIC0gbWF4IHRvIG5vcm1hbGl6ZSBiZXR3ZWVuXG4gICAqIEBwYXJhbSBtYXggLSBtaW4gdG8gbm9ybWFsaXplIGJldHdlZW5cbiAgICogQHJldHVybnMgdGhlIG5vcm1hbGl6ZWQgdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTm9ybWFsaXplKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKVxuICB9XG5cbiAgLyoqXG4gICAqIERlbm9ybWFsaXplIHRoZSB2YWx1ZSBmcm9tIDAuMCBhbmQgMS4wIHVzaW5nIG1pbiBhbmQgbWF4IHZhbHVlc1xuICAgKiBAcGFyYW0gbm9ybWFsaXplZCAtIHZhbHVlIHRvIGRlbm9ybWFsaXplXG4gICAqIEBwYXJhbSBtaW4gLSBtYXggdG8gZGVub3JtYWxpemUgYmV0d2VlblxuICAgKiBAcGFyYW0gbWF4IC0gbWluIHRvIGRlbm9ybWFsaXplIGJldHdlZW5cbiAgICogQHJldHVybnMgdGhlIGRlbm9ybWFsaXplZCB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBEZW5vcm1hbGl6ZShub3JtYWxpemVkOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQgKiAobWF4IC0gbWluKSArIG1pblxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIHNob3J0ZXN0IGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gZ2l2ZW4gYW5nbGVzIGdpdmVuIGluIGRlZ3JlZXMuXG4gICAqIEBwYXJhbSBjdXJyZW50IC0gY3VycmVudCBhbmdsZSBpbiBkZWdyZWVzXG4gICAqIEBwYXJhbSB0YXJnZXQgLSB0YXJnZXQgYW5nbGUgaW4gZGVncmVlc1xuICAgKiBAcmV0dXJucyB0aGUgZGVsdGFcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRGVsdGFBbmdsZShjdXJyZW50OiBudW1iZXIsIHRhcmdldDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgbnVtOiBudW1iZXIgPSBTY2FsYXIuUmVwZWF0KHRhcmdldCAtIGN1cnJlbnQsIDM2MC4wKVxuICAgIGlmIChudW0gPiAxODAuMCkge1xuICAgICAgbnVtIC09IDM2MC4wXG4gICAgfVxuICAgIHJldHVybiBudW1cbiAgfVxuXG4gIC8qKlxuICAgKiBQaW5nUG9uZ3MgdGhlIHZhbHVlIHQsIHNvIHRoYXQgaXQgaXMgbmV2ZXIgbGFyZ2VyIHRoYW4gbGVuZ3RoIGFuZCBuZXZlciBzbWFsbGVyIHRoYW4gMC5cbiAgICogQHBhcmFtIHR4IC0gdmFsdWVcbiAgICogQHBhcmFtIGxlbmd0aCAtIGxlbmd0aFxuICAgKiBAcmV0dXJucyBUaGUgcmV0dXJuZWQgdmFsdWUgd2lsbCBtb3ZlIGJhY2sgYW5kIGZvcnRoIGJldHdlZW4gMCBhbmQgbGVuZ3RoXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFBpbmdQb25nKHR4OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgdDogbnVtYmVyID0gU2NhbGFyLlJlcGVhdCh0eCwgbGVuZ3RoICogMi4wKVxuICAgIHJldHVybiBsZW5ndGggLSBNYXRoLmFicyh0IC0gbGVuZ3RoKVxuICB9XG5cbiAgLyoqXG4gICAqIEludGVycG9sYXRlcyBiZXR3ZWVuIG1pbiBhbmQgbWF4IHdpdGggc21vb3RoaW5nIGF0IHRoZSBsaW1pdHMuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gaW50ZXJwb2xhdGVzIGJldHdlZW4gbWluIGFuZCBtYXggaW4gYSBzaW1pbGFyIHdheSB0byBMZXJwLiBIb3dldmVyLCB0aGUgaW50ZXJwb2xhdGlvbiB3aWxsIGdyYWR1YWxseSBzcGVlZCB1cFxuICAgKiBmcm9tIHRoZSBzdGFydCBhbmQgc2xvdyBkb3duIHRvd2FyZCB0aGUgZW5kLiBUaGlzIGlzIHVzZWZ1bCBmb3IgY3JlYXRpbmcgbmF0dXJhbC1sb29raW5nIGFuaW1hdGlvbiwgZmFkaW5nIGFuZCBvdGhlciB0cmFuc2l0aW9ucy5cbiAgICogQHBhcmFtIGZyb20gLSBmcm9tXG4gICAqIEBwYXJhbSB0byAtIHRvXG4gICAqIEBwYXJhbSB0eCAtIHZhbHVlXG4gICAqIEByZXR1cm5zIHRoZSBzbW9vdGggc3RlcHBlZCB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBTbW9vdGhTdGVwKGZyb206IG51bWJlciwgdG86IG51bWJlciwgdHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHQ6IG51bWJlciA9IFNjYWxhci5DbGFtcCh0eClcbiAgICB0ID0gLTIuMCAqIHQgKiB0ICogdCArIDMuMCAqIHQgKiB0XG4gICAgcmV0dXJuIHRvICogdCArIGZyb20gKiAoMS4wIC0gdClcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlcyBhIHZhbHVlIGN1cnJlbnQgdG93YXJkcyB0YXJnZXQuXG4gICAqXG4gICAqIFRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIHNhbWUgYXMgTWF0aGYuTGVycCBidXQgaW5zdGVhZCB0aGUgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCB0aGUgc3BlZWQgbmV2ZXIgZXhjZWVkcyBtYXhEZWx0YS5cbiAgICogTmVnYXRpdmUgdmFsdWVzIG9mIG1heERlbHRhIHB1c2hlcyB0aGUgdmFsdWUgYXdheSBmcm9tIHRhcmdldC5cbiAgICogQHBhcmFtIGN1cnJlbnQgLSBjdXJyZW50IHZhbHVlXG4gICAqIEBwYXJhbSB0YXJnZXQgLSB0YXJnZXQgdmFsdWVcbiAgICogQHBhcmFtIG1heERlbHRhIC0gbWF4IGRpc3RhbmNlIHRvIG1vdmVcbiAgICogQHJldHVybnMgcmVzdWx0aW5nIHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIE1vdmVUb3dhcmRzKGN1cnJlbnQ6IG51bWJlciwgdGFyZ2V0OiBudW1iZXIsIG1heERlbHRhOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCByZXN1bHQ6IG51bWJlciA9IDBcbiAgICBpZiAoTWF0aC5hYnModGFyZ2V0IC0gY3VycmVudCkgPD0gbWF4RGVsdGEpIHtcbiAgICAgIHJlc3VsdCA9IHRhcmdldFxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBjdXJyZW50ICsgU2NhbGFyLlNpZ24odGFyZ2V0IC0gY3VycmVudCkgKiBtYXhEZWx0YVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogU2FtZSBhcyBNb3ZlVG93YXJkcyBidXQgbWFrZXMgc3VyZSB0aGUgdmFsdWVzIGludGVycG9sYXRlIGNvcnJlY3RseSB3aGVuIHRoZXkgd3JhcCBhcm91bmQgMzYwIGRlZ3JlZXMuXG4gICAqXG4gICAqIFZhcmlhYmxlcyBjdXJyZW50IGFuZCB0YXJnZXQgYXJlIGFzc3VtZWQgdG8gYmUgaW4gZGVncmVlcy4gRm9yIG9wdGltaXphdGlvbiByZWFzb25zLCBuZWdhdGl2ZSB2YWx1ZXMgb2YgbWF4RGVsdGFcbiAgICogIGFyZSBub3Qgc3VwcG9ydGVkIGFuZCBtYXkgY2F1c2Ugb3NjaWxsYXRpb24uIFRvIHB1c2ggY3VycmVudCBhd2F5IGZyb20gYSB0YXJnZXQgYW5nbGUsIGFkZCAxODAgdG8gdGhhdCBhbmdsZSBpbnN0ZWFkLlxuICAgKiBAcGFyYW0gY3VycmVudCAtIGN1cnJlbnQgdmFsdWVcbiAgICogQHBhcmFtIHRhcmdldCAtIHRhcmdldCB2YWx1ZVxuICAgKiBAcGFyYW0gbWF4RGVsdGEgLSBtYXggZGlzdGFuY2UgdG8gbW92ZVxuICAgKiBAcmV0dXJucyByZXN1bHRpbmcgYW5nbGVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTW92ZVRvd2FyZHNBbmdsZShjdXJyZW50OiBudW1iZXIsIHRhcmdldDogbnVtYmVyLCBtYXhEZWx0YTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgbnVtOiBudW1iZXIgPSBTY2FsYXIuRGVsdGFBbmdsZShjdXJyZW50LCB0YXJnZXQpXG4gICAgbGV0IHJlc3VsdDogbnVtYmVyID0gMFxuICAgIGlmICgtbWF4RGVsdGEgPCBudW0gJiYgbnVtIDwgbWF4RGVsdGEpIHtcbiAgICAgIHJlc3VsdCA9IHRhcmdldFxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBTY2FsYXIuTW92ZVRvd2FyZHMoY3VycmVudCwgY3VycmVudCArIG51bSwgbWF4RGVsdGEpXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHNjYWxhciB3aXRoIHZhbHVlcyBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgb2YgXCJhbW91bnRcIiBiZXR3ZWVuIHRoZSBzdGFydCBzY2FsYXIgYW5kIHRoZSBlbmQgc2NhbGFyLlxuICAgKiBAcGFyYW0gc3RhcnQgLSBzdGFydCB2YWx1ZVxuICAgKiBAcGFyYW0gZW5kIC0gdGFyZ2V0IHZhbHVlXG4gICAqIEBwYXJhbSBhbW91bnQgLSBhbW91bnQgdG8gbGVycCBiZXR3ZWVuXG4gICAqIEByZXR1cm5zIHRoZSBsZXJwZWQgdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTGVycChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwgYW1vdW50OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBzdGFydCArIChlbmQgLSBzdGFydCkgKiBhbW91bnRcbiAgfVxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIExlcnAgYnV0IG1ha2VzIHN1cmUgdGhlIHZhbHVlcyBpbnRlcnBvbGF0ZSBjb3JyZWN0bHkgd2hlbiB0aGV5IHdyYXAgYXJvdW5kIDM2MCBkZWdyZWVzLlxuICAgKiBUaGUgcGFyYW1ldGVyIHQgaXMgY2xhbXBlZCB0byB0aGUgcmFuZ2UgWzAsIDFdLiBWYXJpYWJsZXMgYSBhbmQgYiBhcmUgYXNzdW1lZCB0byBiZSBpbiBkZWdyZWVzLlxuICAgKiBAcGFyYW0gc3RhcnQgLSBzdGFydCB2YWx1ZVxuICAgKiBAcGFyYW0gZW5kIC0gdGFyZ2V0IHZhbHVlXG4gICAqIEBwYXJhbSBhbW91bnQgLSBhbW91bnQgdG8gbGVycCBiZXR3ZWVuXG4gICAqIEByZXR1cm5zIHRoZSBsZXJwZWQgdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTGVycEFuZ2xlKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyLCBhbW91bnQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IG51bTogbnVtYmVyID0gU2NhbGFyLlJlcGVhdChlbmQgLSBzdGFydCwgMzYwLjApXG4gICAgaWYgKG51bSA+IDE4MC4wKSB7XG4gICAgICBudW0gLT0gMzYwLjBcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0ICsgbnVtICogU2NhbGFyLkNsYW1wKGFtb3VudClcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBsaW5lYXIgcGFyYW1ldGVyIHQgdGhhdCBwcm9kdWNlcyB0aGUgaW50ZXJwb2xhbnQgdmFsdWUgd2l0aGluIHRoZSByYW5nZSBbYSwgYl0uXG4gICAqIEBwYXJhbSBhIC0gc3RhcnQgdmFsdWVcbiAgICogQHBhcmFtIGIgLSB0YXJnZXQgdmFsdWVcbiAgICogQHBhcmFtIHZhbHVlIC0gdmFsdWUgYmV0d2VlbiBhIGFuZCBiXG4gICAqIEByZXR1cm5zIHRoZSBpbnZlcnNlTGVycCB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBJbnZlcnNlTGVycChhOiBudW1iZXIsIGI6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHJlc3VsdDogbnVtYmVyID0gMFxuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICByZXN1bHQgPSBTY2FsYXIuQ2xhbXAoKHZhbHVlIC0gYSkgLyAoYiAtIGEpKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSAwLjBcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgc2NhbGFyIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgSGVybWl0ZSBzcGxpbmUgZGVmaW5lZCBieSB0aGUgc2NhbGFycyBcInZhbHVlMVwiLCBcInZhbHVlM1wiLCBcInRhbmdlbnQxXCIsIFwidGFuZ2VudDJcIi5cbiAgICoge0BsaW5rIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vSGVybWl0ZVBvbHlub21pYWwuaHRtbH1cbiAgICogQHBhcmFtIHZhbHVlMSAtIHNwbGluZSB2YWx1ZVxuICAgKiBAcGFyYW0gdGFuZ2VudDEgLSBzcGxpbmUgdmFsdWVcbiAgICogQHBhcmFtIHZhbHVlMiAtIHNwbGluZSB2YWx1ZVxuICAgKiBAcGFyYW0gdGFuZ2VudDIgLSBzcGxpbmUgdmFsdWVcbiAgICogQHBhcmFtIGFtb3VudCAtIGlucHV0IHZhbHVlXG4gICAqIEByZXR1cm5zIGhlcm1pdGUgcmVzdWx0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEhlcm1pdGUodmFsdWUxOiBudW1iZXIsIHRhbmdlbnQxOiBudW1iZXIsIHZhbHVlMjogbnVtYmVyLCB0YW5nZW50MjogbnVtYmVyLCBhbW91bnQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHNxdWFyZWQgPSBhbW91bnQgKiBhbW91bnRcbiAgICBsZXQgY3ViZWQgPSBhbW91bnQgKiBzcXVhcmVkXG4gICAgbGV0IHBhcnQxID0gMi4wICogY3ViZWQgLSAzLjAgKiBzcXVhcmVkICsgMS4wXG4gICAgbGV0IHBhcnQyID0gLTIuMCAqIGN1YmVkICsgMy4wICogc3F1YXJlZFxuICAgIGxldCBwYXJ0MyA9IGN1YmVkIC0gMi4wICogc3F1YXJlZCArIGFtb3VudFxuICAgIGxldCBwYXJ0NCA9IGN1YmVkIC0gc3F1YXJlZFxuXG4gICAgcmV0dXJuIHZhbHVlMSAqIHBhcnQxICsgdmFsdWUyICogcGFydDIgKyB0YW5nZW50MSAqIHBhcnQzICsgdGFuZ2VudDIgKiBwYXJ0NFxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSByYW5kb20gZmxvYXQgbnVtYmVyIGJldHdlZW4gYW5kIG1pbiBhbmQgbWF4IHZhbHVlc1xuICAgKiBAcGFyYW0gbWluIC0gbWluIHZhbHVlIG9mIHJhbmRvbVxuICAgKiBAcGFyYW0gbWF4IC0gbWF4IHZhbHVlIG9mIHJhbmRvbVxuICAgKiBAcmV0dXJucyByYW5kb20gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUmFuZG9tUmFuZ2UobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgIHJldHVybiBtaW5cbiAgICB9XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pblxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBwZXJjZW50YWdlIG9mIGEgbnVtYmVyIGluIGEgZ2l2ZW4gcmFuZ2UuXG4gICAqXG4gICAqIFJhbmdlVG9QZXJjZW50KDQwLDIwLDYwKSB3aWxsIHJldHVybiAwLjUgKDUwJSlcbiAgICogUmFuZ2VUb1BlcmNlbnQoMzQsMCwxMDApIHdpbGwgcmV0dXJuIDAuMzQgKDM0JSlcbiAgICogQHBhcmFtIG51bSAtIHRvIGNvbnZlcnQgdG8gcGVyY2VudGFnZVxuICAgKiBAcGFyYW0gbWluIC0gbWluIHJhbmdlXG4gICAqIEBwYXJhbSBtYXggLSBtYXggcmFuZ2VcbiAgICogQHJldHVybnMgdGhlIHBlcmNlbnRhZ2VcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUmFuZ2VUb1BlcmNlbnQobnVtOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIChudW0gLSBtaW4pIC8gKG1heCAtIG1pbilcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgbnVtYmVyIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHBlcmNlbnRhZ2UgaW4gYSBnaXZlbiByYW5nZS5cbiAgICpcbiAgICogUGVyY2VudFRvUmFuZ2UoMC4zNCwwLDEwMCkgd2lsbCByZXR1cm4gMzQuXG4gICAqIEBwYXJhbSBwZXJjZW50IC0gdG8gY29udmVydCB0byBudW1iZXJcbiAgICogQHBhcmFtIG1pbiAtIG1pbiByYW5nZVxuICAgKiBAcGFyYW0gbWF4IC0gbWF4IHJhbmdlXG4gICAqIEByZXR1cm5zIHRoZSBudW1iZXJcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUGVyY2VudFRvUmFuZ2UocGVyY2VudDogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAobWF4IC0gbWluKSAqIHBlcmNlbnQgKyBtaW5cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBjb252ZXJ0ZWQgdG8gZXF1aXZhbGVudCB2YWx1ZSBiZXR3ZWVuIC1NYXRoLlBJIGFuZCBNYXRoLlBJIHJhZGlhbnMuXG4gICAqIEBwYXJhbSBhbmdsZSAtIFRoZSBhbmdsZSB0byBub3JtYWxpemUgaW4gcmFkaWFuLlxuICAgKiBAcmV0dXJucyBUaGUgY29udmVydGVkIGFuZ2xlLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBOb3JtYWxpemVSYWRpYW5zKGFuZ2xlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIC8vIE1vcmUgcHJlY2lzZSBidXQgc2xvd2VyIHZlcnNpb24ga2VwdCBmb3IgcmVmZXJlbmNlLlxuICAgIC8vIHRzbGludDpkaXNhYmxlOm5vLWNvbW1lbnRlZC1vdXQtY29kZVxuICAgIC8qXG4gICAgICAvLyBhbmdsZSA9IGFuZ2xlICUgVG9vbHMuVHdvUGk7XG4gICAgICAvLyBhbmdsZSA9IChhbmdsZSArIFRvb2xzLlR3b1BpKSAlIFRvb2xzLlR3b1BpO1xuXG4gICAgICAvL2lmIChhbmdsZSA+IE1hdGguUEkpIHtcbiAgICAgIC8vXHRhbmdsZSAtPSBUb29scy5Ud29QaTtcbiAgICAgIC8vfVxuICAgICAgICovXG5cbiAgICByZXR1cm4gYW5nbGUgLSBTY2FsYXIuVHdvUGkgKiBNYXRoLmZsb29yKChhbmdsZSArIE1hdGguUEkpIC8gU2NhbGFyLlR3b1BpKVxuICB9XG59XG4iLCJpbXBvcnQgeyBGbG9hdEFycmF5LCBFcHNpbG9uIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4vTWF0cml4J1xuaW1wb3J0IHsgU2NhbGFyIH0gZnJvbSAnLi9TY2FsYXInXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzJ1xuXG4vKipcbiAqIFZlY3RvcjQgY2xhc3MgY3JlYXRlZCBmb3IgRXVsZXJBbmdsZSBjbGFzcyBjb252ZXJzaW9uIHRvIFF1YXRlcm5pb25cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvcjQgaW1wbGVtZW50cyBSZWFkT25seVZlY3RvcjQge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIFZlY3RvcjQgb2JqZWN0IGZyb20gdGhlIGdpdmVuIGZsb2F0cy5cbiAgICogQHBhcmFtIHggLSB4IHZhbHVlIG9mIHRoZSB2ZWN0b3JcbiAgICogQHBhcmFtIHkgLSB5IHZhbHVlIG9mIHRoZSB2ZWN0b3JcbiAgICogQHBhcmFtIHogLSB6IHZhbHVlIG9mIHRoZSB2ZWN0b3JcbiAgICogQHBhcmFtIHcgLSB3IHZhbHVlIG9mIHRoZSB2ZWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8qKiB4IHZhbHVlIG9mIHRoZSB2ZWN0b3IgKi9cbiAgICBwdWJsaWMgeDogbnVtYmVyLFxuICAgIC8qKiB5IHZhbHVlIG9mIHRoZSB2ZWN0b3IgKi9cbiAgICBwdWJsaWMgeTogbnVtYmVyLFxuICAgIC8qKiB6IHZhbHVlIG9mIHRoZSB2ZWN0b3IgKi9cbiAgICBwdWJsaWMgejogbnVtYmVyLFxuICAgIC8qKiB3IHZhbHVlIG9mIHRoZSB2ZWN0b3IgKi9cbiAgICBwdWJsaWMgdzogbnVtYmVyXG4gICkge31cblxuICAvLyBTdGF0aWNzXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yNCBhcyB0aGUgcmVzdWx0IG9mIHRoZSBhZGRpdGlvbiBvZiB0aGUgdHdvIGdpdmVuIHZlY3RvcnMuXG4gICAqIEBwYXJhbSB2ZWN0b3IxIC0gdGhlIGZpcnN0IHZlY3RvclxuICAgKiBAcGFyYW0gdmVjdG9yMiAtIHRoZSBzZWNvbmQgdmVjdG9yXG4gICAqIEByZXR1cm5zIHRoZSByZXN1bHRpbmcgdmVjdG9yXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEFkZCh2ZWN0b3IxOiBSZWFkT25seVZlY3RvcjQsIHZlY3RvcjI6IFJlYWRPbmx5VmVjdG9yNCk6IFZlY3RvcjQge1xuICAgIHJldHVybiBuZXcgVmVjdG9yNCh2ZWN0b3IxLngsIHZlY3RvcjEueSwgdmVjdG9yMS56LCB2ZWN0b3IxLncpLmFkZEluUGxhY2UodmVjdG9yMilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjQgc2V0IGZyb20gdGhlIHN0YXJ0aW5nIGluZGV4IG9mIHRoZSBnaXZlbiBhcnJheS5cbiAgICogQHBhcmFtIGFycmF5IC0gdGhlIGFycmF5IHRvIHB1bGwgdmFsdWVzIGZyb21cbiAgICogQHBhcmFtIG9mZnNldCAtIHRoZSBvZmZzZXQgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgYXRcbiAgICogQHJldHVybnMgdGhlIG5ldyB2ZWN0b3JcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRnJvbUFycmF5KGFycmF5OiBBcnJheUxpa2U8bnVtYmVyPiwgb2Zmc2V0OiBudW1iZXIgPSAwKTogVmVjdG9yNCB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3I0KGFycmF5W29mZnNldF0sIGFycmF5W29mZnNldCArIDFdLCBhcnJheVtvZmZzZXQgKyAyXSwgYXJyYXlbb2Zmc2V0ICsgM10pXG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIGZyb20gdGhlIHN0YXJ0aW5nIGluZGV4IG9mIHRoZSBnaXZlbiBhcnJheS5cbiAgICogQHBhcmFtIGFycmF5IC0gdGhlIGFycmF5IHRvIHB1bGwgdmFsdWVzIGZyb21cbiAgICogQHBhcmFtIG9mZnNldCAtIHRoZSBvZmZzZXQgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgYXRcbiAgICogQHBhcmFtIHJlc3VsdCAtIHRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGcm9tQXJyYXlUb1JlZihhcnJheTogQXJyYXlMaWtlPG51bWJlcj4sIG9mZnNldDogbnVtYmVyLCByZXN1bHQ6IFZlY3RvcjQpOiB2b2lkIHtcbiAgICByZXN1bHQueCA9IGFycmF5W29mZnNldF1cbiAgICByZXN1bHQueSA9IGFycmF5W29mZnNldCArIDFdXG4gICAgcmVzdWx0LnogPSBhcnJheVtvZmZzZXQgKyAyXVxuICAgIHJlc3VsdC53ID0gYXJyYXlbb2Zmc2V0ICsgM11cbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgZnJvbSB0aGUgc3RhcnRpbmcgaW5kZXggb2YgdGhlIGdpdmVuIEZsb2F0QXJyYXkuXG4gICAqIEBwYXJhbSBhcnJheSAtIHRoZSBhcnJheSB0byBwdWxsIHZhbHVlcyBmcm9tXG4gICAqIEBwYXJhbSBvZmZzZXQgLSB0aGUgb2Zmc2V0IGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IGF0XG4gICAqIEBwYXJhbSByZXN1bHQgLSB0aGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRnJvbUZsb2F0QXJyYXlUb1JlZihhcnJheTogRmxvYXRBcnJheSwgb2Zmc2V0OiBudW1iZXIsIHJlc3VsdDogVmVjdG9yNCk6IHZvaWQge1xuICAgIFZlY3RvcjQuRnJvbUFycmF5VG9SZWYoYXJyYXksIG9mZnNldCwgcmVzdWx0KVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiBjb29yZGluYXRlcyBmcm9tIHRoZSBnaXZlbiBmbG9hdHMuXG4gICAqIEBwYXJhbSB4IC0gZmxvYXQgdG8gc2V0IGZyb21cbiAgICogQHBhcmFtIHkgLSBmbG9hdCB0byBzZXQgZnJvbVxuICAgKiBAcGFyYW0geiAtIGZsb2F0IHRvIHNldCBmcm9tXG4gICAqIEBwYXJhbSB3IC0gZmxvYXQgdG8gc2V0IGZyb21cbiAgICogQHBhcmFtIHJlc3VsdCAtIHRoZSB2ZWN0b3IgdG8gdGhlIGZsb2F0cyBpblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGcm9tRmxvYXRzVG9SZWYoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgdzogbnVtYmVyLCByZXN1bHQ6IFZlY3RvcjQpOiB2b2lkIHtcbiAgICByZXN1bHQueCA9IHhcbiAgICByZXN1bHQueSA9IHlcbiAgICByZXN1bHQueiA9IHpcbiAgICByZXN1bHQudyA9IHdcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3I0IHNldCB0byAoMC4wLCAwLjAsIDAuMCwgMC4wKVxuICAgKiBAcmV0dXJucyB0aGUgbmV3IHZlY3RvclxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBaZXJvKCk6IFZlY3RvcjQge1xuICAgIHJldHVybiBuZXcgVmVjdG9yNCgwLjAsIDAuMCwgMC4wLCAwLjApXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yNCBzZXQgdG8gKDEuMCwgMS4wLCAxLjAsIDEuMClcbiAgICogQHJldHVybnMgdGhlIG5ldyB2ZWN0b3JcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgT25lKCk6IFZlY3RvcjQge1xuICAgIHJldHVybiBuZXcgVmVjdG9yNCgxLjAsIDEuMCwgMS4wLCAxLjApXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgbm9ybWFsaXplZCBWZWN0b3I0IGZyb20gdGhlIGdpdmVuIG9uZS5cbiAgICogQHBhcmFtIHZlY3RvciAtIHRoZSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gICAqIEByZXR1cm5zIHRoZSB2ZWN0b3JcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTm9ybWFsaXplKHZlY3RvcjogUmVhZE9ubHlWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgbGV0IHJlc3VsdCA9IFZlY3RvcjQuWmVybygpXG4gICAgVmVjdG9yNC5Ob3JtYWxpemVUb1JlZih2ZWN0b3IsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIGZyb20gdGhlIG5vcm1hbGl6YXRpb24gb2YgdGhlIGdpdmVuIG9uZS5cbiAgICogQHBhcmFtIHZlY3RvciAtIHRoZSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gICAqIEBwYXJhbSByZXN1bHQgLSB0aGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTm9ybWFsaXplVG9SZWYodmVjdG9yOiBSZWFkT25seVZlY3RvcjQsIHJlc3VsdDogVmVjdG9yNCk6IHZvaWQge1xuICAgIHJlc3VsdC5jb3B5RnJvbSh2ZWN0b3IpXG4gICAgcmVzdWx0Lm5vcm1hbGl6ZSgpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHZlY3RvciB3aXRoIHRoZSBtaW5pbXVtIHZhbHVlcyBmcm9tIHRoZSBsZWZ0IGFuZCByaWdodCB2ZWN0b3JzXG4gICAqIEBwYXJhbSBsZWZ0IC0gbGVmdCB2ZWN0b3IgdG8gbWluaW1pemVcbiAgICogQHBhcmFtIHJpZ2h0IC0gcmlnaHQgdmVjdG9yIHRvIG1pbmltaXplXG4gICAqIEByZXR1cm5zIGEgbmV3IHZlY3RvciB3aXRoIHRoZSBtaW5pbXVtIG9mIHRoZSBsZWZ0IGFuZCByaWdodCB2ZWN0b3IgdmFsdWVzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIE1pbmltaXplKGxlZnQ6IFJlYWRPbmx5VmVjdG9yNCwgcmlnaHQ6IFJlYWRPbmx5VmVjdG9yNCk6IFZlY3RvcjQge1xuICAgIGxldCBtaW4gPSBuZXcgVmVjdG9yNChsZWZ0LngsIGxlZnQueSwgbGVmdC56LCBsZWZ0LncpXG4gICAgbWluLm1pbmltaXplSW5QbGFjZShyaWdodClcbiAgICByZXR1cm4gbWluXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHZlY3RvciB3aXRoIHRoZSBtYXhpbXVtIHZhbHVlcyBmcm9tIHRoZSBsZWZ0IGFuZCByaWdodCB2ZWN0b3JzXG4gICAqIEBwYXJhbSBsZWZ0IC0gbGVmdCB2ZWN0b3IgdG8gbWF4aW1pemVcbiAgICogQHBhcmFtIHJpZ2h0IC0gcmlnaHQgdmVjdG9yIHRvIG1heGltaXplXG4gICAqIEByZXR1cm5zIGEgbmV3IHZlY3RvciB3aXRoIHRoZSBtYXhpbXVtIG9mIHRoZSBsZWZ0IGFuZCByaWdodCB2ZWN0b3IgdmFsdWVzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIE1heGltaXplKGxlZnQ6IFJlYWRPbmx5VmVjdG9yNCwgcmlnaHQ6IFJlYWRPbmx5VmVjdG9yNCk6IFZlY3RvcjQge1xuICAgIGxldCBtYXggPSBuZXcgVmVjdG9yNChsZWZ0LngsIGxlZnQueSwgbGVmdC56LCBsZWZ0LncpXG4gICAgbWF4Lm1heGltaXplSW5QbGFjZShyaWdodClcbiAgICByZXR1cm4gbWF4XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIChmbG9hdCkgYmV0d2VlbiB0aGUgdmVjdG9ycyBcInZhbHVlMVwiIGFuZCBcInZhbHVlMlwiLlxuICAgKiBAcGFyYW0gdmFsdWUxIC0gdmFsdWUgdG8gY2FsdWxhdGUgdGhlIGRpc3RhbmNlIGJldHdlZW5cbiAgICogQHBhcmFtIHZhbHVlMiAtIHZhbHVlIHRvIGNhbHVsYXRlIHRoZSBkaXN0YW5jZSBiZXR3ZWVuXG4gICAqIEByZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gdmVjdG9yc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBEaXN0YW5jZSh2YWx1ZTE6IFJlYWRPbmx5VmVjdG9yNCwgdmFsdWUyOiBSZWFkT25seVZlY3RvcjQpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnNxcnQoVmVjdG9yNC5EaXN0YW5jZVNxdWFyZWQodmFsdWUxLCB2YWx1ZTIpKVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzcXVhcmVkIGRpc3RhbmNlIChmbG9hdCkgYmV0d2VlbiB0aGUgdmVjdG9ycyBcInZhbHVlMVwiIGFuZCBcInZhbHVlMlwiLlxuICAgKiBAcGFyYW0gdmFsdWUxIC0gdmFsdWUgdG8gY2FsdWxhdGUgdGhlIGRpc3RhbmNlIGJldHdlZW5cbiAgICogQHBhcmFtIHZhbHVlMiAtIHZhbHVlIHRvIGNhbHVsYXRlIHRoZSBkaXN0YW5jZSBiZXR3ZWVuXG4gICAqIEByZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gdmVjdG9ycyBzcXVhcmVkXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIERpc3RhbmNlU3F1YXJlZCh2YWx1ZTE6IFJlYWRPbmx5VmVjdG9yNCwgdmFsdWUyOiBSZWFkT25seVZlY3RvcjQpOiBudW1iZXIge1xuICAgIGxldCB4ID0gdmFsdWUxLnggLSB2YWx1ZTIueFxuICAgIGxldCB5ID0gdmFsdWUxLnkgLSB2YWx1ZTIueVxuICAgIGxldCB6ID0gdmFsdWUxLnogLSB2YWx1ZTIuelxuICAgIGxldCB3ID0gdmFsdWUxLncgLSB2YWx1ZTIud1xuXG4gICAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yNCBsb2NhdGVkIGF0IHRoZSBjZW50ZXIgYmV0d2VlbiB0aGUgdmVjdG9ycyBcInZhbHVlMVwiIGFuZCBcInZhbHVlMlwiLlxuICAgKiBAcGFyYW0gdmFsdWUxIC0gdmFsdWUgdG8gY2FsdWxhdGUgdGhlIGNlbnRlciBiZXR3ZWVuXG4gICAqIEBwYXJhbSB2YWx1ZTIgLSB2YWx1ZSB0byBjYWx1bGF0ZSB0aGUgY2VudGVyIGJldHdlZW5cbiAgICogQHJldHVybnMgdGhlIGNlbnRlciBiZXR3ZWVuIHRoZSB0d28gdmVjdG9yc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBDZW50ZXIodmFsdWUxOiBSZWFkT25seVZlY3RvcjQsIHZhbHVlMjogUmVhZE9ubHlWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgbGV0IGNlbnRlciA9IFZlY3RvcjQuQWRkKHZhbHVlMSwgdmFsdWUyKVxuICAgIGNlbnRlci5zY2FsZUluUGxhY2UoMC41KVxuICAgIHJldHVybiBjZW50ZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjQgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3Rvci5cbiAgICogVGhpcyBtZXRob2RzIGNvbXB1dGVzIHRyYW5zZm9ybWVkIG5vcm1hbGl6ZWQgZGlyZWN0aW9uIHZlY3RvcnMgb25seS5cbiAgICogQHBhcmFtIHZlY3RvciAtIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1hdGlvbiAtIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggdG8gYXBwbHlcbiAgICogQHJldHVybnMgdGhlIG5ldyB2ZWN0b3JcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgVHJhbnNmb3JtTm9ybWFsKHZlY3RvcjogUmVhZE9ubHlWZWN0b3I0LCB0cmFuc2Zvcm1hdGlvbjogTWF0cml4KTogVmVjdG9yNCB7XG4gICAgbGV0IHJlc3VsdCA9IFZlY3RvcjQuWmVybygpXG4gICAgVmVjdG9yNC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih2ZWN0b3IsIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3Rvci5cbiAgICogVGhpcyBtZXRob2RzIGNvbXB1dGVzIHRyYW5zZm9ybWVkIG5vcm1hbGl6ZWQgZGlyZWN0aW9uIHZlY3RvcnMgb25seS5cbiAgICogQHBhcmFtIHZlY3RvciAtIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1hdGlvbiAtIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggdG8gYXBwbHlcbiAgICogQHBhcmFtIHJlc3VsdCAtIHRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWxUb1JlZih2ZWN0b3I6IFJlYWRPbmx5VmVjdG9yNCwgdHJhbnNmb3JtYXRpb246IE1hdHJpeCwgcmVzdWx0OiBWZWN0b3I0KTogdm9pZCB7XG4gICAgY29uc3QgbSA9IHRyYW5zZm9ybWF0aW9uLm1cbiAgICBsZXQgeCA9IHZlY3Rvci54ICogbVswXSArIHZlY3Rvci55ICogbVs0XSArIHZlY3Rvci56ICogbVs4XVxuICAgIGxldCB5ID0gdmVjdG9yLnggKiBtWzFdICsgdmVjdG9yLnkgKiBtWzVdICsgdmVjdG9yLnogKiBtWzldXG4gICAgbGV0IHogPSB2ZWN0b3IueCAqIG1bMl0gKyB2ZWN0b3IueSAqIG1bNl0gKyB2ZWN0b3IueiAqIG1bMTBdXG4gICAgcmVzdWx0LnggPSB4XG4gICAgcmVzdWx0LnkgPSB5XG4gICAgcmVzdWx0LnogPSB6XG4gICAgcmVzdWx0LncgPSB2ZWN0b3Iud1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIGZsb2F0cyAoeCwgeSwgeiwgdykuXG4gICAqIFRoaXMgbWV0aG9kcyBjb21wdXRlcyB0cmFuc2Zvcm1lZCBub3JtYWxpemVkIGRpcmVjdGlvbiB2ZWN0b3JzIG9ubHkuXG4gICAqIEBwYXJhbSB4IC0gdmFsdWUgdG8gdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB5IC0gdmFsdWUgdG8gdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB6IC0gdmFsdWUgdG8gdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB3IC0gdmFsdWUgdG8gdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1hdGlvbiAtIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggdG8gYXBwbHlcbiAgICogQHBhcmFtIHJlc3VsdCAtIHRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdHMgaW5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgejogbnVtYmVyLFxuICAgIHc6IG51bWJlcixcbiAgICB0cmFuc2Zvcm1hdGlvbjogTWF0cml4LFxuICAgIHJlc3VsdDogVmVjdG9yNFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBtID0gdHJhbnNmb3JtYXRpb24ubVxuICAgIHJlc3VsdC54ID0geCAqIG1bMF0gKyB5ICogbVs0XSArIHogKiBtWzhdXG4gICAgcmVzdWx0LnkgPSB4ICogbVsxXSArIHkgKiBtWzVdICsgeiAqIG1bOV1cbiAgICByZXN1bHQueiA9IHggKiBtWzJdICsgeSAqIG1bNl0gKyB6ICogbVsxMF1cbiAgICByZXN1bHQudyA9IHdcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgd2l0aCB0aGUgVmVjdG9yNCBjb29yZGluYXRlcy5cbiAgICogQHJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyBhbGwgdGhlIHZlY3RvciB2YWx1ZXNcbiAgICovXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiAne1g6ICcgKyB0aGlzLnggKyAnIFk6JyArIHRoaXMueSArICcgWjonICsgdGhpcy56ICsgJyBXOicgKyB0aGlzLncgKyAnfSdcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgXCJWZWN0b3I0XCIuXG4gICAqIEByZXR1cm5zIFwiVmVjdG9yNFwiXG4gICAqL1xuICBwdWJsaWMgZ2V0Q2xhc3NOYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdWZWN0b3I0J1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIFZlY3RvcjQgaGFzaCBjb2RlLlxuICAgKiBAcmV0dXJucyBhIHVuaXF1ZSBoYXNoIGNvZGVcbiAgICovXG4gIHB1YmxpYyBnZXRIYXNoQ29kZSgpOiBudW1iZXIge1xuICAgIGxldCBoYXNoID0gdGhpcy54IHx8IDBcbiAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHRoaXMueSB8fCAwKVxuICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodGhpcy56IHx8IDApXG4gICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh0aGlzLncgfHwgMClcbiAgICByZXR1cm4gaGFzaFxuICB9XG5cbiAgLy8gT3BlcmF0b3JzXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IGFycmF5IHBvcHVsYXRlZCB3aXRoIDQgZWxlbWVudHMgOiB0aGUgVmVjdG9yNCBjb29yZGluYXRlcy5cbiAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyBhcnJheVxuICAgKi9cbiAgcHVibGljIGFzQXJyYXkoKTogbnVtYmVyW10ge1xuICAgIGxldCByZXN1bHQgPSBuZXcgQXJyYXk8bnVtYmVyPigpXG5cbiAgICB0aGlzLnRvQXJyYXkocmVzdWx0LCAwKVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIFBvcHVsYXRlcyB0aGUgZ2l2ZW4gYXJyYXkgZnJvbSB0aGUgZ2l2ZW4gaW5kZXggd2l0aCB0aGUgVmVjdG9yNCBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIGFycmF5IC0gYXJyYXkgdG8gcG9wdWxhdGVcbiAgICogQHBhcmFtIGluZGV4IC0gaW5kZXggb2YgdGhlIGFycmF5IHRvIHN0YXJ0IGF0IChkZWZhdWx0OiAwKVxuICAgKiBAcmV0dXJucyB0aGUgVmVjdG9yNC5cbiAgICovXG4gIHB1YmxpYyB0b0FycmF5KGFycmF5OiBGbG9hdEFycmF5LCBpbmRleDogbnVtYmVyID0gMCk6IFZlY3RvcjQge1xuICAgIGFycmF5W2luZGV4XSA9IHRoaXMueFxuICAgIGFycmF5W2luZGV4ICsgMV0gPSB0aGlzLnlcbiAgICBhcnJheVtpbmRleCArIDJdID0gdGhpcy56XG4gICAgYXJyYXlbaW5kZXggKyAzXSA9IHRoaXMud1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgZ2l2ZW4gdmVjdG9yIHRvIHRoZSBjdXJyZW50IFZlY3RvcjQuXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIHRoZSB2ZWN0b3IgdG8gYWRkXG4gICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIFZlY3RvcjQuXG4gICAqL1xuICBwdWJsaWMgYWRkSW5QbGFjZShvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgdGhpcy54ICs9IG90aGVyVmVjdG9yLnhcbiAgICB0aGlzLnkgKz0gb3RoZXJWZWN0b3IueVxuICAgIHRoaXMueiArPSBvdGhlclZlY3Rvci56XG4gICAgdGhpcy53ICs9IG90aGVyVmVjdG9yLndcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yNCBhcyB0aGUgcmVzdWx0IG9mIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBWZWN0b3I0IGFuZCB0aGUgZ2l2ZW4gb25lLlxuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSB0aGUgdmVjdG9yIHRvIGFkZFxuICAgKiBAcmV0dXJucyB0aGUgcmVzdWx0aW5nIHZlY3RvclxuICAgKi9cbiAgcHVibGljIGFkZChvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3I0KHRoaXMueCArIG90aGVyVmVjdG9yLngsIHRoaXMueSArIG90aGVyVmVjdG9yLnksIHRoaXMueiArIG90aGVyVmVjdG9yLnosIHRoaXMudyArIG90aGVyVmVjdG9yLncpXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBWZWN0b3I0IGFuZCB0aGUgZ2l2ZW4gb25lLlxuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSB0aGUgdmVjdG9yIHRvIGFkZFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gdGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IFZlY3RvcjQuXG4gICAqL1xuICBwdWJsaWMgYWRkVG9SZWYob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yNCwgcmVzdWx0OiBWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgcmVzdWx0LnggPSB0aGlzLnggKyBvdGhlclZlY3Rvci54XG4gICAgcmVzdWx0LnkgPSB0aGlzLnkgKyBvdGhlclZlY3Rvci55XG4gICAgcmVzdWx0LnogPSB0aGlzLnogKyBvdGhlclZlY3Rvci56XG4gICAgcmVzdWx0LncgPSB0aGlzLncgKyBvdGhlclZlY3Rvci53XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJ0cmFjdCBpbiBwbGFjZSB0aGUgZ2l2ZW4gdmVjdG9yIGZyb20gdGhlIGN1cnJlbnQgVmVjdG9yNC5cbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gdGhlIHZlY3RvciB0byBzdWJ0cmFjdFxuICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBWZWN0b3I0LlxuICAgKi9cbiAgcHVibGljIHN1YnRyYWN0SW5QbGFjZShvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgdGhpcy54IC09IG90aGVyVmVjdG9yLnhcbiAgICB0aGlzLnkgLT0gb3RoZXJWZWN0b3IueVxuICAgIHRoaXMueiAtPSBvdGhlclZlY3Rvci56XG4gICAgdGhpcy53IC09IG90aGVyVmVjdG9yLndcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yNCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIHN1YnRyYWN0aW9uIG9mIHRoZSBnaXZlbiB2ZWN0b3IgZnJvbSB0aGUgY3VycmVudCBWZWN0b3I0LlxuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSB0aGUgdmVjdG9yIHRvIGFkZFxuICAgKiBAcmV0dXJucyB0aGUgbmV3IHZlY3RvciB3aXRoIHRoZSByZXN1bHRcbiAgICovXG4gIHB1YmxpYyBzdWJ0cmFjdChvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3I0KHRoaXMueCAtIG90aGVyVmVjdG9yLngsIHRoaXMueSAtIG90aGVyVmVjdG9yLnksIHRoaXMueiAtIG90aGVyVmVjdG9yLnosIHRoaXMudyAtIG90aGVyVmVjdG9yLncpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBzdWJ0cmFjdGlvbiBvZiB0aGUgZ2l2ZW4gdmVjdG9yIGZyb20gdGhlIGN1cnJlbnQgVmVjdG9yNC5cbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gdGhlIHZlY3RvciB0byBzdWJ0cmFjdFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gdGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IFZlY3RvcjQuXG4gICAqL1xuICBwdWJsaWMgc3VidHJhY3RUb1JlZihvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3I0LCByZXN1bHQ6IFZlY3RvcjQpOiBWZWN0b3I0IHtcbiAgICByZXN1bHQueCA9IHRoaXMueCAtIG90aGVyVmVjdG9yLnhcbiAgICByZXN1bHQueSA9IHRoaXMueSAtIG90aGVyVmVjdG9yLnlcbiAgICByZXN1bHQueiA9IHRoaXMueiAtIG90aGVyVmVjdG9yLnpcbiAgICByZXN1bHQudyA9IHRoaXMudyAtIG90aGVyVmVjdG9yLndcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yNCBzZXQgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBzdWJ0cmFjdGlvbiBvZiB0aGUgZ2l2ZW4gZmxvYXRzIGZyb20gdGhlIGN1cnJlbnQgVmVjdG9yNCBjb29yZGluYXRlcy5cbiAgICovXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjQgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgc3VidHJhY3Rpb24gb2YgdGhlIGdpdmVuIGZsb2F0cyBmcm9tIHRoZSBjdXJyZW50IFZlY3RvcjQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB4IC0gdmFsdWUgdG8gc3VidHJhY3RcbiAgICogQHBhcmFtIHkgLSB2YWx1ZSB0byBzdWJ0cmFjdFxuICAgKiBAcGFyYW0geiAtIHZhbHVlIHRvIHN1YnRyYWN0XG4gICAqIEBwYXJhbSB3IC0gdmFsdWUgdG8gc3VidHJhY3RcbiAgICogQHJldHVybnMgbmV3IHZlY3RvciBjb250YWluaW5nIHRoZSByZXN1bHRcbiAgICovXG4gIHB1YmxpYyBzdWJ0cmFjdEZyb21GbG9hdHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgdzogbnVtYmVyKTogVmVjdG9yNCB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3I0KHRoaXMueCAtIHgsIHRoaXMueSAtIHksIHRoaXMueiAtIHosIHRoaXMudyAtIHcpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgc3VidHJhY3Rpb24gb2YgdGhlIGdpdmVuIGZsb2F0cyBmcm9tIHRoZSBjdXJyZW50IFZlY3RvcjQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB4IC0gdmFsdWUgdG8gc3VidHJhY3RcbiAgICogQHBhcmFtIHkgLSB2YWx1ZSB0byBzdWJ0cmFjdFxuICAgKiBAcGFyYW0geiAtIHZhbHVlIHRvIHN1YnRyYWN0XG4gICAqIEBwYXJhbSB3IC0gdmFsdWUgdG8gc3VidHJhY3RcbiAgICogQHBhcmFtIHJlc3VsdCAtIHRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpblxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3I0LlxuICAgKi9cbiAgcHVibGljIHN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIsIHc6IG51bWJlciwgcmVzdWx0OiBWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgcmVzdWx0LnggPSB0aGlzLnggLSB4XG4gICAgcmVzdWx0LnkgPSB0aGlzLnkgLSB5XG4gICAgcmVzdWx0LnogPSB0aGlzLnogLSB6XG4gICAgcmVzdWx0LncgPSB0aGlzLncgLSB3XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjQgc2V0IHdpdGggdGhlIGN1cnJlbnQgVmVjdG9yNCBuZWdhdGVkIGNvb3JkaW5hdGVzLlxuICAgKiBAcmV0dXJucyBhIG5ldyB2ZWN0b3Igd2l0aCB0aGUgbmVnYXRlZCB2YWx1ZXNcbiAgICovXG4gIHB1YmxpYyBuZWdhdGUoKTogVmVjdG9yNCB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3I0KC10aGlzLngsIC10aGlzLnksIC10aGlzLnosIC10aGlzLncpXG4gIH1cblxuICAvKipcbiAgICogTXVsdGlwbGllcyB0aGUgY3VycmVudCBWZWN0b3I0IGNvb3JkaW5hdGVzIGJ5IHNjYWxlIChmbG9hdCkuXG4gICAqIEBwYXJhbSBzY2FsZSAtIHRoZSBudW1iZXIgdG8gc2NhbGUgd2l0aFxuICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBWZWN0b3I0LlxuICAgKi9cbiAgcHVibGljIHNjYWxlSW5QbGFjZShzY2FsZTogbnVtYmVyKTogVmVjdG9yNCB7XG4gICAgdGhpcy54ICo9IHNjYWxlXG4gICAgdGhpcy55ICo9IHNjYWxlXG4gICAgdGhpcy56ICo9IHNjYWxlXG4gICAgdGhpcy53ICo9IHNjYWxlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjQgc2V0IHdpdGggdGhlIGN1cnJlbnQgVmVjdG9yNCBjb29yZGluYXRlcyBtdWx0aXBsaWVkIGJ5IHNjYWxlIChmbG9hdCkuXG4gICAqIEBwYXJhbSBzY2FsZSAtIHRoZSBudW1iZXIgdG8gc2NhbGUgd2l0aFxuICAgKiBAcmV0dXJucyBhIG5ldyB2ZWN0b3Igd2l0aCB0aGUgcmVzdWx0XG4gICAqL1xuICBwdWJsaWMgc2NhbGUoc2NhbGU6IG51bWJlcik6IFZlY3RvcjQge1xuICAgIHJldHVybiBuZXcgVmVjdG9yNCh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUsIHRoaXMueiAqIHNjYWxlLCB0aGlzLncgKiBzY2FsZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBjdXJyZW50IFZlY3RvcjQgY29vcmRpbmF0ZXMgbXVsdGlwbGllZCBieSBzY2FsZSAoZmxvYXQpLlxuICAgKiBAcGFyYW0gc2NhbGUgLSB0aGUgbnVtYmVyIHRvIHNjYWxlIHdpdGhcbiAgICogQHBhcmFtIHJlc3VsdCAtIGEgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW5cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yNC5cbiAgICovXG4gIHB1YmxpYyBzY2FsZVRvUmVmKHNjYWxlOiBudW1iZXIsIHJlc3VsdDogVmVjdG9yNCk6IFZlY3RvcjQge1xuICAgIHJlc3VsdC54ID0gdGhpcy54ICogc2NhbGVcbiAgICByZXN1bHQueSA9IHRoaXMueSAqIHNjYWxlXG4gICAgcmVzdWx0LnogPSB0aGlzLnogKiBzY2FsZVxuICAgIHJlc3VsdC53ID0gdGhpcy53ICogc2NhbGVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoZSBjdXJyZW50IFZlY3RvcjQgdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIFZlY3RvcjRcbiAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3I0IG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIGN1cnJlbnQgVmVjdG9yNFxuICAgKi9cbiAgcHVibGljIHNjYWxlQW5kQWRkVG9SZWYoc2NhbGU6IG51bWJlciwgcmVzdWx0OiBWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgcmVzdWx0LnggKz0gdGhpcy54ICogc2NhbGVcbiAgICByZXN1bHQueSArPSB0aGlzLnkgKiBzY2FsZVxuICAgIHJlc3VsdC56ICs9IHRoaXMueiAqIHNjYWxlXG4gICAgcmVzdWx0LncgKz0gdGhpcy53ICogc2NhbGVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEJvb2xlYW4gOiBUcnVlIGlmIHRoZSBjdXJyZW50IFZlY3RvcjQgY29vcmRpbmF0ZXMgYXJlIHN0cmljbHkgZXF1YWwgdG8gdGhlIGdpdmVuIG9uZXMuXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIHRoZSB2ZWN0b3IgdG8gY29tcGFyZSBhZ2FpbnN0XG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhleSBhcmUgZXF1YWxcbiAgICovXG4gIHB1YmxpYyBlcXVhbHMob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yNCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlclZlY3RvciAmJlxuICAgICAgdGhpcy54ID09PSBvdGhlclZlY3Rvci54ICYmXG4gICAgICB0aGlzLnkgPT09IG90aGVyVmVjdG9yLnkgJiZcbiAgICAgIHRoaXMueiA9PT0gb3RoZXJWZWN0b3IueiAmJlxuICAgICAgdGhpcy53ID09PSBvdGhlclZlY3Rvci53XG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIEJvb2xlYW4gOiBUcnVlIGlmIHRoZSBjdXJyZW50IFZlY3RvcjQgY29vcmRpbmF0ZXMgYXJlIGVhY2ggYmVuZWF0aCB0aGUgZGlzdGFuY2UgXCJlcHNpbG9uXCIgZnJvbSB0aGUgZ2l2ZW4gdmVjdG9yIG9uZXMuXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIHZlY3RvciB0byBjb21wYXJlIGFnYWluc3RcbiAgICogQHBhcmFtIGVwc2lsb24gLSAoRGVmYXVsdDogdmVyeSBzbWFsbCBudW1iZXIpXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhleSBhcmUgZXF1YWxcbiAgICovXG4gIHB1YmxpYyBlcXVhbHNXaXRoRXBzaWxvbihvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3I0LCBlcHNpbG9uOiBudW1iZXIgPSBFcHNpbG9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG90aGVyVmVjdG9yICYmXG4gICAgICBTY2FsYXIuV2l0aGluRXBzaWxvbih0aGlzLngsIG90aGVyVmVjdG9yLngsIGVwc2lsb24pICYmXG4gICAgICBTY2FsYXIuV2l0aGluRXBzaWxvbih0aGlzLnksIG90aGVyVmVjdG9yLnksIGVwc2lsb24pICYmXG4gICAgICBTY2FsYXIuV2l0aGluRXBzaWxvbih0aGlzLnosIG90aGVyVmVjdG9yLnosIGVwc2lsb24pICYmXG4gICAgICBTY2FsYXIuV2l0aGluRXBzaWxvbih0aGlzLncsIG90aGVyVmVjdG9yLncsIGVwc2lsb24pXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIEJvb2xlYW4gOiBUcnVlIGlmIHRoZSBnaXZlbiBmbG9hdHMgYXJlIHN0cmljdGx5IGVxdWFsIHRvIHRoZSBjdXJyZW50IFZlY3RvcjQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB4IC0geCB2YWx1ZSB0byBjb21wYXJlIGFnYWluc3RcbiAgICogQHBhcmFtIHkgLSB5IHZhbHVlIHRvIGNvbXBhcmUgYWdhaW5zdFxuICAgKiBAcGFyYW0geiAtIHogdmFsdWUgdG8gY29tcGFyZSBhZ2FpbnN0XG4gICAqIEBwYXJhbSB3IC0gdyB2YWx1ZSB0byBjb21wYXJlIGFnYWluc3RcbiAgICogQHJldHVybnMgdHJ1ZSBpZiBlcXVhbFxuICAgKi9cbiAgcHVibGljIGVxdWFsc1RvRmxvYXRzKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIsIHc6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnggPT09IHggJiYgdGhpcy55ID09PSB5ICYmIHRoaXMueiA9PT0geiAmJiB0aGlzLncgPT09IHdcbiAgfVxuXG4gIC8qKlxuICAgKiBNdWx0aXBsaWVzIGluIHBsYWNlIHRoZSBjdXJyZW50IFZlY3RvcjQgYnkgdGhlIGdpdmVuIG9uZS5cbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gdmVjdG9yIHRvIG11bHRpcGxlIHdpdGhcbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgVmVjdG9yNC5cbiAgICovXG4gIHB1YmxpYyBtdWx0aXBseUluUGxhY2Uob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yNCk6IFZlY3RvcjQge1xuICAgIHRoaXMueCAqPSBvdGhlclZlY3Rvci54XG4gICAgdGhpcy55ICo9IG90aGVyVmVjdG9yLnlcbiAgICB0aGlzLnogKj0gb3RoZXJWZWN0b3IuelxuICAgIHRoaXMudyAqPSBvdGhlclZlY3Rvci53XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjQgc2V0IHdpdGggdGhlIG11bHRpcGxpY2F0aW9uIHJlc3VsdCBvZiB0aGUgY3VycmVudCBWZWN0b3I0IGFuZCB0aGUgZ2l2ZW4gb25lLlxuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSB2ZWN0b3IgdG8gbXVsdGlwbGUgd2l0aFxuICAgKiBAcmV0dXJucyByZXN1bHRpbmcgbmV3IHZlY3RvclxuICAgKi9cbiAgcHVibGljIG11bHRpcGx5KG90aGVyVmVjdG9yOiBSZWFkT25seVZlY3RvcjQpOiBWZWN0b3I0IHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjQodGhpcy54ICogb3RoZXJWZWN0b3IueCwgdGhpcy55ICogb3RoZXJWZWN0b3IueSwgdGhpcy56ICogb3RoZXJWZWN0b3IueiwgdGhpcy53ICogb3RoZXJWZWN0b3IudylcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBjdXJyZW50IFZlY3RvcjQgYW5kIHRoZSBnaXZlbiBvbmUuXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIHZlY3RvciB0byBtdWx0aXBsZSB3aXRoXG4gICAqIEBwYXJhbSByZXN1bHQgLSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3I0LlxuICAgKi9cbiAgcHVibGljIG11bHRpcGx5VG9SZWYob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yNCwgcmVzdWx0OiBWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgcmVzdWx0LnggPSB0aGlzLnggKiBvdGhlclZlY3Rvci54XG4gICAgcmVzdWx0LnkgPSB0aGlzLnkgKiBvdGhlclZlY3Rvci55XG4gICAgcmVzdWx0LnogPSB0aGlzLnogKiBvdGhlclZlY3Rvci56XG4gICAgcmVzdWx0LncgPSB0aGlzLncgKiBvdGhlclZlY3Rvci53XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3I0IHNldCB3aXRoIHRoZSBtdWx0aXBsaWNhdGlvbiByZXN1bHQgb2YgdGhlIGdpdmVuIGZsb2F0cyBhbmQgdGhlIGN1cnJlbnQgVmVjdG9yNCBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHggLSB4IHZhbHVlIG11bHRpcGx5IHdpdGhcbiAgICogQHBhcmFtIHkgLSB5IHZhbHVlIG11bHRpcGx5IHdpdGhcbiAgICogQHBhcmFtIHogLSB6IHZhbHVlIG11bHRpcGx5IHdpdGhcbiAgICogQHBhcmFtIHcgLSB3IHZhbHVlIG11bHRpcGx5IHdpdGhcbiAgICogQHJldHVybnMgcmVzdWx0aW5nIG5ldyB2ZWN0b3JcbiAgICovXG4gIHB1YmxpYyBtdWx0aXBseUJ5RmxvYXRzKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIsIHc6IG51bWJlcik6IFZlY3RvcjQge1xuICAgIHJldHVybiBuZXcgVmVjdG9yNCh0aGlzLnggKiB4LCB0aGlzLnkgKiB5LCB0aGlzLnogKiB6LCB0aGlzLncgKiB3KVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjQgc2V0IHdpdGggdGhlIGRpdmlzaW9uIHJlc3VsdCBvZiB0aGUgY3VycmVudCBWZWN0b3I0IGJ5IHRoZSBnaXZlbiBvbmUuXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIHZlY3RvciB0byBkZXZpZGUgd2l0aFxuICAgKiBAcmV0dXJucyByZXN1bHRpbmcgbmV3IHZlY3RvclxuICAgKi9cbiAgcHVibGljIGRpdmlkZShvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3I0KHRoaXMueCAvIG90aGVyVmVjdG9yLngsIHRoaXMueSAvIG90aGVyVmVjdG9yLnksIHRoaXMueiAvIG90aGVyVmVjdG9yLnosIHRoaXMudyAvIG90aGVyVmVjdG9yLncpXG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIGRpdmlzaW9uIHJlc3VsdCBvZiB0aGUgY3VycmVudCBWZWN0b3I0IGJ5IHRoZSBnaXZlbiBvbmUuXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIHZlY3RvciB0byBkZXZpZGUgd2l0aFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yNC5cbiAgICovXG4gIHB1YmxpYyBkaXZpZGVUb1JlZihvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3I0LCByZXN1bHQ6IFZlY3RvcjQpOiBWZWN0b3I0IHtcbiAgICByZXN1bHQueCA9IHRoaXMueCAvIG90aGVyVmVjdG9yLnhcbiAgICByZXN1bHQueSA9IHRoaXMueSAvIG90aGVyVmVjdG9yLnlcbiAgICByZXN1bHQueiA9IHRoaXMueiAvIG90aGVyVmVjdG9yLnpcbiAgICByZXN1bHQudyA9IHRoaXMudyAvIG90aGVyVmVjdG9yLndcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIERpdmlkZXMgdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBieSB0aGUgZ2l2ZW4gb25lcy5cbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gdmVjdG9yIHRvIGRldmlkZSB3aXRoXG4gICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIFZlY3RvcjMuXG4gICAqL1xuICBwdWJsaWMgZGl2aWRlSW5QbGFjZShvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3I0KTogVmVjdG9yNCB7XG4gICAgcmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYob3RoZXJWZWN0b3IsIHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgVmVjdG9yNCBjb29yZGluYXRlcyB3aXRoIHRoZSBtaW5pbXVtIHZhbHVlcyBiZXR3ZWVuIGl0cyBvd24gYW5kIHRoZSBnaXZlbiB2ZWN0b3Igb25lc1xuICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjRcbiAgICovXG4gIHB1YmxpYyBtaW5pbWl6ZUluUGxhY2Uob3RoZXI6IFJlYWRPbmx5VmVjdG9yNCk6IFZlY3RvcjQge1xuICAgIGlmIChvdGhlci54IDwgdGhpcy54KSB7XG4gICAgICB0aGlzLnggPSBvdGhlci54XG4gICAgfVxuICAgIGlmIChvdGhlci55IDwgdGhpcy55KSB7XG4gICAgICB0aGlzLnkgPSBvdGhlci55XG4gICAgfVxuICAgIGlmIChvdGhlci56IDwgdGhpcy56KSB7XG4gICAgICB0aGlzLnogPSBvdGhlci56XG4gICAgfVxuICAgIGlmIChvdGhlci53IDwgdGhpcy53KSB7XG4gICAgICB0aGlzLncgPSBvdGhlci53XG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIFZlY3RvcjQgY29vcmRpbmF0ZXMgd2l0aCB0aGUgbWF4aW11bSB2YWx1ZXMgYmV0d2VlbiBpdHMgb3duIGFuZCB0aGUgZ2l2ZW4gdmVjdG9yIG9uZXNcbiAgICogQHBhcmFtIG90aGVyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBWZWN0b3I0XG4gICAqL1xuICBwdWJsaWMgbWF4aW1pemVJblBsYWNlKG90aGVyOiBSZWFkT25seVZlY3RvcjQpOiBWZWN0b3I0IHtcbiAgICBpZiAob3RoZXIueCA+IHRoaXMueCkge1xuICAgICAgdGhpcy54ID0gb3RoZXIueFxuICAgIH1cbiAgICBpZiAob3RoZXIueSA+IHRoaXMueSkge1xuICAgICAgdGhpcy55ID0gb3RoZXIueVxuICAgIH1cbiAgICBpZiAob3RoZXIueiA+IHRoaXMueikge1xuICAgICAgdGhpcy56ID0gb3RoZXIuelxuICAgIH1cbiAgICBpZiAob3RoZXIudyA+IHRoaXMudykge1xuICAgICAgdGhpcy53ID0gb3RoZXIud1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgVmVjdG9yNCBmcm9tIGN1cnJlbnQgVmVjdG9yNCBmbG9vcmVkIHZhbHVlc1xuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3I0XG4gICAqL1xuICBwdWJsaWMgZmxvb3IoKTogVmVjdG9yNCB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3I0KE1hdGguZmxvb3IodGhpcy54KSwgTWF0aC5mbG9vcih0aGlzLnkpLCBNYXRoLmZsb29yKHRoaXMueiksIE1hdGguZmxvb3IodGhpcy53KSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IFZlY3RvcjQgZnJvbSBjdXJyZW50IFZlY3RvcjMgZmxvb3JlZCB2YWx1ZXNcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yNFxuICAgKi9cbiAgcHVibGljIGZyYWN0KCk6IFZlY3RvcjQge1xuICAgIHJldHVybiBuZXcgVmVjdG9yNChcbiAgICAgIHRoaXMueCAtIE1hdGguZmxvb3IodGhpcy54KSxcbiAgICAgIHRoaXMueSAtIE1hdGguZmxvb3IodGhpcy55KSxcbiAgICAgIHRoaXMueiAtIE1hdGguZmxvb3IodGhpcy56KSxcbiAgICAgIHRoaXMudyAtIE1hdGguZmxvb3IodGhpcy53KVxuICAgIClcbiAgfVxuXG4gIC8vIFByb3BlcnRpZXNcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIFZlY3RvcjQgbGVuZ3RoIChmbG9hdCkuXG4gICAqIEByZXR1cm5zIHRoZSBsZW5ndGhcbiAgICovXG4gIHB1YmxpYyBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiArIHRoaXMudyAqIHRoaXMudylcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgVmVjdG9yNCBzcXVhcmVkIGxlbmd0aCAoZmxvYXQpLlxuICAgKiBAcmV0dXJucyB0aGUgbGVuZ3RoIHNxdWFyZWRcbiAgICovXG4gIHB1YmxpYyBsZW5ndGhTcXVhcmVkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiArIHRoaXMudyAqIHRoaXMud1xuICB9XG5cbiAgLy8gTWV0aG9kc1xuICAvKipcbiAgICogTm9ybWFsaXplcyBpbiBwbGFjZSB0aGUgVmVjdG9yNC5cbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgVmVjdG9yNC5cbiAgICovXG4gIHB1YmxpYyBub3JtYWxpemUoKTogVmVjdG9yNCB7XG4gICAgbGV0IGxlbiA9IHRoaXMubGVuZ3RoKClcblxuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2NhbGVJblBsYWNlKDEuMCAvIGxlbilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgZnJvbSB0aGUgVmVjdG9yNCAoeCwgeSwgeikgY29vcmRpbmF0ZXMuXG4gICAqIEByZXR1cm5zIHRoaXMgY29udmVydGVkIHRvIGEgbmV3IHZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyB0b1ZlY3RvcjMoKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueCwgdGhpcy55LCB0aGlzLnopXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yNCBjb3BpZWQgZnJvbSB0aGUgY3VycmVudCBvbmUuXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgY2xvbmVkIHZlY3RvclxuICAgKi9cbiAgcHVibGljIGNsb25lKCk6IFZlY3RvcjQge1xuICAgIHJldHVybiBuZXcgVmVjdG9yNCh0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLncpXG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgVmVjdG9yNCB3aXRoIHRoZSBnaXZlbiBvbmUgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSBzb3VyY2UgLSB0aGUgc291cmNlIHZlY3RvciB0byBjb3B5IGZyb21cbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgVmVjdG9yNC5cbiAgICovXG4gIHB1YmxpYyBjb3B5RnJvbShzb3VyY2U6IFJlYWRPbmx5VmVjdG9yNCk6IFZlY3RvcjQge1xuICAgIHRoaXMueCA9IHNvdXJjZS54XG4gICAgdGhpcy55ID0gc291cmNlLnlcbiAgICB0aGlzLnogPSBzb3VyY2UuelxuICAgIHRoaXMudyA9IHNvdXJjZS53XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY3VycmVudCBWZWN0b3I0IGNvb3JkaW5hdGVzIHdpdGggdGhlIGdpdmVuIGZsb2F0cy5cbiAgICogQHBhcmFtIHggLSBmbG9hdCB0byBjb3B5IGZyb21cbiAgICogQHBhcmFtIHkgLSBmbG9hdCB0byBjb3B5IGZyb21cbiAgICogQHBhcmFtIHogLSBmbG9hdCB0byBjb3B5IGZyb21cbiAgICogQHBhcmFtIHcgLSBmbG9hdCB0byBjb3B5IGZyb21cbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgVmVjdG9yNC5cbiAgICovXG4gIHB1YmxpYyBjb3B5RnJvbUZsb2F0cyh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCB3OiBudW1iZXIpOiBWZWN0b3I0IHtcbiAgICB0aGlzLnggPSB4XG4gICAgdGhpcy55ID0geVxuICAgIHRoaXMueiA9IHpcbiAgICB0aGlzLncgPSB3XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY3VycmVudCBWZWN0b3I0IGNvb3JkaW5hdGVzIHdpdGggdGhlIGdpdmVuIGZsb2F0cy5cbiAgICogQHBhcmFtIHggLSBmbG9hdCB0byBzZXQgZnJvbVxuICAgKiBAcGFyYW0geSAtIGZsb2F0IHRvIHNldCBmcm9tXG4gICAqIEBwYXJhbSB6IC0gZmxvYXQgdG8gc2V0IGZyb21cbiAgICogQHBhcmFtIHcgLSBmbG9hdCB0byBzZXQgZnJvbVxuICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBWZWN0b3I0LlxuICAgKi9cbiAgcHVibGljIHNldCh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCB3OiBudW1iZXIpOiBWZWN0b3I0IHtcbiAgICByZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyh4LCB5LCB6LCB3KVxuICB9XG5cbiAgLyoqXG4gICAqIENvcGllcyB0aGUgZ2l2ZW4gZmxvYXQgdG8gdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlc1xuICAgKiBAcGFyYW0gdiAtIGRlZmluZXMgdGhlIHgsIHksIHogYW5kIHcgY29vcmRpbmF0ZXMgb2YgdGhlIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc2V0QWxsKHY6IG51bWJlcik6IFZlY3RvcjQge1xuICAgIHRoaXMueCA9IHRoaXMueSA9IHRoaXMueiA9IHRoaXMudyA9IHZcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG4iLCJpbXBvcnQgeyBGbG9hdEFycmF5LCBOdWxsYWJsZSB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzJ1xuaW1wb3J0IHsgUXVhdGVybmlvbiB9IGZyb20gJy4vUXVhdGVybmlvbidcbmltcG9ydCB7IE1hdGhUbXAgfSBmcm9tICcuL3ByZWFsbG9jYXRlZFZhcmlhYmxlcydcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSAnLi9QbGFuZSdcbmltcG9ydCB7IFZlY3RvcjQgfSBmcm9tICcuL1ZlY3RvcjQnXG5cbi8qKlxuICogQ2xhc3MgdXNlZCB0byBzdG9yZSBtYXRyaXggZGF0YSAoNHg0KVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgTWF0cml4IHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIGludGVybmFsIGRhdGEgb2YgdGhlIG1hdHJpeFxuICAgKi9cbiAgcHVibGljIGdldCBtKCk6IFJlYWRvbmx5PEZsb2F0QXJyYXk+IHtcbiAgICByZXR1cm4gdGhpcy5fbVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gaWRlbnRpdHkgbWF0cml4IHRoYXQgbXVzdCBub3QgYmUgdXBkYXRlZFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBnZXQgSWRlbnRpdHlSZWFkT25seSgpOiBSZWFkb25seTxNYXRyaXg+IHtcbiAgICByZXR1cm4gTWF0cml4Ll9pZGVudGl0eVJlYWRPbmx5XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfdXBkYXRlRmxhZ1NlZWQgPSAwXG4gIHByaXZhdGUgc3RhdGljIF9pZGVudGl0eVJlYWRPbmx5ID0gTWF0cml4LklkZW50aXR5KClcblxuICAvKipcbiAgICogR2V0cyB0aGUgdXBkYXRlIGZsYWcgb2YgdGhlIG1hdHJpeCB3aGljaCBpcyBhbiB1bmlxdWUgbnVtYmVyIGZvciB0aGUgbWF0cml4LlxuICAgKiBJdCB3aWxsIGJlIGluY3JlbWVudGVkIGV2ZXJ5IHRpbWUgdGhlIG1hdHJpeCBkYXRhIGNoYW5nZS5cbiAgICogWW91IGNhbiB1c2UgaXQgdG8gc3BlZWQgdGhlIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmVyc2lvbnMgb2YgdGhlIHNhbWUgbWF0cml4LlxuICAgKi9cbiAgcHVibGljIHVwZGF0ZUZsYWchOiBudW1iZXJcblxuICBwcml2YXRlIF9pc0lkZW50aXR5ID0gZmFsc2VcbiAgcHJpdmF0ZSBfaXNJZGVudGl0eURpcnR5ID0gdHJ1ZVxuICBwcml2YXRlIF9pc0lkZW50aXR5M3gyID0gdHJ1ZVxuICBwcml2YXRlIF9pc0lkZW50aXR5M3gyRGlydHkgPSB0cnVlXG5cbiAgcHJpdmF0ZSByZWFkb25seSBfbTogRmxvYXRBcnJheSA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVtcHR5IG1hdHJpeCAoZmlsbGVkIHdpdGggemVyb3MpXG4gICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZmFsc2UpXG4gIH1cblxuICAvLyBTdGF0aWNzXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhbiBhcnJheVxuICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgYW4gb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICogQHJldHVybnMgYSBuZXcgTWF0cml4IHNldCBmcm9tIHRoZSBzdGFydGluZyBpbmRleCBvZiB0aGUgZ2l2ZW4gYXJyYXlcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRnJvbUFycmF5KGFycmF5OiBBcnJheUxpa2U8bnVtYmVyPiwgb2Zmc2V0OiBudW1iZXIgPSAwKTogTWF0cml4IHtcbiAgICBsZXQgcmVzdWx0ID0gbmV3IE1hdHJpeCgpXG4gICAgTWF0cml4LkZyb21BcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogQ29weSB0aGUgY29udGVudCBvZiBhbiBhcnJheSBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyBhbiBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGcm9tQXJyYXlUb1JlZihhcnJheTogQXJyYXlMaWtlPG51bWJlcj4sIG9mZnNldDogbnVtYmVyLCByZXN1bHQ6IE1hdHJpeCkge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgcmVzdWx0Ll9tW2luZGV4XSA9IGFycmF5W2luZGV4ICsgb2Zmc2V0XVxuICAgIH1cbiAgICByZXN1bHQuX21hcmtBc1VwZGF0ZWQoKVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlcyBhbiBhcnJheSBpbnRvIGEgbWF0cml4IGFmdGVyIGhhdmluZyBtdWx0aXBsaWVkIGVhY2ggY29tcG9uZW50IGJ5IGEgZ2l2ZW4gZmFjdG9yXG4gICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGluZyBmYWN0b3JcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRnJvbUZsb2F0QXJyYXlUb1JlZlNjYWxlZChhcnJheTogRmxvYXRBcnJheSwgb2Zmc2V0OiBudW1iZXIsIHNjYWxlOiBudW1iZXIsIHJlc3VsdDogTWF0cml4KSB7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDE2OyBpbmRleCsrKSB7XG4gICAgICByZXN1bHQuX21baW5kZXhdID0gYXJyYXlbaW5kZXggKyBvZmZzZXRdICogc2NhbGVcbiAgICB9XG4gICAgcmVzdWx0Ll9tYXJrQXNVcGRhdGVkKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZXMgYSBsaXN0IG9mIHZhbHVlcyAoMTYpIGluc2lkZSBhIGdpdmVuIG1hdHJpeFxuICAgKiBAcGFyYW0gaW5pdGlhbE0xMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDFzdCByb3dcbiAgICogQHBhcmFtIGluaXRpYWxNMTIgLSBkZWZpbmVzIDJuZCB2YWx1ZSBvZiAxc3Qgcm93XG4gICAqIEBwYXJhbSBpbml0aWFsTTEzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgMXN0IHJvd1xuICAgKiBAcGFyYW0gaW5pdGlhbE0xNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDFzdCByb3dcbiAgICogQHBhcmFtIGluaXRpYWxNMjEgLSBkZWZpbmVzIDFzdCB2YWx1ZSBvZiAybmQgcm93XG4gICAqIEBwYXJhbSBpbml0aWFsTTIyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgMm5kIHJvd1xuICAgKiBAcGFyYW0gaW5pdGlhbE0yMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDJuZCByb3dcbiAgICogQHBhcmFtIGluaXRpYWxNMjQgLSBkZWZpbmVzIDR0aCB2YWx1ZSBvZiAybmQgcm93XG4gICAqIEBwYXJhbSBpbml0aWFsTTMxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgM3JkIHJvd1xuICAgKiBAcGFyYW0gaW5pdGlhbE0zMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDNyZCByb3dcbiAgICogQHBhcmFtIGluaXRpYWxNMzMgLSBkZWZpbmVzIDNyZCB2YWx1ZSBvZiAzcmQgcm93XG4gICAqIEBwYXJhbSBpbml0aWFsTTM0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgM3JkIHJvd1xuICAgKiBAcGFyYW0gaW5pdGlhbE00MSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDR0aCByb3dcbiAgICogQHBhcmFtIGluaXRpYWxNNDIgLSBkZWZpbmVzIDJuZCB2YWx1ZSBvZiA0dGggcm93XG4gICAqIEBwYXJhbSBpbml0aWFsTTQzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgNHRoIHJvd1xuICAgKiBAcGFyYW0gaW5pdGlhbE00NCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDR0aCByb3dcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRnJvbVZhbHVlc1RvUmVmKFxuICAgIGluaXRpYWxNMTE6IG51bWJlcixcbiAgICBpbml0aWFsTTEyOiBudW1iZXIsXG4gICAgaW5pdGlhbE0xMzogbnVtYmVyLFxuICAgIGluaXRpYWxNMTQ6IG51bWJlcixcbiAgICBpbml0aWFsTTIxOiBudW1iZXIsXG4gICAgaW5pdGlhbE0yMjogbnVtYmVyLFxuICAgIGluaXRpYWxNMjM6IG51bWJlcixcbiAgICBpbml0aWFsTTI0OiBudW1iZXIsXG4gICAgaW5pdGlhbE0zMTogbnVtYmVyLFxuICAgIGluaXRpYWxNMzI6IG51bWJlcixcbiAgICBpbml0aWFsTTMzOiBudW1iZXIsXG4gICAgaW5pdGlhbE0zNDogbnVtYmVyLFxuICAgIGluaXRpYWxNNDE6IG51bWJlcixcbiAgICBpbml0aWFsTTQyOiBudW1iZXIsXG4gICAgaW5pdGlhbE00MzogbnVtYmVyLFxuICAgIGluaXRpYWxNNDQ6IG51bWJlcixcbiAgICByZXN1bHQ6IE1hdHJpeFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBtID0gcmVzdWx0Ll9tXG4gICAgbVswXSA9IGluaXRpYWxNMTFcbiAgICBtWzFdID0gaW5pdGlhbE0xMlxuICAgIG1bMl0gPSBpbml0aWFsTTEzXG4gICAgbVszXSA9IGluaXRpYWxNMTRcbiAgICBtWzRdID0gaW5pdGlhbE0yMVxuICAgIG1bNV0gPSBpbml0aWFsTTIyXG4gICAgbVs2XSA9IGluaXRpYWxNMjNcbiAgICBtWzddID0gaW5pdGlhbE0yNFxuICAgIG1bOF0gPSBpbml0aWFsTTMxXG4gICAgbVs5XSA9IGluaXRpYWxNMzJcbiAgICBtWzEwXSA9IGluaXRpYWxNMzNcbiAgICBtWzExXSA9IGluaXRpYWxNMzRcbiAgICBtWzEyXSA9IGluaXRpYWxNNDFcbiAgICBtWzEzXSA9IGluaXRpYWxNNDJcbiAgICBtWzE0XSA9IGluaXRpYWxNNDNcbiAgICBtWzE1XSA9IGluaXRpYWxNNDRcblxuICAgIHJlc3VsdC5fbWFya0FzVXBkYXRlZCgpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBuZXcgbWF0cml4IGZyb20gYSBsaXN0IG9mIHZhbHVlcyAoMTYpXG4gICAqIEBwYXJhbSBpbml0aWFsTTExIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgMXN0IHJvd1xuICAgKiBAcGFyYW0gaW5pdGlhbE0xMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDFzdCByb3dcbiAgICogQHBhcmFtIGluaXRpYWxNMTMgLSBkZWZpbmVzIDNyZCB2YWx1ZSBvZiAxc3Qgcm93XG4gICAqIEBwYXJhbSBpbml0aWFsTTE0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgMXN0IHJvd1xuICAgKiBAcGFyYW0gaW5pdGlhbE0yMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDJuZCByb3dcbiAgICogQHBhcmFtIGluaXRpYWxNMjIgLSBkZWZpbmVzIDJuZCB2YWx1ZSBvZiAybmQgcm93XG4gICAqIEBwYXJhbSBpbml0aWFsTTIzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgMm5kIHJvd1xuICAgKiBAcGFyYW0gaW5pdGlhbE0yNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDJuZCByb3dcbiAgICogQHBhcmFtIGluaXRpYWxNMzEgLSBkZWZpbmVzIDFzdCB2YWx1ZSBvZiAzcmQgcm93XG4gICAqIEBwYXJhbSBpbml0aWFsTTMyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgM3JkIHJvd1xuICAgKiBAcGFyYW0gaW5pdGlhbE0zMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDNyZCByb3dcbiAgICogQHBhcmFtIGluaXRpYWxNMzQgLSBkZWZpbmVzIDR0aCB2YWx1ZSBvZiAzcmQgcm93XG4gICAqIEBwYXJhbSBpbml0aWFsTTQxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgNHRoIHJvd1xuICAgKiBAcGFyYW0gaW5pdGlhbE00MiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDR0aCByb3dcbiAgICogQHBhcmFtIGluaXRpYWxNNDMgLSBkZWZpbmVzIDNyZCB2YWx1ZSBvZiA0dGggcm93XG4gICAqIEBwYXJhbSBpbml0aWFsTTQ0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgNHRoIHJvd1xuICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGcm9tVmFsdWVzKFxuICAgIGluaXRpYWxNMTE6IG51bWJlcixcbiAgICBpbml0aWFsTTEyOiBudW1iZXIsXG4gICAgaW5pdGlhbE0xMzogbnVtYmVyLFxuICAgIGluaXRpYWxNMTQ6IG51bWJlcixcbiAgICBpbml0aWFsTTIxOiBudW1iZXIsXG4gICAgaW5pdGlhbE0yMjogbnVtYmVyLFxuICAgIGluaXRpYWxNMjM6IG51bWJlcixcbiAgICBpbml0aWFsTTI0OiBudW1iZXIsXG4gICAgaW5pdGlhbE0zMTogbnVtYmVyLFxuICAgIGluaXRpYWxNMzI6IG51bWJlcixcbiAgICBpbml0aWFsTTMzOiBudW1iZXIsXG4gICAgaW5pdGlhbE0zNDogbnVtYmVyLFxuICAgIGluaXRpYWxNNDE6IG51bWJlcixcbiAgICBpbml0aWFsTTQyOiBudW1iZXIsXG4gICAgaW5pdGlhbE00MzogbnVtYmVyLFxuICAgIGluaXRpYWxNNDQ6IG51bWJlclxuICApOiBNYXRyaXgge1xuICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4KClcbiAgICBjb25zdCBtID0gcmVzdWx0Ll9tXG4gICAgbVswXSA9IGluaXRpYWxNMTFcbiAgICBtWzFdID0gaW5pdGlhbE0xMlxuICAgIG1bMl0gPSBpbml0aWFsTTEzXG4gICAgbVszXSA9IGluaXRpYWxNMTRcbiAgICBtWzRdID0gaW5pdGlhbE0yMVxuICAgIG1bNV0gPSBpbml0aWFsTTIyXG4gICAgbVs2XSA9IGluaXRpYWxNMjNcbiAgICBtWzddID0gaW5pdGlhbE0yNFxuICAgIG1bOF0gPSBpbml0aWFsTTMxXG4gICAgbVs5XSA9IGluaXRpYWxNMzJcbiAgICBtWzEwXSA9IGluaXRpYWxNMzNcbiAgICBtWzExXSA9IGluaXRpYWxNMzRcbiAgICBtWzEyXSA9IGluaXRpYWxNNDFcbiAgICBtWzEzXSA9IGluaXRpYWxNNDJcbiAgICBtWzE0XSA9IGluaXRpYWxNNDNcbiAgICBtWzE1XSA9IGluaXRpYWxNNDRcbiAgICByZXN1bHQuX21hcmtBc1VwZGF0ZWQoKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IG1hdHJpeCBjb21wb3NlZCBieSBtZXJnaW5nIHNjYWxlICh2ZWN0b3IzKSwgcm90YXRpb24gKHF1YXRlcm5pb24pIGFuZCB0cmFuc2xhdGlvbiAodmVjdG9yMylcbiAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgdmVjdG9yM1xuICAgKiBAcGFyYW0gcm90YXRpb24gLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uXG4gICAqIEBwYXJhbSB0cmFuc2xhdGlvbiAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvcjNcbiAgICogQHJldHVybnMgYSBuZXcgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENvbXBvc2Uoc2NhbGU6IFZlY3RvcjMsIHJvdGF0aW9uOiBRdWF0ZXJuaW9uLCB0cmFuc2xhdGlvbjogVmVjdG9yMyk6IE1hdHJpeCB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBNYXRyaXgoKVxuICAgIE1hdHJpeC5Db21wb3NlVG9SZWYoc2NhbGUsIHJvdGF0aW9uLCB0cmFuc2xhdGlvbiwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGEgbWF0cml4IHRvIGEgdmFsdWUgY29tcG9zZWQgYnkgbWVyZ2luZyBzY2FsZSAodmVjdG9yMyksIHJvdGF0aW9uIChxdWF0ZXJuaW9uKSBhbmQgdHJhbnNsYXRpb24gKHZlY3RvcjMpXG4gICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIHZlY3RvcjNcbiAgICogQHBhcmFtIHJvdGF0aW9uIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gcXVhdGVybmlvblxuICAgKiBAcGFyYW0gdHJhbnNsYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IzXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENvbXBvc2VUb1JlZihzY2FsZTogVmVjdG9yMywgcm90YXRpb246IFF1YXRlcm5pb24sIHRyYW5zbGF0aW9uOiBWZWN0b3IzLCByZXN1bHQ6IE1hdHJpeCk6IHZvaWQge1xuICAgIE1hdHJpeC5TY2FsaW5nVG9SZWYoc2NhbGUueCwgc2NhbGUueSwgc2NhbGUueiwgTWF0aFRtcC5NYXRyaXhbMV0pXG4gICAgcm90YXRpb24udG9Sb3RhdGlvbk1hdHJpeChNYXRoVG1wLk1hdHJpeFswXSlcbiAgICBNYXRoVG1wLk1hdHJpeFsxXS5tdWx0aXBseVRvUmVmKE1hdGhUbXAuTWF0cml4WzBdLCByZXN1bHQpXG5cbiAgICByZXN1bHQuc2V0VHJhbnNsYXRpb24odHJhbnNsYXRpb24pXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXRyaXhcbiAgICogQHJldHVybnMgYSBuZXcgaWRlbnRpdHkgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIElkZW50aXR5KCk6IE1hdHJpeCB7XG4gICAgY29uc3QgaWRlbnRpdHkgPSBNYXRyaXguRnJvbVZhbHVlcygxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjApXG4gICAgaWRlbnRpdHkuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHRydWUpXG4gICAgcmV0dXJuIGlkZW50aXR5XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXRyaXggYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIElkZW50aXR5VG9SZWYocmVzdWx0OiBNYXRyaXgpOiB2b2lkIHtcbiAgICBNYXRyaXguRnJvbVZhbHVlc1RvUmVmKDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KVxuICAgIHJlc3VsdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXModHJ1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHplcm8gbWF0cml4XG4gICAqIEByZXR1cm5zIGEgbmV3IHplcm8gbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFplcm8oKTogTWF0cml4IHtcbiAgICBjb25zdCB6ZXJvID0gTWF0cml4LkZyb21WYWx1ZXMoMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wKVxuICAgIHplcm8uX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGZhbHNlKVxuICAgIHJldHVybiB6ZXJvXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWCBheGlzXG4gICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUm90YXRpb25YKGFuZ2xlOiBudW1iZXIpOiBNYXRyaXgge1xuICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4KClcbiAgICBNYXRyaXguUm90YXRpb25YVG9SZWYoYW5nbGUsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBtYXRyaXggYXMgdGhlIGludmVydCBvZiBhIGdpdmVuIG1hdHJpeFxuICAgKiBAcGFyYW0gc291cmNlIC0gZGVmaW5lcyB0aGUgc291cmNlIG1hdHJpeFxuICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBJbnZlcnQoc291cmNlOiBNYXRyaXgpOiBNYXRyaXgge1xuICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4KClcbiAgICBzb3VyY2UuaW52ZXJ0VG9SZWYocmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBYIGF4aXMgYW5kIHN0b3JlcyBpdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJvdGF0aW9uWFRvUmVmKGFuZ2xlOiBudW1iZXIsIHJlc3VsdDogTWF0cml4KTogdm9pZCB7XG4gICAgbGV0IHMgPSBNYXRoLnNpbihhbmdsZSlcbiAgICBsZXQgYyA9IE1hdGguY29zKGFuZ2xlKVxuICAgIE1hdHJpeC5Gcm9tVmFsdWVzVG9SZWYoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGMsIHMsIDAuMCwgMC4wLCAtcywgYywgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdClcblxuICAgIHJlc3VsdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoYyA9PT0gMSAmJiBzID09PSAwKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIFkgYXhpc1xuICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJvdGF0aW9uWShhbmdsZTogbnVtYmVyKTogTWF0cml4IHtcbiAgICBsZXQgcmVzdWx0ID0gbmV3IE1hdHJpeCgpXG4gICAgTWF0cml4LlJvdGF0aW9uWVRvUmVmKGFuZ2xlLCByZXN1bHQpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIFkgYXhpcyBhbmQgc3RvcmVzIGl0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUm90YXRpb25ZVG9SZWYoYW5nbGU6IG51bWJlciwgcmVzdWx0OiBNYXRyaXgpOiB2b2lkIHtcbiAgICBsZXQgcyA9IE1hdGguc2luKGFuZ2xlKVxuICAgIGxldCBjID0gTWF0aC5jb3MoYW5nbGUpXG4gICAgTWF0cml4LkZyb21WYWx1ZXNUb1JlZihjLCAwLjAsIC1zLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgcywgMC4wLCBjLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KVxuXG4gICAgcmVzdWx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhjID09PSAxICYmIHMgPT09IDApXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWiBheGlzXG4gICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUm90YXRpb25aKGFuZ2xlOiBudW1iZXIpOiBNYXRyaXgge1xuICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4KClcbiAgICBNYXRyaXguUm90YXRpb25aVG9SZWYoYW5nbGUsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWiBheGlzIGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBSb3RhdGlvblpUb1JlZihhbmdsZTogbnVtYmVyLCByZXN1bHQ6IE1hdHJpeCk6IHZvaWQge1xuICAgIGxldCBzID0gTWF0aC5zaW4oYW5nbGUpXG4gICAgbGV0IGMgPSBNYXRoLmNvcyhhbmdsZSlcbiAgICBNYXRyaXguRnJvbVZhbHVlc1RvUmVmKGMsIHMsIDAuMCwgMC4wLCAtcywgYywgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZXN1bHQpXG5cbiAgICByZXN1bHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGMgPT09IDEgJiYgcyA9PT0gMClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gICAqIEBwYXJhbSBheGlzIC0gZGVmaW5lcyB0aGUgYXhpcyB0byB1c2VcbiAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBSb3RhdGlvbkF4aXMoYXhpczogVmVjdG9yMywgYW5nbGU6IG51bWJlcik6IE1hdHJpeCB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBNYXRyaXgoKVxuICAgIE1hdHJpeC5Sb3RhdGlvbkF4aXNUb1JlZihheGlzLCBhbmdsZSwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBnaXZlbiBheGlzIGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJvdGF0aW9uQXhpc1RvUmVmKGF4aXM6IFZlY3RvcjMsIGFuZ2xlOiBudW1iZXIsIHJlc3VsdDogTWF0cml4KTogdm9pZCB7XG4gICAgbGV0IHMgPSBNYXRoLnNpbigtYW5nbGUpXG4gICAgbGV0IGMgPSBNYXRoLmNvcygtYW5nbGUpXG4gICAgbGV0IGMxID0gMSAtIGNcblxuICAgIGF4aXMubm9ybWFsaXplKClcbiAgICBjb25zdCBtID0gcmVzdWx0Ll9tXG4gICAgbVswXSA9IGF4aXMueCAqIGF4aXMueCAqIGMxICsgY1xuICAgIG1bMV0gPSBheGlzLnggKiBheGlzLnkgKiBjMSAtIGF4aXMueiAqIHNcbiAgICBtWzJdID0gYXhpcy54ICogYXhpcy56ICogYzEgKyBheGlzLnkgKiBzXG4gICAgbVszXSA9IDAuMFxuXG4gICAgbVs0XSA9IGF4aXMueSAqIGF4aXMueCAqIGMxICsgYXhpcy56ICogc1xuICAgIG1bNV0gPSBheGlzLnkgKiBheGlzLnkgKiBjMSArIGNcbiAgICBtWzZdID0gYXhpcy55ICogYXhpcy56ICogYzEgLSBheGlzLnggKiBzXG4gICAgbVs3XSA9IDAuMFxuXG4gICAgbVs4XSA9IGF4aXMueiAqIGF4aXMueCAqIGMxIC0gYXhpcy55ICogc1xuICAgIG1bOV0gPSBheGlzLnogKiBheGlzLnkgKiBjMSArIGF4aXMueCAqIHNcbiAgICBtWzEwXSA9IGF4aXMueiAqIGF4aXMueiAqIGMxICsgY1xuICAgIG1bMTFdID0gMC4wXG5cbiAgICBtWzEyXSA9IDAuMFxuICAgIG1bMTNdID0gMC4wXG4gICAgbVsxNF0gPSAwLjBcbiAgICBtWzE1XSA9IDEuMFxuXG4gICAgcmVzdWx0Ll9tYXJrQXNVcGRhdGVkKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcm90YXRpb24gbWF0cml4XG4gICAqIEBwYXJhbSB5YXcgLSBkZWZpbmVzIHRoZSB5YXcgYW5nbGUgaW4gcmFkaWFucyAoWSBheGlzKVxuICAgKiBAcGFyYW0gcGl0Y2ggLSBkZWZpbmVzIHRoZSBwaXRjaCBhbmdsZSBpbiByYWRpYW5zIChYIGF4aXMpXG4gICAqIEBwYXJhbSByb2xsIC0gZGVmaW5lcyB0aGUgcm9sbCBhbmdsZSBpbiByYWRpYW5zIChYIGF4aXMpXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgcm90YXRpb24gbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJvdGF0aW9uWWF3UGl0Y2hSb2xsKHlhdzogbnVtYmVyLCBwaXRjaDogbnVtYmVyLCByb2xsOiBudW1iZXIpOiBNYXRyaXgge1xuICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4KClcbiAgICBNYXRyaXguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5YXcsIHBpdGNoLCByb2xsLCByZXN1bHQpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSByb3RhdGlvbiBtYXRyaXggYW5kIHN0b3JlcyBpdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgKiBAcGFyYW0geWF3IC0gZGVmaW5lcyB0aGUgeWF3IGFuZ2xlIGluIHJhZGlhbnMgKFkgYXhpcylcbiAgICogQHBhcmFtIHBpdGNoIC0gZGVmaW5lcyB0aGUgcGl0Y2ggYW5nbGUgaW4gcmFkaWFucyAoWCBheGlzKVxuICAgKiBAcGFyYW0gcm9sbCAtIGRlZmluZXMgdGhlIHJvbGwgYW5nbGUgaW4gcmFkaWFucyAoWCBheGlzKVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHlhdzogbnVtYmVyLCBwaXRjaDogbnVtYmVyLCByb2xsOiBudW1iZXIsIHJlc3VsdDogTWF0cml4KTogdm9pZCB7XG4gICAgUXVhdGVybmlvbi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHlhdywgcGl0Y2gsIHJvbGwsIE1hdGhUbXAuUXVhdGVybmlvblswXSlcbiAgICBNYXRoVG1wLlF1YXRlcm5pb25bMF0udG9Sb3RhdGlvbk1hdHJpeChyZXN1bHQpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNjYWxpbmcgbWF0cml4XG4gICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yIG9uIFggYXhpc1xuICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBZIGF4aXNcbiAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWiBheGlzXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFNjYWxpbmcoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IE1hdHJpeCB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBNYXRyaXgoKVxuICAgIE1hdHJpeC5TY2FsaW5nVG9SZWYoeCwgeSwgeiwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2NhbGluZyBtYXRyaXggYW5kIHN0b3JlcyBpdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBYIGF4aXNcbiAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWSBheGlzXG4gICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yIG9uIFogYXhpc1xuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBTY2FsaW5nVG9SZWYoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgcmVzdWx0OiBNYXRyaXgpOiB2b2lkIHtcbiAgICBNYXRyaXguRnJvbVZhbHVlc1RvUmVmKHgsIDAuMCwgMC4wLCAwLjAsIDAuMCwgeSwgMC4wLCAwLjAsIDAuMCwgMC4wLCB6LCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KVxuXG4gICAgcmVzdWx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyh4ID09PSAxICYmIHkgPT09IDEgJiYgeiA9PT0gMSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdHJhbnNsYXRpb24gbWF0cml4XG4gICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWCBheGlzXG4gICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWSBheGlzXG4gICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb25vbiBaIGF4aXNcbiAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgVHJhbnNsYXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IE1hdHJpeCB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBNYXRyaXgoKVxuICAgIE1hdHJpeC5UcmFuc2xhdGlvblRvUmVmKHgsIHksIHosIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHRyYW5zbGF0aW9uIG1hdHJpeCBhbmQgc3RvcmVzIGl0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWCBheGlzXG4gICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWSBheGlzXG4gICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb25vbiBaIGF4aXNcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgVHJhbnNsYXRpb25Ub1JlZih4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCByZXN1bHQ6IE1hdHJpeCk6IHZvaWQge1xuICAgIE1hdHJpeC5Gcm9tVmFsdWVzVG9SZWYoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgeCwgeSwgeiwgMS4wLCByZXN1bHQpXG4gICAgcmVzdWx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyh4ID09PSAwICYmIHkgPT09IDAgJiYgeiA9PT0gMClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IE1hdHJpeCB3aG9zZSB2YWx1ZXMgYXJlIHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGZvciBcImdyYWRpZW50XCIgKGZsb2F0KSBiZXR3ZWVuIHRoZSBvbmVzIG9mIHRoZSBtYXRyaWNlcyBcInN0YXJ0VmFsdWVcIiBhbmQgXCJlbmRWYWx1ZVwiLlxuICAgKiBAcGFyYW0gc3RhcnRWYWx1ZSAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAqIEBwYXJhbSBlbmRWYWx1ZSAtIGRlZmluZXMgdGhlIGVuZCB2YWx1ZVxuICAgKiBAcGFyYW0gZ3JhZGllbnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCBmYWN0b3JcbiAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTGVycChzdGFydFZhbHVlOiBNYXRyaXgsIGVuZFZhbHVlOiBNYXRyaXgsIGdyYWRpZW50OiBudW1iZXIpOiBNYXRyaXgge1xuICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4KClcbiAgICBNYXRyaXguTGVycFRvUmVmKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGdpdmVuIG1hdHJpeCBcInJlc3VsdFwiIGFzIHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGZvciBcImdyYWRpZW50XCIgKGZsb2F0KSBiZXR3ZWVuIHRoZSBvbmVzIG9mIHRoZSBtYXRyaWNlcyBcInN0YXJ0VmFsdWVcIiBhbmQgXCJlbmRWYWx1ZVwiLlxuICAgKiBAcGFyYW0gc3RhcnRWYWx1ZSAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAqIEBwYXJhbSBlbmRWYWx1ZSAtIGRlZmluZXMgdGhlIGVuZCB2YWx1ZVxuICAgKiBAcGFyYW0gZ3JhZGllbnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCBmYWN0b3JcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIE1hdHJpeCBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgZGF0YVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBMZXJwVG9SZWYoc3RhcnRWYWx1ZTogTWF0cml4LCBlbmRWYWx1ZTogTWF0cml4LCBncmFkaWVudDogbnVtYmVyLCByZXN1bHQ6IE1hdHJpeCk6IHZvaWQge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgcmVzdWx0Ll9tW2luZGV4XSA9IHN0YXJ0VmFsdWUuX21baW5kZXhdICogKDEuMCAtIGdyYWRpZW50KSArIGVuZFZhbHVlLl9tW2luZGV4XSAqIGdyYWRpZW50XG4gICAgfVxuICAgIHJlc3VsdC5fbWFya0FzVXBkYXRlZCgpXG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIGEgbmV3IG1hdHJpeCB3aG9zZSB2YWx1ZXMgYXJlIGNvbXB1dGVkIGJ5OlxuICAgKiAqIGRlY29tcG9zaW5nIHRoZSB0aGUgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIiBtYXRyaWNlcyBpbnRvIHRoZWlyIHJlc3BlY3RpdmUgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgKiAqIGludGVycG9sYXRpbmcgZm9yIFwiZ3JhZGllbnRcIiAoZmxvYXQpIHRoZSB2YWx1ZXMgYmV0d2VlbiBlYWNoIG9mIHRoZXNlIGRlY29tcG9zZWQgbWF0cmljZXMgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIHRoZSBlbmRcbiAgICogKiByZWNvbXBvc2luZyBhIG5ldyBtYXRyaXggZnJvbSB0aGVzZSAzIGludGVycG9sYXRlZCBzY2FsZSwgcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uIG1hdHJpY2VzXG4gICAqIEBwYXJhbSBzdGFydFZhbHVlIC0gZGVmaW5lcyB0aGUgZmlyc3QgbWF0cml4XG4gICAqIEBwYXJhbSBlbmRWYWx1ZSAtIGRlZmluZXMgdGhlIHNlY29uZCBtYXRyaXhcbiAgICogQHBhcmFtIGdyYWRpZW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgYmV0d2VlbiB0aGUgdHdvIG1hdHJpY2VzXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIERlY29tcG9zZUxlcnAoc3RhcnRWYWx1ZTogTWF0cml4LCBlbmRWYWx1ZTogTWF0cml4LCBncmFkaWVudDogbnVtYmVyKTogTWF0cml4IHtcbiAgICBsZXQgcmVzdWx0ID0gbmV3IE1hdHJpeCgpXG4gICAgTWF0cml4LkRlY29tcG9zZUxlcnBUb1JlZihzdGFydFZhbHVlLCBlbmRWYWx1ZSwgZ3JhZGllbnQsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGEgbWF0cml4IHRvIHZhbHVlcyB3aGljaCBhcmUgY29tcHV0ZWQgYnk6XG4gICAqICogZGVjb21wb3NpbmcgdGhlIHRoZSBcInN0YXJ0VmFsdWVcIiBhbmQgXCJlbmRWYWx1ZVwiIG1hdHJpY2VzIGludG8gdGhlaXIgcmVzcGVjdGl2ZSBzY2FsZSwgcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uIG1hdHJpY2VzXG4gICAqICogaW50ZXJwb2xhdGluZyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgdGhlIHZhbHVlcyBiZXR3ZWVuIGVhY2ggb2YgdGhlc2UgZGVjb21wb3NlZCBtYXRyaWNlcyBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgdGhlIGVuZFxuICAgKiAqIHJlY29tcG9zaW5nIGEgbmV3IG1hdHJpeCBmcm9tIHRoZXNlIDMgaW50ZXJwb2xhdGVkIHNjYWxlLCByb3RhdGlvbiBhbmQgdHJhbnNsYXRpb24gbWF0cmljZXNcbiAgICogQHBhcmFtIHN0YXJ0VmFsdWUgLSBkZWZpbmVzIHRoZSBmaXJzdCBtYXRyaXhcbiAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG1hdHJpeFxuICAgKiBAcGFyYW0gZ3JhZGllbnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCBiZXR3ZWVuIHRoZSB0d28gbWF0cmljZXNcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRGVjb21wb3NlTGVycFRvUmVmKHN0YXJ0VmFsdWU6IE1hdHJpeCwgZW5kVmFsdWU6IE1hdHJpeCwgZ3JhZGllbnQ6IG51bWJlciwgcmVzdWx0OiBNYXRyaXgpIHtcbiAgICBsZXQgc3RhcnRTY2FsZSA9IE1hdGhUbXAuVmVjdG9yM1swXVxuICAgIGxldCBzdGFydFJvdGF0aW9uID0gTWF0aFRtcC5RdWF0ZXJuaW9uWzBdXG4gICAgbGV0IHN0YXJ0VHJhbnNsYXRpb24gPSBNYXRoVG1wLlZlY3RvcjNbMV1cbiAgICBzdGFydFZhbHVlLmRlY29tcG9zZShzdGFydFNjYWxlLCBzdGFydFJvdGF0aW9uLCBzdGFydFRyYW5zbGF0aW9uKVxuXG4gICAgbGV0IGVuZFNjYWxlID0gTWF0aFRtcC5WZWN0b3IzWzJdXG4gICAgbGV0IGVuZFJvdGF0aW9uID0gTWF0aFRtcC5RdWF0ZXJuaW9uWzFdXG4gICAgbGV0IGVuZFRyYW5zbGF0aW9uID0gTWF0aFRtcC5WZWN0b3IzWzNdXG4gICAgZW5kVmFsdWUuZGVjb21wb3NlKGVuZFNjYWxlLCBlbmRSb3RhdGlvbiwgZW5kVHJhbnNsYXRpb24pXG5cbiAgICBsZXQgcmVzdWx0U2NhbGUgPSBNYXRoVG1wLlZlY3RvcjNbNF1cbiAgICBWZWN0b3IzLkxlcnBUb1JlZihzdGFydFNjYWxlLCBlbmRTY2FsZSwgZ3JhZGllbnQsIHJlc3VsdFNjYWxlKVxuICAgIGxldCByZXN1bHRSb3RhdGlvbiA9IE1hdGhUbXAuUXVhdGVybmlvblsyXVxuICAgIFF1YXRlcm5pb24uU2xlcnBUb1JlZihzdGFydFJvdGF0aW9uLCBlbmRSb3RhdGlvbiwgZ3JhZGllbnQsIHJlc3VsdFJvdGF0aW9uKVxuXG4gICAgbGV0IHJlc3VsdFRyYW5zbGF0aW9uID0gTWF0aFRtcC5WZWN0b3IzWzVdXG4gICAgVmVjdG9yMy5MZXJwVG9SZWYoc3RhcnRUcmFuc2xhdGlvbiwgZW5kVHJhbnNsYXRpb24sIGdyYWRpZW50LCByZXN1bHRUcmFuc2xhdGlvbilcblxuICAgIE1hdHJpeC5Db21wb3NlVG9SZWYocmVzdWx0U2NhbGUsIHJlc3VsdFJvdGF0aW9uLCByZXN1bHRUcmFuc2xhdGlvbiwgcmVzdWx0KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgcm90YXRpb24gbWF0cml4IHVzZWQgdG8gcm90YXRlIGFuIGVudGl0eSBzbyBhcyBpdCBsb29rcyBhdCB0aGUgdGFyZ2V0IHZlY3RvcjMsIGZyb20gdGhlIGV5ZSB2ZWN0b3IzIHBvc2l0aW9uLCB0aGUgdXAgdmVjdG9yMyBiZWluZyBvcmllbnRlZCBsaWtlIFwidXBcIlxuICAgKiBUaGlzIGZ1bmN0aW9uIHdvcmtzIGluIGxlZnQgaGFuZGVkIG1vZGVcbiAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgd2hlcmUgdGhlIGVudGl0eSBzaG91bGQgbG9vayBhdFxuICAgKiBAcGFyYW0gdXAgLSBkZWZpbmVzIHRoZSB1cCB2ZWN0b3IgZm9yIHRoZSBlbnRpdHlcbiAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTG9va0F0TEgoZXllOiBWZWN0b3IzLCB0YXJnZXQ6IFZlY3RvcjMsIHVwOiBWZWN0b3IzKTogTWF0cml4IHtcbiAgICBsZXQgcmVzdWx0ID0gbmV3IE1hdHJpeCgpXG4gICAgTWF0cml4Lkxvb2tBdExIVG9SZWYoZXllLCB0YXJnZXQsIHVwLCByZXN1bHQpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIFwicmVzdWx0XCIgTWF0cml4IHRvIGEgcm90YXRpb24gbWF0cml4IHVzZWQgdG8gcm90YXRlIGFuIGVudGl0eSBzbyB0aGF0IGl0IGxvb2tzIGF0IHRoZSB0YXJnZXQgdmVjdG9yMywgZnJvbSB0aGUgZXllIHZlY3RvcjMgcG9zaXRpb24sIHRoZSB1cCB2ZWN0b3IzIGJlaW5nIG9yaWVudGVkIGxpa2UgXCJ1cFwiLlxuICAgKiBUaGlzIGZ1bmN0aW9uIHdvcmtzIGluIGxlZnQgaGFuZGVkIG1vZGVcbiAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgd2hlcmUgdGhlIGVudGl0eSBzaG91bGQgbG9vayBhdFxuICAgKiBAcGFyYW0gdXAgLSBkZWZpbmVzIHRoZSB1cCB2ZWN0b3IgZm9yIHRoZSBlbnRpdHlcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTG9va0F0TEhUb1JlZihleWU6IFZlY3RvcjMsIHRhcmdldDogVmVjdG9yMywgdXA6IFZlY3RvcjMsIHJlc3VsdDogTWF0cml4KTogdm9pZCB7XG4gICAgY29uc3QgeEF4aXMgPSBNYXRoVG1wLlZlY3RvcjNbMF1cbiAgICBjb25zdCB5QXhpcyA9IE1hdGhUbXAuVmVjdG9yM1sxXVxuICAgIGNvbnN0IHpBeGlzID0gTWF0aFRtcC5WZWN0b3IzWzJdXG5cbiAgICAvLyBaIGF4aXNcbiAgICB0YXJnZXQuc3VidHJhY3RUb1JlZihleWUsIHpBeGlzKVxuICAgIHpBeGlzLm5vcm1hbGl6ZSgpXG5cbiAgICAvLyBYIGF4aXNcbiAgICBWZWN0b3IzLkNyb3NzVG9SZWYodXAsIHpBeGlzLCB4QXhpcylcblxuICAgIGNvbnN0IHhTcXVhcmVMZW5ndGggPSB4QXhpcy5sZW5ndGhTcXVhcmVkKClcbiAgICBpZiAoeFNxdWFyZUxlbmd0aCA9PT0gMCkge1xuICAgICAgeEF4aXMueCA9IDEuMFxuICAgIH0gZWxzZSB7XG4gICAgICB4QXhpcy5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydCh4U3F1YXJlTGVuZ3RoKSlcbiAgICB9XG5cbiAgICAvLyBZIGF4aXNcbiAgICBWZWN0b3IzLkNyb3NzVG9SZWYoekF4aXMsIHhBeGlzLCB5QXhpcylcbiAgICB5QXhpcy5ub3JtYWxpemUoKVxuXG4gICAgLy8gRXllIGFuZ2xlc1xuICAgIGxldCBleCA9IC1WZWN0b3IzLkRvdCh4QXhpcywgZXllKVxuICAgIGxldCBleSA9IC1WZWN0b3IzLkRvdCh5QXhpcywgZXllKVxuICAgIGxldCBleiA9IC1WZWN0b3IzLkRvdCh6QXhpcywgZXllKVxuXG4gICAgTWF0cml4LkZyb21WYWx1ZXNUb1JlZihcbiAgICAgIHhBeGlzLngsXG4gICAgICB5QXhpcy54LFxuICAgICAgekF4aXMueCxcbiAgICAgIDAuMCxcbiAgICAgIHhBeGlzLnksXG4gICAgICB5QXhpcy55LFxuICAgICAgekF4aXMueSxcbiAgICAgIDAuMCxcbiAgICAgIHhBeGlzLnosXG4gICAgICB5QXhpcy56LFxuICAgICAgekF4aXMueixcbiAgICAgIDAuMCxcbiAgICAgIGV4LFxuICAgICAgZXksXG4gICAgICBleixcbiAgICAgIDEuMCxcbiAgICAgIHJlc3VsdFxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCB1c2VkIHRvIHJvdGF0ZSBhbiBlbnRpdHkgc28gYXMgaXQgbG9va3MgYXQgdGhlIHRhcmdldCB2ZWN0b3IzLCBmcm9tIHRoZSBleWUgdmVjdG9yMyBwb3NpdGlvbiwgdGhlIHVwIHZlY3RvcjMgYmVpbmcgb3JpZW50ZWQgbGlrZSBcInVwXCJcbiAgICogVGhpcyBmdW5jdGlvbiB3b3JrcyBpbiByaWdodCBoYW5kZWQgbW9kZVxuICAgKiBAcGFyYW0gZXllIC0gZGVmaW5lcyB0aGUgZmluYWwgcG9zaXRpb24gb2YgdGhlIGVudGl0eVxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAqIEBwYXJhbSB1cCAtIGRlZmluZXMgdGhlIHVwIHZlY3RvciBmb3IgdGhlIGVudGl0eVxuICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBMb29rQXRSSChleWU6IFZlY3RvcjMsIHRhcmdldDogVmVjdG9yMywgdXA6IFZlY3RvcjMpOiBNYXRyaXgge1xuICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4KClcbiAgICBNYXRyaXguTG9va0F0UkhUb1JlZihleWUsIHRhcmdldCwgdXAsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gXCJyZXN1bHRcIiBNYXRyaXggdG8gYSByb3RhdGlvbiBtYXRyaXggdXNlZCB0byByb3RhdGUgYW4gZW50aXR5IHNvIHRoYXQgaXQgbG9va3MgYXQgdGhlIHRhcmdldCB2ZWN0b3IzLCBmcm9tIHRoZSBleWUgdmVjdG9yMyBwb3NpdGlvbiwgdGhlIHVwIHZlY3RvcjMgYmVpbmcgb3JpZW50ZWQgbGlrZSBcInVwXCIuXG4gICAqIFRoaXMgZnVuY3Rpb24gd29ya3MgaW4gcmlnaHQgaGFuZGVkIG1vZGVcbiAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgd2hlcmUgdGhlIGVudGl0eSBzaG91bGQgbG9vayBhdFxuICAgKiBAcGFyYW0gdXAgLSBkZWZpbmVzIHRoZSB1cCB2ZWN0b3IgZm9yIHRoZSBlbnRpdHlcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTG9va0F0UkhUb1JlZihleWU6IFZlY3RvcjMsIHRhcmdldDogVmVjdG9yMywgdXA6IFZlY3RvcjMsIHJlc3VsdDogTWF0cml4KTogdm9pZCB7XG4gICAgY29uc3QgeEF4aXMgPSBNYXRoVG1wLlZlY3RvcjNbMF1cbiAgICBjb25zdCB5QXhpcyA9IE1hdGhUbXAuVmVjdG9yM1sxXVxuICAgIGNvbnN0IHpBeGlzID0gTWF0aFRtcC5WZWN0b3IzWzJdXG5cbiAgICAvLyBaIGF4aXNcbiAgICBleWUuc3VidHJhY3RUb1JlZih0YXJnZXQsIHpBeGlzKVxuICAgIHpBeGlzLm5vcm1hbGl6ZSgpXG5cbiAgICAvLyBYIGF4aXNcbiAgICBWZWN0b3IzLkNyb3NzVG9SZWYodXAsIHpBeGlzLCB4QXhpcylcblxuICAgIGNvbnN0IHhTcXVhcmVMZW5ndGggPSB4QXhpcy5sZW5ndGhTcXVhcmVkKClcbiAgICBpZiAoeFNxdWFyZUxlbmd0aCA9PT0gMCkge1xuICAgICAgeEF4aXMueCA9IDEuMFxuICAgIH0gZWxzZSB7XG4gICAgICB4QXhpcy5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydCh4U3F1YXJlTGVuZ3RoKSlcbiAgICB9XG5cbiAgICAvLyBZIGF4aXNcbiAgICBWZWN0b3IzLkNyb3NzVG9SZWYoekF4aXMsIHhBeGlzLCB5QXhpcylcbiAgICB5QXhpcy5ub3JtYWxpemUoKVxuXG4gICAgLy8gRXllIGFuZ2xlc1xuICAgIGxldCBleCA9IC1WZWN0b3IzLkRvdCh4QXhpcywgZXllKVxuICAgIGxldCBleSA9IC1WZWN0b3IzLkRvdCh5QXhpcywgZXllKVxuICAgIGxldCBleiA9IC1WZWN0b3IzLkRvdCh6QXhpcywgZXllKVxuXG4gICAgTWF0cml4LkZyb21WYWx1ZXNUb1JlZihcbiAgICAgIHhBeGlzLngsXG4gICAgICB5QXhpcy54LFxuICAgICAgekF4aXMueCxcbiAgICAgIDAuMCxcbiAgICAgIHhBeGlzLnksXG4gICAgICB5QXhpcy55LFxuICAgICAgekF4aXMueSxcbiAgICAgIDAuMCxcbiAgICAgIHhBeGlzLnosXG4gICAgICB5QXhpcy56LFxuICAgICAgekF4aXMueixcbiAgICAgIDAuMCxcbiAgICAgIGV4LFxuICAgICAgZXksXG4gICAgICBleixcbiAgICAgIDEuMCxcbiAgICAgIHJlc3VsdFxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICogQHBhcmFtIHdpZHRoIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgd2lkdGhcbiAgICogQHBhcmFtIGhlaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGhlaWdodFxuICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgT3J0aG9MSCh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgem5lYXI6IG51bWJlciwgemZhcjogbnVtYmVyKTogTWF0cml4IHtcbiAgICBsZXQgbWF0cml4ID0gbmV3IE1hdHJpeCgpXG4gICAgTWF0cml4Lk9ydGhvTEhUb1JlZih3aWR0aCwgaGVpZ2h0LCB6bmVhciwgemZhciwgbWF0cml4KVxuICAgIHJldHVybiBtYXRyaXhcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZSBhIGxlZnQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIHRvIGEgZ2l2ZW4gbWF0cml4XG4gICAqIEBwYXJhbSB3aWR0aCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHdpZHRoXG4gICAqIEBwYXJhbSBoZWlnaHQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBoZWlnaHRcbiAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgT3J0aG9MSFRvUmVmKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB6bmVhcjogbnVtYmVyLCB6ZmFyOiBudW1iZXIsIHJlc3VsdDogTWF0cml4KTogdm9pZCB7XG4gICAgbGV0IG4gPSB6bmVhclxuICAgIGxldCBmID0gemZhclxuXG4gICAgbGV0IGEgPSAyLjAgLyB3aWR0aFxuICAgIGxldCBiID0gMi4wIC8gaGVpZ2h0XG4gICAgbGV0IGMgPSAyLjAgLyAoZiAtIG4pXG4gICAgbGV0IGQgPSAtKGYgKyBuKSAvIChmIC0gbilcblxuICAgIE1hdHJpeC5Gcm9tVmFsdWVzVG9SZWYoYSwgMC4wLCAwLjAsIDAuMCwgMC4wLCBiLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGMsIDAuMCwgMC4wLCAwLjAsIGQsIDEuMCwgcmVzdWx0KVxuXG4gICAgcmVzdWx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhhID09PSAxICYmIGIgPT09IDEgJiYgYyA9PT0gMSAmJiBkID09PSAwKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGxlZnQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIG1hdHJpeFxuICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGxlZnQgY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCByaWdodCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSBib3R0b20gLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBib3R0b20gY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0gdG9wIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgdG9wIGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgbGVmdC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIE9ydGhvT2ZmQ2VudGVyTEgoXG4gICAgbGVmdDogbnVtYmVyLFxuICAgIHJpZ2h0OiBudW1iZXIsXG4gICAgYm90dG9tOiBudW1iZXIsXG4gICAgdG9wOiBudW1iZXIsXG4gICAgem5lYXI6IG51bWJlcixcbiAgICB6ZmFyOiBudW1iZXJcbiAgKTogTWF0cml4IHtcbiAgICBsZXQgbWF0cml4ID0gbmV3IE1hdHJpeCgpXG4gICAgTWF0cml4Lk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyLCBtYXRyaXgpXG4gICAgcmV0dXJuIG1hdHJpeFxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlcyBhIGxlZnQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIGludG8gYSBnaXZlbiBtYXRyaXhcbiAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBsZWZ0IGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgcmlnaHQgY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0gYm90dG9tIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgYm90dG9tIGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHRvcCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHRvcCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIE9ydGhvT2ZmQ2VudGVyTEhUb1JlZihcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgcmlnaHQ6IG51bWJlcixcbiAgICBib3R0b206IG51bWJlcixcbiAgICB0b3A6IG51bWJlcixcbiAgICB6bmVhcjogbnVtYmVyLFxuICAgIHpmYXI6IG51bWJlcixcbiAgICByZXN1bHQ6IE1hdHJpeFxuICApOiB2b2lkIHtcbiAgICBsZXQgbiA9IHpuZWFyXG4gICAgbGV0IGYgPSB6ZmFyXG5cbiAgICBsZXQgYSA9IDIuMCAvIChyaWdodCAtIGxlZnQpXG4gICAgbGV0IGIgPSAyLjAgLyAodG9wIC0gYm90dG9tKVxuICAgIGxldCBjID0gMi4wIC8gKGYgLSBuKVxuICAgIGxldCBkID0gLShmICsgbikgLyAoZiAtIG4pXG4gICAgbGV0IGkwID0gKGxlZnQgKyByaWdodCkgLyAobGVmdCAtIHJpZ2h0KVxuICAgIGxldCBpMSA9ICh0b3AgKyBib3R0b20pIC8gKGJvdHRvbSAtIHRvcClcblxuICAgIE1hdHJpeC5Gcm9tVmFsdWVzVG9SZWYoYSwgMC4wLCAwLjAsIDAuMCwgMC4wLCBiLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGMsIDAuMCwgaTAsIGkxLCBkLCAxLjAsIHJlc3VsdClcblxuICAgIHJlc3VsdC5fbWFya0FzVXBkYXRlZCgpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHJpZ2h0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBsZWZ0IGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgcmlnaHQgY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0gYm90dG9tIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgYm90dG9tIGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHRvcCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHRvcCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBhcyBhIHJpZ2h0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgT3J0aG9PZmZDZW50ZXJSSChcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgcmlnaHQ6IG51bWJlcixcbiAgICBib3R0b206IG51bWJlcixcbiAgICB0b3A6IG51bWJlcixcbiAgICB6bmVhcjogbnVtYmVyLFxuICAgIHpmYXI6IG51bWJlclxuICApOiBNYXRyaXgge1xuICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4KClcbiAgICBNYXRyaXguT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgem5lYXIsIHpmYXIsIG1hdHJpeClcbiAgICByZXR1cm4gbWF0cml4XG4gIH1cblxuICAvKipcbiAgICogU3RvcmVzIGEgcmlnaHQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIGludG8gYSBnaXZlbiBtYXRyaXhcbiAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBsZWZ0IGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgcmlnaHQgY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0gYm90dG9tIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgYm90dG9tIGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHRvcCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHRvcCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIE9ydGhvT2ZmQ2VudGVyUkhUb1JlZihcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgcmlnaHQ6IG51bWJlcixcbiAgICBib3R0b206IG51bWJlcixcbiAgICB0b3A6IG51bWJlcixcbiAgICB6bmVhcjogbnVtYmVyLFxuICAgIHpmYXI6IG51bWJlcixcbiAgICByZXN1bHQ6IE1hdHJpeFxuICApOiB2b2lkIHtcbiAgICBNYXRyaXguT3J0aG9PZmZDZW50ZXJMSFRvUmVmKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgem5lYXIsIHpmYXIsIHJlc3VsdClcbiAgICByZXN1bHQuX21bMTBdICo9IC0xIC8vIE5vIG5lZWQgdG8gY2FsbCBfbWFya0FzVXBkYXRlZCBhcyBwcmV2aW91cyBmdW5jdGlvbiBhbHJlYWR5IGNhbGxlZCBpdCBhbmQgbGV0IF9pc0lkZW50aXR5RGlydHkgdG8gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBsZWZ0LWhhbmRlZCBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgKiBAcGFyYW0gd2lkdGggLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCB3aWR0aFxuICAgKiBAcGFyYW0gaGVpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgaGVpZ2h0XG4gICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBhcyBhIGxlZnQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFBlcnNwZWN0aXZlTEgod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHpuZWFyOiBudW1iZXIsIHpmYXI6IG51bWJlcik6IE1hdHJpeCB7XG4gICAgbGV0IG1hdHJpeCA9IG5ldyBNYXRyaXgoKVxuXG4gICAgbGV0IG4gPSB6bmVhclxuICAgIGxldCBmID0gemZhclxuXG4gICAgbGV0IGEgPSAoMi4wICogbikgLyB3aWR0aFxuICAgIGxldCBiID0gKDIuMCAqIG4pIC8gaGVpZ2h0XG4gICAgbGV0IGMgPSAoZiArIG4pIC8gKGYgLSBuKVxuICAgIGxldCBkID0gKC0yLjAgKiBmICogbikgLyAoZiAtIG4pXG5cbiAgICBNYXRyaXguRnJvbVZhbHVlc1RvUmVmKGEsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYiwgMC4wLCAwLjAsIDAuMCwgMC4wLCBjLCAxLjAsIDAuMCwgMC4wLCBkLCAwLjAsIG1hdHJpeClcblxuICAgIG1hdHJpeC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZmFsc2UpXG4gICAgcmV0dXJuIG1hdHJpeFxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBsZWZ0LWhhbmRlZCBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3XG4gICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgbGVmdC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUGVyc3BlY3RpdmVGb3ZMSChmb3Y6IG51bWJlciwgYXNwZWN0OiBudW1iZXIsIHpuZWFyOiBudW1iZXIsIHpmYXI6IG51bWJlcik6IE1hdHJpeCB7XG4gICAgbGV0IG1hdHJpeCA9IG5ldyBNYXRyaXgoKVxuICAgIE1hdHJpeC5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZm92LCBhc3BlY3QsIHpuZWFyLCB6ZmFyLCBtYXRyaXgpXG4gICAgcmV0dXJuIG1hdHJpeFxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlcyBhIGxlZnQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gaW50byBhIGdpdmVuIG1hdHJpeFxuICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3XG4gICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICogQHBhcmFtIGlzVmVydGljYWxGb3ZGaXhlZCAtIGRlZmluZXMgaXQgdGhlIGZvdiBpcyB2ZXJ0aWNhbGx5IGZpeGVkIChkZWZhdWx0KSBvciBob3Jpem9udGFsbHlcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUGVyc3BlY3RpdmVGb3ZMSFRvUmVmKFxuICAgIGZvdjogbnVtYmVyLFxuICAgIGFzcGVjdDogbnVtYmVyLFxuICAgIHpuZWFyOiBudW1iZXIsXG4gICAgemZhcjogbnVtYmVyLFxuICAgIHJlc3VsdDogTWF0cml4LFxuICAgIGlzVmVydGljYWxGb3ZGaXhlZCA9IHRydWVcbiAgKTogdm9pZCB7XG4gICAgbGV0IG4gPSB6bmVhclxuICAgIGxldCBmID0gemZhclxuXG4gICAgbGV0IHQgPSAxLjAgLyBNYXRoLnRhbihmb3YgKiAwLjUpXG4gICAgbGV0IGEgPSBpc1ZlcnRpY2FsRm92Rml4ZWQgPyB0IC8gYXNwZWN0IDogdFxuICAgIGxldCBiID0gaXNWZXJ0aWNhbEZvdkZpeGVkID8gdCA6IHQgKiBhc3BlY3RcbiAgICBsZXQgYyA9IChmICsgbikgLyAoZiAtIG4pXG4gICAgbGV0IGQgPSAoLTIuMCAqIGYgKiBuKSAvIChmIC0gbilcblxuICAgIE1hdHJpeC5Gcm9tVmFsdWVzVG9SZWYoYSwgMC4wLCAwLjAsIDAuMCwgMC4wLCBiLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGMsIDEuMCwgMC4wLCAwLjAsIGQsIDAuMCwgcmVzdWx0KVxuICAgIHJlc3VsdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZmFsc2UpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHJpZ2h0LWhhbmRlZCBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3XG4gICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgcmlnaHQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFBlcnNwZWN0aXZlRm92UkgoZm92OiBudW1iZXIsIGFzcGVjdDogbnVtYmVyLCB6bmVhcjogbnVtYmVyLCB6ZmFyOiBudW1iZXIpOiBNYXRyaXgge1xuICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4KClcbiAgICBNYXRyaXguUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGZvdiwgYXNwZWN0LCB6bmVhciwgemZhciwgbWF0cml4KVxuICAgIHJldHVybiBtYXRyaXhcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZXMgYSByaWdodC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAqIEBwYXJhbSBmb3YgLSBkZWZpbmVzIHRoZSBob3Jpem9udGFsIGZpZWxkIG9mIHZpZXdcbiAgICogQHBhcmFtIGFzcGVjdCAtIGRlZmluZXMgdGhlIGFzcGVjdCByYXRpb1xuICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgKiBAcGFyYW0gaXNWZXJ0aWNhbEZvdkZpeGVkIC0gZGVmaW5lcyBpdCB0aGUgZm92IGlzIHZlcnRpY2FsbHkgZml4ZWQgKGRlZmF1bHQpIG9yIGhvcml6b250YWxseVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBQZXJzcGVjdGl2ZUZvdlJIVG9SZWYoXG4gICAgZm92OiBudW1iZXIsXG4gICAgYXNwZWN0OiBudW1iZXIsXG4gICAgem5lYXI6IG51bWJlcixcbiAgICB6ZmFyOiBudW1iZXIsXG4gICAgcmVzdWx0OiBNYXRyaXgsXG4gICAgaXNWZXJ0aWNhbEZvdkZpeGVkID0gdHJ1ZVxuICApOiB2b2lkIHtcbiAgICAvKiBhbHRlcm5hdGl2ZWx5IHRoaXMgY291bGQgYmUgZXhwcmVzc2VkIGFzOlxuICAgIC8vICAgIG0gPSBQZXJzcGVjdGl2ZUZvdkxIVG9SZWZcbiAgICAvLyAgICBtWzEwXSAqPSAtMS4wO1xuICAgIC8vICAgIG1bMTFdICo9IC0xLjA7XG4gICAgKi9cblxuICAgIGxldCBuID0gem5lYXJcbiAgICBsZXQgZiA9IHpmYXJcblxuICAgIGxldCB0ID0gMS4wIC8gTWF0aC50YW4oZm92ICogMC41KVxuICAgIGxldCBhID0gaXNWZXJ0aWNhbEZvdkZpeGVkID8gdCAvIGFzcGVjdCA6IHRcbiAgICBsZXQgYiA9IGlzVmVydGljYWxGb3ZGaXhlZCA/IHQgOiB0ICogYXNwZWN0XG4gICAgbGV0IGMgPSAtKGYgKyBuKSAvIChmIC0gbilcbiAgICBsZXQgZCA9ICgtMiAqIGYgKiBuKSAvIChmIC0gbilcblxuICAgIE1hdHJpeC5Gcm9tVmFsdWVzVG9SZWYoYSwgMC4wLCAwLjAsIDAuMCwgMC4wLCBiLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGMsIC0xLjAsIDAuMCwgMC4wLCBkLCAwLjAsIHJlc3VsdClcblxuICAgIHJlc3VsdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZmFsc2UpXG4gIH1cblxuICAvKipcbiAgICogU3RvcmVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBmb3IgV2ViVlIgaW5mbyBhIGdpdmVuIG1hdHJpeFxuICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgZmllbGQgb2Ygdmlld1xuICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgKiBAcGFyYW0gcmlnaHRIYW5kZWQgLSBkZWZpbmVzIGlmIHRoZSBtYXRyaXggbXVzdCBiZSBpbiByaWdodC1oYW5kZWQgbW9kZSAoZmFsc2UgYnkgZGVmYXVsdClcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUGVyc3BlY3RpdmVGb3ZXZWJWUlRvUmVmKFxuICAgIGZvdjogeyB1cERlZ3JlZXM6IG51bWJlcjsgZG93bkRlZ3JlZXM6IG51bWJlcjsgbGVmdERlZ3JlZXM6IG51bWJlcjsgcmlnaHREZWdyZWVzOiBudW1iZXIgfSxcbiAgICB6bmVhcjogbnVtYmVyLFxuICAgIHpmYXI6IG51bWJlcixcbiAgICByZXN1bHQ6IE1hdHJpeCxcbiAgICByaWdodEhhbmRlZCA9IGZhbHNlXG4gICk6IHZvaWQge1xuICAgIGxldCByaWdodEhhbmRlZEZhY3RvciA9IHJpZ2h0SGFuZGVkID8gLTEgOiAxXG5cbiAgICBsZXQgdXBUYW4gPSBNYXRoLnRhbigoZm92LnVwRGVncmVlcyAqIE1hdGguUEkpIC8gMTgwLjApXG4gICAgbGV0IGRvd25UYW4gPSBNYXRoLnRhbigoZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSkgLyAxODAuMClcbiAgICBsZXQgbGVmdFRhbiA9IE1hdGgudGFuKChmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJKSAvIDE4MC4wKVxuICAgIGxldCByaWdodFRhbiA9IE1hdGgudGFuKChmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSkgLyAxODAuMClcbiAgICBsZXQgeFNjYWxlID0gMi4wIC8gKGxlZnRUYW4gKyByaWdodFRhbilcbiAgICBsZXQgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbilcbiAgICBjb25zdCBtID0gcmVzdWx0Ll9tXG4gICAgbVswXSA9IHhTY2FsZVxuICAgIG1bMV0gPSBtWzJdID0gbVszXSA9IG1bNF0gPSAwLjBcbiAgICBtWzVdID0geVNjYWxlXG4gICAgbVs2XSA9IG1bN10gPSAwLjBcbiAgICBtWzhdID0gKGxlZnRUYW4gLSByaWdodFRhbikgKiB4U2NhbGUgKiAwLjVcbiAgICBtWzldID0gLSgodXBUYW4gLSBkb3duVGFuKSAqIHlTY2FsZSAqIDAuNSlcbiAgICBtWzEwXSA9IC16ZmFyIC8gKHpuZWFyIC0gemZhcilcbiAgICBtWzExXSA9IDEuMCAqIHJpZ2h0SGFuZGVkRmFjdG9yXG4gICAgbVsxMl0gPSBtWzEzXSA9IG1bMTVdID0gMC4wXG4gICAgbVsxNF0gPSAtKDIuMCAqIHpmYXIgKiB6bmVhcikgLyAoemZhciAtIHpuZWFyKVxuXG4gICAgcmVzdWx0Ll9tYXJrQXNVcGRhdGVkKClcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0cyBhIDJ4MiBtYXRyaXggZnJvbSBhIGdpdmVuIG1hdHJpeCBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiBhIEZsb2F0QXJyYXlcbiAgICogQHBhcmFtIG1hdHJpeCAtIGRlZmluZXMgdGhlIG1hdHJpeCB0byB1c2VcbiAgICogQHJldHVybnMgYSBuZXcgRmxvYXRBcnJheSBhcnJheSB3aXRoIDQgZWxlbWVudHMgOiB0aGUgMngyIG1hdHJpeCBleHRyYWN0ZWQgZnJvbSB0aGUgZ2l2ZW4gbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEdldEFzTWF0cml4MngyKG1hdHJpeDogTWF0cml4KTogRmxvYXRBcnJheSB7XG4gICAgcmV0dXJuIFttYXRyaXguX21bMF0sIG1hdHJpeC5fbVsxXSwgbWF0cml4Ll9tWzRdLCBtYXRyaXguX21bNV1dXG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3RzIGEgM3gzIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gbWF0cml4IGFuZCBzdG9yZSB0aGUgcmVzdWx0IGluIGEgRmxvYXRBcnJheVxuICAgKiBAcGFyYW0gbWF0cml4IC0gZGVmaW5lcyB0aGUgbWF0cml4IHRvIHVzZVxuICAgKiBAcmV0dXJucyBhIG5ldyBGbG9hdEFycmF5IGFycmF5IHdpdGggOSBlbGVtZW50cyA6IHRoZSAzeDMgbWF0cml4IGV4dHJhY3RlZCBmcm9tIHRoZSBnaXZlbiBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgR2V0QXNNYXRyaXgzeDMobWF0cml4OiBNYXRyaXgpOiBGbG9hdEFycmF5IHtcbiAgICByZXR1cm4gW1xuICAgICAgbWF0cml4Ll9tWzBdLFxuICAgICAgbWF0cml4Ll9tWzFdLFxuICAgICAgbWF0cml4Ll9tWzJdLFxuICAgICAgbWF0cml4Ll9tWzRdLFxuICAgICAgbWF0cml4Ll9tWzVdLFxuICAgICAgbWF0cml4Ll9tWzZdLFxuICAgICAgbWF0cml4Ll9tWzhdLFxuICAgICAgbWF0cml4Ll9tWzldLFxuICAgICAgbWF0cml4Ll9tWzEwXVxuICAgIF1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSB0cmFuc3Bvc2Ugb2YgYSBnaXZlbiBtYXRyaXhcbiAgICogQHBhcmFtIG1hdHJpeCAtIGRlZmluZXMgdGhlIG1hdHJpeCB0byB0cmFuc3Bvc2VcbiAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgVHJhbnNwb3NlKG1hdHJpeDogTWF0cml4KTogTWF0cml4IHtcbiAgICBsZXQgcmVzdWx0ID0gbmV3IE1hdHJpeCgpXG4gICAgTWF0cml4LlRyYW5zcG9zZVRvUmVmKG1hdHJpeCwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSB0cmFuc3Bvc2Ugb2YgYSBtYXRyaXggYW5kIHN0b3JlIGl0IGluIGEgdGFyZ2V0IG1hdHJpeFxuICAgKiBAcGFyYW0gbWF0cml4IC0gZGVmaW5lcyB0aGUgbWF0cml4IHRvIHRyYW5zcG9zZVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBUcmFuc3Bvc2VUb1JlZihtYXRyaXg6IE1hdHJpeCwgcmVzdWx0OiBNYXRyaXgpOiB2b2lkIHtcbiAgICBjb25zdCBybSA9IHJlc3VsdC5fbVxuICAgIGNvbnN0IG1tID0gbWF0cml4Ll9tXG4gICAgcm1bMF0gPSBtbVswXVxuICAgIHJtWzFdID0gbW1bNF1cbiAgICBybVsyXSA9IG1tWzhdXG4gICAgcm1bM10gPSBtbVsxMl1cblxuICAgIHJtWzRdID0gbW1bMV1cbiAgICBybVs1XSA9IG1tWzVdXG4gICAgcm1bNl0gPSBtbVs5XVxuICAgIHJtWzddID0gbW1bMTNdXG5cbiAgICBybVs4XSA9IG1tWzJdXG4gICAgcm1bOV0gPSBtbVs2XVxuICAgIHJtWzEwXSA9IG1tWzEwXVxuICAgIHJtWzExXSA9IG1tWzE0XVxuXG4gICAgcm1bMTJdID0gbW1bM11cbiAgICBybVsxM10gPSBtbVs3XVxuICAgIHJtWzE0XSA9IG1tWzExXVxuICAgIHJtWzE1XSA9IG1tWzE1XVxuICAgIC8vIGlkZW50aXR5LW5lc3MgZG9lcyBub3QgY2hhbmdlIHdoZW4gdHJhbnNwb3NpbmdcbiAgICByZXN1bHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKG1hdHJpeC5faXNJZGVudGl0eSwgbWF0cml4Ll9pc0lkZW50aXR5RGlydHkpXG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZXMgYSByZWZsZWN0aW9uIG1hdHJpeCBmcm9tIGEgcGxhbmVcbiAgICogQHBhcmFtIHBsYW5lIC0gZGVmaW5lcyB0aGUgcmVmbGVjdGlvbiBwbGFuZVxuICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUmVmbGVjdGlvbihwbGFuZTogUGxhbmUpOiBNYXRyaXgge1xuICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4KClcbiAgICBNYXRyaXguUmVmbGVjdGlvblRvUmVmKHBsYW5lLCBtYXRyaXgpXG4gICAgcmV0dXJuIG1hdHJpeFxuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGVzIGEgcmVmbGVjdGlvbiBtYXRyaXggZnJvbSBhIHBsYW5lXG4gICAqIEBwYXJhbSBwbGFuZSAtIGRlZmluZXMgdGhlIHJlZmxlY3Rpb24gcGxhbmVcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUmVmbGVjdGlvblRvUmVmKHBsYW5lOiBQbGFuZSwgcmVzdWx0OiBNYXRyaXgpOiB2b2lkIHtcbiAgICBwbGFuZS5ub3JtYWxpemUoKVxuICAgIGxldCB4ID0gcGxhbmUubm9ybWFsLnhcbiAgICBsZXQgeSA9IHBsYW5lLm5vcm1hbC55XG4gICAgbGV0IHogPSBwbGFuZS5ub3JtYWwuelxuICAgIGxldCB0ZW1wID0gLTIgKiB4XG4gICAgbGV0IHRlbXAyID0gLTIgKiB5XG4gICAgbGV0IHRlbXAzID0gLTIgKiB6XG4gICAgTWF0cml4LkZyb21WYWx1ZXNUb1JlZihcbiAgICAgIHRlbXAgKiB4ICsgMSxcbiAgICAgIHRlbXAyICogeCxcbiAgICAgIHRlbXAzICogeCxcbiAgICAgIDAuMCxcbiAgICAgIHRlbXAgKiB5LFxuICAgICAgdGVtcDIgKiB5ICsgMSxcbiAgICAgIHRlbXAzICogeSxcbiAgICAgIDAuMCxcbiAgICAgIHRlbXAgKiB6LFxuICAgICAgdGVtcDIgKiB6LFxuICAgICAgdGVtcDMgKiB6ICsgMSxcbiAgICAgIDAuMCxcbiAgICAgIHRlbXAgKiBwbGFuZS5kLFxuICAgICAgdGVtcDIgKiBwbGFuZS5kLFxuICAgICAgdGVtcDMgKiBwbGFuZS5kLFxuICAgICAgMS4wLFxuICAgICAgcmVzdWx0XG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCBhcyBhIHJvdGF0aW9uIG1hdHJpeCBjb21wb3NlZCBmcm9tIHRoZSAzIGxlZnQgaGFuZGVkIGF4ZXNcbiAgICogQHBhcmFtIHhheGlzIC0gZGVmaW5lcyB0aGUgdmFsdWUgb2YgdGhlIDFzdCBheGlzXG4gICAqIEBwYXJhbSB5YXhpcyAtIGRlZmluZXMgdGhlIHZhbHVlIG9mIHRoZSAybmQgYXhpc1xuICAgKiBAcGFyYW0gemF4aXMgLSBkZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgM3JkIGF4aXNcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRnJvbVhZWkF4ZXNUb1JlZih4YXhpczogVmVjdG9yMywgeWF4aXM6IFZlY3RvcjMsIHpheGlzOiBWZWN0b3IzLCByZXN1bHQ6IE1hdHJpeCkge1xuICAgIE1hdHJpeC5Gcm9tVmFsdWVzVG9SZWYoXG4gICAgICB4YXhpcy54LFxuICAgICAgeGF4aXMueSxcbiAgICAgIHhheGlzLnosXG4gICAgICAwLjAsXG4gICAgICB5YXhpcy54LFxuICAgICAgeWF4aXMueSxcbiAgICAgIHlheGlzLnosXG4gICAgICAwLjAsXG4gICAgICB6YXhpcy54LFxuICAgICAgemF4aXMueSxcbiAgICAgIHpheGlzLnosXG4gICAgICAwLjAsXG4gICAgICAwLjAsXG4gICAgICAwLjAsXG4gICAgICAwLjAsXG4gICAgICAxLjAsXG4gICAgICByZXN1bHRcbiAgICApXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHJvdGF0aW9uIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiBhbmQgc3RvcmVzIGl0IGluIGEgdGFyZ2V0IG1hdHJpeFxuICAgKiBAcGFyYW0gcXVhdCAtIGRlZmluZXMgdGhlIHF1YXRlcm5pb24gdG8gdXNlXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21RdWF0ZXJuaW9uVG9SZWYocXVhdDogUXVhdGVybmlvbiwgcmVzdWx0OiBNYXRyaXgpIHtcbiAgICBsZXQgeHggPSBxdWF0LnggKiBxdWF0LnhcbiAgICBsZXQgeXkgPSBxdWF0LnkgKiBxdWF0LnlcbiAgICBsZXQgenogPSBxdWF0LnogKiBxdWF0LnpcbiAgICBsZXQgeHkgPSBxdWF0LnggKiBxdWF0LnlcbiAgICBsZXQgencgPSBxdWF0LnogKiBxdWF0LndcbiAgICBsZXQgenggPSBxdWF0LnogKiBxdWF0LnhcbiAgICBsZXQgeXcgPSBxdWF0LnkgKiBxdWF0LndcbiAgICBsZXQgeXogPSBxdWF0LnkgKiBxdWF0LnpcbiAgICBsZXQgeHcgPSBxdWF0LnggKiBxdWF0LndcblxuICAgIHJlc3VsdC5fbVswXSA9IDEuMCAtIDIuMCAqICh5eSArIHp6KVxuICAgIHJlc3VsdC5fbVsxXSA9IDIuMCAqICh4eSArIHp3KVxuICAgIHJlc3VsdC5fbVsyXSA9IDIuMCAqICh6eCAtIHl3KVxuICAgIHJlc3VsdC5fbVszXSA9IDAuMFxuXG4gICAgcmVzdWx0Ll9tWzRdID0gMi4wICogKHh5IC0gencpXG4gICAgcmVzdWx0Ll9tWzVdID0gMS4wIC0gMi4wICogKHp6ICsgeHgpXG4gICAgcmVzdWx0Ll9tWzZdID0gMi4wICogKHl6ICsgeHcpXG4gICAgcmVzdWx0Ll9tWzddID0gMC4wXG5cbiAgICByZXN1bHQuX21bOF0gPSAyLjAgKiAoenggKyB5dylcbiAgICByZXN1bHQuX21bOV0gPSAyLjAgKiAoeXogLSB4dylcbiAgICByZXN1bHQuX21bMTBdID0gMS4wIC0gMi4wICogKHl5ICsgeHgpXG4gICAgcmVzdWx0Ll9tWzExXSA9IDAuMFxuXG4gICAgcmVzdWx0Ll9tWzEyXSA9IDAuMFxuICAgIHJlc3VsdC5fbVsxM10gPSAwLjBcbiAgICByZXN1bHQuX21bMTRdID0gMC4wXG4gICAgcmVzdWx0Ll9tWzE1XSA9IDEuMFxuXG4gICAgcmVzdWx0Ll9tYXJrQXNVcGRhdGVkKClcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHVibGljIF9tYXJrQXNVcGRhdGVkKCkge1xuICAgIHRoaXMudXBkYXRlRmxhZyA9IE1hdHJpeC5fdXBkYXRlRmxhZ1NlZWQrK1xuICAgIHRoaXMuX2lzSWRlbnRpdHkgPSBmYWxzZVxuICAgIHRoaXMuX2lzSWRlbnRpdHkzeDIgPSBmYWxzZVxuICAgIHRoaXMuX2lzSWRlbnRpdHlEaXJ0eSA9IHRydWVcbiAgICB0aGlzLl9pc0lkZW50aXR5M3gyRGlydHkgPSB0cnVlXG4gIH1cblxuICAvLyBQcm9wZXJ0aWVzXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBjdXJyZW50IG1hdHJpeCBpcyBpZGVudGl0eVxuICAgKiBAcmV0dXJucyB0cnVlIGlzIHRoZSBtYXRyaXggaXMgdGhlIGlkZW50aXR5IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIGlzSWRlbnRpdHkoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuX2lzSWRlbnRpdHlEaXJ0eSkge1xuICAgICAgdGhpcy5faXNJZGVudGl0eURpcnR5ID0gZmFsc2VcbiAgICAgIGNvbnN0IG0gPSB0aGlzLl9tXG4gICAgICB0aGlzLl9pc0lkZW50aXR5ID1cbiAgICAgICAgbVswXSA9PT0gMS4wICYmXG4gICAgICAgIG1bMV0gPT09IDAuMCAmJlxuICAgICAgICBtWzJdID09PSAwLjAgJiZcbiAgICAgICAgbVszXSA9PT0gMC4wICYmXG4gICAgICAgIG1bNF0gPT09IDAuMCAmJlxuICAgICAgICBtWzVdID09PSAxLjAgJiZcbiAgICAgICAgbVs2XSA9PT0gMC4wICYmXG4gICAgICAgIG1bN10gPT09IDAuMCAmJlxuICAgICAgICBtWzhdID09PSAwLjAgJiZcbiAgICAgICAgbVs5XSA9PT0gMC4wICYmXG4gICAgICAgIG1bMTBdID09PSAxLjAgJiZcbiAgICAgICAgbVsxMV0gPT09IDAuMCAmJlxuICAgICAgICBtWzEyXSA9PT0gMC4wICYmXG4gICAgICAgIG1bMTNdID09PSAwLjAgJiZcbiAgICAgICAgbVsxNF0gPT09IDAuMCAmJlxuICAgICAgICBtWzE1XSA9PT0gMS4wXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2lzSWRlbnRpdHlcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgY3VycmVudCBtYXRyaXggaXMgaWRlbnRpdHkgYXMgYSB0ZXh0dXJlIG1hdHJpeCAoM3gyIHN0b3JlIGluIDR4NClcbiAgICogQHJldHVybnMgdHJ1ZSBpcyB0aGUgbWF0cml4IGlzIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBpc0lkZW50aXR5QXMzeDIoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eSkge1xuICAgICAgdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5ID0gZmFsc2VcbiAgICAgIGlmICh0aGlzLl9tWzBdICE9PSAxLjAgfHwgdGhpcy5fbVs1XSAhPT0gMS4wIHx8IHRoaXMuX21bMTVdICE9PSAxLjApIHtcbiAgICAgICAgdGhpcy5faXNJZGVudGl0eTN4MiA9IGZhbHNlXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0aGlzLl9tWzFdICE9PSAwLjAgfHxcbiAgICAgICAgdGhpcy5fbVsyXSAhPT0gMC4wIHx8XG4gICAgICAgIHRoaXMuX21bM10gIT09IDAuMCB8fFxuICAgICAgICB0aGlzLl9tWzRdICE9PSAwLjAgfHxcbiAgICAgICAgdGhpcy5fbVs2XSAhPT0gMC4wIHx8XG4gICAgICAgIHRoaXMuX21bN10gIT09IDAuMCB8fFxuICAgICAgICB0aGlzLl9tWzhdICE9PSAwLjAgfHxcbiAgICAgICAgdGhpcy5fbVs5XSAhPT0gMC4wIHx8XG4gICAgICAgIHRoaXMuX21bMTBdICE9PSAwLjAgfHxcbiAgICAgICAgdGhpcy5fbVsxMV0gIT09IDAuMCB8fFxuICAgICAgICB0aGlzLl9tWzEyXSAhPT0gMC4wIHx8XG4gICAgICAgIHRoaXMuX21bMTNdICE9PSAwLjAgfHxcbiAgICAgICAgdGhpcy5fbVsxNF0gIT09IDAuMFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2lzSWRlbnRpdHkzeDIgPSBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faXNJZGVudGl0eTN4MiA9IHRydWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faXNJZGVudGl0eTN4MlxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRldGVybWluYW50IG9mIHRoZSBtYXRyaXhcbiAgICogQHJldHVybnMgdGhlIG1hdHJpeCBkZXRlcm1pbmFudFxuICAgKi9cbiAgcHVibGljIGRldGVybWluYW50KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuX2lzSWRlbnRpdHkgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAxXG4gICAgfVxuXG4gICAgY29uc3QgbSA9IHRoaXMuX21cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgIGNvbnN0IG0wMCA9IG1bMF0sXG4gICAgICBtMDEgPSBtWzFdLFxuICAgICAgbTAyID0gbVsyXSxcbiAgICAgIG0wMyA9IG1bM11cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgIGNvbnN0IG0xMCA9IG1bNF0sXG4gICAgICBtMTEgPSBtWzVdLFxuICAgICAgbTEyID0gbVs2XSxcbiAgICAgIG0xMyA9IG1bN11cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgIGNvbnN0IG0yMCA9IG1bOF0sXG4gICAgICBtMjEgPSBtWzldLFxuICAgICAgbTIyID0gbVsxMF0sXG4gICAgICBtMjMgPSBtWzExXVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgY29uc3QgbTMwID0gbVsxMl0sXG4gICAgICBtMzEgPSBtWzEzXSxcbiAgICAgIG0zMiA9IG1bMTRdLFxuICAgICAgbTMzID0gbVsxNV1cbiAgICAvKlxuICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhcGxhY2VfZXhwYW5zaW9uXG4gICAgLy8gdG8gY29tcHV0ZSB0aGUgZGV0ZXJybWluYW50IG9mIGEgNHg0IE1hdHJpeCB3ZSBjb21wdXRlIHRoZSBjb2ZhY3RvcnMgb2YgYW55IHJvdyBvciBjb2x1bW4sXG4gICAgLy8gdGhlbiB3ZSBtdWx0aXBseSBlYWNoIENvZmFjdG9yIGJ5IGl0cyBjb3JyZXNwb25kaW5nIG1hdHJpeCB2YWx1ZSBhbmQgc3VtIHRoZW0gYWxsIHRvIGdldCB0aGUgZGV0ZXJtaW5hbnRcbiAgICAvLyBDb2ZhY3RvcihpLCBqKSA9IHNpZ24oaSxqKSAqIGRldChNaW5vcihpLCBqKSlcbiAgICAvLyB3aGVyZVxuICAgIC8vICAtIHNpZ24oaSxqKSA9IChpK2opICUgMiA9PT0gMCA/IDEgOiAtMVxuICAgIC8vICAtIE1pbm9yKGksIGopIGlzIHRoZSAzeDMgbWF0cml4IHdlIGdldCBieSByZW1vdmluZyByb3cgaSBhbmQgY29sdW1uIGogZnJvbSBjdXJyZW50IE1hdHJpeFxuICAgIC8vXG4gICAgLy8gSGVyZSB3ZSBkbyB0aGF0IGZvciB0aGUgMXN0IHJvdy5cbiAgICAqL1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZVxuICAgIGNvbnN0IGRldF8yMl8zMyA9IG0yMiAqIG0zMyAtIG0zMiAqIG0yM1xuICAgIGNvbnN0IGRldF8yMV8zMyA9IG0yMSAqIG0zMyAtIG0zMSAqIG0yM1xuICAgIGNvbnN0IGRldF8yMV8zMiA9IG0yMSAqIG0zMiAtIG0zMSAqIG0yMlxuICAgIGNvbnN0IGRldF8yMF8zMyA9IG0yMCAqIG0zMyAtIG0zMCAqIG0yM1xuICAgIGNvbnN0IGRldF8yMF8zMiA9IG0yMCAqIG0zMiAtIG0yMiAqIG0zMFxuICAgIGNvbnN0IGRldF8yMF8zMSA9IG0yMCAqIG0zMSAtIG0zMCAqIG0yMVxuICAgIGNvbnN0IGNvZmFjdF8wMCA9ICsobTExICogZGV0XzIyXzMzIC0gbTEyICogZGV0XzIxXzMzICsgbTEzICogZGV0XzIxXzMyKVxuICAgIGNvbnN0IGNvZmFjdF8wMSA9IC0obTEwICogZGV0XzIyXzMzIC0gbTEyICogZGV0XzIwXzMzICsgbTEzICogZGV0XzIwXzMyKVxuICAgIGNvbnN0IGNvZmFjdF8wMiA9ICsobTEwICogZGV0XzIxXzMzIC0gbTExICogZGV0XzIwXzMzICsgbTEzICogZGV0XzIwXzMxKVxuICAgIGNvbnN0IGNvZmFjdF8wMyA9IC0obTEwICogZGV0XzIxXzMyIC0gbTExICogZGV0XzIwXzMyICsgbTEyICogZGV0XzIwXzMxKVxuICAgIC8vIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZVxuICAgIHJldHVybiBtMDAgKiBjb2ZhY3RfMDAgKyBtMDEgKiBjb2ZhY3RfMDEgKyBtMDIgKiBjb2ZhY3RfMDIgKyBtMDMgKiBjb2ZhY3RfMDNcbiAgfVxuXG4gIC8vIE1ldGhvZHNcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWF0cml4IGFzIGEgRmxvYXRBcnJheVxuICAgKiBAcmV0dXJucyB0aGUgbWF0cml4IHVuZGVybHlpbmcgYXJyYXlcbiAgICovXG4gIHB1YmxpYyB0b0FycmF5KCk6IFJlYWRvbmx5PEZsb2F0QXJyYXk+IHtcbiAgICByZXR1cm4gdGhpcy5fbVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtYXRyaXggYXMgYSBGbG9hdEFycmF5XG4gICAqIEByZXR1cm5zIHRoZSBtYXRyaXggdW5kZXJseWluZyBhcnJheS5cbiAgICovXG4gIHB1YmxpYyBhc0FycmF5KCk6IFJlYWRvbmx5PEZsb2F0QXJyYXk+IHtcbiAgICByZXR1cm4gdGhpcy5fbVxuICB9XG5cbiAgLyoqXG4gICAqIEludmVydHMgdGhlIGN1cnJlbnQgbWF0cml4IGluIHBsYWNlXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IGludmVydGVkIG1hdHJpeFxuICAgKi9cbiAgcHVibGljIGludmVydCgpOiBNYXRyaXgge1xuICAgIHRoaXMuaW52ZXJ0VG9SZWYodGhpcylcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGFsbCB0aGUgbWF0cml4IGVsZW1lbnRzIHRvIHplcm9cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgcmVzZXQoKTogTWF0cml4IHtcbiAgICBNYXRyaXguRnJvbVZhbHVlc1RvUmVmKDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgdGhpcylcbiAgICB0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyhmYWxzZSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggYSBzZWNvbmQgb25lXG4gICAqIEBwYXJhbSBvdGhlciAtIGRlZmluZXMgdGhlIG1hdHJpeCB0byBhZGRcbiAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmVcbiAgICovXG4gIHB1YmxpYyBhZGQob3RoZXI6IE1hdHJpeCk6IE1hdHJpeCB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBNYXRyaXgoKVxuICAgIHRoaXMuYWRkVG9SZWYob3RoZXIsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gbWF0cml4IFwicmVzdWx0XCIgdG8gdGhlIGFkZGl0aW9uIG9mIHRoZSBjdXJyZW50IG1hdHJpeCBhbmQgdGhlIGdpdmVuIG9uZVxuICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gYWRkXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIGFkZFRvUmVmKG90aGVyOiBNYXRyaXgsIHJlc3VsdDogTWF0cml4KTogTWF0cml4IHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgIHJlc3VsdC5fbVtpbmRleF0gPSB0aGlzLl9tW2luZGV4XSArIG90aGVyLl9tW2luZGV4XVxuICAgIH1cbiAgICByZXN1bHQuX21hcmtBc1VwZGF0ZWQoKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQWRkcyBpbiBwbGFjZSB0aGUgZ2l2ZW4gbWF0cml4IHRvIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIG1hdHJpeFxuICAgKi9cbiAgcHVibGljIGFkZFRvU2VsZihvdGhlcjogTWF0cml4KTogTWF0cml4IHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgIHRoaXMuX21baW5kZXhdICs9IG90aGVyLl9tW2luZGV4XVxuICAgIH1cbiAgICB0aGlzLl9tYXJrQXNVcGRhdGVkKClcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCB0byB0aGUgY3VycmVudCBpbnZlcnRlZCBNYXRyaXhcbiAgICogQHBhcmFtIG90aGVyIC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIGludmVydFRvUmVmKG90aGVyOiBNYXRyaXgpOiBNYXRyaXgge1xuICAgIGlmICh0aGlzLl9pc0lkZW50aXR5ID09PSB0cnVlKSB7XG4gICAgICBNYXRyaXguSWRlbnRpdHlUb1JlZihvdGhlcilcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLy8gdGhlIGludmVyc2Ugb2YgYSBNYXRyaXggaXMgdGhlIHRyYW5zcG9zZSBvZiBjb2ZhY3RvciBtYXRyaXggZGl2aWRlZCBieSB0aGUgZGV0ZXJtaW5hbnRcbiAgICBjb25zdCBtID0gdGhpcy5fbVxuICAgIC8vIHRzbGludDpkaXNhYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICBjb25zdCBtMDAgPSBtWzBdLFxuICAgICAgbTAxID0gbVsxXSxcbiAgICAgIG0wMiA9IG1bMl0sXG4gICAgICBtMDMgPSBtWzNdXG4gICAgY29uc3QgbTEwID0gbVs0XSxcbiAgICAgIG0xMSA9IG1bNV0sXG4gICAgICBtMTIgPSBtWzZdLFxuICAgICAgbTEzID0gbVs3XVxuICAgIGNvbnN0IG0yMCA9IG1bOF0sXG4gICAgICBtMjEgPSBtWzldLFxuICAgICAgbTIyID0gbVsxMF0sXG4gICAgICBtMjMgPSBtWzExXVxuICAgIGNvbnN0IG0zMCA9IG1bMTJdLFxuICAgICAgbTMxID0gbVsxM10sXG4gICAgICBtMzIgPSBtWzE0XSxcbiAgICAgIG0zMyA9IG1bMTVdXG4gICAgLy8gdHNsaW50OmVuYWJsZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lXG4gICAgY29uc3QgZGV0XzIyXzMzID0gbTIyICogbTMzIC0gbTMyICogbTIzXG4gICAgY29uc3QgZGV0XzIxXzMzID0gbTIxICogbTMzIC0gbTMxICogbTIzXG4gICAgY29uc3QgZGV0XzIxXzMyID0gbTIxICogbTMyIC0gbTMxICogbTIyXG4gICAgY29uc3QgZGV0XzIwXzMzID0gbTIwICogbTMzIC0gbTMwICogbTIzXG4gICAgY29uc3QgZGV0XzIwXzMyID0gbTIwICogbTMyIC0gbTIyICogbTMwXG4gICAgY29uc3QgZGV0XzIwXzMxID0gbTIwICogbTMxIC0gbTMwICogbTIxXG5cbiAgICBjb25zdCBjb2ZhY3RfMDAgPSArKG0xMSAqIGRldF8yMl8zMyAtIG0xMiAqIGRldF8yMV8zMyArIG0xMyAqIGRldF8yMV8zMilcbiAgICBjb25zdCBjb2ZhY3RfMDEgPSAtKG0xMCAqIGRldF8yMl8zMyAtIG0xMiAqIGRldF8yMF8zMyArIG0xMyAqIGRldF8yMF8zMilcbiAgICBjb25zdCBjb2ZhY3RfMDIgPSArKG0xMCAqIGRldF8yMV8zMyAtIG0xMSAqIGRldF8yMF8zMyArIG0xMyAqIGRldF8yMF8zMSlcbiAgICBjb25zdCBjb2ZhY3RfMDMgPSAtKG0xMCAqIGRldF8yMV8zMiAtIG0xMSAqIGRldF8yMF8zMiArIG0xMiAqIGRldF8yMF8zMSlcblxuICAgIGNvbnN0IGRldCA9IG0wMCAqIGNvZmFjdF8wMCArIG0wMSAqIGNvZmFjdF8wMSArIG0wMiAqIGNvZmFjdF8wMiArIG0wMyAqIGNvZmFjdF8wM1xuXG4gICAgaWYgKGRldCA9PT0gMCkge1xuICAgICAgLy8gbm90IGludmVydGlibGVcbiAgICAgIG90aGVyLmNvcHlGcm9tKHRoaXMpXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGNvbnN0IGRldEludiA9IDEgLyBkZXRcbiAgICBjb25zdCBkZXRfMTJfMzMgPSBtMTIgKiBtMzMgLSBtMzIgKiBtMTNcbiAgICBjb25zdCBkZXRfMTFfMzMgPSBtMTEgKiBtMzMgLSBtMzEgKiBtMTNcbiAgICBjb25zdCBkZXRfMTFfMzIgPSBtMTEgKiBtMzIgLSBtMzEgKiBtMTJcbiAgICBjb25zdCBkZXRfMTBfMzMgPSBtMTAgKiBtMzMgLSBtMzAgKiBtMTNcbiAgICBjb25zdCBkZXRfMTBfMzIgPSBtMTAgKiBtMzIgLSBtMzAgKiBtMTJcbiAgICBjb25zdCBkZXRfMTBfMzEgPSBtMTAgKiBtMzEgLSBtMzAgKiBtMTFcbiAgICBjb25zdCBkZXRfMTJfMjMgPSBtMTIgKiBtMjMgLSBtMjIgKiBtMTNcbiAgICBjb25zdCBkZXRfMTFfMjMgPSBtMTEgKiBtMjMgLSBtMjEgKiBtMTNcbiAgICBjb25zdCBkZXRfMTFfMjIgPSBtMTEgKiBtMjIgLSBtMjEgKiBtMTJcbiAgICBjb25zdCBkZXRfMTBfMjMgPSBtMTAgKiBtMjMgLSBtMjAgKiBtMTNcbiAgICBjb25zdCBkZXRfMTBfMjIgPSBtMTAgKiBtMjIgLSBtMjAgKiBtMTJcbiAgICBjb25zdCBkZXRfMTBfMjEgPSBtMTAgKiBtMjEgLSBtMjAgKiBtMTFcblxuICAgIGNvbnN0IGNvZmFjdF8xMCA9IC0obTAxICogZGV0XzIyXzMzIC0gbTAyICogZGV0XzIxXzMzICsgbTAzICogZGV0XzIxXzMyKVxuICAgIGNvbnN0IGNvZmFjdF8xMSA9ICsobTAwICogZGV0XzIyXzMzIC0gbTAyICogZGV0XzIwXzMzICsgbTAzICogZGV0XzIwXzMyKVxuICAgIGNvbnN0IGNvZmFjdF8xMiA9IC0obTAwICogZGV0XzIxXzMzIC0gbTAxICogZGV0XzIwXzMzICsgbTAzICogZGV0XzIwXzMxKVxuICAgIGNvbnN0IGNvZmFjdF8xMyA9ICsobTAwICogZGV0XzIxXzMyIC0gbTAxICogZGV0XzIwXzMyICsgbTAyICogZGV0XzIwXzMxKVxuXG4gICAgY29uc3QgY29mYWN0XzIwID0gKyhtMDEgKiBkZXRfMTJfMzMgLSBtMDIgKiBkZXRfMTFfMzMgKyBtMDMgKiBkZXRfMTFfMzIpXG4gICAgY29uc3QgY29mYWN0XzIxID0gLShtMDAgKiBkZXRfMTJfMzMgLSBtMDIgKiBkZXRfMTBfMzMgKyBtMDMgKiBkZXRfMTBfMzIpXG4gICAgY29uc3QgY29mYWN0XzIyID0gKyhtMDAgKiBkZXRfMTFfMzMgLSBtMDEgKiBkZXRfMTBfMzMgKyBtMDMgKiBkZXRfMTBfMzEpXG4gICAgY29uc3QgY29mYWN0XzIzID0gLShtMDAgKiBkZXRfMTFfMzIgLSBtMDEgKiBkZXRfMTBfMzIgKyBtMDIgKiBkZXRfMTBfMzEpXG5cbiAgICBjb25zdCBjb2ZhY3RfMzAgPSAtKG0wMSAqIGRldF8xMl8yMyAtIG0wMiAqIGRldF8xMV8yMyArIG0wMyAqIGRldF8xMV8yMilcbiAgICBjb25zdCBjb2ZhY3RfMzEgPSArKG0wMCAqIGRldF8xMl8yMyAtIG0wMiAqIGRldF8xMF8yMyArIG0wMyAqIGRldF8xMF8yMilcbiAgICBjb25zdCBjb2ZhY3RfMzIgPSAtKG0wMCAqIGRldF8xMV8yMyAtIG0wMSAqIGRldF8xMF8yMyArIG0wMyAqIGRldF8xMF8yMSlcbiAgICBjb25zdCBjb2ZhY3RfMzMgPSArKG0wMCAqIGRldF8xMV8yMiAtIG0wMSAqIGRldF8xMF8yMiArIG0wMiAqIGRldF8xMF8yMSlcblxuICAgIE1hdHJpeC5Gcm9tVmFsdWVzVG9SZWYoXG4gICAgICBjb2ZhY3RfMDAgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMTAgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMjAgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMzAgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMDEgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMTEgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMjEgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMzEgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMDIgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMTIgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMjIgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMzIgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMDMgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMTMgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMjMgKiBkZXRJbnYsXG4gICAgICBjb2ZhY3RfMzMgKiBkZXRJbnYsXG4gICAgICBvdGhlclxuICAgIClcbiAgICAvLyB0c2xpbnQ6ZW5hYmxlOnZhcmlhYmxlLW5hbWVcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogYWRkIGEgdmFsdWUgYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbiBpbiB0aGUgY3VycmVudCBNYXRyaXhcbiAgICogQHBhcmFtIGluZGV4IC0gdGhlIGluZGV4IG9mIHRoZSB2YWx1ZSB3aXRoaW4gdGhlIG1hdHJpeC4gYmV0d2VlbiAwIGFuZCAxNS5cbiAgICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRvIGJlIGFkZGVkXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgYWRkQXRJbmRleChpbmRleDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogTWF0cml4IHtcbiAgICB0aGlzLl9tW2luZGV4XSArPSB2YWx1ZVxuICAgIHRoaXMuX21hcmtBc1VwZGF0ZWQoKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogbXV0aXBseSB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIGluIHRoZSBjdXJyZW50IE1hdHJpeCBieSBhIHZhbHVlXG4gICAqIEBwYXJhbSBpbmRleCAtIHRoZSBpbmRleCBvZiB0aGUgdmFsdWUgd2l0aGluIHRoZSBtYXRyaXguIGJldHdlZW4gMCBhbmQgMTUuXG4gICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSB0byBiZSBhZGRlZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIG1hdHJpeFxuICAgKi9cbiAgcHVibGljIG11bHRpcGx5QXRJbmRleChpbmRleDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogTWF0cml4IHtcbiAgICB0aGlzLl9tW2luZGV4XSAqPSB2YWx1ZVxuICAgIHRoaXMuX21hcmtBc1VwZGF0ZWQoKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yICh1c2luZyAzIGZsb2F0cykgaW4gdGhlIGN1cnJlbnQgbWF0cml4XG4gICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgMXN0IGNvbXBvbmVudCBvZiB0aGUgdHJhbnNsYXRpb25cbiAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSAybmQgY29tcG9uZW50IG9mIHRoZSB0cmFuc2xhdGlvblxuICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIDNyZCBjb21wb25lbnQgb2YgdGhlIHRyYW5zbGF0aW9uXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBNYXRyaXgge1xuICAgIHRoaXMuX21bMTJdID0geFxuICAgIHRoaXMuX21bMTNdID0geVxuICAgIHRoaXMuX21bMTRdID0gelxuICAgIHRoaXMuX21hcmtBc1VwZGF0ZWQoKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGluIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgKiBAcGFyYW0gdmVjdG9yMyAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIHRvIGluc2VydFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHNldFRyYW5zbGF0aW9uKHZlY3RvcjM6IFZlY3RvcjMpOiBNYXRyaXgge1xuICAgIHJldHVybiB0aGlzLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyh2ZWN0b3IzLngsIHZlY3RvcjMueSwgdmVjdG9yMy56KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRyYW5zbGF0aW9uIHZhbHVlIG9mIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzIGFzIHRoZSBleHRyYWN0ZWQgdHJhbnNsYXRpb24gZnJvbSB0aGUgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgZ2V0VHJhbnNsYXRpb24oKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMuX21bMTJdLCB0aGlzLl9tWzEzXSwgdGhpcy5fbVsxNF0pXG4gIH1cblxuICAvKipcbiAgICogRmlsbCBhIFZlY3RvcjMgd2l0aCB0aGUgZXh0cmFjdGVkIHRyYW5zbGF0aW9uIGZyb20gdGhlIG1hdHJpeFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgdHJhbnNsYXRpb25cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgZ2V0VHJhbnNsYXRpb25Ub1JlZihyZXN1bHQ6IFZlY3RvcjMpOiBNYXRyaXgge1xuICAgIHJlc3VsdC54ID0gdGhpcy5fbVsxMl1cbiAgICByZXN1bHQueSA9IHRoaXMuX21bMTNdXG4gICAgcmVzdWx0LnogPSB0aGlzLl9tWzE0XVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHJvdGF0aW9uIGFuZCBzY2FsaW5nIHBhcnQgZnJvbSB0aGUgbWF0cml4XG4gICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZygpOiBNYXRyaXgge1xuICAgIGNvbnN0IG0gPSB0aGlzLm1cbiAgICBNYXRyaXguRnJvbVZhbHVlc1RvUmVmKDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIG1bMTJdLCBtWzEzXSwgbVsxNF0sIG1bMTVdLCB0aGlzKVxuICAgIHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKG1bMTJdID09PSAwICYmIG1bMTNdID09PSAwICYmIG1bMTRdID09PSAwICYmIG1bMTVdID09PSAxKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogTXVsdGlwbHkgdHdvIG1hdHJpY2VzXG4gICAqIEBwYXJhbSBvdGhlciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBzZXQgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBjdXJyZW50IE1hdHJpeCBhbmQgdGhlIGdpdmVuIG9uZVxuICAgKi9cbiAgcHVibGljIG11bHRpcGx5KG90aGVyOiBSZWFkb25seTxNYXRyaXg+KTogTWF0cml4IHtcbiAgICBsZXQgcmVzdWx0ID0gbmV3IE1hdHJpeCgpXG4gICAgdGhpcy5tdWx0aXBseVRvUmVmKG90aGVyLCByZXN1bHQpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgdGhlIGN1cnJlbnQgbWF0cml4IGZyb20gdGhlIGdpdmVuIG9uZVxuICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzb3VyY2UgbWF0cml4XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgY29weUZyb20ob3RoZXI6IFJlYWRvbmx5PE1hdHJpeD4pOiBNYXRyaXgge1xuICAgIG90aGVyLmNvcHlUb0FycmF5KHRoaXMuX20pXG4gICAgY29uc3QgbyA9IG90aGVyIGFzIE1hdHJpeFxuICAgIHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKG8uX2lzSWRlbnRpdHksIG8uX2lzSWRlbnRpdHlEaXJ0eSwgby5faXNJZGVudGl0eTN4Miwgby5faXNJZGVudGl0eTN4MkRpcnR5KVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUG9wdWxhdGVzIHRoZSBnaXZlbiBhcnJheSBmcm9tIHRoZSBzdGFydGluZyBpbmRleCB3aXRoIHRoZSBjdXJyZW50IG1hdHJpeCB2YWx1ZXNcbiAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IGFycmF5XG4gICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHRhcmdldCBhcnJheSB3aGVyZSB0byBzdGFydCBzdG9yaW5nIHZhbHVlc1xuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBjb3B5VG9BcnJheShhcnJheTogRmxvYXRBcnJheSwgb2Zmc2V0OiBudW1iZXIgPSAwKTogTWF0cml4IHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHRoaXMuX21baW5kZXhdXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gbWF0cml4IFwicmVzdWx0XCIgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBjdXJyZW50IE1hdHJpeCBhbmQgdGhlIGdpdmVuIG9uZVxuICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgbWF0cml4IHdoZXJlIHRvIHN0b3JlIHRoZSBtdWx0aXBsaWNhdGlvblxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBtdWx0aXBseVRvUmVmKG90aGVyOiBSZWFkb25seTxNYXRyaXg+LCByZXN1bHQ6IE1hdHJpeCk6IE1hdHJpeCB7XG4gICAgaWYgKHRoaXMuX2lzSWRlbnRpdHkpIHtcbiAgICAgIHJlc3VsdC5jb3B5RnJvbShvdGhlcilcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIGlmICgob3RoZXIgYXMgTWF0cml4KS5faXNJZGVudGl0eSkge1xuICAgICAgcmVzdWx0LmNvcHlGcm9tKHRoaXMpXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHRoaXMubXVsdGlwbHlUb0FycmF5KG90aGVyLCByZXN1bHQuX20sIDApXG4gICAgcmVzdWx0Ll9tYXJrQXNVcGRhdGVkKClcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIEZsb2F0QXJyYXkgXCJyZXN1bHRcIiBmcm9tIHRoZSBnaXZlbiBpbmRleCBcIm9mZnNldFwiIHdpdGggdGhlIG11bHRpcGxpY2F0aW9uIG9mIHRoZSBjdXJyZW50IG1hdHJpeCBhbmQgdGhlIGdpdmVuIG9uZVxuICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIG11bHRpcGxpY2F0aW9uXG4gICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHRhcmdldCBhcnJheSB3aGVyZSB0byBzdGFydCBzdG9yaW5nIHZhbHVlc1xuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBtdWx0aXBseVRvQXJyYXkob3RoZXI6IFJlYWRvbmx5PE1hdHJpeD4sIHJlc3VsdDogRmxvYXRBcnJheSwgb2Zmc2V0OiBudW1iZXIpOiBNYXRyaXgge1xuICAgIGNvbnN0IG0gPSB0aGlzLl9tXG4gICAgY29uc3Qgb3RoZXJNID0gb3RoZXIubVxuXG4gICAgLy8gdHNsaW50OmRpc2FibGU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgIGxldCB0bTAgPSBtWzBdLFxuICAgICAgdG0xID0gbVsxXSxcbiAgICAgIHRtMiA9IG1bMl0sXG4gICAgICB0bTMgPSBtWzNdXG4gICAgbGV0IHRtNCA9IG1bNF0sXG4gICAgICB0bTUgPSBtWzVdLFxuICAgICAgdG02ID0gbVs2XSxcbiAgICAgIHRtNyA9IG1bN11cbiAgICBsZXQgdG04ID0gbVs4XSxcbiAgICAgIHRtOSA9IG1bOV0sXG4gICAgICB0bTEwID0gbVsxMF0sXG4gICAgICB0bTExID0gbVsxMV1cbiAgICBsZXQgdG0xMiA9IG1bMTJdLFxuICAgICAgdG0xMyA9IG1bMTNdLFxuICAgICAgdG0xNCA9IG1bMTRdLFxuICAgICAgdG0xNSA9IG1bMTVdXG5cbiAgICBsZXQgb20wID0gb3RoZXJNWzBdLFxuICAgICAgb20xID0gb3RoZXJNWzFdLFxuICAgICAgb20yID0gb3RoZXJNWzJdLFxuICAgICAgb20zID0gb3RoZXJNWzNdXG4gICAgbGV0IG9tNCA9IG90aGVyTVs0XSxcbiAgICAgIG9tNSA9IG90aGVyTVs1XSxcbiAgICAgIG9tNiA9IG90aGVyTVs2XSxcbiAgICAgIG9tNyA9IG90aGVyTVs3XVxuICAgIGxldCBvbTggPSBvdGhlck1bOF0sXG4gICAgICBvbTkgPSBvdGhlck1bOV0sXG4gICAgICBvbTEwID0gb3RoZXJNWzEwXSxcbiAgICAgIG9tMTEgPSBvdGhlck1bMTFdXG4gICAgbGV0IG9tMTIgPSBvdGhlck1bMTJdLFxuICAgICAgb20xMyA9IG90aGVyTVsxM10sXG4gICAgICBvbTE0ID0gb3RoZXJNWzE0XSxcbiAgICAgIG9tMTUgPSBvdGhlck1bMTVdXG4gICAgLy8gdHNsaW50OmVuYWJsZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgcmVzdWx0W29mZnNldF0gPSB0bTAgKiBvbTAgKyB0bTEgKiBvbTQgKyB0bTIgKiBvbTggKyB0bTMgKiBvbTEyXG4gICAgcmVzdWx0W29mZnNldCArIDFdID0gdG0wICogb20xICsgdG0xICogb201ICsgdG0yICogb205ICsgdG0zICogb20xM1xuICAgIHJlc3VsdFtvZmZzZXQgKyAyXSA9IHRtMCAqIG9tMiArIHRtMSAqIG9tNiArIHRtMiAqIG9tMTAgKyB0bTMgKiBvbTE0XG4gICAgcmVzdWx0W29mZnNldCArIDNdID0gdG0wICogb20zICsgdG0xICogb203ICsgdG0yICogb20xMSArIHRtMyAqIG9tMTVcblxuICAgIHJlc3VsdFtvZmZzZXQgKyA0XSA9IHRtNCAqIG9tMCArIHRtNSAqIG9tNCArIHRtNiAqIG9tOCArIHRtNyAqIG9tMTJcbiAgICByZXN1bHRbb2Zmc2V0ICsgNV0gPSB0bTQgKiBvbTEgKyB0bTUgKiBvbTUgKyB0bTYgKiBvbTkgKyB0bTcgKiBvbTEzXG4gICAgcmVzdWx0W29mZnNldCArIDZdID0gdG00ICogb20yICsgdG01ICogb202ICsgdG02ICogb20xMCArIHRtNyAqIG9tMTRcbiAgICByZXN1bHRbb2Zmc2V0ICsgN10gPSB0bTQgKiBvbTMgKyB0bTUgKiBvbTcgKyB0bTYgKiBvbTExICsgdG03ICogb20xNVxuXG4gICAgcmVzdWx0W29mZnNldCArIDhdID0gdG04ICogb20wICsgdG05ICogb200ICsgdG0xMCAqIG9tOCArIHRtMTEgKiBvbTEyXG4gICAgcmVzdWx0W29mZnNldCArIDldID0gdG04ICogb20xICsgdG05ICogb201ICsgdG0xMCAqIG9tOSArIHRtMTEgKiBvbTEzXG4gICAgcmVzdWx0W29mZnNldCArIDEwXSA9IHRtOCAqIG9tMiArIHRtOSAqIG9tNiArIHRtMTAgKiBvbTEwICsgdG0xMSAqIG9tMTRcbiAgICByZXN1bHRbb2Zmc2V0ICsgMTFdID0gdG04ICogb20zICsgdG05ICogb203ICsgdG0xMCAqIG9tMTEgKyB0bTExICogb20xNVxuXG4gICAgcmVzdWx0W29mZnNldCArIDEyXSA9IHRtMTIgKiBvbTAgKyB0bTEzICogb200ICsgdG0xNCAqIG9tOCArIHRtMTUgKiBvbTEyXG4gICAgcmVzdWx0W29mZnNldCArIDEzXSA9IHRtMTIgKiBvbTEgKyB0bTEzICogb201ICsgdG0xNCAqIG9tOSArIHRtMTUgKiBvbTEzXG4gICAgcmVzdWx0W29mZnNldCArIDE0XSA9IHRtMTIgKiBvbTIgKyB0bTEzICogb202ICsgdG0xNCAqIG9tMTAgKyB0bTE1ICogb20xNFxuICAgIHJlc3VsdFtvZmZzZXQgKyAxNV0gPSB0bTEyICogb20zICsgdG0xMyAqIG9tNyArIHRtMTQgKiBvbTExICsgdG0xNSAqIG9tMTVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGVxdWFsaXR5IGJldHdlZW4gdGhpcyBtYXRyaXggYW5kIGEgc2Vjb25kIG9uZVxuICAgKiBAcGFyYW0gdmFsdWUgLSBkZWZpbmVzIHRoZSBzZWNvbmQgbWF0cml4IHRvIGNvbXBhcmVcbiAgICogQHJldHVybnMgdHJ1ZSBpcyB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmUgdmFsdWVzIGFyZSBzdHJpY3RseSBlcXVhbFxuICAgKi9cbiAgcHVibGljIGVxdWFscyh2YWx1ZTogTWF0cml4KTogYm9vbGVhbiB7XG4gICAgY29uc3Qgb3RoZXIgPSB2YWx1ZVxuICAgIGlmICghb3RoZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9pc0lkZW50aXR5IHx8IG90aGVyLl9pc0lkZW50aXR5KSB7XG4gICAgICBpZiAoIXRoaXMuX2lzSWRlbnRpdHlEaXJ0eSAmJiAhb3RoZXIuX2lzSWRlbnRpdHlEaXJ0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNJZGVudGl0eSAmJiBvdGhlci5faXNJZGVudGl0eVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG0gPSB0aGlzLm1cbiAgICBjb25zdCBvbSA9IG90aGVyLm1cbiAgICByZXR1cm4gKFxuICAgICAgbVswXSA9PT0gb21bMF0gJiZcbiAgICAgIG1bMV0gPT09IG9tWzFdICYmXG4gICAgICBtWzJdID09PSBvbVsyXSAmJlxuICAgICAgbVszXSA9PT0gb21bM10gJiZcbiAgICAgIG1bNF0gPT09IG9tWzRdICYmXG4gICAgICBtWzVdID09PSBvbVs1XSAmJlxuICAgICAgbVs2XSA9PT0gb21bNl0gJiZcbiAgICAgIG1bN10gPT09IG9tWzddICYmXG4gICAgICBtWzhdID09PSBvbVs4XSAmJlxuICAgICAgbVs5XSA9PT0gb21bOV0gJiZcbiAgICAgIG1bMTBdID09PSBvbVsxMF0gJiZcbiAgICAgIG1bMTFdID09PSBvbVsxMV0gJiZcbiAgICAgIG1bMTJdID09PSBvbVsxMl0gJiZcbiAgICAgIG1bMTNdID09PSBvbVsxM10gJiZcbiAgICAgIG1bMTRdID09PSBvbVsxNF0gJiZcbiAgICAgIG1bMTVdID09PSBvbVsxNV1cbiAgICApXG4gIH1cblxuICAvKipcbiAgICogQ2xvbmUgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBmcm9tIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIGNsb25lKCk6IE1hdHJpeCB7XG4gICAgY29uc3QgbWF0cml4ID0gbmV3IE1hdHJpeCgpXG4gICAgbWF0cml4LmNvcHlGcm9tKHRoaXMpXG4gICAgcmV0dXJuIG1hdHJpeFxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGN1cnJlbnQgbWF0cml4IGNsYXNzXG4gICAqIEByZXR1cm5zIHRoZSBzdHJpbmcgXCJNYXRyaXhcIlxuICAgKi9cbiAgcHVibGljIGdldENsYXNzTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnTWF0cml4J1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGhhc2ggY29kZSBvZiB0aGUgY3VycmVudCBtYXRyaXhcbiAgICogQHJldHVybnMgdGhlIGhhc2ggY29kZVxuICAgKi9cbiAgcHVibGljIGdldEhhc2hDb2RlKCk6IG51bWJlciB7XG4gICAgbGV0IGhhc2ggPSB0aGlzLl9tWzBdIHx8IDBcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodGhpcy5fbVtpXSB8fCAwKVxuICAgIH1cbiAgICByZXR1cm4gaGFzaFxuICB9XG5cbiAgLyoqXG4gICAqIERlY29tcG9zZXMgdGhlIGN1cnJlbnQgTWF0cml4IGludG8gYSB0cmFuc2xhdGlvbiwgcm90YXRpb24gYW5kIHNjYWxpbmcgY29tcG9uZW50c1xuICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSB2ZWN0b3IzIGdpdmVuIGFzIGEgcmVmZXJlbmNlIHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0gcm90YXRpb24gLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uIGdpdmVuIGFzIGEgcmVmZXJlbmNlIHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0gdHJhbnNsYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IzIGdpdmVuIGFzIGEgcmVmZXJlbmNlIHRvIHVwZGF0ZVxuICAgKiBAcmV0dXJucyB0cnVlIGlmIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxuICAgKi9cbiAgcHVibGljIGRlY29tcG9zZShzY2FsZT86IFZlY3RvcjMsIHJvdGF0aW9uPzogUXVhdGVybmlvbiwgdHJhbnNsYXRpb24/OiBWZWN0b3IzKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuX2lzSWRlbnRpdHkpIHtcbiAgICAgIGlmICh0cmFuc2xhdGlvbikge1xuICAgICAgICB0cmFuc2xhdGlvbi5zZXRBbGwoMClcbiAgICAgIH1cbiAgICAgIGlmIChzY2FsZSkge1xuICAgICAgICBzY2FsZS5zZXRBbGwoMSlcbiAgICAgIH1cbiAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICByb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLCAwLCAwLCAxKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBtID0gdGhpcy5fbVxuICAgIGlmICh0cmFuc2xhdGlvbikge1xuICAgICAgdHJhbnNsYXRpb24uY29weUZyb21GbG9hdHMobVsxMl0sIG1bMTNdLCBtWzE0XSlcbiAgICB9XG5cbiAgICBjb25zdCB1c2VkU2NhbGUgPSBzY2FsZSB8fCBNYXRoVG1wLlZlY3RvcjNbMF1cbiAgICB1c2VkU2NhbGUueCA9IE1hdGguc3FydChtWzBdICogbVswXSArIG1bMV0gKiBtWzFdICsgbVsyXSAqIG1bMl0pXG4gICAgdXNlZFNjYWxlLnkgPSBNYXRoLnNxcnQobVs0XSAqIG1bNF0gKyBtWzVdICogbVs1XSArIG1bNl0gKiBtWzZdKVxuICAgIHVzZWRTY2FsZS56ID0gTWF0aC5zcXJ0KG1bOF0gKiBtWzhdICsgbVs5XSAqIG1bOV0gKyBtWzEwXSAqIG1bMTBdKVxuXG4gICAgaWYgKHRoaXMuZGV0ZXJtaW5hbnQoKSA8PSAwKSB7XG4gICAgICB1c2VkU2NhbGUueSAqPSAtMVxuICAgIH1cblxuICAgIGlmICh1c2VkU2NhbGUueCA9PT0gMCB8fCB1c2VkU2NhbGUueSA9PT0gMCB8fCB1c2VkU2NhbGUueiA9PT0gMCkge1xuICAgICAgaWYgKHJvdGF0aW9uKSB7XG4gICAgICAgIHJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAuMCwgMC4wLCAwLjAsIDEuMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgIGNvbnN0IHN4ID0gMSAvIHVzZWRTY2FsZS54LFxuICAgICAgICBzeSA9IDEgLyB1c2VkU2NhbGUueSxcbiAgICAgICAgc3ogPSAxIC8gdXNlZFNjYWxlLnpcbiAgICAgIE1hdHJpeC5Gcm9tVmFsdWVzVG9SZWYoXG4gICAgICAgIG1bMF0gKiBzeCxcbiAgICAgICAgbVsxXSAqIHN4LFxuICAgICAgICBtWzJdICogc3gsXG4gICAgICAgIDAuMCxcbiAgICAgICAgbVs0XSAqIHN5LFxuICAgICAgICBtWzVdICogc3ksXG4gICAgICAgIG1bNl0gKiBzeSxcbiAgICAgICAgMC4wLFxuICAgICAgICBtWzhdICogc3osXG4gICAgICAgIG1bOV0gKiBzeixcbiAgICAgICAgbVsxMF0gKiBzeixcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAxLjAsXG4gICAgICAgIE1hdGhUbXAuTWF0cml4WzBdXG4gICAgICApXG5cbiAgICAgIFF1YXRlcm5pb24uRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoTWF0aFRtcC5NYXRyaXhbMF0sIHJvdGF0aW9uKVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBzcGVjaWZpYyByb3cgb2YgdGhlIG1hdHJpeFxuICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIHRoZSBudW1iZXIgb2YgdGhlIHJvdyB0byBnZXRcbiAgICogQHJldHVybnMgdGhlIGluZGV4LXRoIHJvdyBvZiB0aGUgY3VycmVudCBtYXRyaXggYXMgYSBuZXcgVmVjdG9yNFxuICAgKi9cbiAgcHVibGljIGdldFJvdyhpbmRleDogbnVtYmVyKTogTnVsbGFibGU8VmVjdG9yND4ge1xuICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiAzKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBsZXQgaSA9IGluZGV4ICogNFxuICAgIHJldHVybiBuZXcgVmVjdG9yNCh0aGlzLl9tW2kgKyAwXSwgdGhpcy5fbVtpICsgMV0sIHRoaXMuX21baSArIDJdLCB0aGlzLl9tW2kgKyAzXSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBpbmRleC10aCByb3cgb2YgdGhlIGN1cnJlbnQgbWF0cml4IHRvIHRoZSB2ZWN0b3I0IHZhbHVlc1xuICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIHRoZSBudW1iZXIgb2YgdGhlIHJvdyB0byBzZXRcbiAgICogQHBhcmFtIHJvdyAtIGRlZmluZXMgdGhlIHRhcmdldCB2ZWN0b3I0XG4gICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIGN1cnJlbnQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgc2V0Um93KGluZGV4OiBudW1iZXIsIHJvdzogVmVjdG9yNCk6IE1hdHJpeCB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Um93RnJvbUZsb2F0cyhpbmRleCwgcm93LngsIHJvdy55LCByb3cueiwgcm93LncpXG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgdHJhbnNwb3NlIG9mIHRoZSBtYXRyaXhcbiAgICogQHJldHVybnMgdGhlIG5ldyB0cmFuc3Bvc2VkIG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHRyYW5zcG9zZSgpOiBNYXRyaXgge1xuICAgIHJldHVybiBNYXRyaXguVHJhbnNwb3NlKHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgdHJhbnNwb3NlIG9mIHRoZSBtYXRyaXggYW5kIHN0b3JlIGl0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHRyYW5zcG9zZVRvUmVmKHJlc3VsdDogTWF0cml4KTogTWF0cml4IHtcbiAgICBNYXRyaXguVHJhbnNwb3NlVG9SZWYodGhpcywgcmVzdWx0KVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaW5kZXgtdGggcm93IG9mIHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIHRoZSBnaXZlbiA0IHggZmxvYXQgdmFsdWVzXG4gICAqIEBwYXJhbSBpbmRleCAtIGRlZmluZXMgdGhlIHJvdyBpbmRleFxuICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29tcG9uZW50IHRvIHNldFxuICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHkgY29tcG9uZW50IHRvIHNldFxuICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29tcG9uZW50IHRvIHNldFxuICAgKiBAcGFyYW0gdyAtIGRlZmluZXMgdGhlIHcgY29tcG9uZW50IHRvIHNldFxuICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBjdXJyZW50IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHNldFJvd0Zyb21GbG9hdHMoaW5kZXg6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgdzogbnVtYmVyKTogTWF0cml4IHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gMykge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgbGV0IGkgPSBpbmRleCAqIDRcbiAgICB0aGlzLl9tW2kgKyAwXSA9IHhcbiAgICB0aGlzLl9tW2kgKyAxXSA9IHlcbiAgICB0aGlzLl9tW2kgKyAyXSA9IHpcbiAgICB0aGlzLl9tW2kgKyAzXSA9IHdcblxuICAgIHRoaXMuX21hcmtBc1VwZGF0ZWQoKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSBhIG5ldyBtYXRyaXggc2V0IHdpdGggdGhlIGN1cnJlbnQgbWF0cml4IHZhbHVlcyBtdWx0aXBsaWVkIGJ5IHNjYWxlIChmbG9hdClcbiAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHNjYWxlKHNjYWxlOiBudW1iZXIpOiBNYXRyaXgge1xuICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4KClcbiAgICB0aGlzLnNjYWxlVG9SZWYoc2NhbGUsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhlIGN1cnJlbnQgbWF0cml4IHZhbHVlcyBieSBhIGZhY3RvciB0byBhIGdpdmVuIHJlc3VsdCBtYXRyaXhcbiAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICovXG4gIHB1YmxpYyBzY2FsZVRvUmVmKHNjYWxlOiBudW1iZXIsIHJlc3VsdDogTWF0cml4KTogTWF0cml4IHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgIHJlc3VsdC5fbVtpbmRleF0gPSB0aGlzLl9tW2luZGV4XSAqIHNjYWxlXG4gICAgfVxuICAgIHJlc3VsdC5fbWFya0FzVXBkYXRlZCgpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGUgY3VycmVudCBtYXRyaXggdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIG1hdHJpeFxuICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3JcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIE1hdHJpeCB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgKi9cbiAgcHVibGljIHNjYWxlQW5kQWRkVG9SZWYoc2NhbGU6IG51bWJlciwgcmVzdWx0OiBNYXRyaXgpOiBNYXRyaXgge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgcmVzdWx0Ll9tW2luZGV4XSArPSB0aGlzLl9tW2luZGV4XSAqIHNjYWxlXG4gICAgfVxuICAgIHJlc3VsdC5fbWFya0FzVXBkYXRlZCgpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZXMgdG8gdGhlIGdpdmVuIG1hdHJpeCBhIG5vcm1hbCBtYXRyaXgsIGNvbXB1dGVkIGZyb20gdGhpcyBvbmUgKHVzaW5nIHZhbHVlcyBmcm9tIGlkZW50aXR5IG1hdHJpeCBmb3IgZm91cnRoIHJvdyBhbmQgY29sdW1uKS5cbiAgICogQHBhcmFtIHJlZiAtIG1hdHJpeCB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqL1xuICBwdWJsaWMgdG9Ob3JtYWxNYXRyaXgocmVmOiBNYXRyaXgpOiB2b2lkIHtcbiAgICBjb25zdCB0bXAgPSBNYXRoVG1wLk1hdHJpeFswXVxuICAgIHRoaXMuaW52ZXJ0VG9SZWYodG1wKVxuICAgIHRtcC50cmFuc3Bvc2VUb1JlZihyZWYpXG4gICAgbGV0IG0gPSByZWYuX21cbiAgICBNYXRyaXguRnJvbVZhbHVlc1RvUmVmKFxuICAgICAgbVswXSxcbiAgICAgIG1bMV0sXG4gICAgICBtWzJdLFxuICAgICAgMC4wLFxuICAgICAgbVs0XSxcbiAgICAgIG1bNV0sXG4gICAgICBtWzZdLFxuICAgICAgMC4wLFxuICAgICAgbVs4XSxcbiAgICAgIG1bOV0sXG4gICAgICBtWzEwXSxcbiAgICAgIDAuMCxcbiAgICAgIDAuMCxcbiAgICAgIDAuMCxcbiAgICAgIDAuMCxcbiAgICAgIDEuMCxcbiAgICAgIHJlZlxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIG9ubHkgcm90YXRpb24gcGFydCBvZiB0aGUgY3VycmVudCBtYXRyaXhcbiAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IHNldHMgdG8gdGhlIGV4dHJhY3RlZCByb3RhdGlvbiBtYXRyaXggZnJvbSB0aGUgY3VycmVudCBvbmVcbiAgICovXG4gIHB1YmxpYyBnZXRSb3RhdGlvbk1hdHJpeCgpOiBNYXRyaXgge1xuICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4KClcbiAgICB0aGlzLmdldFJvdGF0aW9uTWF0cml4VG9SZWYocmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0cyB0aGUgcm90YXRpb24gbWF0cml4IGZyb20gdGhlIGN1cnJlbnQgb25lIGFuZCBzZXRzIGl0IGFzIHRoZSBnaXZlbiBcInJlc3VsdFwiXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4IHRvIHN0b3JlIGRhdGEgdG9cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAqL1xuICBwdWJsaWMgZ2V0Um90YXRpb25NYXRyaXhUb1JlZihyZXN1bHQ6IE1hdHJpeCk6IE1hdHJpeCB7XG4gICAgY29uc3Qgc2NhbGUgPSBNYXRoVG1wLlZlY3RvcjNbMF1cbiAgICBpZiAoIXRoaXMuZGVjb21wb3NlKHNjYWxlKSkge1xuICAgICAgTWF0cml4LklkZW50aXR5VG9SZWYocmVzdWx0KVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBjb25zdCBtID0gdGhpcy5fbVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgY29uc3Qgc3ggPSAxIC8gc2NhbGUueCxcbiAgICAgIHN5ID0gMSAvIHNjYWxlLnksXG4gICAgICBzeiA9IDEgLyBzY2FsZS56XG4gICAgTWF0cml4LkZyb21WYWx1ZXNUb1JlZihcbiAgICAgIG1bMF0gKiBzeCxcbiAgICAgIG1bMV0gKiBzeCxcbiAgICAgIG1bMl0gKiBzeCxcbiAgICAgIDAuMCxcbiAgICAgIG1bNF0gKiBzeSxcbiAgICAgIG1bNV0gKiBzeSxcbiAgICAgIG1bNl0gKiBzeSxcbiAgICAgIDAuMCxcbiAgICAgIG1bOF0gKiBzeixcbiAgICAgIG1bOV0gKiBzeixcbiAgICAgIG1bMTBdICogc3osXG4gICAgICAwLjAsXG4gICAgICAwLjAsXG4gICAgICAwLjAsXG4gICAgICAwLjAsXG4gICAgICAxLjAsXG4gICAgICByZXN1bHRcbiAgICApXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIG1vZGVsIG1hdHJpeCBmcm9tIGJlaW5nIHJpZ2h0IGhhbmRlZCB0byBsZWZ0IGhhbmRlZCBpbiBwbGFjZSBhbmQgdmljZSB2ZXJzYVxuICAgKi9cbiAgcHVibGljIHRvZ2dsZU1vZGVsTWF0cml4SGFuZEluUGxhY2UoKSB7XG4gICAgY29uc3QgbSA9IHRoaXMuX21cbiAgICBtWzJdICo9IC0xXG4gICAgbVs2XSAqPSAtMVxuICAgIG1bOF0gKj0gLTFcbiAgICBtWzldICo9IC0xXG4gICAgbVsxNF0gKj0gLTFcbiAgICB0aGlzLl9tYXJrQXNVcGRhdGVkKClcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIHByb2plY3Rpb24gbWF0cml4IGZyb20gYmVpbmcgcmlnaHQgaGFuZGVkIHRvIGxlZnQgaGFuZGVkIGluIHBsYWNlIGFuZCB2aWNlIHZlcnNhXG4gICAqL1xuICBwdWJsaWMgdG9nZ2xlUHJvamVjdGlvbk1hdHJpeEhhbmRJblBsYWNlKCkge1xuICAgIGxldCBtID0gdGhpcy5fbVxuICAgIG1bOF0gKj0gLTFcbiAgICBtWzldICo9IC0xXG4gICAgbVsxMF0gKj0gLTFcbiAgICBtWzExXSAqPSAtMVxuICAgIHRoaXMuX21hcmtBc1VwZGF0ZWQoKVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcml2YXRlIF91cGRhdGVJZGVudGl0eVN0YXR1cyhcbiAgICBpc0lkZW50aXR5OiBib29sZWFuLFxuICAgIGlzSWRlbnRpdHlEaXJ0eTogYm9vbGVhbiA9IGZhbHNlLFxuICAgIGlzSWRlbnRpdHkzeDI6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICBpc0lkZW50aXR5M3gyRGlydHk6IGJvb2xlYW4gPSB0cnVlXG4gICkge1xuICAgIHRoaXMudXBkYXRlRmxhZyA9IE1hdHJpeC5fdXBkYXRlRmxhZ1NlZWQrK1xuICAgIHRoaXMuX2lzSWRlbnRpdHkgPSBpc0lkZW50aXR5XG4gICAgdGhpcy5faXNJZGVudGl0eTN4MiA9IGlzSWRlbnRpdHkgfHwgaXNJZGVudGl0eTN4MlxuICAgIHRoaXMuX2lzSWRlbnRpdHlEaXJ0eSA9IHRoaXMuX2lzSWRlbnRpdHkgPyBmYWxzZSA6IGlzSWRlbnRpdHlEaXJ0eVxuICAgIHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eSA9IHRoaXMuX2lzSWRlbnRpdHkzeDIgPyBmYWxzZSA6IGlzSWRlbnRpdHkzeDJEaXJ0eVxuICB9XG59XG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuL01hdHJpeCdcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMnXG5pbXBvcnQgeyBNYXRoVG1wIH0gZnJvbSAnLi9wcmVhbGxvY2F0ZWRWYXJpYWJsZXMnXG5pbXBvcnQgeyBERUcyUkFELCBSQUQyREVHIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IFNjYWxhciB9IGZyb20gJy4vU2NhbGFyJ1xuXG4vKipcbiAqIENsYXNzIHVzZWQgdG8gc3RvcmUgcXVhdGVybmlvbiBkYXRhXG4gKiB7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUXVhdGVybmlvbiB9XG4gKiB7QGxpbmsgaHR0cDovL2RvYy5iYWJ5bG9uanMuY29tL2ZlYXR1cmVzL3Bvc2l0aW9uLF9yb3RhdGlvbixfc2NhbGluZyB9XG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBRdWF0ZXJuaW9uIGltcGxlbWVudHMgUmVhZE9ubHlRdWF0ZXJuaW9uIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgUXVhdGVybmlvbiBmcm9tIHRoZSBnaXZlbiBmbG9hdHNcbiAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSBmaXJzdCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdClcbiAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSBzZWNvbmQgY29tcG9uZW50ICgwIGJ5IGRlZmF1bHQpXG4gICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgdGhpcmQgY29tcG9uZW50ICgwIGJ5IGRlZmF1bHQpXG4gICAqIEBwYXJhbSB3IC0gZGVmaW5lcyB0aGUgZm91cnRoIGNvbXBvbmVudCAoMS4wIGJ5IGRlZmF1bHQpXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICAvKiogZGVmaW5lcyB0aGUgZmlyc3QgY29tcG9uZW50ICgwIGJ5IGRlZmF1bHQpICovXG4gICAgcHVibGljIHg6IG51bWJlciA9IDAuMCxcbiAgICAvKiogZGVmaW5lcyB0aGUgc2Vjb25kIGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KSAqL1xuICAgIHB1YmxpYyB5OiBudW1iZXIgPSAwLjAsXG4gICAgLyoqIGRlZmluZXMgdGhlIHRoaXJkIGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KSAqL1xuICAgIHB1YmxpYyB6OiBudW1iZXIgPSAwLjAsXG4gICAgLyoqIGRlZmluZXMgdGhlIGZvdXJ0aCBjb21wb25lbnQgKDEuMCBieSBkZWZhdWx0KSAqL1xuICAgIHB1YmxpYyB3OiBudW1iZXIgPSAxLjBcbiAgKSB7fVxuXG4gIC8vIFN0YXRpY3NcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBxdWF0ZXJuaW9uIGZyb20gYSByb3RhdGlvbiBtYXRyaXhcbiAgICogQHBhcmFtIG1hdHJpeCAtIGRlZmluZXMgdGhlIHNvdXJjZSBtYXRyaXhcbiAgICogQHJldHVybnMgYSBuZXcgcXVhdGVybmlvbiBjcmVhdGVkIGZyb20gdGhlIGdpdmVuIHJvdGF0aW9uIG1hdHJpeCB2YWx1ZXNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRnJvbVJvdGF0aW9uTWF0cml4KG1hdHJpeDogTWF0cml4KTogUXVhdGVybmlvbiB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBRdWF0ZXJuaW9uKClcbiAgICBRdWF0ZXJuaW9uLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKG1hdHJpeCwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBnaXZlbiBxdWF0ZXJuaW9uIHdpdGggdGhlIGdpdmVuIHJvdGF0aW9uIG1hdHJpeCB2YWx1ZXNcbiAgICogQHBhcmFtIG1hdHJpeCAtIGRlZmluZXMgdGhlIHNvdXJjZSBtYXRyaXhcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKG1hdHJpeDogTWF0cml4LCByZXN1bHQ6IFF1YXRlcm5pb24pOiB2b2lkIHtcbiAgICBsZXQgZGF0YSA9IG1hdHJpeC5tXG4gICAgLy8gdHNsaW50OmRpc2FibGU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgIGxldCBtMTEgPSBkYXRhWzBdLFxuICAgICAgbTEyID0gZGF0YVs0XSxcbiAgICAgIG0xMyA9IGRhdGFbOF1cbiAgICBsZXQgbTIxID0gZGF0YVsxXSxcbiAgICAgIG0yMiA9IGRhdGFbNV0sXG4gICAgICBtMjMgPSBkYXRhWzldXG4gICAgbGV0IG0zMSA9IGRhdGFbMl0sXG4gICAgICBtMzIgPSBkYXRhWzZdLFxuICAgICAgbTMzID0gZGF0YVsxMF1cbiAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICBsZXQgdHJhY2UgPSBtMTEgKyBtMjIgKyBtMzNcbiAgICBsZXQgc1xuXG4gICAgaWYgKHRyYWNlID4gMCkge1xuICAgICAgcyA9IDAuNSAvIE1hdGguc3FydCh0cmFjZSArIDEuMClcblxuICAgICAgcmVzdWx0LncgPSAwLjI1IC8gc1xuICAgICAgcmVzdWx0LnggPSAobTMyIC0gbTIzKSAqIHNcbiAgICAgIHJlc3VsdC55ID0gKG0xMyAtIG0zMSkgKiBzXG4gICAgICByZXN1bHQueiA9IChtMjEgLSBtMTIpICogc1xuICAgIH0gZWxzZSBpZiAobTExID4gbTIyICYmIG0xMSA+IG0zMykge1xuICAgICAgcyA9IDIuMCAqIE1hdGguc3FydCgxLjAgKyBtMTEgLSBtMjIgLSBtMzMpXG5cbiAgICAgIHJlc3VsdC53ID0gKG0zMiAtIG0yMykgLyBzXG4gICAgICByZXN1bHQueCA9IDAuMjUgKiBzXG4gICAgICByZXN1bHQueSA9IChtMTIgKyBtMjEpIC8gc1xuICAgICAgcmVzdWx0LnogPSAobTEzICsgbTMxKSAvIHNcbiAgICB9IGVsc2UgaWYgKG0yMiA+IG0zMykge1xuICAgICAgcyA9IDIuMCAqIE1hdGguc3FydCgxLjAgKyBtMjIgLSBtMTEgLSBtMzMpXG5cbiAgICAgIHJlc3VsdC53ID0gKG0xMyAtIG0zMSkgLyBzXG4gICAgICByZXN1bHQueCA9IChtMTIgKyBtMjEpIC8gc1xuICAgICAgcmVzdWx0LnkgPSAwLjI1ICogc1xuICAgICAgcmVzdWx0LnogPSAobTIzICsgbTMyKSAvIHNcbiAgICB9IGVsc2Uge1xuICAgICAgcyA9IDIuMCAqIE1hdGguc3FydCgxLjAgKyBtMzMgLSBtMTEgLSBtMjIpXG5cbiAgICAgIHJlc3VsdC53ID0gKG0yMSAtIG0xMikgLyBzXG4gICAgICByZXN1bHQueCA9IChtMTMgKyBtMzEpIC8gc1xuICAgICAgcmVzdWx0LnkgPSAobTIzICsgbTMyKSAvIHNcbiAgICAgIHJlc3VsdC56ID0gMC4yNSAqIHNcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZG90IHByb2R1Y3QgKGZsb2F0KSBiZXR3ZWVuIHRoZSBxdWF0ZXJuaW9ucyBcImxlZnRcIiBhbmQgXCJyaWdodFwiXG4gICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgbGVmdCBvcGVyYW5kXG4gICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHJpZ2h0IG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIGRvdCBwcm9kdWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIERvdChsZWZ0OiBSZWFkT25seVF1YXRlcm5pb24sIHJpZ2h0OiBSZWFkT25seVF1YXRlcm5pb24pOiBudW1iZXIge1xuICAgIHJldHVybiBsZWZ0LnggKiByaWdodC54ICsgbGVmdC55ICogcmlnaHQueSArIGxlZnQueiAqIHJpZ2h0LnogKyBsZWZ0LncgKiByaWdodC53XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSB0d28gcXVhdGVybmlvbnMgYXJlIGNsb3NlIHRvIGVhY2ggb3RoZXJcbiAgICogQHBhcmFtIHF1YXQwIC0gZGVmaW5lcyB0aGUgZmlyc3QgcXVhdGVybmlvbiB0byBjaGVja1xuICAgKiBAcGFyYW0gcXVhdDEgLSBkZWZpbmVzIHRoZSBzZWNvbmQgcXVhdGVybmlvbiB0byBjaGVja1xuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSB0d28gcXVhdGVybmlvbnMgYXJlIGNsb3NlIHRvIGVhY2ggb3RoZXJcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgQXJlQ2xvc2UocXVhdDA6IFJlYWRPbmx5UXVhdGVybmlvbiwgcXVhdDE6IFJlYWRPbmx5UXVhdGVybmlvbik6IGJvb2xlYW4ge1xuICAgIGxldCBkb3QgPSBRdWF0ZXJuaW9uLkRvdChxdWF0MCwgcXVhdDEpXG5cbiAgICByZXR1cm4gZG90ID49IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVtcHR5IHF1YXRlcm5pb25cbiAgICogQHJldHVybnMgYSBuZXcgcXVhdGVybmlvbiBzZXQgdG8gKDAuMCwgMC4wLCAwLjApXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFplcm8oKTogUXVhdGVybmlvbiB7XG4gICAgcmV0dXJuIG5ldyBRdWF0ZXJuaW9uKDAuMCwgMC4wLCAwLjAsIDAuMClcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZlcnNlIGEgZ2l2ZW4gcXVhdGVybmlvblxuICAgKiBAcGFyYW0gcSAtIGRlZmluZXMgdGhlIHNvdXJjZSBxdWF0ZXJuaW9uXG4gICAqIEByZXR1cm5zIGEgbmV3IHF1YXRlcm5pb24gYXMgdGhlIGludmVydGVkIGN1cnJlbnQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBJbnZlcnNlKHE6IFF1YXRlcm5pb24pOiBRdWF0ZXJuaW9uIHtcbiAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24oLXEueCwgLXEueSwgLXEueiwgcS53KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhlIGdpdmVuIHF1YXRlcm5pb24gaXMgaWRlbnRpdHlcbiAgICogQHBhcmFtIHF1YXRlcm5pb24gLSBkZWZpbmVzIHRoZSBxdWF0ZXJuaW9uIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHF1YXRlcm5pb24gaXMgaWRlbnRpdHlcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgSXNJZGVudGl0eShxdWF0ZXJuaW9uOiBSZWFkT25seVF1YXRlcm5pb24pOiBib29sZWFuIHtcbiAgICByZXR1cm4gcXVhdGVybmlvbiAmJiBxdWF0ZXJuaW9uLnggPT09IDAgJiYgcXVhdGVybmlvbi55ID09PSAwICYmIHF1YXRlcm5pb24ueiA9PT0gMCAmJiBxdWF0ZXJuaW9uLncgPT09IDFcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcXVhdGVybmlvbiBmcm9tIGEgcm90YXRpb24gYXJvdW5kIGFuIGF4aXNcbiAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSB0byB1c2UgKGluIEV1bGVyIGRlZ3JlZXMpXG4gICAqIEByZXR1cm5zIGEgbmV3IHF1YXRlcm5pb24gY3JlYXRlZCBmcm9tIHRoZSBnaXZlbiBheGlzIChWZWN0b3IzKSBhbmQgYW5nbGUgaW4gcmFkaWFucyAoZmxvYXQpXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJvdGF0aW9uQXhpcyhheGlzOiBWZWN0b3IzLCBhbmdsZTogbnVtYmVyKTogUXVhdGVybmlvbiB7XG4gICAgY29uc3QgYW5nbGVSYWQgPSBhbmdsZSAqIERFRzJSQURcbiAgICByZXR1cm4gUXVhdGVybmlvbi5Sb3RhdGlvbkF4aXNUb1JlZihheGlzLCBhbmdsZVJhZCwgbmV3IFF1YXRlcm5pb24oKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcm90YXRpb24gYXJvdW5kIGFuIGF4aXMgYW5kIHN0b3JlcyBpdCBpbnRvIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gICAqIEBwYXJhbSBheGlzIC0gZGVmaW5lcyB0aGUgYXhpcyB0byB1c2VcbiAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgdG8gdXNlIChpbiBFdWxlciBkZWdyZWVzKVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICogQHJldHVybnMgdGhlIHRhcmdldCBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJvdGF0aW9uQXhpc1RvUmVmKGF4aXM6IFZlY3RvcjMsIGFuZ2xlOiBudW1iZXIsIHJlc3VsdDogUXVhdGVybmlvbik6IFF1YXRlcm5pb24ge1xuICAgIGNvbnN0IGFuZ2xlUmFkID0gYW5nbGUgKiBERUcyUkFEXG4gICAgbGV0IHNpbiA9IE1hdGguc2luKGFuZ2xlUmFkIC8gMilcbiAgICBheGlzLm5vcm1hbGl6ZSgpXG4gICAgcmVzdWx0LncgPSBNYXRoLmNvcyhhbmdsZVJhZCAvIDIpXG4gICAgcmVzdWx0LnggPSBheGlzLnggKiBzaW5cbiAgICByZXN1bHQueSA9IGF4aXMueSAqIHNpblxuICAgIHJlc3VsdC56ID0gYXhpcy56ICogc2luXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcXVhdGVybmlvbiBmcm9tIGRhdGEgc3RvcmVkIGludG8gYW4gYXJyYXlcbiAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgZGF0YSBzb3VyY2VcbiAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgc291cmNlIGFycmF5IHdoZXJlIHRoZSBkYXRhIHN0YXJ0c1xuICAgKiBAcmV0dXJucyBhIG5ldyBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21BcnJheShhcnJheTogQXJyYXlMaWtlPG51bWJlcj4sIG9mZnNldDogbnVtYmVyID0gMCk6IFF1YXRlcm5pb24ge1xuICAgIHJldHVybiBuZXcgUXVhdGVybmlvbihhcnJheVtvZmZzZXRdLCBhcnJheVtvZmZzZXQgKyAxXSwgYXJyYXlbb2Zmc2V0ICsgMl0sIGFycmF5W29mZnNldCArIDNdKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcXVhdGVybmlvbiBmcm9tIGEgc2V0IG9mIGV1bGVyIGFuZ2xlcyBhbmQgc3RvcmVzIGl0IGluIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGcm9tRXVsZXJBbmdsZXNSZWYoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgcmVzdWx0OiBRdWF0ZXJuaW9uKTogdm9pZCB7XG4gICAgcmV0dXJuIFF1YXRlcm5pb24uUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5ICogREVHMlJBRCwgeCAqIERFRzJSQUQsIHogKiBERUcyUkFELCByZXN1bHQpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIEV1bGVyIGZsb2F0IGFuZ2xlcyAoeSwgeCwgeilcbiAgICogQHBhcmFtIHlhdyAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIGFyb3VuZCBZIGF4aXNcbiAgICogQHBhcmFtIHBpdGNoIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gYXJvdW5kIFggYXhpc1xuICAgKiBAcGFyYW0gcm9sbCAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIGFyb3VuZCBaIGF4aXNcbiAgICogQHJldHVybnMgdGhlIG5ldyBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJvdGF0aW9uWWF3UGl0Y2hSb2xsKHlhdzogbnVtYmVyLCBwaXRjaDogbnVtYmVyLCByb2xsOiBudW1iZXIpOiBRdWF0ZXJuaW9uIHtcbiAgICBsZXQgcSA9IG5ldyBRdWF0ZXJuaW9uKClcbiAgICBRdWF0ZXJuaW9uLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoeWF3LCBwaXRjaCwgcm9sbCwgcSlcbiAgICByZXR1cm4gcVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gZnJvbSB0aGUgZ2l2ZW4gRXVsZXIgZmxvYXQgYW5nbGVzICh5LCB4LCB6KSBhbmQgc3RvcmVzIGl0IGluIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgKiBAcGFyYW0geWF3IC0gZGVmaW5lcyB0aGUgcm90YXRpb24gYXJvdW5kIFkgYXhpc1xuICAgKiBAcGFyYW0gcGl0Y2ggLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWCBheGlzXG4gICAqIEBwYXJhbSByb2xsIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gYXJvdW5kIFogYXhpc1xuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5YXc6IG51bWJlciwgcGl0Y2g6IG51bWJlciwgcm9sbDogbnVtYmVyLCByZXN1bHQ6IFF1YXRlcm5pb24pOiB2b2lkIHtcbiAgICAvLyBJbXBsZW1lbnRlZCB1bml0eS1iYXNlZCBjYWxjdWxhdGlvbnMgZnJvbTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU2MDU1ODEzXG5cbiAgICBsZXQgaGFsZlBpdGNoID0gcGl0Y2ggKiAwLjVcbiAgICBsZXQgaGFsZllhdyA9IHlhdyAqIDAuNVxuICAgIGxldCBoYWxmUm9sbCA9IHJvbGwgKiAwLjVcblxuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoaGFsZlBpdGNoKVxuICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoaGFsZllhdylcbiAgICBjb25zdCBjMyA9IE1hdGguY29zKGhhbGZSb2xsKVxuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oaGFsZlBpdGNoKVxuICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oaGFsZllhdylcbiAgICBjb25zdCBzMyA9IE1hdGguc2luKGhhbGZSb2xsKVxuXG4gICAgcmVzdWx0LnggPSBjMiAqIHMxICogYzMgKyBzMiAqIGMxICogczNcbiAgICByZXN1bHQueSA9IHMyICogYzEgKiBjMyAtIGMyICogczEgKiBzM1xuICAgIHJlc3VsdC56ID0gYzIgKiBjMSAqIHMzIC0gczIgKiBzMSAqIGMzXG4gICAgcmVzdWx0LncgPSBjMiAqIGMxICogYzMgKyBzMiAqIHMxICogczNcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gRXVsZXIgZmxvYXQgYW5nbGVzIGV4cHJlc3NlZCBpbiB6LXgteiBvcmllbnRhdGlvblxuICAgKiBAcGFyYW0gYWxwaGEgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgZmlyc3QgYXhpc1xuICAgKiBAcGFyYW0gYmV0YSAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIGFyb3VuZCBzZWNvbmQgYXhpc1xuICAgKiBAcGFyYW0gZ2FtbWEgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgdGhpcmQgYXhpc1xuICAgKiBAcmV0dXJucyB0aGUgbmV3IHF1YXRlcm5pb25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUm90YXRpb25BbHBoYUJldGFHYW1tYShhbHBoYTogbnVtYmVyLCBiZXRhOiBudW1iZXIsIGdhbW1hOiBudW1iZXIpOiBRdWF0ZXJuaW9uIHtcbiAgICBsZXQgcmVzdWx0ID0gbmV3IFF1YXRlcm5pb24oKVxuICAgIFF1YXRlcm5pb24uUm90YXRpb25BbHBoYUJldGFHYW1tYVRvUmVmKGFscGhhLCBiZXRhLCBnYW1tYSwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gRXVsZXIgZmxvYXQgYW5nbGVzIGV4cHJlc3NlZCBpbiB6LXgteiBvcmllbnRhdGlvbiBhbmQgc3RvcmVzIGl0IGluIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgKiBAcGFyYW0gYWxwaGEgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgZmlyc3QgYXhpc1xuICAgKiBAcGFyYW0gYmV0YSAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIGFyb3VuZCBzZWNvbmQgYXhpc1xuICAgKiBAcGFyYW0gZ2FtbWEgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgdGhpcmQgYXhpc1xuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUm90YXRpb25BbHBoYUJldGFHYW1tYVRvUmVmKGFscGhhOiBudW1iZXIsIGJldGE6IG51bWJlciwgZ2FtbWE6IG51bWJlciwgcmVzdWx0OiBRdWF0ZXJuaW9uKTogdm9pZCB7XG4gICAgLy8gUHJvZHVjZXMgYSBxdWF0ZXJuaW9uIGZyb20gRXVsZXIgYW5nbGVzIGluIHRoZSB6LXgteiBvcmllbnRhdGlvblxuICAgIGxldCBoYWxmR2FtbWFQbHVzQWxwaGEgPSAoZ2FtbWEgKyBhbHBoYSkgKiAwLjVcbiAgICBsZXQgaGFsZkdhbW1hTWludXNBbHBoYSA9IChnYW1tYSAtIGFscGhhKSAqIDAuNVxuICAgIGxldCBoYWxmQmV0YSA9IGJldGEgKiAwLjVcblxuICAgIHJlc3VsdC54ID0gTWF0aC5jb3MoaGFsZkdhbW1hTWludXNBbHBoYSkgKiBNYXRoLnNpbihoYWxmQmV0YSlcbiAgICByZXN1bHQueSA9IE1hdGguc2luKGhhbGZHYW1tYU1pbnVzQWxwaGEpICogTWF0aC5zaW4oaGFsZkJldGEpXG4gICAgcmVzdWx0LnogPSBNYXRoLnNpbihoYWxmR2FtbWFQbHVzQWxwaGEpICogTWF0aC5jb3MoaGFsZkJldGEpXG4gICAgcmVzdWx0LncgPSBNYXRoLmNvcyhoYWxmR2FtbWFQbHVzQWxwaGEpICogTWF0aC5jb3MoaGFsZkJldGEpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBxdWF0ZXJuaW9uIGNvbnRhaW5pbmcgdGhlIHJvdGF0aW9uIHZhbHVlIHRvIHJlYWNoIHRoZSB0YXJnZXQgKGF4aXMxLCBheGlzMiwgYXhpczMpIG9yaWVudGF0aW9uIGFzIGEgcm90YXRlZCBYWVogc3lzdGVtIChheGlzMSwgYXhpczIgYW5kIGF4aXMzIGFyZSBub3JtYWxpemVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbilcbiAgICogQHBhcmFtIGF4aXMxIC0gZGVmaW5lcyB0aGUgZmlyc3QgYXhpc1xuICAgKiBAcGFyYW0gYXhpczIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgYXhpc1xuICAgKiBAcGFyYW0gYXhpczMgLSBkZWZpbmVzIHRoZSB0aGlyZCBheGlzXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBSb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpcyhheGlzMTogVmVjdG9yMywgYXhpczI6IFZlY3RvcjMsIGF4aXMzOiBWZWN0b3IzKTogUXVhdGVybmlvbiB7XG4gICAgbGV0IHF1YXQgPSBuZXcgUXVhdGVybmlvbigwLjAsIDAuMCwgMC4wLCAwLjApXG4gICAgUXVhdGVybmlvbi5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKGF4aXMxLCBheGlzMiwgYXhpczMsIHF1YXQpXG4gICAgcmV0dXJuIHF1YXRcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcm90YXRpb24gdmFsdWUgdG8gcmVhY2ggdGhlIHRhcmdldCAoYXhpczEsIGF4aXMyLCBheGlzMykgb3JpZW50YXRpb24gYXMgYSByb3RhdGVkIFhZWiBzeXN0ZW0gKGF4aXMxLCBheGlzMiBhbmQgYXhpczMgYXJlIG5vcm1hbGl6ZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uKSBhbmQgc3RvcmVzIGl0IGluIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgKiBAcGFyYW0gYXhpczEgLSBkZWZpbmVzIHRoZSBmaXJzdCBheGlzXG4gICAqIEBwYXJhbSBheGlzMiAtIGRlZmluZXMgdGhlIHNlY29uZCBheGlzXG4gICAqIEBwYXJhbSBheGlzMyAtIGRlZmluZXMgdGhlIHRoaXJkIGF4aXNcbiAgICogQHBhcmFtIHJlZiAtIGRlZmluZXMgdGhlIHRhcmdldCBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoYXhpczE6IFZlY3RvcjMsIGF4aXMyOiBWZWN0b3IzLCBheGlzMzogVmVjdG9yMywgcmVmOiBRdWF0ZXJuaW9uKTogdm9pZCB7XG4gICAgbGV0IHJvdE1hdCA9IE1hdGhUbXAuTWF0cml4WzBdXG4gICAgTWF0cml4LkZyb21YWVpBeGVzVG9SZWYoYXhpczEubm9ybWFsaXplKCksIGF4aXMyLm5vcm1hbGl6ZSgpLCBheGlzMy5ub3JtYWxpemUoKSwgcm90TWF0KVxuICAgIFF1YXRlcm5pb24uRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYocm90TWF0LCByZWYpXG4gIH1cblxuICAvKipcbiAgICogSW50ZXJwb2xhdGVzIGJldHdlZW4gdHdvIHF1YXRlcm5pb25zXG4gICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyBmaXJzdCBxdWF0ZXJuaW9uXG4gICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgc2Vjb25kIHF1YXRlcm5pb25cbiAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IHRvIHVzZVxuICAgKiBAcmV0dXJucyB0aGUgbmV3IGludGVycG9sYXRlZCBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFNsZXJwKGxlZnQ6IFJlYWRPbmx5UXVhdGVybmlvbiwgcmlnaHQ6IFJlYWRPbmx5UXVhdGVybmlvbiwgYW1vdW50OiBudW1iZXIpOiBRdWF0ZXJuaW9uIHtcbiAgICBsZXQgcmVzdWx0ID0gUXVhdGVybmlvbi5JZGVudGl0eVxuXG4gICAgUXVhdGVybmlvbi5TbGVycFRvUmVmKGxlZnQsIHJpZ2h0LCBhbW91bnQsIHJlc3VsdClcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcnBvbGF0ZXMgYmV0d2VlbiB0d28gcXVhdGVybmlvbnMgYW5kIHN0b3JlcyBpdCBpbnRvIGEgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIGZpcnN0IHF1YXRlcm5pb25cbiAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyBzZWNvbmQgcXVhdGVybmlvblxuICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgdG8gdXNlXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBTbGVycFRvUmVmKFxuICAgIGxlZnQ6IFJlYWRPbmx5UXVhdGVybmlvbixcbiAgICByaWdodDogUmVhZE9ubHlRdWF0ZXJuaW9uLFxuICAgIGFtb3VudDogbnVtYmVyLFxuICAgIHJlc3VsdDogUXVhdGVybmlvblxuICApOiB2b2lkIHtcbiAgICBsZXQgbnVtMlxuICAgIGxldCBudW0zXG4gICAgbGV0IG51bTQgPSBsZWZ0LnggKiByaWdodC54ICsgbGVmdC55ICogcmlnaHQueSArIGxlZnQueiAqIHJpZ2h0LnogKyBsZWZ0LncgKiByaWdodC53XG4gICAgbGV0IGZsYWcgPSBmYWxzZVxuXG4gICAgaWYgKG51bTQgPCAwKSB7XG4gICAgICBmbGFnID0gdHJ1ZVxuICAgICAgbnVtNCA9IC1udW00XG4gICAgfVxuXG4gICAgaWYgKG51bTQgPiAwLjk5OTk5OSkge1xuICAgICAgbnVtMyA9IDEgLSBhbW91bnRcbiAgICAgIG51bTIgPSBmbGFnID8gLWFtb3VudCA6IGFtb3VudFxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbnVtNSA9IE1hdGguYWNvcyhudW00KVxuICAgICAgbGV0IG51bTYgPSAxLjAgLyBNYXRoLnNpbihudW01KVxuICAgICAgbnVtMyA9IE1hdGguc2luKCgxLjAgLSBhbW91bnQpICogbnVtNSkgKiBudW02XG4gICAgICBudW0yID0gZmxhZyA/IC1NYXRoLnNpbihhbW91bnQgKiBudW01KSAqIG51bTYgOiBNYXRoLnNpbihhbW91bnQgKiBudW01KSAqIG51bTZcbiAgICB9XG5cbiAgICByZXN1bHQueCA9IG51bTMgKiBsZWZ0LnggKyBudW0yICogcmlnaHQueFxuICAgIHJlc3VsdC55ID0gbnVtMyAqIGxlZnQueSArIG51bTIgKiByaWdodC55XG4gICAgcmVzdWx0LnogPSBudW0zICogbGVmdC56ICsgbnVtMiAqIHJpZ2h0LnpcbiAgICByZXN1bHQudyA9IG51bTMgKiBsZWZ0LncgKyBudW0yICogcmlnaHQud1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVycG9sYXRlIGJldHdlZW4gdHdvIHF1YXRlcm5pb25zIHVzaW5nIEhlcm1pdGUgaW50ZXJwb2xhdGlvblxuICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyBmaXJzdCBxdWF0ZXJuaW9uXG4gICAqIEBwYXJhbSB0YW5nZW50MSAtIGRlZmluZXMgdGhlIGluY29taW5nIHRhbmdlbnRcbiAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgc2Vjb25kIHF1YXRlcm5pb25cbiAgICogQHBhcmFtIHRhbmdlbnQyIC0gZGVmaW5lcyB0aGUgb3V0Z29pbmcgdGFuZ2VudFxuICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICogQHJldHVybnMgdGhlIG5ldyBpbnRlcnBvbGF0ZWQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBIZXJtaXRlKFxuICAgIHZhbHVlMTogUmVhZE9ubHlRdWF0ZXJuaW9uLFxuICAgIHRhbmdlbnQxOiBSZWFkT25seVF1YXRlcm5pb24sXG4gICAgdmFsdWUyOiBSZWFkT25seVF1YXRlcm5pb24sXG4gICAgdGFuZ2VudDI6IFJlYWRPbmx5UXVhdGVybmlvbixcbiAgICBhbW91bnQ6IG51bWJlclxuICApOiBRdWF0ZXJuaW9uIHtcbiAgICBsZXQgc3F1YXJlZCA9IGFtb3VudCAqIGFtb3VudFxuICAgIGxldCBjdWJlZCA9IGFtb3VudCAqIHNxdWFyZWRcbiAgICBsZXQgcGFydDEgPSAyLjAgKiBjdWJlZCAtIDMuMCAqIHNxdWFyZWQgKyAxLjBcbiAgICBsZXQgcGFydDIgPSAtMi4wICogY3ViZWQgKyAzLjAgKiBzcXVhcmVkXG4gICAgbGV0IHBhcnQzID0gY3ViZWQgLSAyLjAgKiBzcXVhcmVkICsgYW1vdW50XG4gICAgbGV0IHBhcnQ0ID0gY3ViZWQgLSBzcXVhcmVkXG5cbiAgICBsZXQgeCA9IHZhbHVlMS54ICogcGFydDEgKyB2YWx1ZTIueCAqIHBhcnQyICsgdGFuZ2VudDEueCAqIHBhcnQzICsgdGFuZ2VudDIueCAqIHBhcnQ0XG4gICAgbGV0IHkgPSB2YWx1ZTEueSAqIHBhcnQxICsgdmFsdWUyLnkgKiBwYXJ0MiArIHRhbmdlbnQxLnkgKiBwYXJ0MyArIHRhbmdlbnQyLnkgKiBwYXJ0NFxuICAgIGxldCB6ID0gdmFsdWUxLnogKiBwYXJ0MSArIHZhbHVlMi56ICogcGFydDIgKyB0YW5nZW50MS56ICogcGFydDMgKyB0YW5nZW50Mi56ICogcGFydDRcbiAgICBsZXQgdyA9IHZhbHVlMS53ICogcGFydDEgKyB2YWx1ZTIudyAqIHBhcnQyICsgdGFuZ2VudDEudyAqIHBhcnQzICsgdGFuZ2VudDIudyAqIHBhcnQ0XG4gICAgcmV0dXJuIG5ldyBRdWF0ZXJuaW9uKHgsIHksIHosIHcpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpZGVudGl0eSBxdWF0ZXJuaW9uXG4gICAqIEByZXR1cm5zIC0gdGhlIGlkZW50aXR5IHF1YXRlcm5pb25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IElkZW50aXR5KCk6IFF1YXRlcm5pb24ge1xuICAgIHJldHVybiBuZXcgUXVhdGVybmlvbigwLjAsIDAuMCwgMC4wLCAxLjApXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYW5nbGUgaW4gZGVncmVlcyBiZXR3ZWVuIHR3byByb3RhdGlvbnMgYSBhbmQgYi5cbiAgICogQHBhcmFtIHF1YXQxIC0gZGVmaW5lcyB0aGUgZmlyc3QgcXVhdGVybmlvblxuICAgKiBAcGFyYW0gcXVhdDIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBBbmdsZShxdWF0MTogUmVhZE9ubHlRdWF0ZXJuaW9uLCBxdWF0MjogUmVhZE9ubHlRdWF0ZXJuaW9uKTogbnVtYmVyIHtcbiAgICBjb25zdCBkb3QgPSBRdWF0ZXJuaW9uLkRvdChxdWF0MSwgcXVhdDIpXG4gICAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLmFicyhkb3QpLCAxKSkgKiAyICogUkFEMkRFR1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSByb3RhdGlvbiB0aGF0IHJvdGF0ZXMgeiBkZWdyZWVzIGFyb3VuZCB0aGUgeiBheGlzLCB4IGRlZ3JlZXMgYXJvdW5kIHRoZSB4IGF4aXMsIGFuZCB5IGRlZ3JlZXMgYXJvdW5kIHRoZSB5IGF4aXMuXG4gICAqIEBwYXJhbSB4IC0gdGhlIHJvdGF0aW9uIG9uIHRoZSB4IGF4aXMgaW4gZXVsZXIgZGVncmVlc1xuICAgKiBAcGFyYW0geSAtIHRoZSByb3RhdGlvbiBvbiB0aGUgeSBheGlzIGluIGV1bGVyIGRlZ3JlZXNcbiAgICogQHBhcmFtIHogLSB0aGUgcm90YXRpb24gb24gdGhlIHogYXhpcyBpbiBldWxlciBkZWdyZWVzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEV1bGVyKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBRdWF0ZXJuaW9uIHtcbiAgICByZXR1cm4gUXVhdGVybmlvbi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh5ICogREVHMlJBRCwgeCAqIERFRzJSQUQsIHogKiBERUcyUkFEKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSByb3RhdGlvbiB3aXRoIHRoZSBzcGVjaWZpZWQgZm9yd2FyZCBhbmQgdXB3YXJkcyBkaXJlY3Rpb25zLlxuICAgKiBAcGFyYW0gZm9yd2FyZCAtIHRoZSBkaXJlY3Rpb24gdG8gbG9vayBpblxuICAgKiBAcGFyYW0gdXAgLSB0aGUgdmVjdG9yIHRoYXQgZGVmaW5lcyBpbiB3aGljaCBkaXJlY3Rpb24gdXAgaXNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTG9va1JvdGF0aW9uKGZvcndhcmQ6IFZlY3RvcjMsIHVwOiBWZWN0b3IzID0gTWF0aFRtcC5zdGF0aWNVcCk6IFF1YXRlcm5pb24ge1xuICAgIGNvbnN0IGZvcndhcmROZXcgPSBWZWN0b3IzLk5vcm1hbGl6ZShmb3J3YXJkKVxuICAgIGNvbnN0IHJpZ2h0OiBWZWN0b3IzID0gVmVjdG9yMy5Ob3JtYWxpemUoVmVjdG9yMy5Dcm9zcyh1cCwgZm9yd2FyZE5ldykpXG4gICAgY29uc3QgdXBOZXcgPSBWZWN0b3IzLkNyb3NzKGZvcndhcmROZXcsIHJpZ2h0KVxuICAgIGxldCBtMDAgPSByaWdodC54XG4gICAgbGV0IG0wMSA9IHJpZ2h0LnlcbiAgICBsZXQgbTAyID0gcmlnaHQuelxuICAgIGxldCBtMTAgPSB1cE5ldy54XG4gICAgbGV0IG0xMSA9IHVwTmV3LnlcbiAgICBsZXQgbTEyID0gdXBOZXcuelxuICAgIGxldCBtMjAgPSBmb3J3YXJkTmV3LnhcbiAgICBsZXQgbTIxID0gZm9yd2FyZE5ldy55XG4gICAgbGV0IG0yMiA9IGZvcndhcmROZXcuelxuXG4gICAgY29uc3QgbnVtOCA9IG0wMCArIG0xMSArIG0yMlxuICAgIGxldCBxdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKVxuXG4gICAgaWYgKG51bTggPiAwKSB7XG4gICAgICBsZXQgbnVtID0gTWF0aC5zcXJ0KG51bTggKyAxKVxuICAgICAgcXVhdGVybmlvbi53ID0gbnVtICogMC41XG4gICAgICBudW0gPSAwLjUgLyBudW1cbiAgICAgIHF1YXRlcm5pb24ueCA9IChtMTIgLSBtMjEpICogbnVtXG4gICAgICBxdWF0ZXJuaW9uLnkgPSAobTIwIC0gbTAyKSAqIG51bVxuICAgICAgcXVhdGVybmlvbi56ID0gKG0wMSAtIG0xMCkgKiBudW1cbiAgICAgIHJldHVybiBxdWF0ZXJuaW9uXG4gICAgfVxuXG4gICAgaWYgKG0wMCA+PSBtMTEgJiYgbTAwID49IG0yMikge1xuICAgICAgbGV0IG51bTcgPSBNYXRoLnNxcnQoMSArIG0wMCAtIG0xMSAtIG0yMilcbiAgICAgIGxldCBudW00ID0gMC41IC8gbnVtN1xuICAgICAgcXVhdGVybmlvbi54ID0gMC41ICogbnVtN1xuICAgICAgcXVhdGVybmlvbi55ID0gKG0wMSArIG0xMCkgKiBudW00XG4gICAgICBxdWF0ZXJuaW9uLnogPSAobTAyICsgbTIwKSAqIG51bTRcbiAgICAgIHF1YXRlcm5pb24udyA9IChtMTIgLSBtMjEpICogbnVtNFxuICAgICAgcmV0dXJuIHF1YXRlcm5pb25cbiAgICB9XG5cbiAgICBpZiAobTExID4gbTIyKSB7XG4gICAgICBsZXQgbnVtNiA9IE1hdGguc3FydCgxICsgbTExIC0gbTAwIC0gbTIyKVxuICAgICAgbGV0IG51bTMgPSAwLjUgLyBudW02XG4gICAgICBxdWF0ZXJuaW9uLnggPSAobTEwICsgbTAxKSAqIG51bTNcbiAgICAgIHF1YXRlcm5pb24ueSA9IDAuNSAqIG51bTZcbiAgICAgIHF1YXRlcm5pb24ueiA9IChtMjEgKyBtMTIpICogbnVtM1xuICAgICAgcXVhdGVybmlvbi53ID0gKG0yMCAtIG0wMikgKiBudW0zXG4gICAgICByZXR1cm4gcXVhdGVybmlvblxuICAgIH1cblxuICAgIGxldCBudW01ID0gTWF0aC5zcXJ0KDEgKyBtMjIgLSBtMDAgLSBtMTEpXG4gICAgbGV0IG51bTIgPSAwLjUgLyBudW01XG4gICAgcXVhdGVybmlvbi54ID0gKG0yMCArIG0wMikgKiBudW0yXG4gICAgcXVhdGVybmlvbi55ID0gKG0yMSArIG0xMikgKiBudW0yXG4gICAgcXVhdGVybmlvbi56ID0gMC41ICogbnVtNVxuICAgIHF1YXRlcm5pb24udyA9IChtMDEgLSBtMTApICogbnVtMlxuICAgIHJldHVybiBxdWF0ZXJuaW9uXG4gIH1cblxuICAvKipcbiAgICogVGhlIGZyb20gcXVhdGVybmlvbiBpcyByb3RhdGVkIHRvd2FyZHMgdG8gYnkgYW4gYW5ndWxhciBzdGVwIG9mIG1heERlZ3JlZXNEZWx0YS5cbiAgICogQHBhcmFtIGZyb20gLSBkZWZpbmVzIHRoZSBmaXJzdCBxdWF0ZXJuaW9uXG4gICAqIEBwYXJhbSB0byAtIGRlZmluZXMgdGhlIHNlY29uZCBxdWF0ZXJuaW9uXG4gICAqIEBwYXJhbSBtYXhEZWdyZWVzRGVsdGEgLSB0aGUgaW50ZXJ2YWwgc3RlcFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBSb3RhdGVUb3dhcmRzKGZyb206IFJlYWRPbmx5UXVhdGVybmlvbiwgdG86IFF1YXRlcm5pb24sIG1heERlZ3JlZXNEZWx0YTogbnVtYmVyKTogUXVhdGVybmlvbiB7XG4gICAgY29uc3QgbnVtOiBudW1iZXIgPSBRdWF0ZXJuaW9uLkFuZ2xlKGZyb20sIHRvKVxuICAgIGlmIChudW0gPT09IDApIHtcbiAgICAgIHJldHVybiB0b1xuICAgIH1cbiAgICBjb25zdCB0OiBudW1iZXIgPSBNYXRoLm1pbigxLCBtYXhEZWdyZWVzRGVsdGEgLyBudW0pXG5cbiAgICByZXR1cm4gUXVhdGVybmlvbi5TbGVycChmcm9tLCB0bywgdClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcm90YXRpb24gd2hpY2ggcm90YXRlcyBmcm9tIGZyb21EaXJlY3Rpb24gdG8gdG9EaXJlY3Rpb24uXG4gICAqIEBwYXJhbSBmcm9tIC0gZGVmaW5lcyB0aGUgZmlyc3QgZGlyZWN0aW9uIFZlY3RvclxuICAgKiBAcGFyYW0gdG8gLSBkZWZpbmVzIHRoZSB0YXJnZXQgZGlyZWN0aW9uIFZlY3RvclxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGcm9tVG9Sb3RhdGlvbihmcm9tOiBWZWN0b3IzLCB0bzogVmVjdG9yMywgdXA6IFZlY3RvcjMgPSBNYXRoVG1wLnN0YXRpY1VwKTogUXVhdGVybmlvbiB7XG4gICAgLy8gVW5pdHktYmFzZWQgY2FsY3VsYXRpb25zIGltcGxlbWVudGVkIGZyb20gaHR0cHM6Ly9mb3J1bS51bml0eS5jb20vdGhyZWFkcy9xdWF0ZXJuaW9uLWxvb2tyb3RhdGlvbi1hcm91bmQtYW4tYXhpcy42MDg0NzAvI3Bvc3QtNDA2OTg4OFxuXG4gICAgbGV0IHYwID0gZnJvbS5ub3JtYWxpemUoKVxuICAgIGxldCB2MSA9IHRvLm5vcm1hbGl6ZSgpXG5cbiAgICBjb25zdCBhID0gVmVjdG9yMy5Dcm9zcyh2MCwgdjEpXG4gICAgY29uc3QgdyA9IE1hdGguc3FydCh2MC5sZW5ndGhTcXVhcmVkKCkgKiB2MS5sZW5ndGhTcXVhcmVkKCkpICsgVmVjdG9yMy5Eb3QodjAsIHYxKVxuICAgIGlmIChhLmxlbmd0aFNxdWFyZWQoKSA8IDAuMDAwMSkge1xuICAgICAgLy8gdGhlIHZlY3RvcnMgYXJlIHBhcmFsbGVsLCBjaGVjayB3IHRvIGZpbmQgZGlyZWN0aW9uXG4gICAgICAvLyBpZiB3IGlzIDAgdGhlbiB2YWx1ZXMgYXJlIG9wcG9zaXRlLCBhbmQgd2Ugc291bGQgcm90YXRlIDE4MCBkZWdyZWVzIGFyb3VuZCB0aGUgc3VwcGxpZWQgYXhpc1xuICAgICAgLy8gb3RoZXJ3aXNlIHRoZSB2ZWN0b3JzIGluIHRoZSBzYW1lIGRpcmVjdGlvbiBhbmQgbm8gcm90YXRpb24gc2hvdWxkIG9jY3VyXG4gICAgICByZXR1cm4gTWF0aC5hYnModykgPCAwLjAwMDEgPyBuZXcgUXVhdGVybmlvbih1cC54LCB1cC55LCB1cC56LCAwKS5ub3JtYWxpemVkIDogUXVhdGVybmlvbi5JZGVudGl0eVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24oYS54LCBhLnksIGEueiwgdykubm9ybWFsaXplZFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGlzIHF1YXRlcm5pb24gdG8gb25lIHdpdGggdGhlIHNhbWUgb3JpZW50YXRpb24gYnV0IHdpdGggYSBtYWduaXR1ZGUgb2YgMS5cbiAgICovXG4gIHB1YmxpYyBnZXQgbm9ybWFsaXplZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUoKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSByb3RhdGlvbiB3aGljaCByb3RhdGVzIGZyb20gZnJvbURpcmVjdGlvbiB0byB0b0RpcmVjdGlvbi5cbiAgICogQHBhcmFtIGZyb20gLSBkZWZpbmVzIHRoZSBmaXJzdCBWZWN0b3JcbiAgICogQHBhcmFtIHRvIC0gZGVmaW5lcyB0aGUgc2Vjb25kIFZlY3RvclxuICAgKiBAcGFyYW0gdXAgLSBkZWZpbmVzIHRoZSBkaXJlY3Rpb25cbiAgICovXG4gIHB1YmxpYyBzZXRGcm9tVG9Sb3RhdGlvbihmcm9tOiBWZWN0b3IzLCB0bzogVmVjdG9yMywgdXA6IFZlY3RvcjMgPSBNYXRoVG1wLnN0YXRpY1VwKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gUXVhdGVybmlvbi5Gcm9tVG9Sb3RhdGlvbihmcm9tLCB0bywgdXApXG4gICAgdGhpcy54ID0gcmVzdWx0LnhcbiAgICB0aGlzLnkgPSByZXN1bHQueVxuICAgIHRoaXMueiA9IHJlc3VsdC56XG4gICAgdGhpcy53ID0gcmVzdWx0LndcbiAgfVxuXG4gIHB1YmxpYyBzZXQgZXVsZXJBbmdsZXMoZXVsZXI6IFZlY3RvcjMpIHtcbiAgICB0aGlzLnNldEV1bGVyKGV1bGVyLngsIGV1bGVyLnksIGV1bGVyLnopXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBldWxlciBhbmdsZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcm90YXRpb24uXG4gICAqIEltcGxlbWVudGVkIHVuaXR5LWJhc2VkIGNhbGN1bGF0aW9ucyBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYwNTU4MTNcbiAgICovXG4gIHB1YmxpYyBnZXQgZXVsZXJBbmdsZXMoKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IFZlY3RvcjMoKVxuXG4gICAgLy8gaWYgdGhlIGlucHV0IHF1YXRlcm5pb24gaXMgbm9ybWFsaXplZCwgdGhpcyBpcyBleGFjdGx5IG9uZS4gT3RoZXJ3aXNlLCB0aGlzIGFjdHMgYXMgYSBjb3JyZWN0aW9uIGZhY3RvciBmb3IgdGhlIHF1YXRlcm5pb24ncyBub3Qtbm9ybWFsaXplZG5lc3NcbiAgICBjb25zdCB1bml0ID0gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53XG5cbiAgICAvLyB0aGlzIHdpbGwgaGF2ZSBhIG1hZ25pdHVkZSBvZiAwLjUgb3IgZ3JlYXRlciBpZiBhbmQgb25seSBpZiB0aGlzIGlzIGEgc2luZ3VsYXJpdHkgY2FzZVxuICAgIGNvbnN0IHRlc3QgPSB0aGlzLnggKiB0aGlzLncgLSB0aGlzLnkgKiB0aGlzLnpcblxuICAgIGlmICh0ZXN0ID4gMC40OTk1ICogdW5pdCkge1xuICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgbm9ydGggcG9sZVxuICAgICAgb3V0LnggPSBNYXRoLlBJIC8gMlxuICAgICAgb3V0LnkgPSAyICogTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueClcbiAgICAgIG91dC56ID0gMFxuICAgIH0gZWxzZSBpZiAodGVzdCA8IC0wLjQ5OTUgKiB1bml0KSB7XG4gICAgICAvLyBzaW5ndWxhcml0eSBhdCBzb3V0aCBwb2xlXG4gICAgICBvdXQueCA9IC1NYXRoLlBJIC8gMlxuICAgICAgb3V0LnkgPSAtMiAqIE1hdGguYXRhbjIodGhpcy55LCB0aGlzLngpXG4gICAgICBvdXQueiA9IDBcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm8gc2luZ3VsYXJpdHkgLSB0aGlzIGlzIHRoZSBtYWpvcml0eSBvZiBjYXNlc1xuICAgICAgb3V0LnggPSBNYXRoLmFzaW4oMiAqICh0aGlzLncgKiB0aGlzLnggLSB0aGlzLnkgKiB0aGlzLnopKVxuICAgICAgb3V0LnkgPSBNYXRoLmF0YW4yKDIgKiB0aGlzLncgKiB0aGlzLnkgKyAyICogdGhpcy56ICogdGhpcy54LCAxIC0gMiAqICh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpKVxuICAgICAgb3V0LnogPSBNYXRoLmF0YW4yKDIgKiB0aGlzLncgKiB0aGlzLnogKyAyICogdGhpcy54ICogdGhpcy55LCAxIC0gMiAqICh0aGlzLnogKiB0aGlzLnogKyB0aGlzLnggKiB0aGlzLngpKVxuICAgIH1cbiAgICBvdXQueCAqPSBSQUQyREVHXG4gICAgb3V0LnkgKj0gUkFEMkRFR1xuICAgIG91dC56ICo9IFJBRDJERUdcblxuICAgIC8vIGVuc3VyZSB0aGUgZGVncmVlIHZhbHVlcyBhcmUgYmV0d2VlbiAwIGFuZCAzNjBcbiAgICBvdXQueCA9IFNjYWxhci5SZXBlYXQob3V0LngsIDM2MClcbiAgICBvdXQueSA9IFNjYWxhci5SZXBlYXQob3V0LnksIDM2MClcbiAgICBvdXQueiA9IFNjYWxhci5SZXBlYXQob3V0LnosIDM2MClcblxuICAgIHJldHVybiBvdXRcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIGZvciB0aGUgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAqIEByZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIFF1YXRlcm5pb24gY29vcmRpbmF0ZXNcbiAgICovXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgKCR7dGhpcy54fSwgJHt0aGlzLnl9LCAke3RoaXMuen0sICR7dGhpcy53fSlgXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBsZW5ndGggb2YgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAqIEByZXR1cm5zIHRoZSBxdWF0ZXJuaW9uIGxlbmd0aCAoZmxvYXQpXG4gICAqL1xuICBwdWJsaWMgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgbGVuZ3RoIG9mIGN1cnJlbnQgcXVhdGVybmlvblxuICAgKiBAcmV0dXJucyB0aGUgcXVhdGVybmlvbiBsZW5ndGggKGZsb2F0KVxuICAgKi9cbiAgcHVibGljIGdldCBsZW5ndGhTcXVhcmVkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiArIHRoaXMudyAqIHRoaXMud1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNsYXNzIG5hbWUgb2YgdGhlIHF1YXRlcm5pb25cbiAgICogQHJldHVybnMgdGhlIHN0cmluZyBcIlF1YXRlcm5pb25cIlxuICAgKi9cbiAgcHVibGljIGdldENsYXNzTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnUXVhdGVybmlvbidcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgaGFzaCBjb2RlIGZvciB0aGlzIHF1YXRlcm5pb25cbiAgICogQHJldHVybnMgdGhlIHF1YXRlcm5pb24gaGFzaCBjb2RlXG4gICAqL1xuICBwdWJsaWMgZ2V0SGFzaENvZGUoKTogbnVtYmVyIHtcbiAgICBsZXQgaGFzaCA9IHRoaXMueCB8fCAwXG4gICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh0aGlzLnkgfHwgMClcbiAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHRoaXMueiB8fCAwKVxuICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodGhpcy53IHx8IDApXG4gICAgcmV0dXJuIGhhc2hcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5IHRoZSBxdWF0ZXJuaW9uIHRvIGFuIGFycmF5XG4gICAqIEByZXR1cm5zIGEgbmV3IGFycmF5IHBvcHVsYXRlZCB3aXRoIDQgZWxlbWVudHMgZnJvbSB0aGUgcXVhdGVybmlvbiBjb29yZGluYXRlc1xuICAgKi9cbiAgcHVibGljIGFzQXJyYXkoKTogbnVtYmVyW10ge1xuICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53XVxuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0d28gcXVhdGVybmlvbnMgYXJlIGVxdWFsc1xuICAgKiBAcGFyYW0gb3RoZXJRdWF0ZXJuaW9uIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBxdWF0ZXJuaW9uIGFuZCB0aGUgZ2l2ZW4gb25lIGNvb3JkaW5hdGVzIGFyZSBzdHJpY3RseSBlcXVhbHNcbiAgICovXG4gIHB1YmxpYyBlcXVhbHMob3RoZXJRdWF0ZXJuaW9uOiBSZWFkT25seVF1YXRlcm5pb24pOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgb3RoZXJRdWF0ZXJuaW9uICYmXG4gICAgICB0aGlzLnggPT09IG90aGVyUXVhdGVybmlvbi54ICYmXG4gICAgICB0aGlzLnkgPT09IG90aGVyUXVhdGVybmlvbi55ICYmXG4gICAgICB0aGlzLnogPT09IG90aGVyUXVhdGVybmlvbi56ICYmXG4gICAgICB0aGlzLncgPT09IG90aGVyUXVhdGVybmlvbi53XG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjdXJyZW50IHF1YXRlcm5pb25cbiAgICogQHJldHVybnMgYSBuZXcgcXVhdGVybmlvbiBjb3BpZWQgZnJvbSB0aGUgY3VycmVudCBvbmVcbiAgICovXG4gIHB1YmxpYyBjbG9uZSgpOiBRdWF0ZXJuaW9uIHtcbiAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KVxuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSBxdWF0ZXJuaW9uIHRvIHRoZSBjdXJyZW50IG9uZVxuICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBvdGhlciBxdWF0ZXJuaW9uXG4gICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIGN1cnJlbnQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIGNvcHlGcm9tKG90aGVyOiBSZWFkT25seVF1YXRlcm5pb24pOiBRdWF0ZXJuaW9uIHtcbiAgICB0aGlzLnggPSBvdGhlci54XG4gICAgdGhpcy55ID0gb3RoZXIueVxuICAgIHRoaXMueiA9IG90aGVyLnpcbiAgICB0aGlzLncgPSBvdGhlci53XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IHF1YXRlcm5pb24gd2l0aCB0aGUgZ2l2ZW4gZmxvYXQgY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHcgLSBkZWZpbmVzIHRoZSB3IGNvb3JkaW5hdGVcbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgY29weUZyb21GbG9hdHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgdzogbnVtYmVyKTogUXVhdGVybmlvbiB7XG4gICAgdGhpcy54ID0geFxuICAgIHRoaXMueSA9IHlcbiAgICB0aGlzLnogPSB6XG4gICAgdGhpcy53ID0gd1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY3VycmVudCBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIGZsb2F0IGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgeiBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB3IC0gZGVmaW5lcyB0aGUgdyBjb29yZGluYXRlXG4gICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIGN1cnJlbnQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIHNldCh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCB3OiBudW1iZXIpOiBRdWF0ZXJuaW9uIHtcbiAgICByZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyh4LCB5LCB6LCB3KVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgcXVhdGVybmlvbiBmcm9tIHRoZSBnaXZlbiBldWxlciBhbmdsZXNcbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgc2V0RXVsZXIoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFF1YXRlcm5pb24ge1xuICAgIFF1YXRlcm5pb24uUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5ICogREVHMlJBRCwgeCAqIERFRzJSQUQsIHogKiBERUcyUkFELCB0aGlzKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEFkZHMgdHdvIHF1YXRlcm5pb25zXG4gICAqIEBwYXJhbSBvdGhlciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIGEgbmV3IHF1YXRlcm5pb24gYXMgdGhlIGFkZGl0aW9uIHJlc3VsdCBvZiB0aGUgZ2l2ZW4gb25lIGFuZCB0aGUgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgYWRkKG90aGVyOiBRdWF0ZXJuaW9uKTogUXVhdGVybmlvbiB7XG4gICAgcmV0dXJuIG5ldyBRdWF0ZXJuaW9uKHRoaXMueCArIG90aGVyLngsIHRoaXMueSArIG90aGVyLnksIHRoaXMueiArIG90aGVyLnosIHRoaXMudyArIG90aGVyLncpXG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEFkZCBhIHF1YXRlcm5pb24gdG8gdGhlIGN1cnJlbnQgb25lXG4gICAqIEBwYXJhbSBvdGhlciAtIGRlZmluZXMgdGhlIHF1YXRlcm5pb24gdG8gYWRkXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHF1YXRlcm5pb25cbiAgICovXG4gIHB1YmxpYyBhZGRJblBsYWNlKG90aGVyOiBRdWF0ZXJuaW9uKTogUXVhdGVybmlvbiB7XG4gICAgdGhpcy54ICs9IG90aGVyLnhcbiAgICB0aGlzLnkgKz0gb3RoZXIueVxuICAgIHRoaXMueiArPSBvdGhlci56XG4gICAgdGhpcy53ICs9IG90aGVyLndcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIC8qKlxuICAgKiBTdWJ0cmFjdCB0d28gcXVhdGVybmlvbnNcbiAgICogQHBhcmFtIG90aGVyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHJldHVybnMgYSBuZXcgcXVhdGVybmlvbiBhcyB0aGUgc3VidHJhY3Rpb24gcmVzdWx0IG9mIHRoZSBnaXZlbiBvbmUgZnJvbSB0aGUgY3VycmVudCBvbmVcbiAgICovXG4gIHB1YmxpYyBzdWJ0cmFjdChvdGhlcjogUXVhdGVybmlvbik6IFF1YXRlcm5pb24ge1xuICAgIHJldHVybiBuZXcgUXVhdGVybmlvbih0aGlzLnggLSBvdGhlci54LCB0aGlzLnkgLSBvdGhlci55LCB0aGlzLnogLSBvdGhlci56LCB0aGlzLncgLSBvdGhlci53KVxuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgcXVhdGVybmlvbiBieSBhIHNjYWxlIGZhY3RvclxuICAgKiBAcGFyYW0gdmFsdWUgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3JcbiAgICogQHJldHVybnMgYSBuZXcgcXVhdGVybmlvbiBzZXQgYnkgbXVsdGlwbHlpbmcgdGhlIGN1cnJlbnQgcXVhdGVybmlvbiBjb29yZGluYXRlcyBieSB0aGUgZmxvYXQgXCJzY2FsZVwiXG4gICAqL1xuICBwdWJsaWMgc2NhbGUodmFsdWU6IG51bWJlcik6IFF1YXRlcm5pb24ge1xuICAgIHJldHVybiBuZXcgUXVhdGVybmlvbih0aGlzLnggKiB2YWx1ZSwgdGhpcy55ICogdmFsdWUsIHRoaXMueiAqIHZhbHVlLCB0aGlzLncgKiB2YWx1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGUgY3VycmVudCBxdWF0ZXJuaW9uIHZhbHVlcyBieSBhIGZhY3RvciBhbmQgc3RvcmVzIHRoZSByZXN1bHQgdG8gYSBnaXZlbiBxdWF0ZXJuaW9uXG4gICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgUXVhdGVybmlvbiBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IHF1YXRlcm5pb25cbiAgICovXG4gIHB1YmxpYyBzY2FsZVRvUmVmKHNjYWxlOiBudW1iZXIsIHJlc3VsdDogUXVhdGVybmlvbik6IFF1YXRlcm5pb24ge1xuICAgIHJlc3VsdC54ID0gdGhpcy54ICogc2NhbGVcbiAgICByZXN1bHQueSA9IHRoaXMueSAqIHNjYWxlXG4gICAgcmVzdWx0LnogPSB0aGlzLnogKiBzY2FsZVxuICAgIHJlc3VsdC53ID0gdGhpcy53ICogc2NhbGVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGxpZXMgaW4gcGxhY2UgdGhlIGN1cnJlbnQgcXVhdGVybmlvbiBieSBhIHNjYWxlIGZhY3RvclxuICAgKiBAcGFyYW0gdmFsdWUgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3JcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbW9kaWZpZWQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIHNjYWxlSW5QbGFjZSh2YWx1ZTogbnVtYmVyKTogUXVhdGVybmlvbiB7XG4gICAgdGhpcy54ICo9IHZhbHVlXG4gICAgdGhpcy55ICo9IHZhbHVlXG4gICAgdGhpcy56ICo9IHZhbHVlXG4gICAgdGhpcy53ICo9IHZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoZSBjdXJyZW50IHF1YXRlcm5pb24gdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIHF1YXRlcm5pb25cbiAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBRdWF0ZXJuaW9uIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIGN1cnJlbnQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIHNjYWxlQW5kQWRkVG9SZWYoc2NhbGU6IG51bWJlciwgcmVzdWx0OiBRdWF0ZXJuaW9uKTogUXVhdGVybmlvbiB7XG4gICAgcmVzdWx0LnggKz0gdGhpcy54ICogc2NhbGVcbiAgICByZXN1bHQueSArPSB0aGlzLnkgKiBzY2FsZVxuICAgIHJlc3VsdC56ICs9IHRoaXMueiAqIHNjYWxlXG4gICAgcmVzdWx0LncgKz0gdGhpcy53ICogc2NhbGVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGxpZXMgdHdvIHF1YXRlcm5pb25zXG4gICAqIEBwYXJhbSBxMSAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIGEgbmV3IHF1YXRlcm5pb24gc2V0IGFzIHRoZSBtdWx0aXBsaWNhdGlvbiByZXN1bHQgb2YgdGhlIGN1cnJlbnQgb25lIHdpdGggdGhlIGdpdmVuIG9uZSBcInExXCJcbiAgICovXG4gIHB1YmxpYyBtdWx0aXBseShxMTogUmVhZE9ubHlRdWF0ZXJuaW9uKTogUXVhdGVybmlvbiB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBRdWF0ZXJuaW9uKDAsIDAsIDAsIDEuMClcbiAgICB0aGlzLm11bHRpcGx5VG9SZWYocTEsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gXCJyZXN1bHRcIiBhcyB0aGUgdGhlIG11bHRpcGxpY2F0aW9uIHJlc3VsdCBvZiB0aGUgY3VycmVudCBvbmUgd2l0aCB0aGUgZ2l2ZW4gb25lIFwicTFcIlxuICAgKiBAcGFyYW0gcTEgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIG11bHRpcGx5VG9SZWYocTE6IFJlYWRPbmx5UXVhdGVybmlvbiwgcmVzdWx0OiBRdWF0ZXJuaW9uKTogUXVhdGVybmlvbiB7XG4gICAgbGV0IHggPSB0aGlzLnggKiBxMS53ICsgdGhpcy55ICogcTEueiAtIHRoaXMueiAqIHExLnkgKyB0aGlzLncgKiBxMS54XG4gICAgbGV0IHkgPSAtdGhpcy54ICogcTEueiArIHRoaXMueSAqIHExLncgKyB0aGlzLnogKiBxMS54ICsgdGhpcy53ICogcTEueVxuICAgIGxldCB6ID0gdGhpcy54ICogcTEueSAtIHRoaXMueSAqIHExLnggKyB0aGlzLnogKiBxMS53ICsgdGhpcy53ICogcTEuelxuICAgIGxldCB3ID0gLXRoaXMueCAqIHExLnggLSB0aGlzLnkgKiBxMS55IC0gdGhpcy56ICogcTEueiArIHRoaXMudyAqIHExLndcbiAgICByZXN1bHQuY29weUZyb21GbG9hdHMoeCwgeSwgeiwgdylcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgcXVhdGVybmlvbiB3aXRoIHRoZSBtdWx0aXBsaWNhdGlvbiBvZiBpdHNlbGYgd2l0aCB0aGUgZ2l2ZW4gb25lIFwicTFcIlxuICAgKiBAcGFyYW0gcTEgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudHVwZGF0ZWQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIG11bHRpcGx5SW5QbGFjZShxMTogUmVhZE9ubHlRdWF0ZXJuaW9uKTogUXVhdGVybmlvbiB7XG4gICAgdGhpcy5tdWx0aXBseVRvUmVmKHExLCB0aGlzKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ29uanVnYXRlcyAoMS1xKSB0aGUgY3VycmVudCBxdWF0ZXJuaW9uIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICAgKiBAcGFyYW0gcmVmIC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIGNvbmp1Z2F0ZVRvUmVmKHJlZjogUXVhdGVybmlvbik6IFF1YXRlcm5pb24ge1xuICAgIHJlZi5jb3B5RnJvbUZsb2F0cygtdGhpcy54LCAtdGhpcy55LCAtdGhpcy56LCB0aGlzLncpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25qdWdhdGVzIGluIHBsYWNlICgxLXEpIHRoZSBjdXJyZW50IHF1YXRlcm5pb25cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgY29uanVnYXRlSW5QbGFjZSgpOiBRdWF0ZXJuaW9uIHtcbiAgICB0aGlzLnggKj0gLTFcbiAgICB0aGlzLnkgKj0gLTFcbiAgICB0aGlzLnogKj0gLTFcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENvbmp1Z2F0ZXMgaW4gcGxhY2UgKDEtcSkgdGhlIGN1cnJlbnQgcXVhdGVybmlvblxuICAgKiBAcmV0dXJucyBhIG5ldyBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgY29uanVnYXRlKCk6IFF1YXRlcm5pb24ge1xuICAgIGxldCByZXN1bHQgPSBuZXcgUXVhdGVybmlvbigtdGhpcy54LCAtdGhpcy55LCAtdGhpcy56LCB0aGlzLncpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBpbiBwbGFjZSB0aGUgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIG5vcm1hbGl6ZSgpOiBRdWF0ZXJuaW9uIHtcbiAgICBsZXQgbGVuZ3RoID0gMS4wIC8gdGhpcy5sZW5ndGhcbiAgICB0aGlzLnggKj0gbGVuZ3RoXG4gICAgdGhpcy55ICo9IGxlbmd0aFxuICAgIHRoaXMueiAqPSBsZW5ndGhcbiAgICB0aGlzLncgKj0gbGVuZ3RoXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHB1YmxpYyBhbmdsZUF4aXMoZGVncmVzczogbnVtYmVyLCBheGlzOiBWZWN0b3IzKSB7XG4gICAgaWYgKGF4aXMubGVuZ3RoU3F1YXJlZCgpID09PSAwKSB7XG4gICAgICByZXR1cm4gUXVhdGVybmlvbi5JZGVudGl0eVxuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdDogUXVhdGVybmlvbiA9IFF1YXRlcm5pb24uSWRlbnRpdHlcbiAgICBsZXQgcmFkaWFucyA9IGRlZ3Jlc3MgKiBERUcyUkFEXG4gICAgcmFkaWFucyAqPSAwLjVcblxuICAgIGxldCBhMiA9IGF4aXMubm9ybWFsaXplKClcbiAgICBhMiA9IGF4aXMuc2NhbGVJblBsYWNlKE1hdGguc2luKHJhZGlhbnMpKVxuXG4gICAgcmVzdWx0LnggPSBhMi54XG4gICAgcmVzdWx0LnkgPSBhMi55XG4gICAgcmVzdWx0LnogPSBhMi56XG4gICAgcmVzdWx0LncgPSBNYXRoLmNvcyhyYWRpYW5zKVxuXG4gICAgcmV0dXJuIHJlc3VsdC5ub3JtYWxpemUoKVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGdpdmVuIHJvdGF0aW9uIG1hdHJpeCB3aXRoIHRoZSBjdXJyZW50IHF1YXRlcm5pb24gdmFsdWVzXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVuY2hhbmdlZCBxdWF0ZXJuaW9uXG4gICAqL1xuICBwdWJsaWMgdG9Sb3RhdGlvbk1hdHJpeChyZXN1bHQ6IE1hdHJpeCk6IFF1YXRlcm5pb24ge1xuICAgIE1hdHJpeC5Gcm9tUXVhdGVybmlvblRvUmVmKHRoaXMsIHJlc3VsdClcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgcXVhdGVybmlvbiBmcm9tIHRoZSBnaXZlbiByb3RhdGlvbiBtYXRyaXggdmFsdWVzXG4gICAqIEBwYXJhbSBtYXRyaXggLSBkZWZpbmVzIHRoZSBzb3VyY2UgbWF0cml4XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgcXVhdGVybmlvblxuICAgKi9cbiAgcHVibGljIGZyb21Sb3RhdGlvbk1hdHJpeChtYXRyaXg6IE1hdHJpeCk6IFF1YXRlcm5pb24ge1xuICAgIFF1YXRlcm5pb24uRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYobWF0cml4LCB0aGlzKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cbiIsImltcG9ydCB7IE1hdGhUbXAgfSBmcm9tICcuL3ByZWFsbG9jYXRlZFZhcmlhYmxlcydcbmltcG9ydCB7IEZsb2F0QXJyYXksIEVwc2lsb24gfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi9NYXRyaXgnXG5pbXBvcnQgeyBRdWF0ZXJuaW9uIH0gZnJvbSAnLi9RdWF0ZXJuaW9uJ1xuaW1wb3J0IHsgU2NhbGFyIH0gZnJvbSAnLi9TY2FsYXInXG5cbi8qKlxuICogQ2xhc3NlZCB1c2VkIHRvIHN0b3JlICh4LHkseikgdmVjdG9yIHJlcHJlc2VudGF0aW9uXG4gKiBBIFZlY3RvcjMgaXMgdGhlIG1haW4gb2JqZWN0IHVzZWQgaW4gM0QgZ2VvbWV0cnlcbiAqIEl0IGNhbiByZXByZXNlbnQgZXRpaGVyIHRoZSBjb29yZGluYXRlcyBvZiBhIHBvaW50IHRoZSBzcGFjZSwgZWl0aGVyIGEgZGlyZWN0aW9uXG4gKiBSZW1pbmRlcjogQmFieWxvbi5qcyB1c2VzIGEgbGVmdCBoYW5kZWQgZm9yd2FyZCBmYWNpbmcgc3lzdGVtXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBWZWN0b3IzIGltcGxlbWVudHMgUmVhZE9ubHlWZWN0b3IzIHtcbiAgLyoqXG4gICAqIEdldHMgYSBib29sZWFuIGluZGljYXRpbmcgdGhhdCB0aGUgdmVjdG9yIGlzIG5vbiB1bmlmb3JtIG1lYW5pbmcgeCwgeSBvciB6IGFyZSBub3QgYWxsIHRoZSBzYW1lXG4gICAqL1xuICBwdWJsaWMgZ2V0IGlzTm9uVW5pZm9ybSgpOiBib29sZWFuIHtcbiAgICBsZXQgYWJzWCA9IE1hdGguYWJzKHRoaXMueClcbiAgICBsZXQgYWJzWSA9IE1hdGguYWJzKHRoaXMueSlcbiAgICBpZiAoYWJzWCAhPT0gYWJzWSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBsZXQgYWJzWiA9IE1hdGguYWJzKHRoaXMueilcbiAgICBpZiAoYWJzWCAhPT0gYWJzWikge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBpZiAoYWJzWSAhPT0gYWJzWikge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBWZWN0b3IzIG9iamVjdCBmcm9tIHRoZSBnaXZlbiB4LCB5LCB6IChmbG9hdHMpIGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIGZpcnN0IGNvb3JkaW5hdGVzIChvbiBYIGF4aXMpXG4gICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgc2Vjb25kIGNvb3JkaW5hdGVzIChvbiBZIGF4aXMpXG4gICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgdGhpcmQgY29vcmRpbmF0ZXMgKG9uIFogYXhpcylcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGZpcnN0IGNvb3JkaW5hdGVzIChvbiBYIGF4aXMpXG4gICAgICovXG4gICAgcHVibGljIHg6IG51bWJlciA9IDAsXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgc2Vjb25kIGNvb3JkaW5hdGVzIChvbiBZIGF4aXMpXG4gICAgICovXG4gICAgcHVibGljIHk6IG51bWJlciA9IDAsXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgdGhpcmQgY29vcmRpbmF0ZXMgKG9uIFogYXhpcylcbiAgICAgKi9cbiAgICBwdWJsaWMgejogbnVtYmVyID0gMFxuICApIHt9XG5cbiAgLy8gU3RhdGljc1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgYXMgdGhlIHJlc3VsdCBvZiB0aGUgYWRkaXRpb24gb2YgdGhlIHR3byBnaXZlbiB2ZWN0b3JzLlxuICAgKiBAcGFyYW0gdmVjdG9yMSAtIHRoZSBmaXJzdCB2ZWN0b3JcbiAgICogQHBhcmFtIHZlY3RvcjIgLSB0aGUgc2Vjb25kIHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgcmVzdWx0aW5nIHZlY3RvclxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBBZGQodmVjdG9yMTogUmVhZE9ubHlWZWN0b3IzLCB2ZWN0b3IyOiBSZWFkT25seVZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjModmVjdG9yMS54LCB2ZWN0b3IxLnksIHZlY3RvcjEueikuYWRkSW5QbGFjZSh2ZWN0b3IyKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY2xpcCBmYWN0b3IgYmV0d2VlbiB0d28gdmVjdG9yc1xuICAgKiBAcGFyYW0gdmVjdG9yMCAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICogQHBhcmFtIHZlY3RvcjEgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcGFyYW0gYXhpcyAtIGRlZmluZXMgdGhlIGF4aXMgdG8gdXNlXG4gICAqIEBwYXJhbSBzaXplIC0gZGVmaW5lcyB0aGUgc2l6ZSBhbG9uZyB0aGUgYXhpc1xuICAgKiBAcmV0dXJucyB0aGUgY2xpcCBmYWN0b3JcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgR2V0Q2xpcEZhY3Rvcih2ZWN0b3IwOiBSZWFkT25seVZlY3RvcjMsIHZlY3RvcjE6IFJlYWRPbmx5VmVjdG9yMywgYXhpczogUmVhZE9ubHlWZWN0b3IzLCBzaXplOiBudW1iZXIpIHtcbiAgICBsZXQgZDAgPSBWZWN0b3IzLkRvdCh2ZWN0b3IwLCBheGlzKSAtIHNpemVcbiAgICBsZXQgZDEgPSBWZWN0b3IzLkRvdCh2ZWN0b3IxLCBheGlzKSAtIHNpemVcblxuICAgIGxldCBzID0gZDAgLyAoZDAgLSBkMSlcblxuICAgIHJldHVybiBzXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFuZ2xlIGJldHdlZW4gdHdvIHZlY3RvcnNcbiAgICogQHBhcmFtIHZlY3RvcjAgLSBhbmdsZSBiZXR3ZWVuIHZlY3RvcjAgYW5kIHZlY3RvcjFcbiAgICogQHBhcmFtIHZlY3RvcjEgLSBhbmdsZSBiZXR3ZWVuIHZlY3RvcjAgYW5kIHZlY3RvcjFcbiAgICogQHBhcmFtIG5vcm1hbCAtIGRpcmVjdGlvbiBvZiB0aGUgbm9ybWFsXG4gICAqIEByZXR1cm5zIHRoZSBhbmdsZSBiZXR3ZWVuIHZlY3RvcjAgYW5kIHZlY3RvcjFcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgR2V0QW5nbGVCZXR3ZWVuVmVjdG9ycyh2ZWN0b3IwOiBWZWN0b3IzLCB2ZWN0b3IxOiBWZWN0b3IzLCBub3JtYWw6IFJlYWRPbmx5VmVjdG9yMyk6IG51bWJlciB7XG4gICAgY29uc3QgdjA6IFZlY3RvcjMgPSB2ZWN0b3IwLm5vcm1hbGl6ZVRvUmVmKE1hdGhUbXAuVmVjdG9yM1sxXSlcbiAgICBjb25zdCB2MTogVmVjdG9yMyA9IHZlY3RvcjEubm9ybWFsaXplVG9SZWYoTWF0aFRtcC5WZWN0b3IzWzJdKVxuICAgIGNvbnN0IGRvdDogbnVtYmVyID0gVmVjdG9yMy5Eb3QodjAsIHYxKVxuICAgIGNvbnN0IG4gPSBNYXRoVG1wLlZlY3RvcjNbM11cbiAgICBWZWN0b3IzLkNyb3NzVG9SZWYodjAsIHYxLCBuKVxuICAgIGlmIChWZWN0b3IzLkRvdChuLCBub3JtYWwpID4gMCkge1xuICAgICAgcmV0dXJuIE1hdGguYWNvcyhkb3QpXG4gICAgfVxuICAgIHJldHVybiAtTWF0aC5hY29zKGRvdClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IGZyb20gdGhlIGluZGV4IFwib2Zmc2V0XCIgb2YgdGhlIGdpdmVuIGFycmF5XG4gICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21BcnJheShhcnJheTogQXJyYXlMaWtlPG51bWJlcj4sIG9mZnNldDogbnVtYmVyID0gMCk6IFZlY3RvcjMge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMyhhcnJheVtvZmZzZXRdLCBhcnJheVtvZmZzZXQgKyAxXSwgYXJyYXlbb2Zmc2V0ICsgMl0pXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCBmcm9tIHRoZSBpbmRleCBcIm9mZnNldFwiIG9mIHRoZSBnaXZlbiBGbG9hdEFycmF5XG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gIFVzZSBGcm9tQXJyYXkgaW5zdGVhZFxuICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgc291cmNlIGFycmF5XG4gICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGcm9tRmxvYXRBcnJheShhcnJheTogRmxvYXRBcnJheSwgb2Zmc2V0PzogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIFZlY3RvcjMuRnJvbUFycmF5KGFycmF5LCBvZmZzZXQpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgZWxlbWVudCB2YWx1ZXMgZnJvbSB0aGUgaW5kZXggXCJvZmZzZXRcIiBvZiB0aGUgZ2l2ZW4gYXJyYXlcbiAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21BcnJheVRvUmVmKGFycmF5OiBBcnJheUxpa2U8bnVtYmVyPiwgb2Zmc2V0OiBudW1iZXIsIHJlc3VsdDogVmVjdG9yMyk6IHZvaWQge1xuICAgIHJlc3VsdC54ID0gYXJyYXlbb2Zmc2V0XVxuICAgIHJlc3VsdC55ID0gYXJyYXlbb2Zmc2V0ICsgMV1cbiAgICByZXN1bHQueiA9IGFycmF5W29mZnNldCArIDJdXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgZWxlbWVudCB2YWx1ZXMgZnJvbSB0aGUgaW5kZXggXCJvZmZzZXRcIiBvZiB0aGUgZ2l2ZW4gRmxvYXRBcnJheVxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQuICBVc2UgRnJvbUFycmF5VG9SZWYgaW5zdGVhZC5cbiAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoYXJyYXk6IEZsb2F0QXJyYXksIG9mZnNldDogbnVtYmVyLCByZXN1bHQ6IFZlY3RvcjMpOiB2b2lkIHtcbiAgICByZXR1cm4gVmVjdG9yMy5Gcm9tQXJyYXlUb1JlZihhcnJheSwgb2Zmc2V0LCByZXN1bHQpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgZ2l2ZW4gZmxvYXRzLlxuICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlXG4gICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2VcbiAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21GbG9hdHNUb1JlZih4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCByZXN1bHQ6IFZlY3RvcjMpOiB2b2lkIHtcbiAgICByZXN1bHQuY29weUZyb21GbG9hdHMoeCwgeSwgeilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIDAuMCwgMC4wKVxuICAgKiBAcmV0dXJucyBhIG5ldyBlbXB0eSBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFplcm8oKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzKDAuMCwgMC4wLCAwLjApXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKDEuMCwgMS4wLCAxLjApXG4gICAqIEByZXR1cm5zIGEgbmV3IHVuaXQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBPbmUoKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzKDEuMCwgMS4wLCAxLjApXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKDAuMCwgMS4wLCAwLjApXG4gICAqIEByZXR1cm5zIGEgbmV3IHVwIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgVXAoKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzKDAuMCwgMS4wLCAwLjApXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKDAuMCwgLTEuMCwgMC4wKVxuICAgKiBAcmV0dXJucyBhIG5ldyBkb3duIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRG93bigpOiBWZWN0b3IzIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjMoMC4wLCAtMS4wLCAwLjApXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKDAuMCwgMC4wLCAxLjApXG4gICAqIEByZXR1cm5zIGEgbmV3IGZvcndhcmQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGb3J3YXJkKCk6IFZlY3RvcjMge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMygwLjAsIDAuMCwgMS4wKVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIDAuMCwgLTEuMClcbiAgICogQHJldHVybnMgYSBuZXcgZm9yd2FyZCBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEJhY2t3YXJkKCk6IFZlY3RvcjMge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMygwLjAsIDAuMCwgLTEuMClcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB0byAoMS4wLCAwLjAsIDAuMClcbiAgICogQHJldHVybnMgYSBuZXcgcmlnaHQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBSaWdodCgpOiBWZWN0b3IzIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjMoMS4wLCAwLjAsIDAuMClcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB0byAoLTEuMCwgMC4wLCAwLjApXG4gICAqIEByZXR1cm5zIGEgbmV3IGxlZnQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBMZWZ0KCk6IFZlY3RvcjMge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMygtMS4wLCAwLjAsIDAuMClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gdmVjdG9yLlxuICAgKiBUaGlzIG1ldGhvZCBjb21wdXRlcyB0cmFuZm9ybWVkIGNvb3JkaW5hdGVzIG9ubHksIG5vdCB0cmFuc2Zvcm1lZCBkaXJlY3Rpb24gdmVjdG9ycyAoaWUuIGl0IHRha2VzIHRyYW5zbGF0aW9uIGluIGFjY291bnQpXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHRvIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICogQHJldHVybnMgdGhlIHRyYW5zZm9ybWVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgVHJhbnNmb3JtQ29vcmRpbmF0ZXModmVjdG9yOiBSZWFkT25seVZlY3RvcjMsIHRyYW5zZm9ybWF0aW9uOiBNYXRyaXgpOiBWZWN0b3IzIHtcbiAgICBsZXQgcmVzdWx0ID0gVmVjdG9yMy5aZXJvKClcbiAgICBWZWN0b3IzLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiBjb29yZGluYXRlcyB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgKiBUaGlzIG1ldGhvZCBjb21wdXRlcyB0cmFuZm9ybWVkIGNvb3JkaW5hdGVzIG9ubHksIG5vdCB0cmFuc2Zvcm1lZCBkaXJlY3Rpb24gdmVjdG9ycyAoaWUuIGl0IHRha2VzIHRyYW5zbGF0aW9uIGluIGFjY291bnQpXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHRvIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKFxuICAgIHZlY3RvcjogUmVhZE9ubHlWZWN0b3IzLFxuICAgIHRyYW5zZm9ybWF0aW9uOiBSZWFkb25seTxNYXRyaXg+LFxuICAgIHJlc3VsdDogVmVjdG9yM1xuICApOiB2b2lkIHtcbiAgICByZXR1cm4gVmVjdG9yMy5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZih2ZWN0b3IueCwgdmVjdG9yLnksIHZlY3Rvci56LCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIGNvb3JkaW5hdGVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gZmxvYXRzICh4LCB5LCB6KVxuICAgKiBUaGlzIG1ldGhvZCBjb21wdXRlcyB0cmFuZm9ybWVkIGNvb3JkaW5hdGVzIG9ubHksIG5vdCB0cmFuc2Zvcm1lZCBkaXJlY3Rpb24gdmVjdG9yc1xuICAgKiBAcGFyYW0geCAtIGRlZmluZSB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2UgdmVjdG9yXG4gICAqIEBwYXJhbSB5IC0gZGVmaW5lIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZSB2ZWN0b3JcbiAgICogQHBhcmFtIHogLSBkZWZpbmUgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlIHZlY3RvclxuICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHo6IG51bWJlcixcbiAgICB0cmFuc2Zvcm1hdGlvbjogUmVhZG9ubHk8TWF0cml4PixcbiAgICByZXN1bHQ6IFZlY3RvcjNcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgbSA9IHRyYW5zZm9ybWF0aW9uLm1cbiAgICBsZXQgcnggPSB4ICogbVswXSArIHkgKiBtWzRdICsgeiAqIG1bOF0gKyBtWzEyXVxuICAgIGxldCByeSA9IHggKiBtWzFdICsgeSAqIG1bNV0gKyB6ICogbVs5XSArIG1bMTNdXG4gICAgbGV0IHJ6ID0geCAqIG1bMl0gKyB5ICogbVs2XSArIHogKiBtWzEwXSArIG1bMTRdXG4gICAgbGV0IHJ3ID0gMSAvICh4ICogbVszXSArIHkgKiBtWzddICsgeiAqIG1bMTFdICsgbVsxNV0pXG5cbiAgICByZXN1bHQueCA9IHJ4ICogcndcbiAgICByZXN1bHQueSA9IHJ5ICogcndcbiAgICByZXN1bHQueiA9IHJ6ICogcndcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgKiBUaGlzIG1ldGhvZHMgY29tcHV0ZXMgdHJhbnNmb3JtZWQgbm9ybWFsaXplZCBkaXJlY3Rpb24gdmVjdG9ycyBvbmx5IChpZS4gaXQgZG9lcyBub3QgYXBwbHkgdHJhbnNsYXRpb24pXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHRvIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFRyYW5zZm9ybU5vcm1hbCh2ZWN0b3I6IFJlYWRPbmx5VmVjdG9yMywgdHJhbnNmb3JtYXRpb246IE1hdHJpeCk6IFZlY3RvcjMge1xuICAgIGxldCByZXN1bHQgPSBWZWN0b3IzLlplcm8oKVxuICAgIFZlY3RvcjMuVHJhbnNmb3JtTm9ybWFsVG9SZWYodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIG5vcm1hbCB0cmFuc2Zvcm1hdGlvbiBieSB0aGUgZ2l2ZW4gbWF0cml4IG9mIHRoZSBnaXZlbiB2ZWN0b3JcbiAgICogVGhpcyBtZXRob2RzIGNvbXB1dGVzIHRyYW5zZm9ybWVkIG5vcm1hbGl6ZWQgZGlyZWN0aW9uIHZlY3RvcnMgb25seSAoaWUuIGl0IGRvZXMgbm90IGFwcGx5IHRyYW5zbGF0aW9uKVxuICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHRyYW5zZm9ybWF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgVHJhbnNmb3JtTm9ybWFsVG9SZWYodmVjdG9yOiBSZWFkT25seVZlY3RvcjMsIHRyYW5zZm9ybWF0aW9uOiBSZWFkb25seTxNYXRyaXg+LCByZXN1bHQ6IFZlY3RvcjMpOiB2b2lkIHtcbiAgICB0aGlzLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih2ZWN0b3IueCwgdmVjdG9yLnksIHZlY3Rvci56LCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIGZsb2F0cyAoeCwgeSwgeilcbiAgICogVGhpcyBtZXRob2RzIGNvbXB1dGVzIHRyYW5zZm9ybWVkIG5vcm1hbGl6ZWQgZGlyZWN0aW9uIHZlY3RvcnMgb25seSAoaWUuIGl0IGRvZXMgbm90IGFwcGx5IHRyYW5zbGF0aW9uKVxuICAgKiBAcGFyYW0geCAtIGRlZmluZSB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2UgdmVjdG9yXG4gICAqIEBwYXJhbSB5IC0gZGVmaW5lIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZSB2ZWN0b3JcbiAgICogQHBhcmFtIHogLSBkZWZpbmUgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlIHZlY3RvclxuICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoXG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICB6OiBudW1iZXIsXG4gICAgdHJhbnNmb3JtYXRpb246IFJlYWRvbmx5PE1hdHJpeD4sXG4gICAgcmVzdWx0OiBWZWN0b3IzXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IG0gPSB0cmFuc2Zvcm1hdGlvbi5tXG4gICAgcmVzdWx0LnggPSB4ICogbVswXSArIHkgKiBtWzRdICsgeiAqIG1bOF1cbiAgICByZXN1bHQueSA9IHggKiBtWzFdICsgeSAqIG1bNV0gKyB6ICogbVs5XVxuICAgIHJlc3VsdC56ID0geCAqIG1bMl0gKyB5ICogbVs2XSArIHogKiBtWzEwXVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBsb2NhdGVkIGZvciBcImFtb3VudFwiIG9uIHRoZSBDYXRtdWxsUm9tIGludGVycG9sYXRpb24gc3BsaW5lIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiwgXCJ2YWx1ZTJcIiwgXCJ2YWx1ZTNcIiwgXCJ2YWx1ZTRcIlxuICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgZmlyc3QgY29udHJvbCBwb2ludFxuICAgKiBAcGFyYW0gdmFsdWUyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIGNvbnRyb2wgcG9pbnRcbiAgICogQHBhcmFtIHZhbHVlMyAtIGRlZmluZXMgdGhlIHRoaXJkIGNvbnRyb2wgcG9pbnRcbiAgICogQHBhcmFtIHZhbHVlNCAtIGRlZmluZXMgdGhlIGZvdXJ0aCBjb250cm9sIHBvaW50XG4gICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBhbW91bnQgb24gdGhlIHNwbGluZSB0byB1c2VcbiAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENhdG11bGxSb20oXG4gICAgdmFsdWUxOiBSZWFkT25seVZlY3RvcjMsXG4gICAgdmFsdWUyOiBSZWFkT25seVZlY3RvcjMsXG4gICAgdmFsdWUzOiBSZWFkT25seVZlY3RvcjMsXG4gICAgdmFsdWU0OiBSZWFkT25seVZlY3RvcjMsXG4gICAgYW1vdW50OiBudW1iZXJcbiAgKTogVmVjdG9yMyB7XG4gICAgbGV0IHNxdWFyZWQgPSBhbW91bnQgKiBhbW91bnRcbiAgICBsZXQgY3ViZWQgPSBhbW91bnQgKiBzcXVhcmVkXG5cbiAgICBsZXQgeCA9XG4gICAgICAwLjUgKlxuICAgICAgKDIuMCAqIHZhbHVlMi54ICtcbiAgICAgICAgKC12YWx1ZTEueCArIHZhbHVlMy54KSAqIGFtb3VudCArXG4gICAgICAgICgyLjAgKiB2YWx1ZTEueCAtIDUuMCAqIHZhbHVlMi54ICsgNC4wICogdmFsdWUzLnggLSB2YWx1ZTQueCkgKiBzcXVhcmVkICtcbiAgICAgICAgKC12YWx1ZTEueCArIDMuMCAqIHZhbHVlMi54IC0gMy4wICogdmFsdWUzLnggKyB2YWx1ZTQueCkgKiBjdWJlZClcblxuICAgIGxldCB5ID1cbiAgICAgIDAuNSAqXG4gICAgICAoMi4wICogdmFsdWUyLnkgK1xuICAgICAgICAoLXZhbHVlMS55ICsgdmFsdWUzLnkpICogYW1vdW50ICtcbiAgICAgICAgKDIuMCAqIHZhbHVlMS55IC0gNS4wICogdmFsdWUyLnkgKyA0LjAgKiB2YWx1ZTMueSAtIHZhbHVlNC55KSAqIHNxdWFyZWQgK1xuICAgICAgICAoLXZhbHVlMS55ICsgMy4wICogdmFsdWUyLnkgLSAzLjAgKiB2YWx1ZTMueSArIHZhbHVlNC55KSAqIGN1YmVkKVxuXG4gICAgbGV0IHogPVxuICAgICAgMC41ICpcbiAgICAgICgyLjAgKiB2YWx1ZTIueiArXG4gICAgICAgICgtdmFsdWUxLnogKyB2YWx1ZTMueikgKiBhbW91bnQgK1xuICAgICAgICAoMi4wICogdmFsdWUxLnogLSA1LjAgKiB2YWx1ZTIueiArIDQuMCAqIHZhbHVlMy56IC0gdmFsdWU0LnopICogc3F1YXJlZCArXG4gICAgICAgICgtdmFsdWUxLnogKyAzLjAgKiB2YWx1ZTIueiAtIDMuMCAqIHZhbHVlMy56ICsgdmFsdWU0LnopICogY3ViZWQpXG5cbiAgICByZXR1cm4gbmV3IFZlY3RvcjMoeCwgeSwgeilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIGNvb3JkaW5hdGVzIG9mIFwidmFsdWVcIiwgaWYgdGhlIHZlY3RvciBcInZhbHVlXCIgaXMgaW4gdGhlIGN1YmUgZGVmaW5lZCBieSB0aGUgdmVjdG9ycyBcIm1pblwiIGFuZCBcIm1heFwiXG4gICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgbG93ZXIgdGhhbiBvbmUgb2YgdGhlIFwibWluXCIgY29vcmRpbmF0ZSwgdGhlbiB0aGlzIFwidmFsdWVcIiBjb29yZGluYXRlIGlzIHNldCB3aXRoIHRoZSBcIm1pblwiIG9uZVxuICAgKiBJZiBhIGNvb3JkaW5hdGUgdmFsdWUgb2YgXCJ2YWx1ZVwiIGlzIGdyZWF0ZXIgdGhhbiBvbmUgb2YgdGhlIFwibWF4XCIgY29vcmRpbmF0ZSwgdGhlbiB0aGlzIFwidmFsdWVcIiBjb29yZGluYXRlIGlzIHNldCB3aXRoIHRoZSBcIm1heFwiIG9uZVxuICAgKiBAcGFyYW0gdmFsdWUgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHZhbHVlXG4gICAqIEBwYXJhbSBtaW4gLSBkZWZpbmVzIHRoZSBsb3dlciByYW5nZSB2YWx1ZVxuICAgKiBAcGFyYW0gbWF4IC0gZGVmaW5lcyB0aGUgdXBwZXIgcmFuZ2UgdmFsdWVcbiAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENsYW1wKHZhbHVlOiBSZWFkT25seVZlY3RvcjMsIG1pbjogUmVhZE9ubHlWZWN0b3IzLCBtYXg6IFJlYWRPbmx5VmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIGNvbnN0IHYgPSBuZXcgVmVjdG9yMygpXG4gICAgVmVjdG9yMy5DbGFtcFRvUmVmKHZhbHVlLCBtaW4sIG1heCwgdilcbiAgICByZXR1cm4gdlxuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBjb29yZGluYXRlcyBvZiBcInZhbHVlXCIsIGlmIHRoZSB2ZWN0b3IgXCJ2YWx1ZVwiIGlzIGluIHRoZSBjdWJlIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJtaW5cIiBhbmQgXCJtYXhcIlxuICAgKiBJZiBhIGNvb3JkaW5hdGUgdmFsdWUgb2YgXCJ2YWx1ZVwiIGlzIGxvd2VyIHRoYW4gb25lIG9mIHRoZSBcIm1pblwiIGNvb3JkaW5hdGUsIHRoZW4gdGhpcyBcInZhbHVlXCIgY29vcmRpbmF0ZSBpcyBzZXQgd2l0aCB0aGUgXCJtaW5cIiBvbmVcbiAgICogSWYgYSBjb29yZGluYXRlIHZhbHVlIG9mIFwidmFsdWVcIiBpcyBncmVhdGVyIHRoYW4gb25lIG9mIHRoZSBcIm1heFwiIGNvb3JkaW5hdGUsIHRoZW4gdGhpcyBcInZhbHVlXCIgY29vcmRpbmF0ZSBpcyBzZXQgd2l0aCB0aGUgXCJtYXhcIiBvbmVcbiAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgY3VycmVudCB2YWx1ZVxuICAgKiBAcGFyYW0gbWluIC0gZGVmaW5lcyB0aGUgbG93ZXIgcmFuZ2UgdmFsdWVcbiAgICogQHBhcmFtIG1heCAtIGRlZmluZXMgdGhlIHVwcGVyIHJhbmdlIHZhbHVlXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgQ2xhbXBUb1JlZih2YWx1ZTogUmVhZE9ubHlWZWN0b3IzLCBtaW46IFJlYWRPbmx5VmVjdG9yMywgbWF4OiBSZWFkT25seVZlY3RvcjMsIHJlc3VsdDogVmVjdG9yMyk6IHZvaWQge1xuICAgIGxldCB4ID0gdmFsdWUueFxuICAgIHggPSB4ID4gbWF4LnggPyBtYXgueCA6IHhcbiAgICB4ID0geCA8IG1pbi54ID8gbWluLnggOiB4XG5cbiAgICBsZXQgeSA9IHZhbHVlLnlcbiAgICB5ID0geSA+IG1heC55ID8gbWF4LnkgOiB5XG4gICAgeSA9IHkgPCBtaW4ueSA/IG1pbi55IDogeVxuXG4gICAgbGV0IHogPSB2YWx1ZS56XG4gICAgeiA9IHogPiBtYXgueiA/IG1heC56IDogelxuICAgIHogPSB6IDwgbWluLnogPyBtaW4ueiA6IHpcblxuICAgIHJlc3VsdC5jb3B5RnJvbUZsb2F0cyh4LCB5LCB6KVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBsb2NhdGVkIGZvciBcImFtb3VudFwiIChmbG9hdCkgb24gdGhlIEhlcm1pdGUgaW50ZXJwb2xhdGlvbiBzcGxpbmUgZGVmaW5lZCBieSB0aGUgdmVjdG9ycyBcInZhbHVlMVwiLCBcInRhbmdlbnQxXCIsIFwidmFsdWUyXCIsIFwidGFuZ2VudDJcIlxuICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgZmlyc3QgY29udHJvbCBwb2ludFxuICAgKiBAcGFyYW0gdGFuZ2VudDEgLSBkZWZpbmVzIHRoZSBmaXJzdCB0YW5nZW50IHZlY3RvclxuICAgKiBAcGFyYW0gdmFsdWUyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIGNvbnRyb2wgcG9pbnRcbiAgICogQHBhcmFtIHRhbmdlbnQyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIHRhbmdlbnQgdmVjdG9yXG4gICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBhbW91bnQgb24gdGhlIGludGVycG9sYXRpb24gc3BsaW5lIChiZXR3ZWVuIDAgYW5kIDEpXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBIZXJtaXRlKFxuICAgIHZhbHVlMTogUmVhZE9ubHlWZWN0b3IzLFxuICAgIHRhbmdlbnQxOiBSZWFkT25seVZlY3RvcjMsXG4gICAgdmFsdWUyOiBSZWFkT25seVZlY3RvcjMsXG4gICAgdGFuZ2VudDI6IFJlYWRPbmx5VmVjdG9yMyxcbiAgICBhbW91bnQ6IG51bWJlclxuICApOiBWZWN0b3IzIHtcbiAgICBsZXQgc3F1YXJlZCA9IGFtb3VudCAqIGFtb3VudFxuICAgIGxldCBjdWJlZCA9IGFtb3VudCAqIHNxdWFyZWRcbiAgICBsZXQgcGFydDEgPSAyLjAgKiBjdWJlZCAtIDMuMCAqIHNxdWFyZWQgKyAxLjBcbiAgICBsZXQgcGFydDIgPSAtMi4wICogY3ViZWQgKyAzLjAgKiBzcXVhcmVkXG4gICAgbGV0IHBhcnQzID0gY3ViZWQgLSAyLjAgKiBzcXVhcmVkICsgYW1vdW50XG4gICAgbGV0IHBhcnQ0ID0gY3ViZWQgLSBzcXVhcmVkXG5cbiAgICBsZXQgeCA9IHZhbHVlMS54ICogcGFydDEgKyB2YWx1ZTIueCAqIHBhcnQyICsgdGFuZ2VudDEueCAqIHBhcnQzICsgdGFuZ2VudDIueCAqIHBhcnQ0XG4gICAgbGV0IHkgPSB2YWx1ZTEueSAqIHBhcnQxICsgdmFsdWUyLnkgKiBwYXJ0MiArIHRhbmdlbnQxLnkgKiBwYXJ0MyArIHRhbmdlbnQyLnkgKiBwYXJ0NFxuICAgIGxldCB6ID0gdmFsdWUxLnogKiBwYXJ0MSArIHZhbHVlMi56ICogcGFydDIgKyB0YW5nZW50MS56ICogcGFydDMgKyB0YW5nZW50Mi56ICogcGFydDRcbiAgICByZXR1cm4gbmV3IFZlY3RvcjMoeCwgeSwgeilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgbG9jYXRlZCBmb3IgXCJhbW91bnRcIiAoZmxvYXQpIG9uIHRoZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHRoZSB2ZWN0b3JzIFwic3RhcnRcIiBhbmQgXCJlbmRcIlxuICAgKiBAcGFyYW0gc3RhcnQgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgKiBAcGFyYW0gZW5kIC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAqIEBwYXJhbSBhbW91bnQgLSBtYXggZGVmaW5lcyBhbW91bnQgYmV0d2VlbiBib3RoIChiZXR3ZWVuIDAgYW5kIDEpXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBMZXJwKHN0YXJ0OiBSZWFkT25seVZlY3RvcjMsIGVuZDogUmVhZE9ubHlWZWN0b3IzLCBhbW91bnQ6IG51bWJlcik6IFZlY3RvcjMge1xuICAgIGxldCByZXN1bHQgPSBuZXcgVmVjdG9yMygwLCAwLCAwKVxuICAgIFZlY3RvcjMuTGVycFRvUmVmKHN0YXJ0LCBlbmQsIGFtb3VudCwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGxpbmVhciBpbnRlcnBvbGF0aW9uIGZyb20gdGhlIHZlY3RvciBcInN0YXJ0XCIgZm9yIFwiYW1vdW50XCIgdG8gdGhlIHZlY3RvciBcImVuZFwiXG4gICAqIEBwYXJhbSBzdGFydCAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAqIEBwYXJhbSBlbmQgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICogQHBhcmFtIGFtb3VudCAtIG1heCBkZWZpbmVzIGFtb3VudCBiZXR3ZWVuIGJvdGggKGJldHdlZW4gMCBhbmQgMSlcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBMZXJwVG9SZWYoc3RhcnQ6IFJlYWRPbmx5VmVjdG9yMywgZW5kOiBSZWFkT25seVZlY3RvcjMsIGFtb3VudDogbnVtYmVyLCByZXN1bHQ6IFZlY3RvcjMpOiB2b2lkIHtcbiAgICByZXN1bHQueCA9IHN0YXJ0LnggKyAoZW5kLnggLSBzdGFydC54KSAqIGFtb3VudFxuICAgIHJlc3VsdC55ID0gc3RhcnQueSArIChlbmQueSAtIHN0YXJ0LnkpICogYW1vdW50XG4gICAgcmVzdWx0LnogPSBzdGFydC56ICsgKGVuZC56IC0gc3RhcnQueikgKiBhbW91bnRcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkb3QgcHJvZHVjdCAoZmxvYXQpIGJldHdlZW4gdGhlIHZlY3RvcnMgXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGxlZnQgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSByaWdodCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIHRoZSBkb3QgcHJvZHVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBEb3QobGVmdDogUmVhZE9ubHlWZWN0b3IzLCByaWdodDogUmVhZE9ubHlWZWN0b3IzKTogbnVtYmVyIHtcbiAgICByZXR1cm4gbGVmdC54ICogcmlnaHQueCArIGxlZnQueSAqIHJpZ2h0LnkgKyBsZWZ0LnogKiByaWdodC56XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGFzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHRoZSB2ZWN0b3JzIFwibGVmdFwiIGFuZCBcInJpZ2h0XCJcbiAgICogVGhlIGNyb3NzIHByb2R1Y3QgaXMgdGhlbiBvcnRob2dvbmFsIHRvIGJvdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGxlZnQgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSByaWdodCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIHRoZSBjcm9zcyBwcm9kdWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENyb3NzKGxlZnQ6IFJlYWRPbmx5VmVjdG9yMywgcmlnaHQ6IFJlYWRPbmx5VmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIGxldCByZXN1bHQgPSBWZWN0b3IzLlplcm8oKVxuICAgIFZlY3RvcjMuQ3Jvc3NUb1JlZihsZWZ0LCByaWdodCwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBjcm9zcyBwcm9kdWN0IG9mIFwibGVmdFwiIGFuZCBcInJpZ2h0XCJcbiAgICogVGhlIGNyb3NzIHByb2R1Y3QgaXMgdGhlbiBvcnRob2dvbmFsIHRvIGJvdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGxlZnQgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSByaWdodCBvcGVyYW5kXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgQ3Jvc3NUb1JlZihsZWZ0OiBSZWFkT25seVZlY3RvcjMsIHJpZ2h0OiBSZWFkT25seVZlY3RvcjMsIHJlc3VsdDogVmVjdG9yMyk6IHZvaWQge1xuICAgIGNvbnN0IHggPSBsZWZ0LnkgKiByaWdodC56IC0gbGVmdC56ICogcmlnaHQueVxuICAgIGNvbnN0IHkgPSBsZWZ0LnogKiByaWdodC54IC0gbGVmdC54ICogcmlnaHQuelxuICAgIGNvbnN0IHogPSBsZWZ0LnggKiByaWdodC55IC0gbGVmdC55ICogcmlnaHQueFxuICAgIHJlc3VsdC5jb3B5RnJvbUZsb2F0cyh4LCB5LCB6KVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBhcyB0aGUgbm9ybWFsaXphdGlvbiBvZiB0aGUgZ2l2ZW4gdmVjdG9yXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHRvIG5vcm1hbGl6ZVxuICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTm9ybWFsaXplKHZlY3RvcjogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIGxldCByZXN1bHQgPSBWZWN0b3IzLlplcm8oKVxuICAgIFZlY3RvcjMuTm9ybWFsaXplVG9SZWYodmVjdG9yLCByZXN1bHQpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIG5vcm1hbGl6YXRpb24gb2YgdGhlIGdpdmVuIGZpcnN0IHZlY3RvclxuICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byBub3JtYWxpemVcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBOb3JtYWxpemVUb1JlZih2ZWN0b3I6IFZlY3RvcjMsIHJlc3VsdDogVmVjdG9yMyk6IHZvaWQge1xuICAgIHZlY3Rvci5ub3JtYWxpemVUb1JlZihyZXN1bHQpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbWluaW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHR3byBWZWN0b3IzXG4gICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTWluaW1pemUobGVmdDogUmVhZE9ubHlWZWN0b3IzLCByaWdodDogUmVhZE9ubHlWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgbGV0IG1pbiA9IG5ldyBWZWN0b3IzKGxlZnQueCwgbGVmdC55LCBsZWZ0LnopXG4gICAgbWluLm1pbmltaXplSW5QbGFjZShyaWdodClcbiAgICByZXR1cm4gbWluXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbWF4aW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHR3byBWZWN0b3IzXG4gICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTWF4aW1pemUobGVmdDogVmVjdG9yMywgcmlnaHQ6IFZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICBsZXQgbWF4ID0gbmV3IFZlY3RvcjMobGVmdC54LCBsZWZ0LnksIGxlZnQueilcbiAgICBtYXgubWF4aW1pemVJblBsYWNlKHJpZ2h0KVxuICAgIHJldHVybiBtYXhcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB2ZWN0b3JzIFwidmFsdWUxXCIgYW5kIFwidmFsdWUyXCJcbiAgICogQHBhcmFtIHZhbHVlMSAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIHRoZSBkaXN0YW5jZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBEaXN0YW5jZSh2YWx1ZTE6IFJlYWRPbmx5VmVjdG9yMywgdmFsdWUyOiBSZWFkT25seVZlY3RvcjMpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnNxcnQoVmVjdG9yMy5EaXN0YW5jZVNxdWFyZWQodmFsdWUxLCB2YWx1ZTIpKVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdmVjdG9ycyBcInZhbHVlMVwiIGFuZCBcInZhbHVlMlwiXG4gICAqIEBwYXJhbSB2YWx1ZTEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgc3F1YXJlZCBkaXN0YW5jZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBEaXN0YW5jZVNxdWFyZWQodmFsdWUxOiBSZWFkT25seVZlY3RvcjMsIHZhbHVlMjogUmVhZE9ubHlWZWN0b3IzKTogbnVtYmVyIHtcbiAgICBsZXQgeCA9IHZhbHVlMS54IC0gdmFsdWUyLnhcbiAgICBsZXQgeSA9IHZhbHVlMS55IC0gdmFsdWUyLnlcbiAgICBsZXQgeiA9IHZhbHVlMS56IC0gdmFsdWUyLnpcblxuICAgIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHpcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgbG9jYXRlZCBhdCB0aGUgY2VudGVyIGJldHdlZW4gXCJ2YWx1ZTFcIiBhbmQgXCJ2YWx1ZTJcIlxuICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgKiBAcGFyYW0gdmFsdWUyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENlbnRlcih2YWx1ZTE6IFJlYWRPbmx5VmVjdG9yMywgdmFsdWUyOiBSZWFkT25seVZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICBsZXQgY2VudGVyID0gVmVjdG9yMy5BZGQodmFsdWUxLCB2YWx1ZTIpXG4gICAgY2VudGVyLnNjYWxlSW5QbGFjZSgwLjUpXG4gICAgcmV0dXJuIGNlbnRlclxuICB9XG5cbiAgLyoqXG4gICAqIEdpdmVuIHRocmVlIG9ydGhvZ29uYWwgbm9ybWFsaXplZCBsZWZ0LWhhbmRlZCBvcmllbnRlZCBWZWN0b3IzIGF4aXMgaW4gc3BhY2UgKHRhcmdldCBzeXN0ZW0pLFxuICAgKiBSb3RhdGlvbkZyb21BeGlzKCkgcmV0dXJucyB0aGUgcm90YXRpb24gRXVsZXIgYW5nbGVzIChleCA6IHJvdGF0aW9uLngsIHJvdGF0aW9uLnksIHJvdGF0aW9uLnopIHRvIGFwcGx5XG4gICAqIHRvIHNvbWV0aGluZyBpbiBvcmRlciB0byByb3RhdGUgaXQgZnJvbSBpdHMgbG9jYWwgc3lzdGVtIHRvIHRoZSBnaXZlbiB0YXJnZXQgc3lzdGVtXG4gICAqIE5vdGU6IGF4aXMxLCBheGlzMiBhbmQgYXhpczMgYXJlIG5vcm1hbGl6ZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uXG4gICAqIEBwYXJhbSBheGlzMSAtIGRlZmluZXMgdGhlIGZpcnN0IGF4aXNcbiAgICogQHBhcmFtIGF4aXMyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIGF4aXNcbiAgICogQHBhcmFtIGF4aXMzIC0gZGVmaW5lcyB0aGUgdGhpcmQgYXhpc1xuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJvdGF0aW9uRnJvbUF4aXMoYXhpczE6IFZlY3RvcjMsIGF4aXMyOiBWZWN0b3IzLCBheGlzMzogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIGxldCByb3RhdGlvbiA9IFZlY3RvcjMuWmVybygpXG4gICAgVmVjdG9yMy5Sb3RhdGlvbkZyb21BeGlzVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcm90YXRpb24pXG4gICAgcmV0dXJuIHJvdGF0aW9uXG4gIH1cblxuICAvKipcbiAgICogVGhlIHNhbWUgdGhhbiBSb3RhdGlvbkZyb21BeGlzIGJ1dCB1cGRhdGVzIHRoZSBnaXZlbiByZWYgVmVjdG9yMyBwYXJhbWV0ZXIgaW5zdGVhZCBvZiByZXR1cm5pbmcgYSBuZXcgVmVjdG9yM1xuICAgKiBAcGFyYW0gYXhpczEgLSBkZWZpbmVzIHRoZSBmaXJzdCBheGlzXG4gICAqIEBwYXJhbSBheGlzMiAtIGRlZmluZXMgdGhlIHNlY29uZCBheGlzXG4gICAqIEBwYXJhbSBheGlzMyAtIGRlZmluZXMgdGhlIHRoaXJkIGF4aXNcbiAgICogQHBhcmFtIHJlZiAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBSb3RhdGlvbkZyb21BeGlzVG9SZWYoYXhpczE6IFZlY3RvcjMsIGF4aXMyOiBWZWN0b3IzLCBheGlzMzogVmVjdG9yMywgcmVmOiBWZWN0b3IzKTogdm9pZCB7XG4gICAgbGV0IHF1YXQgPSBNYXRoVG1wLlF1YXRlcm5pb25bMF1cbiAgICBRdWF0ZXJuaW9uLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcXVhdClcbiAgICByZWYuY29weUZyb20ocXVhdC5ldWxlckFuZ2xlcylcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBWZWN0b3IzXG4gICAqIEByZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIFZlY3RvcjMgY29vcmRpbmF0ZXMuXG4gICAqL1xuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCgke3RoaXMueH0sICR7dGhpcy55fSwgJHt0aGlzLnp9KWBcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjbGFzcyBuYW1lXG4gICAqIEByZXR1cm5zIHRoZSBzdHJpbmcgXCJWZWN0b3IzXCJcbiAgICovXG4gIHB1YmxpYyBnZXRDbGFzc05hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ1ZlY3RvcjMnXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgVmVjdG9yMyBoYXNoIGNvZGVcbiAgICogQHJldHVybnMgYSBudW1iZXIgd2hpY2ggdGVuZHMgdG8gYmUgdW5pcXVlIGJldHdlZW4gVmVjdG9yMyBpbnN0YW5jZXNcbiAgICovXG4gIHB1YmxpYyBnZXRIYXNoQ29kZSgpOiBudW1iZXIge1xuICAgIGxldCBoYXNoID0gdGhpcy54IHx8IDBcbiAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHRoaXMueSB8fCAwKVxuICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodGhpcy56IHx8IDApXG4gICAgcmV0dXJuIGhhc2hcbiAgfVxuXG4gIC8vIE9wZXJhdG9yc1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhyZWUgZWxlbWVudHMgOiB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIFZlY3RvcjNcbiAgICogQHJldHVybnMgYSBuZXcgYXJyYXkgb2YgbnVtYmVyc1xuICAgKi9cbiAgcHVibGljIGFzQXJyYXkoKTogbnVtYmVyW10ge1xuICAgIGxldCByZXN1bHQ6IG51bWJlcltdID0gW11cbiAgICB0aGlzLnRvQXJyYXkocmVzdWx0LCAwKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3B1bGF0ZXMgdGhlIGdpdmVuIGFycmF5IG9yIEZsb2F0QXJyYXkgZnJvbSB0aGUgZ2l2ZW4gaW5kZXggd2l0aCB0aGUgc3VjY2Vzc2l2ZSBjb29yZGluYXRlcyBvZiB0aGUgVmVjdG9yM1xuICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBkZXN0aW5hdGlvbiBhcnJheVxuICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIGRlc3RpbmF0aW9uIGFycmF5XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyB0b0FycmF5KGFycmF5OiBGbG9hdEFycmF5LCBpbmRleDogbnVtYmVyID0gMCk6IFZlY3RvcjMge1xuICAgIGFycmF5W2luZGV4XSA9IHRoaXMueFxuICAgIGFycmF5W2luZGV4ICsgMV0gPSB0aGlzLnlcbiAgICBhcnJheVtpbmRleCArIDJdID0gdGhpcy56XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGUgY3VycmVudCBWZWN0b3IzIGludG8gYSBxdWF0ZXJuaW9uIChjb25zaWRlcmluZyB0aGF0IHRoZSBWZWN0b3IzIGNvbnRhaW5zIEV1bGVyIGFuZ2xlcyByZXByZXNlbnRhdGlvbiBvZiBhIHJvdGF0aW9uKVxuICAgKiBAcmV0dXJucyBhIG5ldyBRdWF0ZXJuaW9uIG9iamVjdCwgY29tcHV0ZWQgZnJvbSB0aGUgVmVjdG9yMyBjb29yZGluYXRlc1xuICAgKi9cbiAgcHVibGljIHRvUXVhdGVybmlvbigpOiBRdWF0ZXJuaW9uIHtcbiAgICByZXR1cm4gUXVhdGVybmlvbi5JZGVudGl0eS5zZXRFdWxlcih0aGlzLnksIHRoaXMueCwgdGhpcy56KVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGdpdmVuIHZlY3RvciB0byB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIGFkZEluUGxhY2Uob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIHJldHVybiB0aGlzLmFkZEluUGxhY2VGcm9tRmxvYXRzKG90aGVyVmVjdG9yLngsIG90aGVyVmVjdG9yLnksIG90aGVyVmVjdG9yLnopXG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMgdG8gdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBhZGRJblBsYWNlRnJvbUZsb2F0cyh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgdGhpcy54ICs9IHhcbiAgICB0aGlzLnkgKz0geVxuICAgIHRoaXMueiArPSB6XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IFZlY3RvcjMsIHJlc3VsdCBvZiB0aGUgYWRkaXRpb24gdGhlIGN1cnJlbnQgVmVjdG9yMyBhbmQgdGhlIGdpdmVuIHZlY3RvclxuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgcmVzdWx0aW5nIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBhZGQob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMyh0aGlzLnggKyBvdGhlclZlY3Rvci54LCB0aGlzLnkgKyBvdGhlclZlY3Rvci55LCB0aGlzLnogKyBvdGhlclZlY3Rvci56KVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGN1cnJlbnQgVmVjdG9yMyB0byB0aGUgZ2l2ZW4gb25lIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgdmVjdG9yIFwicmVzdWx0XCJcbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIGFkZFRvUmVmKG90aGVyVmVjdG9yOiBSZWFkT25seVZlY3RvcjMsIHJlc3VsdDogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIHJldHVybiByZXN1bHQuY29weUZyb21GbG9hdHModGhpcy54ICsgb3RoZXJWZWN0b3IueCwgdGhpcy55ICsgb3RoZXJWZWN0b3IueSwgdGhpcy56ICsgb3RoZXJWZWN0b3IueilcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJ0cmFjdCB0aGUgZ2l2ZW4gdmVjdG9yIGZyb20gdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzdWJ0cmFjdEluUGxhY2Uob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIHRoaXMueCAtPSBvdGhlclZlY3Rvci54XG4gICAgdGhpcy55IC09IG90aGVyVmVjdG9yLnlcbiAgICB0aGlzLnogLT0gb3RoZXJWZWN0b3IuelxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzLCByZXN1bHQgb2YgdGhlIHN1YnRyYWN0aW9uIG9mIHRoZSBnaXZlbiB2ZWN0b3IgZnJvbSB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIHRoZSByZXN1bHRpbmcgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHN1YnRyYWN0KG90aGVyVmVjdG9yOiBSZWFkT25seVZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54IC0gb3RoZXJWZWN0b3IueCwgdGhpcy55IC0gb3RoZXJWZWN0b3IueSwgdGhpcy56IC0gb3RoZXJWZWN0b3IueilcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJ0cmFjdHMgdGhlIGdpdmVuIHZlY3RvciBmcm9tIHRoZSBjdXJyZW50IFZlY3RvcjMgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIHRoZSB2ZWN0b3IgXCJyZXN1bHRcIi5cbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHN1YnRyYWN0VG9SZWYob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMywgcmVzdWx0OiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIHRoaXMuc3VidHJhY3RGcm9tRmxvYXRzVG9SZWYob3RoZXJWZWN0b3IueCwgb3RoZXJWZWN0b3IueSwgb3RoZXJWZWN0b3IueiwgcmVzdWx0KVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgd2l0aCB0aGUgc3VidHJhY3Rpb24gb2YgdGhlIGdpdmVuIGZsb2F0cyBmcm9tIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc3VidHJhY3RGcm9tRmxvYXRzKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54IC0geCwgdGhpcy55IC0geSwgdGhpcy56IC0geilcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJ0cmFjdHMgdGhlIGdpdmVuIGZsb2F0cyBmcm9tIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYW5kIHNldCB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGlzIHJlc3VsdFxuICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgc3VidHJhY3RGcm9tRmxvYXRzVG9SZWYoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgcmVzdWx0OiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIHJlc3VsdC5jb3B5RnJvbUZsb2F0cyh0aGlzLnggLSB4LCB0aGlzLnkgLSB5LCB0aGlzLnogLSB6KVxuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGxpZXMgdGhpcyB2ZWN0b3IgKHdpdGggYW4gaW1wbGljaXQgMSBpbiB0aGUgNHRoIGRpbWVuc2lvbikgYW5kIG0sIGFuZCBkaXZpZGVzIGJ5IHBlcnNwZWN0aXZlXG4gICAqIEBwYXJhbSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAqL1xuICBwdWJsaWMgYXBwbHlNYXRyaXg0KG1hdHJpeDogTWF0cml4KSB7XG4gICAgdGhpcy5hcHBseU1hdHJpeDRUb1JlZihtYXRyaXgsIHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogTXVsdGlwbGllcyB0aGlzIHZlY3RvciAod2l0aCBhbiBpbXBsaWNpdCAxIGluIHRoZSA0dGggZGltZW5zaW9uKSBhbmQgbSwgYW5kIGRpdmlkZXMgYnkgcGVyc3BlY3RpdmUgYW5kIHNldCB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGlzIHJlc3VsdFxuICAgKiBAcGFyYW0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgYXBwbHlNYXRyaXg0VG9SZWYobWF0cml4OiBNYXRyaXgsIHJlc3VsdDogVmVjdG9yMykge1xuICAgIGNvbnN0IHsgeCwgeSwgeiB9ID0gdGhpc1xuICAgIGNvbnN0IHsgbSB9ID0gbWF0cml4XG4gICAgY29uc3QgdyA9IDEgLyAobVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdKVxuXG4gICAgcmVzdWx0LnggPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pICogd1xuICAgIHJlc3VsdC55ID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAqIHdcbiAgICByZXN1bHQueiA9IChtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0pICogd1xuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZXMgdGhlIGN1cnJlbnQgVmVjdG9yMyBiYXNlZCBvbiB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICAgKiBAcGFyYW0gcSAtIGRlZmluZXMgdGhlIFF1YXRlcm5pb25cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHJvdGF0ZShxOiBRdWF0ZXJuaW9uKSB7XG4gICAgcmV0dXJuIHRoaXMucm90YXRlVG9SZWYocSwgdGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBSb3RhdGVzIGN1cnJlbnQgVmVjdG9yMyBiYXNlZCBvbiB0aGUgZ2l2ZW4gcXVhdGVybmlvbiwgYnV0IGFwcGxpZXMgdGhlIHJvdGF0aW9uIHRvIHRhcmdldCBWZWN0b3IzLlxuICAgKiBAcGFyYW0gcSAtIGRlZmluZXMgdGhlIFF1YXRlcm5pb25cbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBWZWN0b3IzXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyByb3RhdGVUb1JlZihxOiBRdWF0ZXJuaW9uLCByZXN1bHQ6IFZlY3RvcjMpIHtcbiAgICBjb25zdCB7IHgsIHksIHogfSA9IHRoaXNcbiAgICBjb25zdCB7IHg6IHF4LCB5OiBxeSwgejogcXosIHc6IHF3IH0gPSBxXG5cbiAgICAvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY3RvclxuXG4gICAgY29uc3QgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHlcbiAgICBjb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogelxuICAgIGNvbnN0IGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4XG4gICAgY29uc3QgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6XG5cbiAgICAvLyBjYWxjdWxhdGUgcmVzdWx0ICogaW52ZXJzZSBxdWF0XG5cbiAgICByZXN1bHQueCA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXlcbiAgICByZXN1bHQueSA9IGl5ICogcXcgKyBpdyAqIC1xeSArIGl6ICogLXF4IC0gaXggKiAtcXpcbiAgICByZXN1bHQueiA9IGl6ICogcXcgKyBpdyAqIC1xeiArIGl4ICogLXF5IC0gaXkgKiAtcXhcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIGN1cnJlbnQgVmVjdG9yMyBuZWdhdGVkIGNvb3JkaW5hdGVzXG4gICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBuZWdhdGUoKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzKC10aGlzLngsIC10aGlzLnksIC10aGlzLnopXG4gIH1cblxuICAvKipcbiAgICogTXVsdGlwbGllcyB0aGUgVmVjdG9yMyBjb29yZGluYXRlcyBieSB0aGUgZmxvYXQgXCJzY2FsZVwiXG4gICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIG11bHRpcGxpZXIgZmFjdG9yXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHNjYWxlSW5QbGFjZShzY2FsZTogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgdGhpcy54ICo9IHNjYWxlXG4gICAgdGhpcy55ICo9IHNjYWxlXG4gICAgdGhpcy56ICo9IHNjYWxlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBtdWx0aXBsaWVkIGJ5IHRoZSBmbG9hdCBcInNjYWxlXCJcbiAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgbXVsdGlwbGllciBmYWN0b3JcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIHNjYWxlKHNjYWxlOiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlLCB0aGlzLnogKiBzY2FsZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBNdWx0aXBsaWVzIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGZsb2F0IFwic2NhbGVcIiBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIG11bHRpcGxpZXIgZmFjdG9yXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzY2FsZVRvUmVmKHNjYWxlOiBudW1iZXIsIHJlc3VsdDogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIHJldHVybiByZXN1bHQuY29weUZyb21GbG9hdHModGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlLCB0aGlzLnogKiBzY2FsZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGUgY3VycmVudCBWZWN0b3IzIHZhbHVlcyBieSBhIGZhY3RvciBhbmQgYWRkIHRoZSByZXN1bHQgdG8gYSBnaXZlbiBWZWN0b3IzXG4gICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzY2FsZUFuZEFkZFRvUmVmKHNjYWxlOiBudW1iZXIsIHJlc3VsdDogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIHJldHVybiByZXN1bHQuYWRkSW5QbGFjZUZyb21GbG9hdHModGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlLCB0aGlzLnogKiBzY2FsZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgVmVjdG9yMyBhbmQgdGhlIGdpdmVuIHZlY3RvciBjb29yZGluYXRlcyBhcmUgc3RyaWN0bHkgZXF1YWxcbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHJldHVybnMgdHJ1ZSBpZiBib3RoIHZlY3RvcnMgYXJlIGVxdWFsc1xuICAgKi9cbiAgcHVibGljIGVxdWFscyhvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG90aGVyVmVjdG9yICYmIHRoaXMueCA9PT0gb3RoZXJWZWN0b3IueCAmJiB0aGlzLnkgPT09IG90aGVyVmVjdG9yLnkgJiYgdGhpcy56ID09PSBvdGhlclZlY3Rvci56XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IFZlY3RvcjMgYW5kIHRoZSBnaXZlbiB2ZWN0b3IgY29vcmRpbmF0ZXMgYXJlIGRpc3RhbnQgbGVzcyB0aGFuIGVwc2lsb25cbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHBhcmFtIGVwc2lsb24gLSBkZWZpbmVzIHRoZSBtaW5pbWFsIGRpc3RhbmNlIHRvIGRlZmluZSB2YWx1ZXMgYXMgZXF1YWxzXG4gICAqIEByZXR1cm5zIHRydWUgaWYgYm90aCB2ZWN0b3JzIGFyZSBkaXN0YW50IGxlc3MgdGhhbiBlcHNpbG9uXG4gICAqL1xuICBwdWJsaWMgZXF1YWxzV2l0aEVwc2lsb24ob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMywgZXBzaWxvbjogbnVtYmVyID0gRXBzaWxvbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlclZlY3RvciAmJlxuICAgICAgU2NhbGFyLldpdGhpbkVwc2lsb24odGhpcy54LCBvdGhlclZlY3Rvci54LCBlcHNpbG9uKSAmJlxuICAgICAgU2NhbGFyLldpdGhpbkVwc2lsb24odGhpcy55LCBvdGhlclZlY3Rvci55LCBlcHNpbG9uKSAmJlxuICAgICAgU2NhbGFyLldpdGhpbkVwc2lsb24odGhpcy56LCBvdGhlclZlY3Rvci56LCBlcHNpbG9uKVxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBlcXVhbHMgdGhlIGdpdmVuIGZsb2F0c1xuICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0cnVlIGlmIGJvdGggdmVjdG9ycyBhcmUgZXF1YWxzXG4gICAqL1xuICBwdWJsaWMgZXF1YWxzVG9GbG9hdHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnggPT09IHggJiYgdGhpcy55ID09PSB5ICYmIHRoaXMueiA9PT0gelxuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBieSB0aGUgZ2l2ZW4gb25lc1xuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBtdWx0aXBseUluUGxhY2Uob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIHRoaXMueCAqPSBvdGhlclZlY3Rvci54XG4gICAgdGhpcy55ICo9IG90aGVyVmVjdG9yLnlcbiAgICB0aGlzLnogKj0gb3RoZXJWZWN0b3IuelxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzLCByZXN1bHQgb2YgdGhlIG11bHRpcGxpY2F0aW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgYnkgdGhlIGdpdmVuIHZlY3RvclxuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBtdWx0aXBseShvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIHRoaXMubXVsdGlwbHlCeUZsb2F0cyhvdGhlclZlY3Rvci54LCBvdGhlclZlY3Rvci55LCBvdGhlclZlY3Rvci56KVxuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgVmVjdG9yMyBieSB0aGUgZ2l2ZW4gb25lIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCJcbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIG11bHRpcGx5VG9SZWYob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMywgcmVzdWx0OiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIHJlc3VsdC5jb3B5RnJvbUZsb2F0cyh0aGlzLnggKiBvdGhlclZlY3Rvci54LCB0aGlzLnkgKiBvdGhlclZlY3Rvci55LCB0aGlzLnogKiBvdGhlclZlY3Rvci56KVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBtdWxsaXBsaWNhdGlvbiBvZiB0aGUgY3VycmVudCBWZWN0b3IzIGNvb3JkaW5hdGVzIGJ5IHRoZSBnaXZlbiBmbG9hdHNcbiAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgbXVsdGlwbHlCeUZsb2F0cyh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueCAqIHgsIHRoaXMueSAqIHksIHRoaXMueiAqIHopXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGRpdmlzaW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIG9uZXNcbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgZGl2aWRlKG90aGVyVmVjdG9yOiBSZWFkT25seVZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54IC8gb3RoZXJWZWN0b3IueCwgdGhpcy55IC8gb3RoZXJWZWN0b3IueSwgdGhpcy56IC8gb3RoZXJWZWN0b3IueilcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXZpZGVzIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIG9uZXMgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIlxuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgZGl2aWRlVG9SZWYob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMywgcmVzdWx0OiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIHJlc3VsdC5jb3B5RnJvbUZsb2F0cyh0aGlzLnggLyBvdGhlclZlY3Rvci54LCB0aGlzLnkgLyBvdGhlclZlY3Rvci55LCB0aGlzLnogLyBvdGhlclZlY3Rvci56KVxuICB9XG5cbiAgLyoqXG4gICAqIERpdmlkZXMgdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBieSB0aGUgZ2l2ZW4gb25lcy5cbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgZGl2aWRlSW5QbGFjZShvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYob3RoZXJWZWN0b3IsIHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY3VycmVudCBWZWN0b3IzIHdpdGggdGhlIG1pbmltYWwgY29vcmRpbmF0ZSB2YWx1ZXMgYmV0d2VlbiBpdHMgYW5kIHRoZSBnaXZlbiB2ZWN0b3Igb25lc1xuICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBtaW5pbWl6ZUluUGxhY2Uob3RoZXI6IFJlYWRPbmx5VmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIHJldHVybiB0aGlzLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMob3RoZXIueCwgb3RoZXIueSwgb3RoZXIueilcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IFZlY3RvcjMgd2l0aCB0aGUgbWF4aW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIGl0cyBhbmQgdGhlIGdpdmVuIHZlY3RvciBvbmVzLlxuICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBtYXhpbWl6ZUluUGxhY2Uob3RoZXI6IFJlYWRPbmx5VmVjdG9yMyk6IFZlY3RvcjMge1xuICAgIHJldHVybiB0aGlzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMob3RoZXIueCwgb3RoZXIueSwgb3RoZXIueilcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IFZlY3RvcjMgd2l0aCB0aGUgbWluaW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIGl0cyBhbmQgdGhlIGdpdmVuIGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIG1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjMge1xuICAgIGlmICh4IDwgdGhpcy54KSB7XG4gICAgICB0aGlzLnggPSB4XG4gICAgfVxuICAgIGlmICh5IDwgdGhpcy55KSB7XG4gICAgICB0aGlzLnkgPSB5XG4gICAgfVxuICAgIGlmICh6IDwgdGhpcy56KSB7XG4gICAgICB0aGlzLnogPSB6XG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY3VycmVudCBWZWN0b3IzIHdpdGggdGhlIG1heGltYWwgY29vcmRpbmF0ZSB2YWx1ZXMgYmV0d2VlbiBpdHMgYW5kIHRoZSBnaXZlbiBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgbWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgaWYgKHggPiB0aGlzLngpIHtcbiAgICAgIHRoaXMueCA9IHhcbiAgICB9XG4gICAgaWYgKHkgPiB0aGlzLnkpIHtcbiAgICAgIHRoaXMueSA9IHlcbiAgICB9XG4gICAgaWYgKHogPiB0aGlzLnopIHtcbiAgICAgIHRoaXMueiA9IHpcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IFZlY3RvcjMgZnJvbSBjdXJyZW50IFZlY3RvcjMgZmxvb3JlZCB2YWx1ZXNcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIGZsb29yKCk6IFZlY3RvcjMge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMyhNYXRoLmZsb29yKHRoaXMueCksIE1hdGguZmxvb3IodGhpcy55KSwgTWF0aC5mbG9vcih0aGlzLnopKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgVmVjdG9yMyBmcm9tIGN1cnJlbnQgVmVjdG9yMyBmbG9vcmVkIHZhbHVlc1xuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgZnJhY3QoKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueCAtIE1hdGguZmxvb3IodGhpcy54KSwgdGhpcy55IC0gTWF0aC5mbG9vcih0aGlzLnkpLCB0aGlzLnogLSBNYXRoLmZsb29yKHRoaXMueikpXG4gIH1cblxuICAvLyBQcm9wZXJ0aWVzXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBsZW5ndGggb2YgdGhlIFZlY3RvcjNcbiAgICogQHJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgVmVjdG8zXG4gICAqL1xuICBwdWJsaWMgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgdGhlIFZlY3RvcjNcbiAgICogQHJldHVybnMgc3F1YXJlZCBsZW5ndGggb2YgdGhlIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBsZW5ndGhTcXVhcmVkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMuelxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBWZWN0b3IzLlxuICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBub3JtYWxpemUoKTogVmVjdG9yMyB7XG4gICAgcmV0dXJuIHRoaXMubm9ybWFsaXplRnJvbUxlbmd0aCh0aGlzLmxlbmd0aCgpKVxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBWZWN0b3IzIHdpdGggdGhlIGdpdmVuIGlucHV0IGxlbmd0aC5cbiAgICogUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGlzIGFuIGluIHBsYWNlIG9wZXJhdGlvbi5cbiAgICogQHBhcmFtIGxlbiAtIHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBub3JtYWxpemVGcm9tTGVuZ3RoKGxlbjogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgaWYgKGxlbiA9PT0gMCB8fCBsZW4gPT09IDEuMCkge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zY2FsZUluUGxhY2UoMS4wIC8gbGVuKVxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBWZWN0b3IzIHRvIGEgbmV3IHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBub3JtYWxpemVUb05ldygpOiBWZWN0b3IzIHtcbiAgICBjb25zdCBub3JtYWxpemVkID0gbmV3IFZlY3RvcjMoMCwgMCwgMClcbiAgICB0aGlzLm5vcm1hbGl6ZVRvUmVmKG5vcm1hbGl6ZWQpXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgdGhlIGN1cnJlbnQgVmVjdG9yMyB0byB0aGUgcmVmZXJlbmNlXG4gICAqIEBwYXJhbSByZWZlcmVuY2UgLSBkZWZpbmUgdGhlIFZlY3RvcjMgdG8gdXBkYXRlXG4gICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBub3JtYWxpemVUb1JlZihyZWZlcmVuY2U6IFZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICBsZXQgbGVuID0gdGhpcy5sZW5ndGgoKVxuICAgIGlmIChsZW4gPT09IDAgfHwgbGVuID09PSAxLjApIHtcbiAgICAgIHJldHVybiByZWZlcmVuY2UuY29weUZyb21GbG9hdHModGhpcy54LCB0aGlzLnksIHRoaXMueilcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zY2FsZVRvUmVmKDEuMCAvIGxlbiwgcmVmZXJlbmNlKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgVmVjdG9yMyBjb3BpZWQgZnJvbSB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgKi9cbiAgcHVibGljIGNsb25lKCk6IFZlY3RvcjMge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMyh0aGlzLngsIHRoaXMueSwgdGhpcy56KVxuICB9XG5cbiAgLyoqXG4gICAqIENvcGllcyB0aGUgZ2l2ZW4gdmVjdG9yIGNvb3JkaW5hdGVzIHRvIHRoZSBjdXJyZW50IFZlY3RvcjMgb25lc1xuICAgKiBAcGFyYW0gc291cmNlIC0gZGVmaW5lcyB0aGUgc291cmNlIFZlY3RvcjNcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgY29weUZyb20oc291cmNlOiBSZWFkT25seVZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICByZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhzb3VyY2UueCwgc291cmNlLnksIHNvdXJjZS56KVxuICB9XG5cbiAgLyoqXG4gICAqIENvcGllcyB0aGUgZ2l2ZW4gZmxvYXRzIHRvIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBWZWN0b3IzXG4gICAqL1xuICBwdWJsaWMgY29weUZyb21GbG9hdHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjMge1xuICAgIHRoaXMueCA9IHhcbiAgICB0aGlzLnkgPSB5XG4gICAgdGhpcy56ID0gelxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ29waWVzIHRoZSBnaXZlbiBmbG9hdHMgdG8gdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlc1xuICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjMge1xuICAgIHJldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKHgsIHksIHopXG4gIH1cblxuICAvKipcbiAgICogQ29waWVzIHRoZSBnaXZlbiBmbG9hdCB0byB0aGUgY3VycmVudCBWZWN0b3IzIGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSB2IC0gZGVmaW5lcyB0aGUgeCwgeSBhbmQgeiBjb29yZGluYXRlcyBvZiB0aGUgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBzZXRBbGwodjogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgdGhpcy54ID0gdGhpcy55ID0gdGhpcy56ID0gdlxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cbiIsImltcG9ydCB7IGJ1aWxkQXJyYXkgfSBmcm9tICcuLi8uLi9lY3MvaGVscGVycydcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMnXG5pbXBvcnQgeyBRdWF0ZXJuaW9uIH0gZnJvbSAnLi9RdWF0ZXJuaW9uJ1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi9NYXRyaXgnXG5cbi8vIFRlbXBvcmFyeSBwcmUtYWxsb2NhdGVkIG9iamVjdHMgZm9yIGVuZ2luZSBpbnRlcm5hbCB1c2Vcbi8vIHVzYWdlIGluIGFueSBpbnRlcm5hbCBmdW5jdGlvbiA6XG4vLyB2YXIgdG1wID0gVG1wLlZlY3RvcjNbMF07ICAgPD0gZ2V0cyBhY2Nlc3MgdG8gdGhlIGZpcnN0IHByZS1jcmVhdGVkIFZlY3RvcjNcbi8vIFRoZXJlJ3MgYSBUbXAgYXJyYXkgcGVyIG9iamVjdCB0eXBlIDogaW50LCBmbG9hdCwgVmVjdG9yMiwgVmVjdG9yMywgVmVjdG9yNCwgUXVhdGVybmlvbiwgTWF0cml4XG5cbi8qKlxuICogQGludGVybmFsXG4gKiBTYW1lIGFzIFRtcCBidXQgbm90IGV4cG9ydGVkIHRvIGtlZXAgaXQgb25seSBmb3IgbWF0aCBmdW5jdGlvbnMgdG8gYXZvaWQgY29uZmxpY3RzXG4gKi9cbmV4cG9ydCBjb25zdCBNYXRoVG1wID0ge1xuICBWZWN0b3IzOiBidWlsZEFycmF5KDYsIFZlY3RvcjMuWmVybyksXG4gIE1hdHJpeDogYnVpbGRBcnJheSgyLCBNYXRyaXguSWRlbnRpdHkpLFxuICBRdWF0ZXJuaW9uOiBidWlsZEFycmF5KDMsIFF1YXRlcm5pb24uWmVybyksXG4gIHN0YXRpY1VwOiBWZWN0b3IzLlVwKCkgYXMgUmVhZG9ubHk8VmVjdG9yMz4sXG4gIHRtcE1hdHJpeDogTWF0cml4Llplcm8oKVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vVmVjdG9yMidcblxuLyoqXG4gKiBEZWZpbmVzIGFuZ2xlIHJlcHJlc2VudGF0aW9uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBBbmdsZSB7XG4gIHByaXZhdGUgX3JhZGlhbnM6IG51bWJlclxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIEFuZ2xlIG9iamVjdCBvZiBcInJhZGlhbnNcIiByYWRpYW5zIChmbG9hdCkuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyYWRpYW5zOiBudW1iZXIpIHtcbiAgICB0aGlzLl9yYWRpYW5zID0gcmFkaWFuc1xuICAgIGlmICh0aGlzLl9yYWRpYW5zIDwgMC4wKSB7XG4gICAgICB0aGlzLl9yYWRpYW5zICs9IDIuMCAqIE1hdGguUElcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIG5ldyBBbmdsZSBvYmplY3QgdmFsdWVkIHdpdGggdGhlIGFuZ2xlIHZhbHVlIGluIHJhZGlhbnMgYmV0d2VlbiB0aGUgdHdvIGdpdmVuIHZlY3RvcnNcbiAgICogQHBhcmFtIGEgLSBkZWZpbmVzIGZpcnN0IHZlY3RvclxuICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgc2Vjb25kIHZlY3RvclxuICAgKiBAcmV0dXJucyBhIG5ldyBBbmdsZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBCZXR3ZWVuVHdvUG9pbnRzKGE6IFZlY3RvcjIsIGI6IFZlY3RvcjIpOiBBbmdsZSB7XG4gICAgbGV0IGRlbHRhID0gYi5zdWJ0cmFjdChhKVxuICAgIGxldCB0aGV0YSA9IE1hdGguYXRhbjIoZGVsdGEueSwgZGVsdGEueClcbiAgICByZXR1cm4gbmV3IEFuZ2xlKHRoZXRhKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgQW5nbGUgb2JqZWN0IGZyb20gdGhlIGdpdmVuIGZsb2F0IGluIHJhZGlhbnNcbiAgICogQHBhcmFtIHJhZGlhbnMgLSBkZWZpbmVzIHRoZSBhbmdsZSB2YWx1ZSBpbiByYWRpYW5zXG4gICAqIEByZXR1cm5zIGEgbmV3IEFuZ2xlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21SYWRpYW5zKHJhZGlhbnM6IG51bWJlcik6IEFuZ2xlIHtcbiAgICByZXR1cm4gbmV3IEFuZ2xlKHJhZGlhbnMpXG4gIH1cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgQW5nbGUgb2JqZWN0IGZyb20gdGhlIGdpdmVuIGZsb2F0IGluIGRlZ3JlZXNcbiAgICogQHBhcmFtIGRlZ3JlZXMgLSBkZWZpbmVzIHRoZSBhbmdsZSB2YWx1ZSBpbiBkZWdyZWVzXG4gICAqIEByZXR1cm5zIGEgbmV3IEFuZ2xlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21EZWdyZWVzKGRlZ3JlZXM6IG51bWJlcik6IEFuZ2xlIHtcbiAgICByZXR1cm4gbmV3IEFuZ2xlKChkZWdyZWVzICogTWF0aC5QSSkgLyAxODAuMClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdmFsdWUgaW4gZGVncmVlc1xuICAgKiBAcmV0dXJucyB0aGUgQW5nbGUgdmFsdWUgaW4gZGVncmVlcyAoZmxvYXQpXG4gICAqL1xuICBwdWJsaWMgZGVncmVlcygpIHtcbiAgICByZXR1cm4gKHRoaXMuX3JhZGlhbnMgKiAxODAuMCkgLyBNYXRoLlBJXG4gIH1cblxuICAvKipcbiAgICogR2V0IHZhbHVlIGluIHJhZGlhbnNcbiAgICogQHJldHVybnMgdGhlIEFuZ2xlIHZhbHVlIGluIHJhZGlhbnMgKGZsb2F0KVxuICAgKi9cbiAgcHVibGljIHJhZGlhbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JhZGlhbnNcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi9NYXRyaXgnXG5pbXBvcnQgeyBGbG9hdEFycmF5LCBFcHNpbG9uIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IFNjYWxhciB9IGZyb20gJy4vU2NhbGFyJ1xuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIHZlY3RvciBjb250YWluaW5nIDIgY29vcmRpbmF0ZXNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvcjIgaW1wbGVtZW50cyBSZWFkT25seVZlY3RvcjIge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBWZWN0b3IyIGZyb20gdGhlIGdpdmVuIHggYW5kIHkgY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSBmaXJzdCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgc2Vjb25kIGNvb3JkaW5hdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBkZWZpbmVzIHRoZSBmaXJzdCBjb29yZGluYXRlICovXG4gICAgcHVibGljIHg6IG51bWJlciA9IDAsXG4gICAgLyoqIGRlZmluZXMgdGhlIHNlY29uZCBjb29yZGluYXRlICovXG4gICAgcHVibGljIHk6IG51bWJlciA9IDBcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IFZlY3RvcjIoMCwgMClcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBaZXJvKCk6IFZlY3RvcjIge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMigwLCAwKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgVmVjdG9yMigxLCAxKVxuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIE9uZSgpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoMSwgMSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjIgYXMgdGhlIHJlc3VsdCBvZiB0aGUgYWRkaXRpb24gb2YgdGhlIHR3byBnaXZlbiB2ZWN0b3JzLlxuICAgKiBAcGFyYW0gdmVjdG9yMSAtIHRoZSBmaXJzdCB2ZWN0b3JcbiAgICogQHBhcmFtIHZlY3RvcjIgLSB0aGUgc2Vjb25kIHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgcmVzdWx0aW5nIHZlY3RvclxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBBZGQodmVjdG9yMTogUmVhZE9ubHlWZWN0b3IyLCB2ZWN0b3IyOiBSZWFkT25seVZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodmVjdG9yMS54LCB2ZWN0b3IxLnkpLmFkZEluUGxhY2UodmVjdG9yMilcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IFZlY3RvcjIgc2V0IGZyb20gdGhlIGdpdmVuIGluZGV4IGVsZW1lbnQgb2YgdGhlIGdpdmVuIGFycmF5XG4gICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIGRhdGEgc291cmNlXG4gICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIGRhdGEgc291cmNlXG4gICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRnJvbUFycmF5KGFycmF5OiBBcnJheUxpa2U8bnVtYmVyPiwgb2Zmc2V0OiBudW1iZXIgPSAwKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKGFycmF5W29mZnNldF0sIGFycmF5W29mZnNldCArIDFdKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgXCJyZXN1bHRcIiBmcm9tIHRoZSBnaXZlbiBpbmRleCBlbGVtZW50IG9mIHRoZSBnaXZlbiBhcnJheVxuICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBkYXRhIHNvdXJjZVxuICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBkYXRhIHNvdXJjZVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHZlY3RvclxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGcm9tQXJyYXlUb1JlZihhcnJheTogQXJyYXlMaWtlPG51bWJlcj4sIG9mZnNldDogbnVtYmVyLCByZXN1bHQ6IFZlY3RvcjIpOiB2b2lkIHtcbiAgICByZXN1bHQueCA9IGFycmF5W29mZnNldF1cbiAgICByZXN1bHQueSA9IGFycmF5W29mZnNldCArIDFdXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIG5ldyBWZWN0b3IyIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgQ2F0bXVsbFJvbSBzcGxpbmUgZGVmaW5lZCBieSB0aGUgZ2l2ZW4gZm91ciBWZWN0b3IyXG4gICAqIEBwYXJhbSB2YWx1ZTEgLSBkZWZpbmVzIDFzdCBwb2ludCBvZiBjb250cm9sXG4gICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIDJuZCBwb2ludCBvZiBjb250cm9sXG4gICAqIEBwYXJhbSB2YWx1ZTMgLSBkZWZpbmVzIDNyZCBwb2ludCBvZiBjb250cm9sXG4gICAqIEBwYXJhbSB2YWx1ZTQgLSBkZWZpbmVzIDR0aCBwb2ludCBvZiBjb250cm9sXG4gICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBpbnRlcnBvbGF0aW9uIGZhY3RvclxuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENhdG11bGxSb20oXG4gICAgdmFsdWUxOiBSZWFkT25seVZlY3RvcjIsXG4gICAgdmFsdWUyOiBSZWFkT25seVZlY3RvcjIsXG4gICAgdmFsdWUzOiBSZWFkT25seVZlY3RvcjIsXG4gICAgdmFsdWU0OiBSZWFkT25seVZlY3RvcjIsXG4gICAgYW1vdW50OiBudW1iZXJcbiAgKTogVmVjdG9yMiB7XG4gICAgbGV0IHNxdWFyZWQgPSBhbW91bnQgKiBhbW91bnRcbiAgICBsZXQgY3ViZWQgPSBhbW91bnQgKiBzcXVhcmVkXG5cbiAgICBsZXQgeCA9XG4gICAgICAwLjUgKlxuICAgICAgKDIuMCAqIHZhbHVlMi54ICtcbiAgICAgICAgKC12YWx1ZTEueCArIHZhbHVlMy54KSAqIGFtb3VudCArXG4gICAgICAgICgyLjAgKiB2YWx1ZTEueCAtIDUuMCAqIHZhbHVlMi54ICsgNC4wICogdmFsdWUzLnggLSB2YWx1ZTQueCkgKiBzcXVhcmVkICtcbiAgICAgICAgKC12YWx1ZTEueCArIDMuMCAqIHZhbHVlMi54IC0gMy4wICogdmFsdWUzLnggKyB2YWx1ZTQueCkgKiBjdWJlZClcblxuICAgIGxldCB5ID1cbiAgICAgIDAuNSAqXG4gICAgICAoMi4wICogdmFsdWUyLnkgK1xuICAgICAgICAoLXZhbHVlMS55ICsgdmFsdWUzLnkpICogYW1vdW50ICtcbiAgICAgICAgKDIuMCAqIHZhbHVlMS55IC0gNS4wICogdmFsdWUyLnkgKyA0LjAgKiB2YWx1ZTMueSAtIHZhbHVlNC55KSAqIHNxdWFyZWQgK1xuICAgICAgICAoLXZhbHVlMS55ICsgMy4wICogdmFsdWUyLnkgLSAzLjAgKiB2YWx1ZTMueSArIHZhbHVlNC55KSAqIGN1YmVkKVxuXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgsIHkpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IyIHNldCB3aXRoIHNhbWUgdGhlIGNvb3JkaW5hdGVzIHRoYW4gXCJ2YWx1ZVwiIG9uZXMgaWYgdGhlIHZlY3RvciBcInZhbHVlXCIgaXMgaW4gdGhlIHNxdWFyZSBkZWZpbmVkIGJ5IFwibWluXCIgYW5kIFwibWF4XCIuXG4gICAqIElmIGEgY29vcmRpbmF0ZSBvZiBcInZhbHVlXCIgaXMgbG93ZXIgdGhhbiBcIm1pblwiIGNvb3JkaW5hdGVzLCB0aGUgcmV0dXJuZWQgVmVjdG9yMiBpcyBnaXZlbiB0aGlzIFwibWluXCIgY29vcmRpbmF0ZS5cbiAgICogSWYgYSBjb29yZGluYXRlIG9mIFwidmFsdWVcIiBpcyBncmVhdGVyIHRoYW4gXCJtYXhcIiBjb29yZGluYXRlcywgdGhlIHJldHVybmVkIFZlY3RvcjIgaXMgZ2l2ZW4gdGhpcyBcIm1heFwiIGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgdmFsdWUgdG8gY2xhbXBcbiAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgdGhlIGxvd2VyIGxpbWl0XG4gICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIHRoZSB1cHBlciBsaW1pdFxuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENsYW1wKHZhbHVlOiBSZWFkT25seVZlY3RvcjIsIG1pbjogUmVhZE9ubHlWZWN0b3IyLCBtYXg6IFJlYWRPbmx5VmVjdG9yMik6IFZlY3RvcjIge1xuICAgIGxldCB4ID0gdmFsdWUueFxuICAgIHggPSB4ID4gbWF4LnggPyBtYXgueCA6IHhcbiAgICB4ID0geCA8IG1pbi54ID8gbWluLnggOiB4XG5cbiAgICBsZXQgeSA9IHZhbHVlLnlcbiAgICB5ID0geSA+IG1heC55ID8gbWF4LnkgOiB5XG4gICAgeSA9IHkgPCBtaW4ueSA/IG1pbi55IDogeVxuXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgsIHkpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IyIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgSGVybWl0ZSBzcGxpbmUgZGVmaW5lZCBieSB0aGUgdmVjdG9ycyBcInZhbHVlMVwiLCBcInZhbHVlM1wiLCBcInRhbmdlbnQxXCIsIFwidGFuZ2VudDJcIlxuICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgMXN0IGNvbnRyb2wgcG9pbnRcbiAgICogQHBhcmFtIHRhbmdlbnQxIC0gZGVmaW5lcyB0aGUgb3V0Z29pbmcgdGFuZ2VudFxuICAgKiBAcGFyYW0gdmFsdWUyIC0gZGVmaW5lcyB0aGUgMm5kIGNvbnRyb2wgcG9pbnRcbiAgICogQHBhcmFtIHRhbmdlbnQyIC0gZGVmaW5lcyB0aGUgaW5jb21pbmcgdGFuZ2VudFxuICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgaW50ZXJwb2xhdGlvbiBmYWN0b3JcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBIZXJtaXRlKFxuICAgIHZhbHVlMTogUmVhZE9ubHlWZWN0b3IyLFxuICAgIHRhbmdlbnQxOiBSZWFkT25seVZlY3RvcjIsXG4gICAgdmFsdWUyOiBSZWFkT25seVZlY3RvcjIsXG4gICAgdGFuZ2VudDI6IFJlYWRPbmx5VmVjdG9yMixcbiAgICBhbW91bnQ6IG51bWJlclxuICApOiBWZWN0b3IyIHtcbiAgICBsZXQgc3F1YXJlZCA9IGFtb3VudCAqIGFtb3VudFxuICAgIGxldCBjdWJlZCA9IGFtb3VudCAqIHNxdWFyZWRcbiAgICBsZXQgcGFydDEgPSAyLjAgKiBjdWJlZCAtIDMuMCAqIHNxdWFyZWQgKyAxLjBcbiAgICBsZXQgcGFydDIgPSAtMi4wICogY3ViZWQgKyAzLjAgKiBzcXVhcmVkXG4gICAgbGV0IHBhcnQzID0gY3ViZWQgLSAyLjAgKiBzcXVhcmVkICsgYW1vdW50XG4gICAgbGV0IHBhcnQ0ID0gY3ViZWQgLSBzcXVhcmVkXG5cbiAgICBsZXQgeCA9IHZhbHVlMS54ICogcGFydDEgKyB2YWx1ZTIueCAqIHBhcnQyICsgdGFuZ2VudDEueCAqIHBhcnQzICsgdGFuZ2VudDIueCAqIHBhcnQ0XG4gICAgbGV0IHkgPSB2YWx1ZTEueSAqIHBhcnQxICsgdmFsdWUyLnkgKiBwYXJ0MiArIHRhbmdlbnQxLnkgKiBwYXJ0MyArIHRhbmdlbnQyLnkgKiBwYXJ0NFxuXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgsIHkpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IyIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0aGUgdmVjdG9yIFwic3RhcnRcIiBhZG4gdGhlIHZlY3RvciBcImVuZFwiLlxuICAgKiBAcGFyYW0gc3RhcnQgLSBkZWZpbmVzIHRoZSBzdGFydCB2ZWN0b3JcbiAgICogQHBhcmFtIGVuZCAtIGRlZmluZXMgdGhlIGVuZCB2ZWN0b3JcbiAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGludGVycG9sYXRpb24gZmFjdG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTGVycChzdGFydDogUmVhZE9ubHlWZWN0b3IyLCBlbmQ6IFJlYWRPbmx5VmVjdG9yMiwgYW1vdW50OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICBsZXQgeCA9IHN0YXJ0LnggKyAoZW5kLnggLSBzdGFydC54KSAqIGFtb3VudFxuICAgIGxldCB5ID0gc3RhcnQueSArIChlbmQueSAtIHN0YXJ0LnkpICogYW1vdW50XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgsIHkpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZG90IHByb2R1Y3Qgb2YgdGhlIHZlY3RvciBcImxlZnRcIiBhbmQgdGhlIHZlY3RvciBcInJpZ2h0XCJcbiAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIGZpcnN0IHZlY3RvclxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHNlY29uZCB2ZWN0b3JcbiAgICogQHJldHVybnMgdGhlIGRvdCBwcm9kdWN0IChmbG9hdClcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRG90KGxlZnQ6IFJlYWRPbmx5VmVjdG9yMiwgcmlnaHQ6IFJlYWRPbmx5VmVjdG9yMik6IG51bWJlciB7XG4gICAgcmV0dXJuIGxlZnQueCAqIHJpZ2h0LnggKyBsZWZ0LnkgKiByaWdodC55XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IyIGVxdWFsIHRvIHRoZSBub3JtYWxpemVkIGdpdmVuIHZlY3RvclxuICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIE5vcm1hbGl6ZSh2ZWN0b3I6IFJlYWRPbmx5VmVjdG9yMik6IFZlY3RvcjIge1xuICAgIGxldCBuZXdWZWN0b3IgPSBuZXcgVmVjdG9yMih2ZWN0b3IueCwgdmVjdG9yLnkpXG4gICAgbmV3VmVjdG9yLm5vcm1hbGl6ZSgpXG4gICAgcmV0dXJuIG5ld1ZlY3RvclxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgVmVjdG9yMiBzZXQgd2l0aCB0aGUgbWluaW1hbCBjb29yZGluYXRlIHZhbHVlcyBmcm9tIHRoZSBcImxlZnRcIiBhbmQgXCJyaWdodFwiIHZlY3RvcnNcbiAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIDFzdCB2ZWN0b3JcbiAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyAybmQgdmVjdG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTWluaW1pemUobGVmdDogUmVhZE9ubHlWZWN0b3IyLCByaWdodDogUmVhZE9ubHlWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgbGV0IHggPSBsZWZ0LnggPCByaWdodC54ID8gbGVmdC54IDogcmlnaHQueFxuICAgIGxldCB5ID0gbGVmdC55IDwgcmlnaHQueSA/IGxlZnQueSA6IHJpZ2h0LnlcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeCwgeSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IFZlY3RvMiBzZXQgd2l0aCB0aGUgbWF4aW1hbCBjb29yZGluYXRlIHZhbHVlcyBmcm9tIHRoZSBcImxlZnRcIiBhbmQgXCJyaWdodFwiIHZlY3RvcnNcbiAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIDFzdCB2ZWN0b3JcbiAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyAybmQgdmVjdG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTWF4aW1pemUobGVmdDogUmVhZE9ubHlWZWN0b3IyLCByaWdodDogUmVhZE9ubHlWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgbGV0IHggPSBsZWZ0LnggPiByaWdodC54ID8gbGVmdC54IDogcmlnaHQueFxuICAgIGxldCB5ID0gbGVmdC55ID4gcmlnaHQueSA/IGxlZnQueSA6IHJpZ2h0LnlcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeCwgeSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IFZlY3RvcjIgc2V0IHdpdGggdGhlIHRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzIG9mIHRoZSBnaXZlbiB2ZWN0b3IgYnkgdGhlIGdpdmVuIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gYXBwbHlcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBUcmFuc2Zvcm0odmVjdG9yOiBWZWN0b3IyLCB0cmFuc2Zvcm1hdGlvbjogTWF0cml4KTogVmVjdG9yMiB7XG4gICAgbGV0IHIgPSBWZWN0b3IyLlplcm8oKVxuICAgIFZlY3RvcjIuVHJhbnNmb3JtVG9SZWYodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbiwgcilcbiAgICByZXR1cm4gclxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybXMgdGhlIGdpdmVuIHZlY3RvciBjb29yZGluYXRlcyBieSB0aGUgZ2l2ZW4gdHJhbnNmb3JtYXRpb24gbWF0cml4IGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgdmVjdG9yIFwicmVzdWx0XCIgY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIHZlY3RvciAtIGRlZmluZXMgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHRyYW5zZm9ybWF0aW9uIC0gZGVmaW5lcyB0aGUgbWF0cml4IHRvIGFwcGx5XG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgdmVjdG9yXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFRyYW5zZm9ybVRvUmVmKHZlY3RvcjogUmVhZE9ubHlWZWN0b3IyLCB0cmFuc2Zvcm1hdGlvbjogTWF0cml4LCByZXN1bHQ6IFZlY3RvcjIpIHtcbiAgICBjb25zdCBtID0gdHJhbnNmb3JtYXRpb24ubVxuICAgIGxldCB4ID0gdmVjdG9yLnggKiBtWzBdICsgdmVjdG9yLnkgKiBtWzRdICsgbVsxMl1cbiAgICBsZXQgeSA9IHZlY3Rvci54ICogbVsxXSArIHZlY3Rvci55ICogbVs1XSArIG1bMTNdXG4gICAgcmVzdWx0LnggPSB4XG4gICAgcmVzdWx0LnkgPSB5XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhIGdpdmVuIHZlY3RvciBpcyBpbmNsdWRlZCBpbiBhIHRyaWFuZ2xlXG4gICAqIEBwYXJhbSBwIC0gZGVmaW5lcyB0aGUgdmVjdG9yIHRvIHRlc3RcbiAgICogQHBhcmFtIHAwIC0gZGVmaW5lcyAxc3QgdHJpYW5nbGUgcG9pbnRcbiAgICogQHBhcmFtIHAxIC0gZGVmaW5lcyAybmQgdHJpYW5nbGUgcG9pbnRcbiAgICogQHBhcmFtIHAyIC0gZGVmaW5lcyAzcmQgdHJpYW5nbGUgcG9pbnRcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcG9pbnQgXCJwXCIgaXMgaW4gdGhlIHRyaWFuZ2xlIGRlZmluZWQgYnkgdGhlIHZlcnRvcnMgXCJwMFwiLCBcInAxXCIsIFwicDJcIlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBQb2ludEluVHJpYW5nbGUocDogUmVhZE9ubHlWZWN0b3IyLCBwMDogUmVhZE9ubHlWZWN0b3IyLCBwMTogUmVhZE9ubHlWZWN0b3IyLCBwMjogUmVhZE9ubHlWZWN0b3IyKSB7XG4gICAgbGV0IGEgPSAoMSAvIDIpICogKC1wMS55ICogcDIueCArIHAwLnkgKiAoLXAxLnggKyBwMi54KSArIHAwLnggKiAocDEueSAtIHAyLnkpICsgcDEueCAqIHAyLnkpXG4gICAgbGV0IHNpZ24gPSBhIDwgMCA/IC0xIDogMVxuICAgIGxldCBzID0gKHAwLnkgKiBwMi54IC0gcDAueCAqIHAyLnkgKyAocDIueSAtIHAwLnkpICogcC54ICsgKHAwLnggLSBwMi54KSAqIHAueSkgKiBzaWduXG4gICAgbGV0IHQgPSAocDAueCAqIHAxLnkgLSBwMC55ICogcDEueCArIChwMC55IC0gcDEueSkgKiBwLnggKyAocDEueCAtIHAwLngpICogcC55KSAqIHNpZ25cblxuICAgIHJldHVybiBzID4gMCAmJiB0ID4gMCAmJiBzICsgdCA8IDIgKiBhICogc2lnblxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiBhbmQgXCJ2YWx1ZTJcIlxuICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyBmaXJzdCB2ZWN0b3JcbiAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgc2Vjb25kIHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB2ZWN0b3JzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIERpc3RhbmNlKHZhbHVlMTogVmVjdG9yMiwgdmFsdWUyOiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KFZlY3RvcjIuRGlzdGFuY2VTcXVhcmVkKHZhbHVlMSwgdmFsdWUyKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiBhbmQgXCJ2YWx1ZTJcIlxuICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyBmaXJzdCB2ZWN0b3JcbiAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgc2Vjb25kIHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIHZlY3RvcnNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRGlzdGFuY2VTcXVhcmVkKHZhbHVlMTogUmVhZE9ubHlWZWN0b3IyLCB2YWx1ZTI6IFJlYWRPbmx5VmVjdG9yMik6IG51bWJlciB7XG4gICAgbGV0IHggPSB2YWx1ZTEueCAtIHZhbHVlMi54XG4gICAgbGV0IHkgPSB2YWx1ZTEueSAtIHZhbHVlMi55XG4gICAgcmV0dXJuIHggKiB4ICsgeSAqIHlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IFZlY3RvcjIgbG9jYXRlZCBhdCB0aGUgY2VudGVyIG9mIHRoZSB2ZWN0b3JzIFwidmFsdWUxXCIgYW5kIFwidmFsdWUyXCJcbiAgICogQHBhcmFtIHZhbHVlMSAtIGRlZmluZXMgZmlyc3QgdmVjdG9yXG4gICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHNlY29uZCB2ZWN0b3JcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBDZW50ZXIodmFsdWUxOiBSZWFkT25seVZlY3RvcjIsIHZhbHVlMjogUmVhZE9ubHlWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgbGV0IGNlbnRlciA9IFZlY3RvcjIuQWRkKHZhbHVlMSwgdmFsdWUyKVxuICAgIGNlbnRlci5zY2FsZUluUGxhY2UoMC41KVxuICAgIHJldHVybiBjZW50ZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaG9ydGVzdCBkaXN0YW5jZSAoZmxvYXQpIGJldHdlZW4gdGhlIHBvaW50IFwicFwiIGFuZCB0aGUgc2VnbWVudCBkZWZpbmVkIGJ5IHRoZSB0d28gcG9pbnRzIFwic2VnQVwiIGFuZCBcInNlZ0JcIi5cbiAgICogQHBhcmFtIHAgLSBkZWZpbmVzIHRoZSBtaWRkbGUgcG9pbnRcbiAgICogQHBhcmFtIHNlZ0EgLSBkZWZpbmVzIG9uZSBwb2ludCBvZiB0aGUgc2VnbWVudFxuICAgKiBAcGFyYW0gc2VnQiAtIGRlZmluZXMgdGhlIG90aGVyIHBvaW50IG9mIHRoZSBzZWdtZW50XG4gICAqIEByZXR1cm5zIHRoZSBzaG9ydGVzdCBkaXN0YW5jZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBEaXN0YW5jZU9mUG9pbnRGcm9tU2VnbWVudChwOiBWZWN0b3IyLCBzZWdBOiBWZWN0b3IyLCBzZWdCOiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICBsZXQgbDIgPSBWZWN0b3IyLkRpc3RhbmNlU3F1YXJlZChzZWdBLCBzZWdCKVxuICAgIGlmIChsMiA9PT0gMC4wKSB7XG4gICAgICByZXR1cm4gVmVjdG9yMi5EaXN0YW5jZShwLCBzZWdBKVxuICAgIH1cbiAgICBsZXQgdiA9IHNlZ0Iuc3VidHJhY3Qoc2VnQSlcbiAgICBsZXQgdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIFZlY3RvcjIuRG90KHAuc3VidHJhY3Qoc2VnQSksIHYpIC8gbDIpKVxuICAgIGxldCBwcm9qID0gc2VnQS5hZGQodi5tdWx0aXBseUJ5RmxvYXRzKHQsIHQpKVxuICAgIHJldHVybiBWZWN0b3IyLkRpc3RhbmNlKHAsIHByb2opXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIHN0cmluZyB3aXRoIHRoZSBWZWN0b3IyIGNvb3JkaW5hdGVzXG4gICAqIEByZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIFZlY3RvcjIgY29vcmRpbmF0ZXNcbiAgICovXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiAne1g6ICcgKyB0aGlzLnggKyAnIFk6JyArIHRoaXMueSArICd9J1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgY2xhc3MgbmFtZVxuICAgKiBAcmV0dXJucyB0aGUgc3RyaW5nIFwiVmVjdG9yMlwiXG4gICAqL1xuICBwdWJsaWMgZ2V0Q2xhc3NOYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdWZWN0b3IyJ1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgY3VycmVudCB2ZWN0b3IgaGFzaCBjb2RlXG4gICAqIEByZXR1cm5zIHRoZSBWZWN0b3IyIGhhc2ggY29kZSBhcyBhIG51bWJlclxuICAgKi9cbiAgcHVibGljIGdldEhhc2hDb2RlKCk6IG51bWJlciB7XG4gICAgbGV0IGhhc2ggPSB0aGlzLnggfHwgMFxuICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodGhpcy55IHx8IDApXG4gICAgcmV0dXJuIGhhc2hcbiAgfVxuXG4gIC8vIE9wZXJhdG9yc1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBWZWN0b3IyIGNvb3JkaW5hdGVzIGluIHRoZSBnaXZlbiBhcnJheSBvciBGbG9hdEFycmF5IGZyb20gdGhlIGdpdmVuIGluZGV4LlxuICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICogQHBhcmFtIGluZGV4IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHNvdXJjZSBhcnJheVxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgdG9BcnJheShhcnJheTogRmxvYXRBcnJheSwgaW5kZXg6IG51bWJlciA9IDApOiBWZWN0b3IyIHtcbiAgICBhcnJheVtpbmRleF0gPSB0aGlzLnhcbiAgICBhcnJheVtpbmRleCArIDFdID0gdGhpcy55XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5IHRoZSBjdXJyZW50IHZlY3RvciB0byBhbiBhcnJheVxuICAgKiBAcmV0dXJucyBhIG5ldyBhcnJheSB3aXRoIDIgZWxlbWVudHM6IHRoZSBWZWN0b3IyIGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgcHVibGljIGFzQXJyYXkoKTogbnVtYmVyW10ge1xuICAgIGxldCByZXN1bHQgPSBuZXcgQXJyYXk8bnVtYmVyPigpXG4gICAgdGhpcy50b0FycmF5KHJlc3VsdCwgMClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgVmVjdG9yMiBjb29yZGluYXRlcyB3aXRoIHRoZSBnaXZlbiBWZWN0b3IyIGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSBzb3VyY2UgLSBkZWZpbmVzIHRoZSBzb3VyY2UgVmVjdG9yMlxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBjb3B5RnJvbShzb3VyY2U6IFJlYWRPbmx5VmVjdG9yMik6IFZlY3RvcjIge1xuICAgIHRoaXMueCA9IHNvdXJjZS54XG4gICAgdGhpcy55ID0gc291cmNlLnlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFZlY3RvcjIgY29vcmRpbmF0ZXMgd2l0aCB0aGUgZ2l2ZW4gZmxvYXRzXG4gICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgZmlyc3QgY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNlY29uZCBjb29yZGluYXRlXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIGNvcHlGcm9tRmxvYXRzKHg6IG51bWJlciwgeTogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgdGhpcy54ID0geFxuICAgIHRoaXMueSA9IHlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFZlY3RvcjIgY29vcmRpbmF0ZXMgd2l0aCB0aGUgZ2l2ZW4gZmxvYXRzXG4gICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgZmlyc3QgY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNlY29uZCBjb29yZGluYXRlXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIHNldCh4OiBudW1iZXIsIHk6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKHgsIHkpXG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhbm90aGVyIHZlY3RvciB3aXRoIHRoZSBjdXJyZW50IG9uZVxuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBvdGhlciB2ZWN0b3JcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMiBzZXQgd2l0aCB0aGUgYWRkaXRpb24gb2YgdGhlIGN1cnJlbnQgVmVjdG9yMiBhbmQgdGhlIGdpdmVuIG9uZSBjb29yZGluYXRlc1xuICAgKi9cbiAgcHVibGljIGFkZChvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCArIG90aGVyVmVjdG9yLngsIHRoaXMueSArIG90aGVyVmVjdG9yLnkpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgXCJyZXN1bHRcIiBjb29yZGluYXRlcyB3aXRoIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBWZWN0b3IyIGFuZCB0aGUgZ2l2ZW4gb25lIGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIG90aGVyIHZlY3RvclxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBhZGRUb1JlZihvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IyLCByZXN1bHQ6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXN1bHQueCA9IHRoaXMueCArIG90aGVyVmVjdG9yLnhcbiAgICByZXN1bHQueSA9IHRoaXMueSArIG90aGVyVmVjdG9yLnlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgVmVjdG9yMiBjb29yZGluYXRlcyBieSBhZGRpbmcgdGhlIGdpdmVuIFZlY3RvcjIgY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gZGVmaW5lcyB0aGUgb3RoZXIgdmVjdG9yXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIGFkZEluUGxhY2Uob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMik6IFZlY3RvcjIge1xuICAgIHRoaXMueCArPSBvdGhlclZlY3Rvci54XG4gICAgdGhpcy55ICs9IG90aGVyVmVjdG9yLnlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgVmVjdG9yMiBieSBhZGRpbmcgdGhlIGN1cnJlbnQgVmVjdG9yMiBjb29yZGluYXRlcyB0byB0aGUgZ2l2ZW4gVmVjdG9yMyB4LCB5IGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIG90aGVyIHZlY3RvclxuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgYWRkVmVjdG9yMyhvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCArIG90aGVyVmVjdG9yLngsIHRoaXMueSArIG90aGVyVmVjdG9yLnkpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIG5ldyBWZWN0b3IyIHNldCB3aXRoIHRoZSBzdWJ0cmFjdGVkIGNvb3JkaW5hdGVzIG9mIHRoZSBnaXZlbiBvbmUgZnJvbSB0aGUgY3VycmVudCBWZWN0b3IyXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIG90aGVyIHZlY3RvclxuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgc3VidHJhY3Qob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMik6IFZlY3RvcjIge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggLSBvdGhlclZlY3Rvci54LCB0aGlzLnkgLSBvdGhlclZlY3Rvci55KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFwicmVzdWx0XCIgY29vcmRpbmF0ZXMgd2l0aCB0aGUgc3VidHJhY3Rpb24gb2YgdGhlIGdpdmVuIG9uZSBmcm9tIHRoZSBjdXJyZW50IFZlY3RvcjIgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIG90aGVyIHZlY3RvclxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBzdWJ0cmFjdFRvUmVmKG90aGVyVmVjdG9yOiBSZWFkT25seVZlY3RvcjIsIHJlc3VsdDogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgIHJlc3VsdC54ID0gdGhpcy54IC0gb3RoZXJWZWN0b3IueFxuICAgIHJlc3VsdC55ID0gdGhpcy55IC0gb3RoZXJWZWN0b3IueVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGN1cnJlbnQgVmVjdG9yMiBjb29yZGluYXRlcyBieSBzdWJ0cmFjdGluZyBmcm9tIGl0IHRoZSBnaXZlbiBvbmUgY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gZGVmaW5lcyB0aGUgb3RoZXIgdmVjdG9yXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIHN1YnRyYWN0SW5QbGFjZShvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgdGhpcy54IC09IG90aGVyVmVjdG9yLnhcbiAgICB0aGlzLnkgLT0gb3RoZXJWZWN0b3IueVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogTXVsdGlwbGllcyBpbiBwbGFjZSB0aGUgY3VycmVudCBWZWN0b3IyIGNvb3JkaW5hdGVzIGJ5IHRoZSBnaXZlbiBvbmVzXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIG90aGVyIHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBtdWx0aXBseUluUGxhY2Uob3RoZXJWZWN0b3I6IFJlYWRPbmx5VmVjdG9yMik6IFZlY3RvcjIge1xuICAgIHRoaXMueCAqPSBvdGhlclZlY3Rvci54XG4gICAgdGhpcy55ICo9IG90aGVyVmVjdG9yLnlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMiBzZXQgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gb2YgdGhlIGN1cnJlbnQgVmVjdG9yMiBhbmQgdGhlIGdpdmVuIG9uZSBjb29yZGluYXRlc1xuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBvdGhlciB2ZWN0b3JcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIG11bHRpcGx5KG90aGVyVmVjdG9yOiBSZWFkT25seVZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54ICogb3RoZXJWZWN0b3IueCwgdGhpcy55ICogb3RoZXJWZWN0b3IueSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIFwicmVzdWx0XCIgY29vcmRpbmF0ZXMgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gb2YgdGhlIGN1cnJlbnQgVmVjdG9yMiBhbmQgdGhlIGdpdmVuIG9uZSBjb29yZGluYXRlc1xuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBvdGhlciB2ZWN0b3JcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCB2ZWN0b3JcbiAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgbXVsdGlwbHlUb1JlZihvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IyLCByZXN1bHQ6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXN1bHQueCA9IHRoaXMueCAqIG90aGVyVmVjdG9yLnhcbiAgICByZXN1bHQueSA9IHRoaXMueSAqIG90aGVyVmVjdG9yLnlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgVmVjdG9yMiBzZXQgd2l0aCB0aGUgVmVjdG9yMiBjb29yZGluYXRlcyBtdWx0aXBsaWVkIGJ5IHRoZSBnaXZlbiBmbG9hdHNcbiAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSBmaXJzdCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgc2Vjb25kIGNvb3JkaW5hdGVcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIG11bHRpcGx5QnlGbG9hdHMoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54ICogeCwgdGhpcy55ICogeSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjIgc2V0IHdpdGggdGhlIFZlY3RvcjIgY29vcmRpbmF0ZXMgZGl2aWRlZCBieSB0aGUgZ2l2ZW4gb25lIGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIG90aGVyIHZlY3RvclxuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgZGl2aWRlKG90aGVyVmVjdG9yOiBSZWFkT25seVZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54IC8gb3RoZXJWZWN0b3IueCwgdGhpcy55IC8gb3RoZXJWZWN0b3IueSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBcInJlc3VsdFwiIGNvb3JkaW5hdGVzIHdpdGggdGhlIFZlY3RvcjIgZGl2aWRlZCBieSB0aGUgZ2l2ZW4gb25lIGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIG90aGVyIHZlY3RvclxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBkaXZpZGVUb1JlZihvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IyLCByZXN1bHQ6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXN1bHQueCA9IHRoaXMueCAvIG90aGVyVmVjdG9yLnhcbiAgICByZXN1bHQueSA9IHRoaXMueSAvIG90aGVyVmVjdG9yLnlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIERpdmlkZXMgdGhlIGN1cnJlbnQgVmVjdG9yMiBjb29yZGluYXRlcyBieSB0aGUgZ2l2ZW4gb25lc1xuICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBvdGhlciB2ZWN0b3JcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgZGl2aWRlSW5QbGFjZShvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYob3RoZXJWZWN0b3IsIHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIG5ldyBWZWN0b3IyIHdpdGggY3VycmVudCBWZWN0b3IyIG5lZ2F0ZWQgY29vcmRpbmF0ZXNcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIG5lZ2F0ZSgpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoLXRoaXMueCwgLXRoaXMueSlcbiAgfVxuXG4gIC8qKlxuICAgKiBNdWx0aXBseSB0aGUgVmVjdG9yMiBjb29yZGluYXRlcyBieSBzY2FsZVxuICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBzY2FsZUluUGxhY2Uoc2NhbGU6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHRoaXMueCAqPSBzY2FsZVxuICAgIHRoaXMueSAqPSBzY2FsZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IyIHNjYWxlZCBieSBcInNjYWxlXCIgZnJvbSB0aGUgY3VycmVudCBWZWN0b3IyXG4gICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxpbmcgZmFjdG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjJcbiAgICovXG4gIHB1YmxpYyBzY2FsZShzY2FsZTogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBWZWN0b3IyKDAsIDApXG4gICAgdGhpcy5zY2FsZVRvUmVmKHNjYWxlLCByZXN1bHQpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoZSBjdXJyZW50IFZlY3RvcjIgdmFsdWVzIGJ5IGEgZmFjdG9yIHRvIGEgZ2l2ZW4gVmVjdG9yMlxuICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3JcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjIgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgc2NhbGVUb1JlZihzY2FsZTogbnVtYmVyLCByZXN1bHQ6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXN1bHQueCA9IHRoaXMueCAqIHNjYWxlXG4gICAgcmVzdWx0LnkgPSB0aGlzLnkgKiBzY2FsZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhlIGN1cnJlbnQgVmVjdG9yMiB2YWx1ZXMgYnkgYSBmYWN0b3IgYW5kIGFkZCB0aGUgcmVzdWx0IHRvIGEgZ2l2ZW4gVmVjdG9yMlxuICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3JcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjIgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgc2NhbGVBbmRBZGRUb1JlZihzY2FsZTogbnVtYmVyLCByZXN1bHQ6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXN1bHQueCArPSB0aGlzLnggKiBzY2FsZVxuICAgIHJlc3VsdC55ICs9IHRoaXMueSAqIHNjYWxlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgYm9vbGVhbiBpZiB0d28gdmVjdG9ycyBhcmUgZXF1YWxzXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIG90aGVyIHZlY3RvclxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2ZWN0b3IgY29vcmRpbmF0ZXMgc3RyaWN0bHkgZXF1YWwgdGhlIGN1cnJlbnQgVmVjdG9yMiBvbmVzXG4gICAqL1xuICBwdWJsaWMgZXF1YWxzKG90aGVyVmVjdG9yOiBSZWFkT25seVZlY3RvcjIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gb3RoZXJWZWN0b3IgJiYgdGhpcy54ID09PSBvdGhlclZlY3Rvci54ICYmIHRoaXMueSA9PT0gb3RoZXJWZWN0b3IueVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBib29sZWFuIGlmIHR3byB2ZWN0b3JzIGFyZSBlcXVhbHMgKHVzaW5nIGFuIGVwc2lsb24gdmFsdWUpXG4gICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIG90aGVyIHZlY3RvclxuICAgKiBAcGFyYW0gZXBzaWxvbiAtIGRlZmluZXMgdGhlIG1pbmltYWwgZGlzdGFuY2UgdG8gY29uc2lkZXIgZXF1YWxpdHlcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmVjdG9yIGNvb3JkaW5hdGVzIGFyZSBjbG9zZSB0byB0aGUgY3VycmVudCBvbmVzIGJ5IGEgZGlzdGFuY2Ugb2YgZXBzaWxvbi5cbiAgICovXG4gIHB1YmxpYyBlcXVhbHNXaXRoRXBzaWxvbihvdGhlclZlY3RvcjogUmVhZE9ubHlWZWN0b3IyLCBlcHNpbG9uOiBudW1iZXIgPSBFcHNpbG9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG90aGVyVmVjdG9yICYmXG4gICAgICBTY2FsYXIuV2l0aGluRXBzaWxvbih0aGlzLngsIG90aGVyVmVjdG9yLngsIGVwc2lsb24pICYmXG4gICAgICBTY2FsYXIuV2l0aGluRXBzaWxvbih0aGlzLnksIG90aGVyVmVjdG9yLnksIGVwc2lsb24pXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgVmVjdG9yMiBmcm9tIGN1cnJlbnQgVmVjdG9yMiBmbG9vcmVkIHZhbHVlc1xuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgZmxvb3IoKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKE1hdGguZmxvb3IodGhpcy54KSwgTWF0aC5mbG9vcih0aGlzLnkpKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBuZXcgVmVjdG9yMiBmcm9tIGN1cnJlbnQgVmVjdG9yMiBmbG9vcmVkIHZhbHVlc1xuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IyXG4gICAqL1xuICBwdWJsaWMgZnJhY3QoKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCAtIE1hdGguZmxvb3IodGhpcy54KSwgdGhpcy55IC0gTWF0aC5mbG9vcih0aGlzLnkpKVxuICB9XG5cbiAgLy8gUHJvcGVydGllc1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvclxuICAgKiBAcmV0dXJucyB0aGUgdmVjdG9yIGxlbmd0aCAoZmxvYXQpXG4gICAqL1xuICBwdWJsaWMgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmVjdG9yIHNxdWFyZWQgbGVuZ3RoXG4gICAqIEByZXR1cm5zIHRoZSB2ZWN0b3Igc3F1YXJlZCBsZW5ndGggKGZsb2F0KVxuICAgKi9cbiAgcHVibGljIGxlbmd0aFNxdWFyZWQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55XG4gIH1cblxuICAvLyBNZXRob2RzXG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSB0aGUgdmVjdG9yXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIG5vcm1hbGl6ZSgpOiBWZWN0b3IyIHtcbiAgICBsZXQgbGVuID0gdGhpcy5sZW5ndGgoKVxuXG4gICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBsZXQgbnVtID0gMS4wIC8gbGVuXG5cbiAgICB0aGlzLnggKj0gbnVtXG4gICAgdGhpcy55ICo9IG51bVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbmV3IFZlY3RvcjIgY29waWVkIGZyb20gdGhlIFZlY3RvcjJcbiAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMlxuICAgKi9cbiAgcHVibGljIGNsb25lKCk6IFZlY3RvcjIge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLngsIHRoaXMueSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgQW5nbGUgfSBmcm9tICcuL0FuZ2xlJ1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vVmVjdG9yMidcbmltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSAnLi90eXBlcydcblxuLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgYW4gYXJjIGluIGEgMmQgc3BhY2UuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBBcmMyIHtcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGNlbnRlciBwb2ludCBvZiB0aGUgYXJjLlxuICAgKi9cbiAgcHVibGljIGNlbnRlclBvaW50OiBWZWN0b3IyXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSByYWRpdXMgb2YgdGhlIGFyYy5cbiAgICovXG4gIHB1YmxpYyByYWRpdXM6IG51bWJlclxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgYW5nbGUgb2YgdGhlIGFyYyAoZnJvbSBtaWQgcG9pbnQgdG8gZW5kIHBvaW50KS5cbiAgICovXG4gIHB1YmxpYyBhbmdsZTogQW5nbGVcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHN0YXJ0IGFuZ2xlIG9mIHRoZSBhcmMgKGZyb20gc3RhcnQgcG9pbnQgdG8gbWlkZGxlIHBvaW50KS5cbiAgICovXG4gIHB1YmxpYyBzdGFydEFuZ2xlOiBBbmdsZVxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgb3JpZW50YXRpb24gb2YgdGhlIGFyYyAoY2xvY2sgd2lzZS9jb3VudGVyIGNsb2NrIHdpc2UpLlxuICAgKi9cbiAgcHVibGljIG9yaWVudGF0aW9uOiBPcmllbnRhdGlvblxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIEFyYyBvYmplY3QgZnJvbSB0aGUgdGhyZWUgZ2l2ZW4gcG9pbnRzIDogc3RhcnQsIG1pZGRsZSBhbmQgZW5kLlxuICAgKiBAcGFyYW0gc3RhcnRQb2ludCAtIERlZmluZXMgdGhlIHN0YXJ0IHBvaW50IG9mIHRoZSBhcmNcbiAgICogQHBhcmFtIG1pZFBvaW50IC0gRGVmaW5lcyB0aGUgbWlkbGxlIHBvaW50IG9mIHRoZSBhcmNcbiAgICogQHBhcmFtIGVuZFBvaW50IC0gRGVmaW5lcyB0aGUgZW5kIHBvaW50IG9mIHRoZSBhcmNcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBEZWZpbmVzIHRoZSBzdGFydCBwb2ludCBvZiB0aGUgYXJjICovXG4gICAgcHVibGljIHN0YXJ0UG9pbnQ6IFZlY3RvcjIsXG4gICAgLyoqIERlZmluZXMgdGhlIG1pZCBwb2ludCBvZiB0aGUgYXJjICovXG4gICAgcHVibGljIG1pZFBvaW50OiBWZWN0b3IyLFxuICAgIC8qKiBEZWZpbmVzIHRoZSBlbmQgcG9pbnQgb2YgdGhlIGFyYyAqL1xuICAgIHB1YmxpYyBlbmRQb2ludDogVmVjdG9yMlxuICApIHtcbiAgICBsZXQgdGVtcCA9IE1hdGgucG93KG1pZFBvaW50LngsIDIpICsgTWF0aC5wb3cobWlkUG9pbnQueSwgMilcbiAgICBsZXQgc3RhcnRUb01pZCA9IChNYXRoLnBvdyhzdGFydFBvaW50LngsIDIpICsgTWF0aC5wb3coc3RhcnRQb2ludC55LCAyKSAtIHRlbXApIC8gMlxuICAgIGxldCBtaWRUb0VuZCA9ICh0ZW1wIC0gTWF0aC5wb3coZW5kUG9pbnQueCwgMikgLSBNYXRoLnBvdyhlbmRQb2ludC55LCAyKSkgLyAyXG4gICAgbGV0IGRldCA9XG4gICAgICAoc3RhcnRQb2ludC54IC0gbWlkUG9pbnQueCkgKiAobWlkUG9pbnQueSAtIGVuZFBvaW50LnkpIC0gKG1pZFBvaW50LnggLSBlbmRQb2ludC54KSAqIChzdGFydFBvaW50LnkgLSBtaWRQb2ludC55KVxuXG4gICAgdGhpcy5jZW50ZXJQb2ludCA9IG5ldyBWZWN0b3IyKFxuICAgICAgKHN0YXJ0VG9NaWQgKiAobWlkUG9pbnQueSAtIGVuZFBvaW50LnkpIC0gbWlkVG9FbmQgKiAoc3RhcnRQb2ludC55IC0gbWlkUG9pbnQueSkpIC8gZGV0LFxuICAgICAgKChzdGFydFBvaW50LnggLSBtaWRQb2ludC54KSAqIG1pZFRvRW5kIC0gKG1pZFBvaW50LnggLSBlbmRQb2ludC54KSAqIHN0YXJ0VG9NaWQpIC8gZGV0XG4gICAgKVxuXG4gICAgdGhpcy5yYWRpdXMgPSB0aGlzLmNlbnRlclBvaW50LnN1YnRyYWN0KHRoaXMuc3RhcnRQb2ludCkubGVuZ3RoKClcblxuICAgIHRoaXMuc3RhcnRBbmdsZSA9IEFuZ2xlLkJldHdlZW5Ud29Qb2ludHModGhpcy5jZW50ZXJQb2ludCwgdGhpcy5zdGFydFBvaW50KVxuXG4gICAgbGV0IGExID0gdGhpcy5zdGFydEFuZ2xlLmRlZ3JlZXMoKVxuICAgIGxldCBhMiA9IEFuZ2xlLkJldHdlZW5Ud29Qb2ludHModGhpcy5jZW50ZXJQb2ludCwgdGhpcy5taWRQb2ludCkuZGVncmVlcygpXG4gICAgbGV0IGEzID0gQW5nbGUuQmV0d2VlblR3b1BvaW50cyh0aGlzLmNlbnRlclBvaW50LCB0aGlzLmVuZFBvaW50KS5kZWdyZWVzKClcblxuICAgIC8vIGFuZ2xlcyBjb3JyZWN0aW9uXG4gICAgaWYgKGEyIC0gYTEgPiArMTgwLjApIHtcbiAgICAgIGEyIC09IDM2MC4wXG4gICAgfVxuICAgIGlmIChhMiAtIGExIDwgLTE4MC4wKSB7XG4gICAgICBhMiArPSAzNjAuMFxuICAgIH1cbiAgICBpZiAoYTMgLSBhMiA+ICsxODAuMCkge1xuICAgICAgYTMgLT0gMzYwLjBcbiAgICB9XG4gICAgaWYgKGEzIC0gYTIgPCAtMTgwLjApIHtcbiAgICAgIGEzICs9IDM2MC4wXG4gICAgfVxuXG4gICAgdGhpcy5vcmllbnRhdGlvbiA9IGEyIC0gYTEgPCAwID8gT3JpZW50YXRpb24uQ1cgOiBPcmllbnRhdGlvbi5DQ1dcbiAgICB0aGlzLmFuZ2xlID0gQW5nbGUuRnJvbURlZ3JlZXModGhpcy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uQ1cgPyBhMSAtIGEzIDogYTMgLSBhMSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMydcblxuLyoqXG4gKiBEZWZpbmVzIHRoZSAzIG1haW4gYXhlc1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQXhpcyB7XG4gIC8qKiBYIGF4aXMgKi9cbiAgcHVibGljIHN0YXRpYyBYOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoMS4wLCAwLjAsIDAuMClcbiAgLyoqIFkgYXhpcyAqL1xuICBwdWJsaWMgc3RhdGljIFk6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygwLjAsIDEuMCwgMC4wKVxuICAvKiogWiBheGlzICovXG4gIHB1YmxpYyBzdGF0aWMgWjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKDAuMCwgMC4wLCAxLjApXG59XG4iLCIvKipcbiAqIENsYXNzIHVzZWQgdG8gcmVwcmVzZW50IGEgQmV6aWVyIGN1cnZlXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBCZXppZXJDdXJ2ZSB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdWJpYyBCZXppZXIgaW50ZXJwb2xhdGVkIHZhbHVlIChmbG9hdCkgYXQgXCJ0XCIgKGZsb2F0KSBmcm9tIHRoZSBnaXZlbiB4MSwgeTEsIHgyLCB5MiBmbG9hdHNcbiAgICogQHBhcmFtIHQgLSBkZWZpbmVzIHRoZSB0aW1lXG4gICAqIEBwYXJhbSB4MSAtIGRlZmluZXMgdGhlIGxlZnQgY29vcmRpbmF0ZSBvbiBYIGF4aXNcbiAgICogQHBhcmFtIHkxIC0gZGVmaW5lcyB0aGUgbGVmdCBjb29yZGluYXRlIG9uIFkgYXhpc1xuICAgKiBAcGFyYW0geDIgLSBkZWZpbmVzIHRoZSByaWdodCBjb29yZGluYXRlIG9uIFggYXhpc1xuICAgKiBAcGFyYW0geTIgLSBkZWZpbmVzIHRoZSByaWdodCBjb29yZGluYXRlIG9uIFkgYXhpc1xuICAgKiBAcmV0dXJucyB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEludGVycG9sYXRlKHQ6IG51bWJlciwgeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IG51bWJlciB7XG4gICAgLy8gRXh0cmFjdCBYICh3aGljaCBpcyBlcXVhbCB0byB0aW1lIGhlcmUpXG4gICAgbGV0IGYwID0gMSAtIDMgKiB4MiArIDMgKiB4MVxuICAgIGxldCBmMSA9IDMgKiB4MiAtIDYgKiB4MVxuICAgIGxldCBmMiA9IDMgKiB4MVxuXG4gICAgbGV0IHJlZmluZWRUID0gdFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICBsZXQgcmVmaW5lZFQyID0gcmVmaW5lZFQgKiByZWZpbmVkVFxuICAgICAgbGV0IHJlZmluZWRUMyA9IHJlZmluZWRUMiAqIHJlZmluZWRUXG5cbiAgICAgIGxldCB4ID0gZjAgKiByZWZpbmVkVDMgKyBmMSAqIHJlZmluZWRUMiArIGYyICogcmVmaW5lZFRcbiAgICAgIGxldCBzbG9wZSA9IDEuMCAvICgzLjAgKiBmMCAqIHJlZmluZWRUMiArIDIuMCAqIGYxICogcmVmaW5lZFQgKyBmMilcbiAgICAgIHJlZmluZWRUIC09ICh4IC0gdCkgKiBzbG9wZVxuICAgICAgcmVmaW5lZFQgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCByZWZpbmVkVCkpXG4gICAgfVxuXG4gICAgLy8gUmVzb2x2ZSBjdWJpYyBiZXppZXIgZm9yIHRoZSBnaXZlbiB4XG4gICAgcmV0dXJuIChcbiAgICAgIDMgKiBNYXRoLnBvdygxIC0gcmVmaW5lZFQsIDIpICogcmVmaW5lZFQgKiB5MSArXG4gICAgICAzICogKDEgLSByZWZpbmVkVCkgKiBNYXRoLnBvdyhyZWZpbmVkVCwgMikgKiB5MiArXG4gICAgICBNYXRoLnBvdyhyZWZpbmVkVCwgMylcbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCB7IENvbG9yMyB9IGZyb20gJy4vQ29sb3IzJ1xuXG5pbXBvcnQgeyBTY2FsYXIgfSBmcm9tICcuL1NjYWxhcidcblxuaW1wb3J0IHsgVG9MaW5lYXJTcGFjZSwgVG9HYW1tYVNwYWNlIH0gZnJvbSAnLi90eXBlcydcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFJlYWRPbmx5Q29sb3I0ID0ge1xuICByZWFkb25seSByOiBudW1iZXJcbiAgcmVhZG9ubHkgZzogbnVtYmVyXG4gIHJlYWRvbmx5IGI6IG51bWJlclxuICByZWFkb25seSBhOiBudW1iZXJcbn1cblxuLyoqXG4gKiBDbGFzcyB1c2VkIHRvIGhvbGQgYSBSQkdBIGNvbG9yXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2xvcjQge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBDb2xvcjQgb2JqZWN0IGZyb20gcmVkLCBncmVlbiwgYmx1ZSB2YWx1ZXMsIGFsbCBiZXR3ZWVuIDAgYW5kIDFcbiAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICogQHBhcmFtIGEgLSBkZWZpbmVzIHRoZSBhbHBoYSBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAxKVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgcHVibGljIHI6IG51bWJlciA9IDAsXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKi9cbiAgICBwdWJsaWMgZzogbnVtYmVyID0gMCxcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgcHVibGljIGI6IG51bWJlciA9IDAsXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMSlcbiAgICAgKi9cbiAgICBwdWJsaWMgYTogbnVtYmVyID0gMVxuICApIHt9XG5cbiAgLy8gU3RhdGljc1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IENvbG9yNCBmcm9tIHRoZSBzdHJpbmcgY29udGFpbmluZyB2YWxpZCBoZXhhZGVjaW1hbCB2YWx1ZXNcbiAgICogQHBhcmFtIGhleCAtIGRlZmluZXMgYSBzdHJpbmcgY29udGFpbmluZyB2YWxpZCBoZXhhZGVjaW1hbCB2YWx1ZXNcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGcm9tSGV4U3RyaW5nKGhleDogc3RyaW5nKTogQ29sb3I0IHtcbiAgICBpZiAoaGV4LnN1YnN0cmluZygwLCAxKSAhPT0gJyMnIHx8IGhleC5sZW5ndGggIT09IDkpIHtcbiAgICAgIHJldHVybiBuZXcgQ29sb3I0KDAuMCwgMC4wLCAwLjAsIDAuMClcbiAgICB9XG5cbiAgICBsZXQgciA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMSwgMyksIDE2KVxuICAgIGxldCBnID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygzLCA1KSwgMTYpXG4gICAgbGV0IGIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDUsIDcpLCAxNilcbiAgICBsZXQgYSA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoNywgOSksIDE2KVxuXG4gICAgcmV0dXJuIENvbG9yNC5Gcm9tSW50cyhyLCBnLCBiLCBhKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQ29sb3I0IG9iamVjdCBzZXQgd2l0aCB0aGUgbGluZWFybHkgaW50ZXJwb2xhdGVkIHZhbHVlcyBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIGxlZnQgQ29sb3I0IG9iamVjdCBhbmQgdGhlIHJpZ2h0IENvbG9yNCBvYmplY3RcbiAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjQgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIExlcnAobGVmdDogQ29sb3I0LCByaWdodDogQ29sb3I0LCBhbW91bnQ6IG51bWJlcik6IENvbG9yNCB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBDb2xvcjQoMC4wLCAwLjAsIDAuMCwgMC4wKVxuICAgIENvbG9yNC5MZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGdpdmVuIFwicmVzdWx0XCIgd2l0aCB0aGUgbGluZWFybHkgaW50ZXJwb2xhdGVkIHZhbHVlcyBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIGxlZnQgQ29sb3I0IG9iamVjdCBhbmQgdGhlIHJpZ2h0IENvbG9yNCBvYmplY3RcbiAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3I0IG9iamVjdCB3aGVyZSB0byBzdG9yZSBkYXRhXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIExlcnBUb1JlZihsZWZ0OiBDb2xvcjQsIHJpZ2h0OiBDb2xvcjQsIGFtb3VudDogbnVtYmVyLCByZXN1bHQ6IENvbG9yNCk6IHZvaWQge1xuICAgIHJlc3VsdC5yID0gbGVmdC5yICsgKHJpZ2h0LnIgLSBsZWZ0LnIpICogYW1vdW50XG4gICAgcmVzdWx0LmcgPSBsZWZ0LmcgKyAocmlnaHQuZyAtIGxlZnQuZykgKiBhbW91bnRcbiAgICByZXN1bHQuYiA9IGxlZnQuYiArIChyaWdodC5iIC0gbGVmdC5iKSAqIGFtb3VudFxuICAgIHJlc3VsdC5hID0gbGVmdC5hICsgKHJpZ2h0LmEgLSBsZWZ0LmEpICogYW1vdW50XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgcmVkIGNvbG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yMyBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUmVkKCk6IENvbG9yNCB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjQoMS4wLCAwLCAwLCAxLjApXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIGdyZWVuIGNvbG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgR3JlZW4oKTogQ29sb3I0IHtcbiAgICByZXR1cm4gbmV3IENvbG9yNCgwLCAxLjAsIDAsIDEuMClcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgYmx1ZSBjb2xvclxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjQgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEJsdWUoKTogQ29sb3I0IHtcbiAgICByZXR1cm4gbmV3IENvbG9yNCgwLCAwLCAxLjAsIDEuMClcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgYmxhY2sgY29sb3JcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBCbGFjaygpOiBDb2xvcjQge1xuICAgIHJldHVybiBuZXcgQ29sb3I0KDAsIDAsIDAsIDEpXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHdoaXRlIGNvbG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgV2hpdGUoKTogQ29sb3I0IHtcbiAgICByZXR1cm4gbmV3IENvbG9yNCgxLCAxLCAxLCAxKVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSBwdXJwbGUgY29sb3JcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBQdXJwbGUoKTogQ29sb3I0IHtcbiAgICByZXR1cm4gbmV3IENvbG9yNCgwLjUsIDAsIDAuNSwgMSlcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgbWFnZW50YSBjb2xvclxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjQgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIE1hZ2VudGEoKTogQ29sb3I0IHtcbiAgICByZXR1cm4gbmV3IENvbG9yNCgxLCAwLCAxLCAxKVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSB5ZWxsb3cgY29sb3JcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBZZWxsb3coKTogQ29sb3I0IHtcbiAgICByZXR1cm4gbmV3IENvbG9yNCgxLCAxLCAwLCAxKVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSBncmF5IGNvbG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgR3JheSgpOiBDb2xvcjQge1xuICAgIHJldHVybiBuZXcgQ29sb3I0KDAuNSwgMC41LCAwLjUsIDEuMClcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgdGVhbCBjb2xvclxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjQgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFRlYWwoKTogQ29sb3I0IHtcbiAgICByZXR1cm4gbmV3IENvbG9yNCgwLCAxLjAsIDEuMCwgMS4wKVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSB0cmFuc3BhcmVudCBjb2xvclxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjQgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENsZWFyKCk6IENvbG9yNCB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjQoMCwgMCwgMCwgMClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IENvbG9yNCBmcm9tIGEgQ29sb3IzIGFuZCBhbiBhbHBoYSB2YWx1ZVxuICAgKiBAcGFyYW0gY29sb3IzIC0gZGVmaW5lcyB0aGUgc291cmNlIENvbG9yMyB0byByZWFkIGZyb21cbiAgICogQHBhcmFtIGFscGhhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50ICgxLjAgYnkgZGVmYXVsdClcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBGcm9tQ29sb3IzKGNvbG9yMzogQ29sb3IzLCBhbHBoYTogbnVtYmVyID0gMS4wKTogQ29sb3I0IHtcbiAgICByZXR1cm4gbmV3IENvbG9yNChjb2xvcjMuciwgY29sb3IzLmcsIGNvbG9yMy5iLCBhbHBoYSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IENvbG9yNCBmcm9tIHRoZSBzdGFydGluZyBpbmRleCBlbGVtZW50IG9mIHRoZSBnaXZlbiBhcnJheVxuICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXkgdG8gcmVhZCBmcm9tXG4gICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjQgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21BcnJheShhcnJheTogQXJyYXlMaWtlPG51bWJlcj4sIG9mZnNldDogbnVtYmVyID0gMCk6IENvbG9yNCB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjQoYXJyYXlbb2Zmc2V0XSwgYXJyYXlbb2Zmc2V0ICsgMV0sIGFycmF5W29mZnNldCArIDJdLCBhcnJheVtvZmZzZXQgKyAzXSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IENvbG9yMyBmcm9tIGludGVnZXIgdmFsdWVzIChsZXNzIHRoYW4gMjU2KVxuICAgKiBAcGFyYW0gciAtIGRlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgdG8gcmVhZCBmcm9tICh2YWx1ZSBiZXR3ZWVuIDAgYW5kIDI1NSlcbiAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgdG8gcmVhZCBmcm9tICh2YWx1ZSBiZXR3ZWVuIDAgYW5kIDI1NSlcbiAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgKiBAcGFyYW0gYSAtIGRlZmluZXMgdGhlIGFscGhhIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjMgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21JbnRzKHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlcik6IENvbG9yNCB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjQociAvIDI1NS4wLCBnIC8gMjU1LjAsIGIgLyAyNTUuMCwgYSAvIDI1NS4wKVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHRoZSBjb250ZW50IG9mIGEgZ2l2ZW4gYXJyYXkgYW5kIGNvbnZlcnQgaXQgdG8gYW4gYXJyYXkgY29udGFpbmluZyBSR0JBIGRhdGFcbiAgICogSWYgdGhlIG9yaWdpbmFsIGFycmF5IHdhcyBhbHJlYWR5IGNvbnRhaW5pbmcgY291bnQgKiA0IHZhbHVlcyB0aGVuIGl0IGlzIHJldHVybmVkIGRpcmVjdGx5XG4gICAqIEBwYXJhbSBjb2xvcnMgLSBkZWZpbmVzIHRoZSBhcnJheSB0byBjaGVja1xuICAgKiBAcGFyYW0gY291bnQgLSBkZWZpbmVzIHRoZSBudW1iZXIgb2YgUkdCQSBkYXRhIHRvIGV4cGVjdFxuICAgKiBAcmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGNvdW50ICogNCB2YWx1ZXMgKFJHQkEpXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENoZWNrQ29sb3JzNChjb2xvcnM6IG51bWJlcltdLCBjb3VudDogbnVtYmVyKTogbnVtYmVyW10ge1xuICAgIC8vIENoZWNrIGlmIGNvbG9yMyB3YXMgdXNlZFxuICAgIGlmIChjb2xvcnMubGVuZ3RoID09PSBjb3VudCAqIDMpIHtcbiAgICAgIGxldCBjb2xvcnM0ID0gW11cbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjb2xvcnMubGVuZ3RoOyBpbmRleCArPSAzKSB7XG4gICAgICAgIGxldCBuZXdJbmRleCA9IChpbmRleCAvIDMpICogNFxuICAgICAgICBjb2xvcnM0W25ld0luZGV4XSA9IGNvbG9yc1tpbmRleF1cbiAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDFdID0gY29sb3JzW2luZGV4ICsgMV1cbiAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDJdID0gY29sb3JzW2luZGV4ICsgMl1cbiAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDNdID0gMS4wXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb2xvcnM0XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9yc1xuICB9XG5cbiAgLy8gT3BlcmF0b3JzXG5cbiAgLyoqXG4gICAqIEFkZHMgaW4gcGxhY2UgdGhlIGdpdmVuIENvbG9yNCB2YWx1ZXMgdG8gdGhlIGN1cnJlbnQgQ29sb3I0IG9iamVjdFxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBhZGRJblBsYWNlKHJpZ2h0OiBDb2xvcjQpOiBDb2xvcjQge1xuICAgIHRoaXMuciArPSByaWdodC5yXG4gICAgdGhpcy5nICs9IHJpZ2h0LmdcbiAgICB0aGlzLmIgKz0gcmlnaHQuYlxuICAgIHRoaXMuYSArPSByaWdodC5hXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGFycmF5IHBvcHVsYXRlZCB3aXRoIDQgbnVtZXJpYyBlbGVtZW50cyA6IHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhIHZhbHVlc1xuICAgKiBAcmV0dXJucyB0aGUgbmV3IGFycmF5XG4gICAqL1xuICBwdWJsaWMgYXNBcnJheSgpOiBudW1iZXJbXSB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBBcnJheTxudW1iZXI+KClcbiAgICB0aGlzLnRvQXJyYXkocmVzdWx0LCAwKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZXMgZnJvbSB0aGUgc3RhcnRpbmcgaW5kZXggaW4gdGhlIGdpdmVuIGFycmF5IHRoZSBDb2xvcjQgc3VjY2Vzc2l2ZSB2YWx1ZXNcbiAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIHIsZyxiIGNvbXBvbmVudHNcbiAgICogQHBhcmFtIGluZGV4IC0gZGVmaW5lcyBhbiBvcHRpb25hbCBpbmRleCBpbiB0aGUgdGFyZ2V0IGFycmF5IHRvIGRlZmluZSB3aGVyZSB0byBzdGFydCBzdG9yaW5nIHZhbHVlc1xuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBDb2xvcjQgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgdG9BcnJheShhcnJheTogbnVtYmVyW10sIGluZGV4OiBudW1iZXIgPSAwKTogQ29sb3I0IHtcbiAgICBhcnJheVtpbmRleF0gPSB0aGlzLnJcbiAgICBhcnJheVtpbmRleCArIDFdID0gdGhpcy5nXG4gICAgYXJyYXlbaW5kZXggKyAyXSA9IHRoaXMuYlxuICAgIGFycmF5W2luZGV4ICsgM10gPSB0aGlzLmFcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQ29sb3I0IHNldCB3aXRoIHRoZSBhZGRlZCB2YWx1ZXMgb2YgdGhlIGN1cnJlbnQgQ29sb3I0IGFuZCBvZiB0aGUgZ2l2ZW4gb25lXG4gICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBhZGQocmlnaHQ6IENvbG9yNCk6IENvbG9yNCB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjQodGhpcy5yICsgcmlnaHQuciwgdGhpcy5nICsgcmlnaHQuZywgdGhpcy5iICsgcmlnaHQuYiwgdGhpcy5hICsgcmlnaHQuYSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IENvbG9yNCBzZXQgd2l0aCB0aGUgc3VidHJhY3RlZCB2YWx1ZXMgb2YgdGhlIGdpdmVuIG9uZSBmcm9tIHRoZSBjdXJyZW50IENvbG9yNFxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjQgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3VidHJhY3QocmlnaHQ6IENvbG9yNCk6IENvbG9yNCB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjQodGhpcy5yIC0gcmlnaHQuciwgdGhpcy5nIC0gcmlnaHQuZywgdGhpcy5iIC0gcmlnaHQuYiwgdGhpcy5hIC0gcmlnaHQuYSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJ0cmFjdHMgdGhlIGdpdmVuIG9uZXMgZnJvbSB0aGUgY3VycmVudCBDb2xvcjQgdmFsdWVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdHMgaW4gXCJyZXN1bHRcIlxuICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3I0IG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzdWJ0cmFjdFRvUmVmKHJpZ2h0OiBDb2xvcjQsIHJlc3VsdDogQ29sb3I0KTogQ29sb3I0IHtcbiAgICByZXN1bHQuciA9IHRoaXMuciAtIHJpZ2h0LnJcbiAgICByZXN1bHQuZyA9IHRoaXMuZyAtIHJpZ2h0LmdcbiAgICByZXN1bHQuYiA9IHRoaXMuYiAtIHJpZ2h0LmJcbiAgICByZXN1bHQuYSA9IHRoaXMuYSAtIHJpZ2h0LmFcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQ29sb3I0IHdpdGggdGhlIGN1cnJlbnQgQ29sb3I0IHZhbHVlcyBtdWx0aXBsaWVkIGJ5IHNjYWxlXG4gICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxpbmcgZmFjdG9yIHRvIGFwcGx5XG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzY2FsZShzY2FsZTogbnVtYmVyKTogQ29sb3I0IHtcbiAgICByZXR1cm4gbmV3IENvbG9yNCh0aGlzLnIgKiBzY2FsZSwgdGhpcy5nICogc2NhbGUsIHRoaXMuYiAqIHNjYWxlLCB0aGlzLmEgKiBzY2FsZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBNdWx0aXBsaWVzIHRoZSBjdXJyZW50IENvbG9yNCB2YWx1ZXMgYnkgc2NhbGUgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIFwicmVzdWx0XCJcbiAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGluZyBmYWN0b3IgdG8gYXBwbHlcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIENvbG9yNCBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1bm1vZGlmaWVkIENvbG9yNFxuICAgKi9cbiAgcHVibGljIHNjYWxlVG9SZWYoc2NhbGU6IG51bWJlciwgcmVzdWx0OiBDb2xvcjQpOiBDb2xvcjQge1xuICAgIHJlc3VsdC5yID0gdGhpcy5yICogc2NhbGVcbiAgICByZXN1bHQuZyA9IHRoaXMuZyAqIHNjYWxlXG4gICAgcmVzdWx0LmIgPSB0aGlzLmIgKiBzY2FsZVxuICAgIHJlc3VsdC5hID0gdGhpcy5hICogc2NhbGVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoZSBjdXJyZW50IENvbG9yNCB2YWx1ZXMgYnkgYSBmYWN0b3IgYW5kIGFkZCB0aGUgcmVzdWx0IHRvIGEgZ2l2ZW4gQ29sb3I0XG4gICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3I0IG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIGN1cnJlbnQgQ29sb3I0XG4gICAqL1xuICBwdWJsaWMgc2NhbGVBbmRBZGRUb1JlZihzY2FsZTogbnVtYmVyLCByZXN1bHQ6IENvbG9yNCk6IENvbG9yNCB7XG4gICAgcmVzdWx0LnIgKz0gdGhpcy5yICogc2NhbGVcbiAgICByZXN1bHQuZyArPSB0aGlzLmcgKiBzY2FsZVxuICAgIHJlc3VsdC5iICs9IHRoaXMuYiAqIHNjYWxlXG4gICAgcmVzdWx0LmEgKz0gdGhpcy5hICogc2NhbGVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENsYW1wcyB0aGUgcmdiIHZhbHVlcyBieSB0aGUgbWluIGFuZCBtYXggdmFsdWVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbnRvIFwicmVzdWx0XCJcbiAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgbWluaW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAwKVxuICAgKiBAcGFyYW0gbWF4IC0gZGVmaW5lcyBtYXhpbXVtIGNsYW1waW5nIHZhbHVlIChkZWZhdWx0IGlzIDEpXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIGNvbG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW50by5cbiAgICogQHJldHVybnMgdGhlIGN1dXJlbnQgQ29sb3I0XG4gICAqL1xuICBwdWJsaWMgY2xhbXBUb1JlZihtaW46IG51bWJlciA9IDAsIG1heDogbnVtYmVyID0gMSwgcmVzdWx0OiBDb2xvcjQpOiBDb2xvcjQge1xuICAgIHJlc3VsdC5yID0gU2NhbGFyLkNsYW1wKHRoaXMuciwgbWluLCBtYXgpXG4gICAgcmVzdWx0LmcgPSBTY2FsYXIuQ2xhbXAodGhpcy5nLCBtaW4sIG1heClcbiAgICByZXN1bHQuYiA9IFNjYWxhci5DbGFtcCh0aGlzLmIsIG1pbiwgbWF4KVxuICAgIHJlc3VsdC5hID0gU2NhbGFyLkNsYW1wKHRoaXMuYSwgbWluLCBtYXgpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBNdWx0aXB5IGFuIENvbG9yNCB2YWx1ZSBieSBhbm90aGVyIGFuZCByZXR1cm4gYSBuZXcgQ29sb3I0IG9iamVjdFxuICAgKiBAcGFyYW0gY29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgdmFsdWUgdG8gbXVsdGlwbHkgYnlcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIG11bHRpcGx5KGNvbG9yOiBDb2xvcjQpOiBDb2xvcjQge1xuICAgIHJldHVybiBuZXcgQ29sb3I0KHRoaXMuciAqIGNvbG9yLnIsIHRoaXMuZyAqIGNvbG9yLmcsIHRoaXMuYiAqIGNvbG9yLmIsIHRoaXMuYSAqIGNvbG9yLmEpXG4gIH1cblxuICAvKipcbiAgICogTXVsdGlweSBhIENvbG9yNCB2YWx1ZSBieSBhbm90aGVyIGFuZCBwdXNoIHRoZSByZXN1bHQgaW4gYSByZWZlcmVuY2UgdmFsdWVcbiAgICogQHBhcmFtIGNvbG9yIC0gZGVmaW5lcyB0aGUgQ29sb3I0IHZhbHVlIHRvIG11bHRpcGx5IGJ5XG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjQgdG8gZmlsbCB0aGUgcmVzdWx0IGluXG4gICAqIEByZXR1cm5zIHRoZSByZXN1bHQgQ29sb3I0XG4gICAqL1xuICBwdWJsaWMgbXVsdGlwbHlUb1JlZihjb2xvcjogQ29sb3I0LCByZXN1bHQ6IENvbG9yNCk6IENvbG9yNCB7XG4gICAgcmVzdWx0LnIgPSB0aGlzLnIgKiBjb2xvci5yXG4gICAgcmVzdWx0LmcgPSB0aGlzLmcgKiBjb2xvci5nXG4gICAgcmVzdWx0LmIgPSB0aGlzLmIgKiBjb2xvci5iXG4gICAgcmVzdWx0LmEgPSB0aGlzLmEgKiBjb2xvci5hXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzdHJpbmcgd2l0aCB0aGUgQ29sb3I0IGN1cnJlbnQgdmFsdWVzXG4gICAqIEByZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiAne1I6ICcgKyB0aGlzLnIgKyAnIEc6JyArIHRoaXMuZyArICcgQjonICsgdGhpcy5iICsgJyBBOicgKyB0aGlzLmEgKyAnfSdcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgXCJDb2xvcjRcIlxuICAgKiBAcmV0dXJucyBcIkNvbG9yNFwiXG4gICAqL1xuICBwdWJsaWMgZ2V0Q2xhc3NOYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdDb2xvcjQnXG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgQ29sb3I0IGhhc2ggY29kZVxuICAgKiBAcmV0dXJucyBhbiB1bmlxdWUgbnVtYmVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gaGFzaCBDb2xvcjQgb2JqZWN0c1xuICAgKi9cbiAgcHVibGljIGdldEhhc2hDb2RlKCk6IG51bWJlciB7XG4gICAgbGV0IGhhc2ggPSB0aGlzLnIgfHwgMFxuICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodGhpcy5nIHx8IDApXG4gICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh0aGlzLmIgfHwgMClcbiAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHRoaXMuYSB8fCAwKVxuICAgIHJldHVybiBoYXNoXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBDb2xvcjQgY29waWVkIGZyb20gdGhlIGN1cnJlbnQgb25lXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBjbG9uZSgpOiBDb2xvcjQge1xuICAgIHJldHVybiBuZXcgQ29sb3I0KHRoaXMuciwgdGhpcy5nLCB0aGlzLmIsIHRoaXMuYSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3BpZXMgdGhlIGdpdmVuIENvbG9yNCB2YWx1ZXMgaW50byB0aGUgY3VycmVudCBvbmVcbiAgICogQHBhcmFtIHNvdXJjZSAtIGRlZmluZXMgdGhlIHNvdXJjZSBDb2xvcjQgb2JqZWN0XG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIGNvcHlGcm9tKHNvdXJjZTogQ29sb3I0KTogQ29sb3I0IHtcbiAgICB0aGlzLnIgPSBzb3VyY2UuclxuICAgIHRoaXMuZyA9IHNvdXJjZS5nXG4gICAgdGhpcy5iID0gc291cmNlLmJcbiAgICB0aGlzLmEgPSBzb3VyY2UuYVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ29waWVzIHRoZSBnaXZlbiBmbG9hdCB2YWx1ZXMgaW50byB0aGUgY3VycmVudCBvbmVcbiAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICogQHBhcmFtIGEgLSBkZWZpbmVzIHRoZSBhbHBoYSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIGNvcHlGcm9tRmxvYXRzKHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlcik6IENvbG9yNCB7XG4gICAgdGhpcy5yID0gclxuICAgIHRoaXMuZyA9IGdcbiAgICB0aGlzLmIgPSBiXG4gICAgdGhpcy5hID0gYVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ29waWVzIHRoZSBnaXZlbiBmbG9hdCB2YWx1ZXMgaW50byB0aGUgY3VycmVudCBvbmVcbiAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICogQHBhcmFtIGEgLSBkZWZpbmVzIHRoZSBhbHBoYSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIHNldChyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyLCBhOiBudW1iZXIpOiBDb2xvcjQge1xuICAgIHJldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKHIsIGcsIGIsIGEpXG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgQ29sb3I0IGhleGFkZWNpbWFsIGNvZGUgYXMgYSBzdHJpbmdcbiAgICogQHJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgaGV4YWRlY2ltYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyB0b0hleFN0cmluZygpOiBzdHJpbmcge1xuICAgIGxldCBpbnRSID0gKHRoaXMuciAqIDI1NSkgfCAwXG4gICAgbGV0IGludEcgPSAodGhpcy5nICogMjU1KSB8IDBcbiAgICBsZXQgaW50QiA9ICh0aGlzLmIgKiAyNTUpIHwgMFxuICAgIGxldCBpbnRBID0gKHRoaXMuYSAqIDI1NSkgfCAwXG4gICAgcmV0dXJuICcjJyArIFNjYWxhci5Ub0hleChpbnRSKSArIFNjYWxhci5Ub0hleChpbnRHKSArIFNjYWxhci5Ub0hleChpbnRCKSArIFNjYWxhci5Ub0hleChpbnRBKVxuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGVzIGEgbmV3IENvbG9yNCBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gbGluZWFyIHNwYWNlXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3RcbiAgICovXG4gIHB1YmxpYyB0b0xpbmVhclNwYWNlKCk6IENvbG9yNCB7XG4gICAgbGV0IGNvbnZlcnRlZENvbG9yID0gbmV3IENvbG9yNCgpXG4gICAgdGhpcy50b0xpbmVhclNwYWNlVG9SZWYoY29udmVydGVkQ29sb3IpXG4gICAgcmV0dXJuIGNvbnZlcnRlZENvbG9yXG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIENvbG9yNCB2YWx1ZXMgdG8gbGluZWFyIHNwYWNlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBcImNvbnZlcnRlZENvbG9yXCJcbiAgICogQHBhcmFtIGNvbnZlcnRlZENvbG9yIC0gZGVmaW5lcyB0aGUgQ29sb3I0IG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgbGluZWFyIHNwYWNlIHZlcnNpb25cbiAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgQ29sb3I0XG4gICAqL1xuICBwdWJsaWMgdG9MaW5lYXJTcGFjZVRvUmVmKGNvbnZlcnRlZENvbG9yOiBDb2xvcjQpOiBDb2xvcjQge1xuICAgIGNvbnZlcnRlZENvbG9yLnIgPSBNYXRoLnBvdyh0aGlzLnIsIFRvTGluZWFyU3BhY2UpXG4gICAgY29udmVydGVkQ29sb3IuZyA9IE1hdGgucG93KHRoaXMuZywgVG9MaW5lYXJTcGFjZSlcbiAgICBjb252ZXJ0ZWRDb2xvci5iID0gTWF0aC5wb3codGhpcy5iLCBUb0xpbmVhclNwYWNlKVxuICAgIGNvbnZlcnRlZENvbG9yLmEgPSB0aGlzLmFcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGVzIGEgbmV3IENvbG9yNCBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gZ2FtbWEgc3BhY2VcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIHRvR2FtbWFTcGFjZSgpOiBDb2xvcjQge1xuICAgIGxldCBjb252ZXJ0ZWRDb2xvciA9IG5ldyBDb2xvcjQoKVxuICAgIHRoaXMudG9HYW1tYVNwYWNlVG9SZWYoY29udmVydGVkQ29sb3IpXG4gICAgcmV0dXJuIGNvbnZlcnRlZENvbG9yXG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIENvbG9yNCB2YWx1ZXMgdG8gZ2FtbWEgc3BhY2UgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIFwiY29udmVydGVkQ29sb3JcIlxuICAgKiBAcGFyYW0gY29udmVydGVkQ29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSBnYW1tYSBzcGFjZSB2ZXJzaW9uXG4gICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIENvbG9yNFxuICAgKi9cbiAgcHVibGljIHRvR2FtbWFTcGFjZVRvUmVmKGNvbnZlcnRlZENvbG9yOiBDb2xvcjQpOiBDb2xvcjQge1xuICAgIGNvbnZlcnRlZENvbG9yLnIgPSBNYXRoLnBvdyh0aGlzLnIsIFRvR2FtbWFTcGFjZSlcbiAgICBjb252ZXJ0ZWRDb2xvci5nID0gTWF0aC5wb3codGhpcy5nLCBUb0dhbW1hU3BhY2UpXG4gICAgY29udmVydGVkQ29sb3IuYiA9IE1hdGgucG93KHRoaXMuYiwgVG9HYW1tYVNwYWNlKVxuICAgIGNvbnZlcnRlZENvbG9yLmEgPSB0aGlzLmFcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG4iLCJpbXBvcnQgeyBGbG9hdEFycmF5LCBUb0xpbmVhclNwYWNlLCBUb0dhbW1hU3BhY2UgfSBmcm9tICcuL3R5cGVzJ1xuXG5pbXBvcnQgeyBDb2xvcjQgfSBmcm9tICcuL0NvbG9yNCdcblxuaW1wb3J0IHsgU2NhbGFyIH0gZnJvbSAnLi9TY2FsYXInXG5cbi8qKlxuICogQ2xhc3MgdXNlZCB0byBob2xkIGEgUkJHIGNvbG9yXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2xvcjMge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBDb2xvcjMgb2JqZWN0IGZyb20gcmVkLCBncmVlbiwgYmx1ZSB2YWx1ZXMsIGFsbCBiZXR3ZWVuIDAgYW5kIDFcbiAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIHB1YmxpYyByOiBudW1iZXIgPSAwLFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgcHVibGljIGc6IG51bWJlciA9IDAsXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIHB1YmxpYyBiOiBudW1iZXIgPSAwXG4gICkge31cblxuICAvLyBTdGF0aWNzXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQ29sb3IzIGZyb20gdGhlIHN0cmluZyBjb250YWluaW5nIHZhbGlkIGhleGFkZWNpbWFsIHZhbHVlc1xuICAgKiBAcGFyYW0gaGV4IC0gZGVmaW5lcyBhIHN0cmluZyBjb250YWluaW5nIHZhbGlkIGhleGFkZWNpbWFsIHZhbHVlc1xuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjMgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21IZXhTdHJpbmcoaGV4OiBzdHJpbmcpOiBDb2xvcjMge1xuICAgIGlmIChoZXguc3Vic3RyaW5nKDAsIDEpICE9PSAnIycgfHwgaGV4Lmxlbmd0aCAhPT0gNykge1xuICAgICAgcmV0dXJuIG5ldyBDb2xvcjMoMCwgMCwgMClcbiAgICB9XG5cbiAgICBsZXQgciA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMSwgMyksIDE2KVxuICAgIGxldCBnID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygzLCA1KSwgMTYpXG4gICAgbGV0IGIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDUsIDcpLCAxNilcblxuICAgIHJldHVybiBDb2xvcjMuRnJvbUludHMociwgZywgYilcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFZlY3RvcjMgZnJvbSB0aGUgc3RhcnRpbmcgaW5kZXggb2YgdGhlIGdpdmVuIGFycmF5XG4gICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyBhbiBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjMgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEZyb21BcnJheShhcnJheTogQXJyYXlMaWtlPG51bWJlcj4sIG9mZnNldDogbnVtYmVyID0gMCk6IENvbG9yMyB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjMoYXJyYXlbb2Zmc2V0XSwgYXJyYXlbb2Zmc2V0ICsgMV0sIGFycmF5W29mZnNldCArIDJdKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQ29sb3IzIGZyb20gaW50ZWdlciB2YWx1ZXMgKGxlc3MgdGhhbiAyNTYpXG4gICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IHRvIHJlYWQgZnJvbSAodmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUpXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yMyBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgRnJvbUludHMocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlcik6IENvbG9yMyB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjMociAvIDI1NS4wLCBnIC8gMjU1LjAsIGIgLyAyNTUuMClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IENvbG9yMyB3aXRoIHZhbHVlcyBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgb2YgXCJhbW91bnRcIiBiZXR3ZWVuIHRoZSBzdGFydCBDb2xvcjMgYW5kIHRoZSBlbmQgQ29sb3IzXG4gICAqIEBwYXJhbSBzdGFydCAtIGRlZmluZXMgdGhlIHN0YXJ0IENvbG9yMyB2YWx1ZVxuICAgKiBAcGFyYW0gZW5kIC0gZGVmaW5lcyB0aGUgZW5kIENvbG9yMyB2YWx1ZVxuICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgdmFsdWUgYmV0d2VlbiBzdGFydCBhbmQgZW5kXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yMyBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTGVycChzdGFydDogQ29sb3IzLCBlbmQ6IENvbG9yMywgYW1vdW50OiBudW1iZXIpOiBDb2xvcjMge1xuICAgIGxldCByZXN1bHQgPSBuZXcgQ29sb3IzKDAuMCwgMC4wLCAwLjApXG4gICAgQ29sb3IzLkxlcnBUb1JlZihzdGFydCwgZW5kLCBhbW91bnQsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBDb2xvcjMgd2l0aCB2YWx1ZXMgbGluZWFybHkgaW50ZXJwb2xhdGVkIG9mIFwiYW1vdW50XCIgYmV0d2VlbiB0aGUgc3RhcnQgQ29sb3IzIGFuZCB0aGUgZW5kIENvbG9yM1xuICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIGVuZCB2YWx1ZVxuICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgZmFjdG9yXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgTGVycFRvUmVmKGxlZnQ6IENvbG9yMywgcmlnaHQ6IENvbG9yMywgYW1vdW50OiBudW1iZXIsIHJlc3VsdDogQ29sb3IzKTogdm9pZCB7XG4gICAgcmVzdWx0LnIgPSBsZWZ0LnIgKyAocmlnaHQuciAtIGxlZnQucikgKiBhbW91bnRcbiAgICByZXN1bHQuZyA9IGxlZnQuZyArIChyaWdodC5nIC0gbGVmdC5nKSAqIGFtb3VudFxuICAgIHJlc3VsdC5iID0gbGVmdC5iICsgKHJpZ2h0LmIgLSBsZWZ0LmIpICogYW1vdW50XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgcmVkIGNvbG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yMyBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgUmVkKCk6IENvbG9yMyB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjMoMSwgMCwgMClcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgZ3JlZW4gY29sb3JcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3IzIG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBHcmVlbigpOiBDb2xvcjMge1xuICAgIHJldHVybiBuZXcgQ29sb3IzKDAsIDEsIDApXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIGJsdWUgY29sb3JcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3IzIG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBCbHVlKCk6IENvbG9yMyB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjMoMCwgMCwgMSlcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgYmxhY2sgY29sb3JcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3IzIG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBCbGFjaygpOiBDb2xvcjMge1xuICAgIHJldHVybiBuZXcgQ29sb3IzKDAsIDAsIDApXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIHdoaXRlIGNvbG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yMyBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgV2hpdGUoKTogQ29sb3IzIHtcbiAgICByZXR1cm4gbmV3IENvbG9yMygxLCAxLCAxKVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBwdXJwbGUgY29sb3JcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3IzIG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBQdXJwbGUoKTogQ29sb3IzIHtcbiAgICByZXR1cm4gbmV3IENvbG9yMygwLjUsIDAsIDAuNSlcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgbWFnZW50YSBjb2xvclxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjMgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIE1hZ2VudGEoKTogQ29sb3IzIHtcbiAgICByZXR1cm4gbmV3IENvbG9yMygxLCAwLCAxKVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSB5ZWxsb3cgY29sb3JcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3IzIG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBZZWxsb3coKTogQ29sb3IzIHtcbiAgICByZXR1cm4gbmV3IENvbG9yMygxLCAxLCAwKVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBncmF5IGNvbG9yXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yMyBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgR3JheSgpOiBDb2xvcjMge1xuICAgIHJldHVybiBuZXcgQ29sb3IzKDAuNSwgMC41LCAwLjUpXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIHRlYWwgY29sb3JcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3IzIG9iamVjdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBUZWFsKCk6IENvbG9yMyB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjMoMCwgMS4wLCAxLjApXG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIHJhbmRvbSBjb2xvclxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjMgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFJhbmRvbSgpOiBDb2xvcjMge1xuICAgIHJldHVybiBuZXcgQ29sb3IzKE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCkpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHN0cmluZyB3aXRoIHRoZSBDb2xvcjMgY3VycmVudCB2YWx1ZXNcbiAgICogQHJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQ29sb3IzIG9iamVjdFxuICAgKi9cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICd7UjogJyArIHRoaXMuciArICcgRzonICsgdGhpcy5nICsgJyBCOicgKyB0aGlzLmIgKyAnfSdcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgXCJDb2xvcjNcIlxuICAgKiBAcmV0dXJucyBcIkNvbG9yM1wiXG4gICAqL1xuICBwdWJsaWMgZ2V0Q2xhc3NOYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdDb2xvcjMnXG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgQ29sb3IzIGhhc2ggY29kZVxuICAgKiBAcmV0dXJucyBhbiB1bmlxdWUgbnVtYmVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gaGFzaCBDb2xvcjMgb2JqZWN0c1xuICAgKi9cbiAgcHVibGljIGdldEhhc2hDb2RlKCk6IG51bWJlciB7XG4gICAgbGV0IGhhc2ggPSB0aGlzLnIgfHwgMFxuICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodGhpcy5nIHx8IDApXG4gICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh0aGlzLmIgfHwgMClcbiAgICByZXR1cm4gaGFzaFxuICB9XG5cbiAgLy8gT3BlcmF0b3JzXG5cbiAgLyoqXG4gICAqIFN0b3JlcyBpbiB0aGUgZ2l2ZW4gYXJyYXkgZnJvbSB0aGUgZ2l2ZW4gc3RhcnRpbmcgaW5kZXggdGhlIHJlZCwgZ3JlZW4sIGJsdWUgdmFsdWVzIGFzIHN1Y2Nlc3NpdmUgZWxlbWVudHNcbiAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIHIsZyxiIGNvbXBvbmVudHNcbiAgICogQHBhcmFtIGluZGV4IC0gZGVmaW5lcyBhbiBvcHRpb25hbCBpbmRleCBpbiB0aGUgdGFyZ2V0IGFycmF5IHRvIGRlZmluZSB3aGVyZSB0byBzdGFydCBzdG9yaW5nIHZhbHVlc1xuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBDb2xvcjMgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgdG9BcnJheShhcnJheTogRmxvYXRBcnJheSwgaW5kZXg6IG51bWJlciA9IDApOiBDb2xvcjMge1xuICAgIGFycmF5W2luZGV4XSA9IHRoaXMuclxuICAgIGFycmF5W2luZGV4ICsgMV0gPSB0aGlzLmdcbiAgICBhcnJheVtpbmRleCArIDJdID0gdGhpcy5iXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdCBmcm9tIHRoZSBjdXJyZW50IENvbG9yMyBhbmQgdGhlIGdpdmVuIGFscGhhXG4gICAqIEBwYXJhbSBhbHBoYSAtIGRlZmluZXMgdGhlIGFscGhhIGNvbXBvbmVudCBvbiB0aGUgbmV3IENvbG9yNCBvYmplY3QgKGRlZmF1bHQgaXMgMSlcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdFxuICAgKi9cbiAgcHVibGljIHRvQ29sb3I0KGFscGhhOiBudW1iZXIgPSAxKTogQ29sb3I0IHtcbiAgICByZXR1cm4gbmV3IENvbG9yNCh0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCBhbHBoYSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IGFycmF5IHBvcHVsYXRlZCB3aXRoIDMgbnVtZXJpYyBlbGVtZW50cyA6IHJlZCwgZ3JlZW4gYW5kIGJsdWUgdmFsdWVzXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgYXJyYXlcbiAgICovXG4gIHB1YmxpYyBhc0FycmF5KCk6IG51bWJlcltdIHtcbiAgICBsZXQgcmVzdWx0ID0gbmV3IEFycmF5PG51bWJlcj4oKVxuICAgIHRoaXMudG9BcnJheShyZXN1bHQsIDApXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGx1bWluYW5jZSB2YWx1ZVxuICAgKiBAcmV0dXJucyBhIGZsb2F0IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgdG9MdW1pbmFuY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5yICogMC4zICsgdGhpcy5nICogMC41OSArIHRoaXMuYiAqIDAuMTFcbiAgfVxuXG4gIC8qKlxuICAgKiBNdWx0aXBseSBlYWNoIENvbG9yMyByZ2IgdmFsdWVzIGJ5IHRoZSBnaXZlbiBDb2xvcjMgcmdiIHZhbHVlcyBpbiBhIG5ldyBDb2xvcjMgb2JqZWN0XG4gICAqIEBwYXJhbSBvdGhlckNvbG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIG5ldyBDb2xvcjMgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgbXVsdGlwbHkob3RoZXJDb2xvcjogQ29sb3IzKTogQ29sb3IzIHtcbiAgICByZXR1cm4gbmV3IENvbG9yMyh0aGlzLnIgKiBvdGhlckNvbG9yLnIsIHRoaXMuZyAqIG90aGVyQ29sb3IuZywgdGhpcy5iICogb3RoZXJDb2xvci5iKVxuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IHRoZSByZ2IgdmFsdWVzIG9mIHRoZSBDb2xvcjMgYW5kIHRoZSBnaXZlbiBDb2xvcjMgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIHRoZSBvYmplY3QgXCJyZXN1bHRcIlxuICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgQ29sb3IzXG4gICAqL1xuICBwdWJsaWMgbXVsdGlwbHlUb1JlZihvdGhlckNvbG9yOiBDb2xvcjMsIHJlc3VsdDogQ29sb3IzKTogQ29sb3IzIHtcbiAgICByZXN1bHQuciA9IHRoaXMuciAqIG90aGVyQ29sb3IuclxuICAgIHJlc3VsdC5nID0gdGhpcy5nICogb3RoZXJDb2xvci5nXG4gICAgcmVzdWx0LmIgPSB0aGlzLmIgKiBvdGhlckNvbG9yLmJcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgZXF1YWxpdHkgYmV0d2VlbiBDb2xvcjMgb2JqZWN0c1xuICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHJnYiB2YWx1ZXMgYXJlIGVxdWFsIHRvIHRoZSBnaXZlbiBvbmVzXG4gICAqL1xuICBwdWJsaWMgZXF1YWxzKG90aGVyQ29sb3I6IENvbG9yMyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBvdGhlckNvbG9yICYmIHRoaXMuciA9PT0gb3RoZXJDb2xvci5yICYmIHRoaXMuZyA9PT0gb3RoZXJDb2xvci5nICYmIHRoaXMuYiA9PT0gb3RoZXJDb2xvci5iXG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBlcXVhbGl0eSBiZXR3ZWVuIHRoZSBjdXJyZW50IENvbG9yMyBvYmplY3QgYW5kIGEgc2V0IG9mIHIsYixnIHZhbHVlc1xuICAgKiBAcGFyYW0gciAtIGRlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgdG8gY2hlY2tcbiAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgdG8gY2hlY2tcbiAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSByZ2IgdmFsdWVzIGFyZSBlcXVhbCB0byB0aGUgZ2l2ZW4gb25lc1xuICAgKi9cbiAgcHVibGljIGVxdWFsc0Zsb2F0cyhyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuciA9PT0gciAmJiB0aGlzLmcgPT09IGcgJiYgdGhpcy5iID09PSBiXG4gIH1cblxuICAvKipcbiAgICogTXVsdGlwbGllcyBpbiBwbGFjZSBlYWNoIHJnYiB2YWx1ZSBieSBzY2FsZVxuICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBDb2xvcjNcbiAgICovXG4gIHB1YmxpYyBzY2FsZShzY2FsZTogbnVtYmVyKTogQ29sb3IzIHtcbiAgICByZXR1cm4gbmV3IENvbG9yMyh0aGlzLnIgKiBzY2FsZSwgdGhpcy5nICogc2NhbGUsIHRoaXMuYiAqIHNjYWxlKVxuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGxpZXMgdGhlIHJnYiB2YWx1ZXMgYnkgc2NhbGUgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGludG8gXCJyZXN1bHRcIlxuICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIGN1cnJlbnQgQ29sb3IzXG4gICAqL1xuICBwdWJsaWMgc2NhbGVUb1JlZihzY2FsZTogbnVtYmVyLCByZXN1bHQ6IENvbG9yMyk6IENvbG9yMyB7XG4gICAgcmVzdWx0LnIgPSB0aGlzLnIgKiBzY2FsZVxuICAgIHJlc3VsdC5nID0gdGhpcy5nICogc2NhbGVcbiAgICByZXN1bHQuYiA9IHRoaXMuYiAqIHNjYWxlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGUgY3VycmVudCBDb2xvcjMgdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIENvbG9yM1xuICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3JcbiAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgY29sb3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbnRvXG4gICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIGN1cnJlbnQgQ29sb3IzXG4gICAqL1xuICBwdWJsaWMgc2NhbGVBbmRBZGRUb1JlZihzY2FsZTogbnVtYmVyLCByZXN1bHQ6IENvbG9yMyk6IENvbG9yMyB7XG4gICAgcmVzdWx0LnIgKz0gdGhpcy5yICogc2NhbGVcbiAgICByZXN1bHQuZyArPSB0aGlzLmcgKiBzY2FsZVxuICAgIHJlc3VsdC5iICs9IHRoaXMuYiAqIHNjYWxlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGFtcHMgdGhlIHJnYiB2YWx1ZXMgYnkgdGhlIG1pbiBhbmQgbWF4IHZhbHVlcyBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW50byBcInJlc3VsdFwiXG4gICAqIEBwYXJhbSBtaW4gLSBkZWZpbmVzIG1pbmltdW0gY2xhbXBpbmcgdmFsdWUgKGRlZmF1bHQgaXMgMClcbiAgICogQHBhcmFtIG1heCAtIGRlZmluZXMgbWF4aW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAxKVxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyBjb2xvciB0byBzdG9yZSB0aGUgcmVzdWx0IGludG9cbiAgICogQHJldHVybnMgdGhlIG9yaWdpbmFsIENvbG9yM1xuICAgKi9cbiAgcHVibGljIGNsYW1wVG9SZWYobWluOiBudW1iZXIgPSAwLCBtYXg6IG51bWJlciA9IDEsIHJlc3VsdDogQ29sb3IzKTogQ29sb3IzIHtcbiAgICByZXN1bHQuciA9IFNjYWxhci5DbGFtcCh0aGlzLnIsIG1pbiwgbWF4KVxuICAgIHJlc3VsdC5nID0gU2NhbGFyLkNsYW1wKHRoaXMuZywgbWluLCBtYXgpXG4gICAgcmVzdWx0LmIgPSBTY2FsYXIuQ2xhbXAodGhpcy5iLCBtaW4sIG1heClcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQ29sb3IzIHNldCB3aXRoIHRoZSBhZGRlZCB2YWx1ZXMgb2YgdGhlIGN1cnJlbnQgQ29sb3IzIGFuZCBvZiB0aGUgZ2l2ZW4gb25lXG4gICAqIEBwYXJhbSBvdGhlckNvbG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICogQHJldHVybnMgdGhlIG5ldyBDb2xvcjNcbiAgICovXG4gIHB1YmxpYyBhZGQob3RoZXJDb2xvcjogQ29sb3IzKTogQ29sb3IzIHtcbiAgICByZXR1cm4gbmV3IENvbG9yMyh0aGlzLnIgKyBvdGhlckNvbG9yLnIsIHRoaXMuZyArIG90aGVyQ29sb3IuZywgdGhpcy5iICsgb3RoZXJDb2xvci5iKVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlcyB0aGUgcmVzdWx0IG9mIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBDb2xvcjMgYW5kIGdpdmVuIG9uZSByZ2IgdmFsdWVzIGludG8gXCJyZXN1bHRcIlxuICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIENvbG9yMyBvYmplY3QgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbnRvXG4gICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIGN1cnJlbnQgQ29sb3IzXG4gICAqL1xuICBwdWJsaWMgYWRkVG9SZWYob3RoZXJDb2xvcjogQ29sb3IzLCByZXN1bHQ6IENvbG9yMyk6IENvbG9yMyB7XG4gICAgcmVzdWx0LnIgPSB0aGlzLnIgKyBvdGhlckNvbG9yLnJcbiAgICByZXN1bHQuZyA9IHRoaXMuZyArIG90aGVyQ29sb3IuZ1xuICAgIHJlc3VsdC5iID0gdGhpcy5iICsgb3RoZXJDb2xvci5iXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IENvbG9yMyBzZXQgd2l0aCB0aGUgc3VidHJhY3RlZCB2YWx1ZXMgb2YgdGhlIGdpdmVuIG9uZSBmcm9tIHRoZSBjdXJyZW50IENvbG9yM1xuICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgQ29sb3IzXG4gICAqL1xuICBwdWJsaWMgc3VidHJhY3Qob3RoZXJDb2xvcjogQ29sb3IzKTogQ29sb3IzIHtcbiAgICByZXR1cm4gbmV3IENvbG9yMyh0aGlzLnIgLSBvdGhlckNvbG9yLnIsIHRoaXMuZyAtIG90aGVyQ29sb3IuZywgdGhpcy5iIC0gb3RoZXJDb2xvci5iKVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlcyB0aGUgcmVzdWx0IG9mIHRoZSBzdWJ0cmFjdGlvbiBvZiBnaXZlbiBvbmUgZnJvbSB0aGUgY3VycmVudCBDb2xvcjMgcmdiIHZhbHVlcyBpbnRvIFwicmVzdWx0XCJcbiAgICogQHBhcmFtIG90aGVyQ29sb3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyBDb2xvcjMgb2JqZWN0IHRvIHN0b3JlIHRoZSByZXN1bHQgaW50b1xuICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IENvbG9yM1xuICAgKi9cbiAgcHVibGljIHN1YnRyYWN0VG9SZWYob3RoZXJDb2xvcjogQ29sb3IzLCByZXN1bHQ6IENvbG9yMyk6IENvbG9yMyB7XG4gICAgcmVzdWx0LnIgPSB0aGlzLnIgLSBvdGhlckNvbG9yLnJcbiAgICByZXN1bHQuZyA9IHRoaXMuZyAtIG90aGVyQ29sb3IuZ1xuICAgIHJlc3VsdC5iID0gdGhpcy5iIC0gb3RoZXJDb2xvci5iXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5IHRoZSBjdXJyZW50IG9iamVjdFxuICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjMgY29waWVkIHRoZSBjdXJyZW50IG9uZVxuICAgKi9cbiAgcHVibGljIGNsb25lKCk6IENvbG9yMyB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcjModGhpcy5yLCB0aGlzLmcsIHRoaXMuYilcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3BpZXMgdGhlIHJnYiB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIGluIHRoZSBjdXJyZW50IENvbG9yM1xuICAgKiBAcGFyYW0gc291cmNlIC0gZGVmaW5lcyB0aGUgc291cmNlIENvbG9yMyBvYmplY3RcbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgQ29sb3IzIG9iamVjdFxuICAgKi9cbiAgcHVibGljIGNvcHlGcm9tKHNvdXJjZTogQ29sb3IzKTogQ29sb3IzIHtcbiAgICB0aGlzLnIgPSBzb3VyY2UuclxuICAgIHRoaXMuZyA9IHNvdXJjZS5nXG4gICAgdGhpcy5iID0gc291cmNlLmJcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIENvbG9yMyByZ2IgdmFsdWVzIGZyb20gdGhlIGdpdmVuIGZsb2F0c1xuICAgKiBAcGFyYW0gciAtIGRlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBDb2xvcjMgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgY29weUZyb21GbG9hdHMocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlcik6IENvbG9yMyB7XG4gICAgdGhpcy5yID0gclxuICAgIHRoaXMuZyA9IGdcbiAgICB0aGlzLmIgPSBiXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBDb2xvcjMgcmdiIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBmbG9hdHNcbiAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgQ29sb3IzIG9iamVjdFxuICAgKi9cbiAgcHVibGljIHNldChyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKTogQ29sb3IzIHtcbiAgICByZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhyLCBnLCBiKVxuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIENvbG9yMyBoZXhhZGVjaW1hbCBjb2RlIGFzIGEgc3RyaW5nXG4gICAqIEByZXR1cm5zIGEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGhleGFkZWNpbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBDb2xvcjMgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgdG9IZXhTdHJpbmcoKTogc3RyaW5nIHtcbiAgICBsZXQgaW50UiA9ICh0aGlzLnIgKiAyNTUpIHwgMFxuICAgIGxldCBpbnRHID0gKHRoaXMuZyAqIDI1NSkgfCAwXG4gICAgbGV0IGludEIgPSAodGhpcy5iICogMjU1KSB8IDBcbiAgICByZXR1cm4gJyMnICsgU2NhbGFyLlRvSGV4KGludFIpICsgU2NhbGFyLlRvSGV4KGludEcpICsgU2NhbGFyLlRvSGV4KGludEIpXG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZXMgYSBuZXcgQ29sb3IzIGNvbnZlcnRlZCBmcm9tIHRoZSBjdXJyZW50IG9uZSB0byBsaW5lYXIgc3BhY2VcbiAgICogQHJldHVybnMgYSBuZXcgQ29sb3IzIG9iamVjdFxuICAgKi9cbiAgcHVibGljIHRvTGluZWFyU3BhY2UoKTogQ29sb3IzIHtcbiAgICBsZXQgY29udmVydGVkQ29sb3IgPSBuZXcgQ29sb3IzKClcbiAgICB0aGlzLnRvTGluZWFyU3BhY2VUb1JlZihjb252ZXJ0ZWRDb2xvcilcbiAgICByZXR1cm4gY29udmVydGVkQ29sb3JcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGUgQ29sb3IzIHZhbHVlcyB0byBsaW5lYXIgc3BhY2UgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIFwiY29udmVydGVkQ29sb3JcIlxuICAgKiBAcGFyYW0gY29udmVydGVkQ29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSBsaW5lYXIgc3BhY2UgdmVyc2lvblxuICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBDb2xvcjNcbiAgICovXG4gIHB1YmxpYyB0b0xpbmVhclNwYWNlVG9SZWYoY29udmVydGVkQ29sb3I6IENvbG9yMyk6IENvbG9yMyB7XG4gICAgY29udmVydGVkQ29sb3IuciA9IE1hdGgucG93KHRoaXMuciwgVG9MaW5lYXJTcGFjZSlcbiAgICBjb252ZXJ0ZWRDb2xvci5nID0gTWF0aC5wb3codGhpcy5nLCBUb0xpbmVhclNwYWNlKVxuICAgIGNvbnZlcnRlZENvbG9yLmIgPSBNYXRoLnBvdyh0aGlzLmIsIFRvTGluZWFyU3BhY2UpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlcyBhIG5ldyBDb2xvcjMgY29udmVydGVkIGZyb20gdGhlIGN1cnJlbnQgb25lIHRvIGdhbW1hIHNwYWNlXG4gICAqIEByZXR1cm5zIGEgbmV3IENvbG9yMyBvYmplY3RcbiAgICovXG4gIHB1YmxpYyB0b0dhbW1hU3BhY2UoKTogQ29sb3IzIHtcbiAgICBsZXQgY29udmVydGVkQ29sb3IgPSBuZXcgQ29sb3IzKClcbiAgICB0aGlzLnRvR2FtbWFTcGFjZVRvUmVmKGNvbnZlcnRlZENvbG9yKVxuICAgIHJldHVybiBjb252ZXJ0ZWRDb2xvclxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoZSBDb2xvcjMgdmFsdWVzIHRvIGdhbW1hIHNwYWNlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBcImNvbnZlcnRlZENvbG9yXCJcbiAgICogQHBhcmFtIGNvbnZlcnRlZENvbG9yIC0gZGVmaW5lcyB0aGUgQ29sb3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgZ2FtbWEgc3BhY2UgdmVyc2lvblxuICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBDb2xvcjNcbiAgICovXG4gIHB1YmxpYyB0b0dhbW1hU3BhY2VUb1JlZihjb252ZXJ0ZWRDb2xvcjogQ29sb3IzKTogQ29sb3IzIHtcbiAgICBjb252ZXJ0ZWRDb2xvci5yID0gTWF0aC5wb3codGhpcy5yLCBUb0dhbW1hU3BhY2UpXG4gICAgY29udmVydGVkQ29sb3IuZyA9IE1hdGgucG93KHRoaXMuZywgVG9HYW1tYVNwYWNlKVxuICAgIGNvbnZlcnRlZENvbG9yLmIgPSBNYXRoLnBvdyh0aGlzLmIsIFRvR2FtbWFTcGFjZSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgQ29sb3IzXG4gICAqL1xuICBwdWJsaWMgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICByOiB0aGlzLnIsXG4gICAgICBnOiB0aGlzLmcsXG4gICAgICBiOiB0aGlzLmJcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMnXG5cbi8qKlxuICogQSBDdXJ2ZTMgb2JqZWN0IGlzIGEgbG9naWNhbCBvYmplY3QsIHNvIG5vdCBhIG1lc2gsIHRvIGhhbmRsZSBjdXJ2ZXMgaW4gdGhlIDNEIGdlb21ldHJpYyBzcGFjZS5cbiAqIEEgQ3VydmUzIGlzIGRlc2lnbmVkIGZyb20gYSBzZXJpZXMgb2Ygc3VjY2Vzc2l2ZSBWZWN0b3IzLlxuICoge0BsaW5rIGh0dHBzOi8vZG9jLmJhYnlsb25qcy5jb20vaG93X3RvL2hvd190b191c2VfY3VydmUzIH1cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEN1cnZlMyB7XG4gIHByaXZhdGUgX3BvaW50czogVmVjdG9yM1tdXG4gIHByaXZhdGUgX2xlbmd0aDogbnVtYmVyID0gMC4wXG5cbiAgLyoqXG4gICAqIEEgQ3VydmUzIG9iamVjdCBpcyBhIGxvZ2ljYWwgb2JqZWN0LCBzbyBub3QgYSBtZXNoLCB0byBoYW5kbGUgY3VydmVzIGluIHRoZSAzRCBnZW9tZXRyaWMgc3BhY2UuXG4gICAqIEEgQ3VydmUzIGlzIGRlc2lnbmVkIGZyb20gYSBzZXJpZXMgb2Ygc3VjY2Vzc2l2ZSBWZWN0b3IzLlxuICAgKiB7QGxpbmsgaHR0cDovL2RvYy5iYWJ5bG9uanMuY29tL3R1dG9yaWFscy9Ib3dfdG9fdXNlX0N1cnZlMyNjdXJ2ZTMtb2JqZWN0IHwgVHV0b3JpYWwgfVxuICAgKiBAcGFyYW0gcG9pbnRzIC0gcG9pbnRzIHdoaWNoIG1ha2UgdXAgdGhlIGN1cnZlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwb2ludHM6IFZlY3RvcjNbXSkge1xuICAgIHRoaXMuX3BvaW50cyA9IHBvaW50c1xuICAgIHRoaXMuX2xlbmd0aCA9IHRoaXMuX2NvbXB1dGVMZW5ndGgocG9pbnRzKVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBDdXJ2ZTMgb2JqZWN0IGFsb25nIGEgUXVhZHJhdGljIEJlemllciBjdXJ2ZSA6IGh0dHA6Ly9kb2MuYmFieWxvbmpzLmNvbS90dXRvcmlhbHMvSG93X3RvX3VzZV9DdXJ2ZTMjcXVhZHJhdGljLWJlemllci1jdXJ2ZVxuICAgKiBAcGFyYW0gdjAgLSAoVmVjdG9yMykgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgUXVhZHJhdGljIEJlemllclxuICAgKiBAcGFyYW0gdjEgLSAoVmVjdG9yMykgdGhlIGNvbnRyb2wgcG9pbnRcbiAgICogQHBhcmFtIHYyIC0gKFZlY3RvcjMpIHRoZSBlbmQgcG9pbnQgb2YgdGhlIFF1YWRyYXRpYyBCZXppZXJcbiAgICogQHBhcmFtIG5iUG9pbnRzIC0gKGludGVnZXIpIHRoZSB3YW50ZWQgbnVtYmVyIG9mIHBvaW50cyBpbiB0aGUgY3VydmVcbiAgICogQHJldHVybnMgdGhlIGNyZWF0ZWQgQ3VydmUzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENyZWF0ZVF1YWRyYXRpY0Jlemllcih2MDogVmVjdG9yMywgdjE6IFZlY3RvcjMsIHYyOiBWZWN0b3IzLCBuYlBvaW50czogbnVtYmVyKTogQ3VydmUzIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tcGFyYW1ldGVyLXJlYXNzaWdubWVudFxuICAgIG5iUG9pbnRzID0gbmJQb2ludHMgPiAyID8gbmJQb2ludHMgOiAzXG4gICAgbGV0IGJleiA9IG5ldyBBcnJheTxWZWN0b3IzPigpXG4gICAgbGV0IGVxdWF0aW9uID0gKHQ6IG51bWJlciwgdmFsMDogbnVtYmVyLCB2YWwxOiBudW1iZXIsIHZhbDI6IG51bWJlcikgPT4ge1xuICAgICAgbGV0IHJlcyA9ICgxLjAgLSB0KSAqICgxLjAgLSB0KSAqIHZhbDAgKyAyLjAgKiB0ICogKDEuMCAtIHQpICogdmFsMSArIHQgKiB0ICogdmFsMlxuICAgICAgcmV0dXJuIHJlc1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBuYlBvaW50czsgaSsrKSB7XG4gICAgICBiZXoucHVzaChcbiAgICAgICAgbmV3IFZlY3RvcjMoXG4gICAgICAgICAgZXF1YXRpb24oaSAvIG5iUG9pbnRzLCB2MC54LCB2MS54LCB2Mi54KSxcbiAgICAgICAgICBlcXVhdGlvbihpIC8gbmJQb2ludHMsIHYwLnksIHYxLnksIHYyLnkpLFxuICAgICAgICAgIGVxdWF0aW9uKGkgLyBuYlBvaW50cywgdjAueiwgdjEueiwgdjIueilcbiAgICAgICAgKVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEN1cnZlMyhiZXopXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIEN1cnZlMyBvYmplY3QgYWxvbmcgYSBDdWJpYyBCZXppZXIgY3VydmUgOiBodHRwOi8vZG9jLmJhYnlsb25qcy5jb20vdHV0b3JpYWxzL0hvd190b191c2VfQ3VydmUzI2N1YmljLWJlemllci1jdXJ2ZVxuICAgKiBAcGFyYW0gdjAgLSAoVmVjdG9yMykgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgQ3ViaWMgQmV6aWVyXG4gICAqIEBwYXJhbSB2MSAtIChWZWN0b3IzKSB0aGUgZmlyc3QgY29udHJvbCBwb2ludFxuICAgKiBAcGFyYW0gdjIgLSAoVmVjdG9yMykgdGhlIHNlY29uZCBjb250cm9sIHBvaW50XG4gICAqIEBwYXJhbSB2MyAtIChWZWN0b3IzKSB0aGUgZW5kIHBvaW50IG9mIHRoZSBDdWJpYyBCZXppZXJcbiAgICogQHBhcmFtIG5iUG9pbnRzIC0gKGludGVnZXIpIHRoZSB3YW50ZWQgbnVtYmVyIG9mIHBvaW50cyBpbiB0aGUgY3VydmVcbiAgICogQHJldHVybnMgdGhlIGNyZWF0ZWQgQ3VydmUzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIENyZWF0ZUN1YmljQmV6aWVyKHYwOiBWZWN0b3IzLCB2MTogVmVjdG9yMywgdjI6IFZlY3RvcjMsIHYzOiBWZWN0b3IzLCBuYlBvaW50czogbnVtYmVyKTogQ3VydmUzIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tcGFyYW1ldGVyLXJlYXNzaWdubWVudFxuICAgIG5iUG9pbnRzID0gbmJQb2ludHMgPiAzID8gbmJQb2ludHMgOiA0XG4gICAgbGV0IGJleiA9IG5ldyBBcnJheTxWZWN0b3IzPigpXG4gICAgbGV0IGVxdWF0aW9uID0gKHQ6IG51bWJlciwgdmFsMDogbnVtYmVyLCB2YWwxOiBudW1iZXIsIHZhbDI6IG51bWJlciwgdmFsMzogbnVtYmVyKSA9PiB7XG4gICAgICBsZXQgcmVzID1cbiAgICAgICAgKDEuMCAtIHQpICogKDEuMCAtIHQpICogKDEuMCAtIHQpICogdmFsMCArXG4gICAgICAgIDMuMCAqIHQgKiAoMS4wIC0gdCkgKiAoMS4wIC0gdCkgKiB2YWwxICtcbiAgICAgICAgMy4wICogdCAqIHQgKiAoMS4wIC0gdCkgKiB2YWwyICtcbiAgICAgICAgdCAqIHQgKiB0ICogdmFsM1xuICAgICAgcmV0dXJuIHJlc1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBuYlBvaW50czsgaSsrKSB7XG4gICAgICBiZXoucHVzaChcbiAgICAgICAgbmV3IFZlY3RvcjMoXG4gICAgICAgICAgZXF1YXRpb24oaSAvIG5iUG9pbnRzLCB2MC54LCB2MS54LCB2Mi54LCB2My54KSxcbiAgICAgICAgICBlcXVhdGlvbihpIC8gbmJQb2ludHMsIHYwLnksIHYxLnksIHYyLnksIHYzLnkpLFxuICAgICAgICAgIGVxdWF0aW9uKGkgLyBuYlBvaW50cywgdjAueiwgdjEueiwgdjIueiwgdjMueilcbiAgICAgICAgKVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEN1cnZlMyhiZXopXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIEN1cnZlMyBvYmplY3QgYWxvbmcgYSBIZXJtaXRlIFNwbGluZSBjdXJ2ZSA6IGh0dHA6Ly9kb2MuYmFieWxvbmpzLmNvbS90dXRvcmlhbHMvSG93X3RvX3VzZV9DdXJ2ZTMjaGVybWl0ZS1zcGxpbmVcbiAgICogQHBhcmFtIHAxIC0gKFZlY3RvcjMpIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIEhlcm1pdGUgU3BsaW5lXG4gICAqIEBwYXJhbSB0MSAtIChWZWN0b3IzKSB0aGUgdGFuZ2VudCB2ZWN0b3IgYXQgdGhlIG9yaWdpbiBwb2ludFxuICAgKiBAcGFyYW0gcDIgLSAoVmVjdG9yMykgdGhlIGVuZCBwb2ludCBvZiB0aGUgSGVybWl0ZSBTcGxpbmVcbiAgICogQHBhcmFtIHQyIC0gKFZlY3RvcjMpIHRoZSB0YW5nZW50IHZlY3RvciBhdCB0aGUgZW5kIHBvaW50XG4gICAqIEBwYXJhbSBuYlBvaW50cyAtIChpbnRlZ2VyKSB0aGUgd2FudGVkIG51bWJlciBvZiBwb2ludHMgaW4gdGhlIGN1cnZlXG4gICAqIEByZXR1cm5zIHRoZSBjcmVhdGVkIEN1cnZlM1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBDcmVhdGVIZXJtaXRlU3BsaW5lKHAxOiBWZWN0b3IzLCB0MTogVmVjdG9yMywgcDI6IFZlY3RvcjMsIHQyOiBWZWN0b3IzLCBuYlBvaW50czogbnVtYmVyKTogQ3VydmUzIHtcbiAgICBsZXQgaGVybWl0ZSA9IG5ldyBBcnJheTxWZWN0b3IzPigpXG4gICAgbGV0IHN0ZXAgPSAxLjAgLyBuYlBvaW50c1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IG5iUG9pbnRzOyBpKyspIHtcbiAgICAgIGhlcm1pdGUucHVzaChWZWN0b3IzLkhlcm1pdGUocDEsIHQxLCBwMiwgdDIsIGkgKiBzdGVwKSlcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDdXJ2ZTMoaGVybWl0ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgQ3VydmUzIG9iamVjdCBhbG9uZyBhIENhdG11bGxSb20gU3BsaW5lIGN1cnZlIDpcbiAgICogQHBhcmFtIHBvaW50cyAtIChhcnJheSBvZiBWZWN0b3IzKSB0aGUgcG9pbnRzIHRoZSBzcGxpbmUgbXVzdCBwYXNzIHRocm91Z2guIEF0IGxlYXN0LCBmb3VyIHBvaW50cyByZXF1aXJlZFxuICAgKiBAcGFyYW0gbmJQb2ludHMgLSAoaW50ZWdlcikgdGhlIHdhbnRlZCBudW1iZXIgb2YgcG9pbnRzIGJldHdlZW4gZWFjaCBjdXJ2ZSBjb250cm9sIHBvaW50c1xuICAgKiBAcGFyYW0gY2xvc2VkIC0gKGJvb2xlYW4pIG9wdGlvbmFsIHdpdGggZGVmYXVsdCBmYWxzZSwgd2hlbiB0cnVlIGZvcm1zIGEgY2xvc2VkIGxvb3AgZnJvbSB0aGUgcG9pbnRzXG4gICAqIEByZXR1cm5zIHRoZSBjcmVhdGVkIEN1cnZlM1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBDcmVhdGVDYXRtdWxsUm9tU3BsaW5lKHBvaW50czogVmVjdG9yM1tdLCBuYlBvaW50czogbnVtYmVyLCBjbG9zZWQ/OiBib29sZWFuKTogQ3VydmUzIHtcbiAgICBsZXQgY2F0bXVsbFJvbSA9IG5ldyBBcnJheTxWZWN0b3IzPigpXG4gICAgbGV0IHN0ZXAgPSAxLjAgLyBuYlBvaW50c1xuICAgIGxldCBhbW91bnQgPSAwLjBcbiAgICBpZiAoY2xvc2VkKSB7XG4gICAgICBsZXQgcG9pbnRzQ291bnQgPSBwb2ludHMubGVuZ3RoXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50c0NvdW50OyBpKyspIHtcbiAgICAgICAgYW1vdW50ID0gMFxuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IG5iUG9pbnRzOyBjKyspIHtcbiAgICAgICAgICBjYXRtdWxsUm9tLnB1c2goXG4gICAgICAgICAgICBWZWN0b3IzLkNhdG11bGxSb20oXG4gICAgICAgICAgICAgIHBvaW50c1tpICUgcG9pbnRzQ291bnRdLFxuICAgICAgICAgICAgICBwb2ludHNbKGkgKyAxKSAlIHBvaW50c0NvdW50XSxcbiAgICAgICAgICAgICAgcG9pbnRzWyhpICsgMikgJSBwb2ludHNDb3VudF0sXG4gICAgICAgICAgICAgIHBvaW50c1soaSArIDMpICUgcG9pbnRzQ291bnRdLFxuICAgICAgICAgICAgICBhbW91bnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICAgYW1vdW50ICs9IHN0ZXBcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2F0bXVsbFJvbS5wdXNoKGNhdG11bGxSb21bMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB0b3RhbFBvaW50cyA9IG5ldyBBcnJheTxWZWN0b3IzPigpXG4gICAgICB0b3RhbFBvaW50cy5wdXNoKHBvaW50c1swXS5jbG9uZSgpKVxuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodG90YWxQb2ludHMsIHBvaW50cylcbiAgICAgIHRvdGFsUG9pbnRzLnB1c2gocG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXS5jbG9uZSgpKVxuICAgICAgbGV0IGkgPSAwXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdG90YWxQb2ludHMubGVuZ3RoIC0gMzsgaSsrKSB7XG4gICAgICAgIGFtb3VudCA9IDBcbiAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCBuYlBvaW50czsgYysrKSB7XG4gICAgICAgICAgY2F0bXVsbFJvbS5wdXNoKFxuICAgICAgICAgICAgVmVjdG9yMy5DYXRtdWxsUm9tKHRvdGFsUG9pbnRzW2ldLCB0b3RhbFBvaW50c1tpICsgMV0sIHRvdGFsUG9pbnRzW2kgKyAyXSwgdG90YWxQb2ludHNbaSArIDNdLCBhbW91bnQpXG4gICAgICAgICAgKVxuICAgICAgICAgIGFtb3VudCArPSBzdGVwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGktLVxuICAgICAgY2F0bXVsbFJvbS5wdXNoKFxuICAgICAgICBWZWN0b3IzLkNhdG11bGxSb20odG90YWxQb2ludHNbaV0sIHRvdGFsUG9pbnRzW2kgKyAxXSwgdG90YWxQb2ludHNbaSArIDJdLCB0b3RhbFBvaW50c1tpICsgM10sIGFtb3VudClcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDdXJ2ZTMoY2F0bXVsbFJvbSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB0aGUgQ3VydmUzIHN0b3JlZCBhcnJheSBvZiBzdWNjZXNzaXZlIFZlY3RvcjNcbiAgICovXG4gIHB1YmxpYyBnZXRQb2ludHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BvaW50c1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHRoZSBjb21wdXRlZCBsZW5ndGggKGZsb2F0KSBvZiB0aGUgY3VydmUuXG4gICAqL1xuICBwdWJsaWMgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9sZW5ndGhcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIEN1cnZlMyBvYmplY3QgOiB2YXIgY3VydmUgPSBjdXJ2ZUEuY29udGludWUoY3VydmVCKTtcbiAgICogVGhpcyBuZXcgQ3VydmUzIGlzIGJ1aWx0IGJ5IHRyYW5zbGF0aW5nIGFuZCBzdGlja2luZyB0aGUgY3VydmVCIGF0IHRoZSBlbmQgb2YgdGhlIGN1cnZlQS5cbiAgICogY3VydmVBIGFuZCBjdXJ2ZUIga2VlcCB1bmNoYW5nZWQuXG4gICAqIEBwYXJhbSBjdXJ2ZSAtIHRoZSBjdXJ2ZSB0byBjb250aW51ZSBmcm9tIHRoaXMgY3VydmVcbiAgICogQHJldHVybnMgdGhlIG5ld2x5IGNvbnN0cnVjdGVkIGN1cnZlXG4gICAqL1xuICBwdWJsaWMgY29udGludWUoY3VydmU6IEN1cnZlMyk6IEN1cnZlMyB7XG4gICAgbGV0IGxhc3RQb2ludCA9IHRoaXMuX3BvaW50c1t0aGlzLl9wb2ludHMubGVuZ3RoIC0gMV1cbiAgICBsZXQgY29udGludWVkUG9pbnRzID0gdGhpcy5fcG9pbnRzLnNsaWNlKClcbiAgICBsZXQgY3VydmVQb2ludHMgPSBjdXJ2ZS5nZXRQb2ludHMoKVxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY3VydmVQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnRpbnVlZFBvaW50cy5wdXNoKGN1cnZlUG9pbnRzW2ldLnN1YnRyYWN0KGN1cnZlUG9pbnRzWzBdKS5hZGQobGFzdFBvaW50KSlcbiAgICB9XG4gICAgbGV0IGNvbnRpbnVlZEN1cnZlID0gbmV3IEN1cnZlMyhjb250aW51ZWRQb2ludHMpXG4gICAgcmV0dXJuIGNvbnRpbnVlZEN1cnZlXG4gIH1cblxuICBwcml2YXRlIF9jb21wdXRlTGVuZ3RoKHBhdGg6IFZlY3RvcjNbXSk6IG51bWJlciB7XG4gICAgbGV0IGwgPSAwXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsICs9IHBhdGhbaV0uc3VidHJhY3QocGF0aFtpIC0gMV0pLmxlbmd0aCgpXG4gICAgfVxuICAgIHJldHVybiBsXG4gIH1cbn1cbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMnXG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuL01hdHJpeCdcbmltcG9ydCB7IE1hdGhUbXAgfSBmcm9tICcuL3ByZWFsbG9jYXRlZFZhcmlhYmxlcydcblxuLyoqXG4gKiBSZXByZXNlbnMgYSBwbGFuZSBieSB0aGUgZXF1YXRpb24gYXggKyBieSArIGN6ICsgZCA9IDBcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFBsYW5lIHtcbiAgLyoqXG4gICAqIE5vcm1hbCBvZiB0aGUgcGxhbmUgKGEsYixjKVxuICAgKi9cbiAgcHVibGljIG5vcm1hbDogVmVjdG9yM1xuICAvKipcbiAgICogZCBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAqL1xuICBwdWJsaWMgZDogbnVtYmVyXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgUGxhbmUgb2JqZWN0IGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gZmxvYXRzIGEsIGIsIGMsIGQgYW5kIHRoZSBwbGFuZSBlcXVhdGlvbiA6IGF4ICsgYnkgKyBjeiArIGQgPSAwXG4gICAqIEBwYXJhbSBhIC0gYSBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAqIEBwYXJhbSBiIC0gYiBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAqIEBwYXJhbSBjIC0gYyBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAqIEBwYXJhbSBkIC0gZCBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhOiBudW1iZXIsIGI6IG51bWJlciwgYzogbnVtYmVyLCBkOiBudW1iZXIpIHtcbiAgICB0aGlzLm5vcm1hbCA9IG5ldyBWZWN0b3IzKGEsIGIsIGMpXG4gICAgdGhpcy5kID0gZFxuICB9XG5cbiAgLy8gU3RhdGljc1xuICAvKipcbiAgICogQ3JlYXRlcyBhIHBsYW5lIGZyb20gYW4gIGFycmF5XG4gICAqIEBwYXJhbSBhcnJheSAtIHRoZSBhcnJheSB0byBjcmVhdGUgYSBwbGFuZSBmcm9tXG4gICAqIEByZXR1cm5zIGEgbmV3IFBsYW5lIGZyb20gdGhlIGdpdmVuIGFycmF5LlxuICAgKi9cbiAgc3RhdGljIEZyb21BcnJheShhcnJheTogQXJyYXlMaWtlPG51bWJlcj4pOiBQbGFuZSB7XG4gICAgcmV0dXJuIG5ldyBQbGFuZShhcnJheVswXSwgYXJyYXlbMV0sIGFycmF5WzJdLCBhcnJheVszXSlcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIHBsYW5lIGZyb20gdGhyZWUgcG9pbnRzXG4gICAqIEBwYXJhbSBwb2ludDEgLSBwb2ludCB1c2VkIHRvIGNyZWF0ZSB0aGUgcGxhbmVcbiAgICogQHBhcmFtIHBvaW50MiAtIHBvaW50IHVzZWQgdG8gY3JlYXRlIHRoZSBwbGFuZVxuICAgKiBAcGFyYW0gcG9pbnQzIC0gcG9pbnQgdXNlZCB0byBjcmVhdGUgdGhlIHBsYW5lXG4gICAqIEByZXR1cm5zIGEgbmV3IFBsYW5lIGRlZmluZWQgYnkgdGhlIHRocmVlIGdpdmVuIHBvaW50cy5cbiAgICovXG4gIHN0YXRpYyBGcm9tUG9pbnRzKHBvaW50MTogVmVjdG9yMywgcG9pbnQyOiBWZWN0b3IzLCBwb2ludDM6IFZlY3RvcjMpOiBQbGFuZSB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBQbGFuZSgwLjAsIDAuMCwgMC4wLCAwLjApXG4gICAgcmVzdWx0LmNvcHlGcm9tUG9pbnRzKHBvaW50MSwgcG9pbnQyLCBwb2ludDMpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcGxhbmUgZnJvbSBhbiBvcmlnaW4gcG9pbnQgYW5kIGEgbm9ybWFsXG4gICAqIEBwYXJhbSBvcmlnaW4gLSBvcmlnaW4gb2YgdGhlIHBsYW5lIHRvIGJlIGNvbnN0cnVjdGVkXG4gICAqIEBwYXJhbSBub3JtYWwgLSBub3JtYWwgb2YgdGhlIHBsYW5lIHRvIGJlIGNvbnN0cnVjdGVkXG4gICAqIEByZXR1cm5zIGEgbmV3IFBsYW5lIHRoZSBub3JtYWwgdmVjdG9yIHRvIHRoaXMgcGxhbmUgYXQgdGhlIGdpdmVuIG9yaWdpbiBwb2ludC5cbiAgICogTm90ZSA6IHRoZSB2ZWN0b3IgXCJub3JtYWxcIiBpcyB1cGRhdGVkIGJlY2F1c2Ugbm9ybWFsaXplZC5cbiAgICovXG4gIHN0YXRpYyBGcm9tUG9zaXRpb25BbmROb3JtYWwob3JpZ2luOiBWZWN0b3IzLCBub3JtYWw6IFZlY3RvcjMpOiBQbGFuZSB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBQbGFuZSgwLjAsIDAuMCwgMC4wLCAwLjApXG4gICAgbm9ybWFsLm5vcm1hbGl6ZSgpXG4gICAgcmVzdWx0Lm5vcm1hbCA9IG5vcm1hbFxuICAgIHJlc3VsdC5kID0gLShub3JtYWwueCAqIG9yaWdpbi54ICsgbm9ybWFsLnkgKiBvcmlnaW4ueSArIG5vcm1hbC56ICogb3JpZ2luLnopXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIGRpc3RhbmNlIGZyb20gYSBwbGFuZSBhbmQgYSBwb2ludFxuICAgKiBAcGFyYW0gb3JpZ2luIC0gb3JpZ2luIG9mIHRoZSBwbGFuZSB0byBiZSBjb25zdHJ1Y3RlZFxuICAgKiBAcGFyYW0gbm9ybWFsIC0gbm9ybWFsIG9mIHRoZSBwbGFuZSB0byBiZSBjb25zdHJ1Y3RlZFxuICAgKiBAcGFyYW0gcG9pbnQgLSBwb2ludCB0byBjYWxjdWxhdGUgZGlzdGFuY2UgdG9cbiAgICogQHJldHVybnMgdGhlIHNpZ25lZCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwbGFuZSBkZWZpbmVkIGJ5IHRoZSBub3JtYWwgdmVjdG9yIGF0IHRoZSBcIm9yaWdpblwiXCIgcG9pbnQgYW5kIHRoZSBnaXZlbiBvdGhlciBwb2ludC5cbiAgICovXG4gIHN0YXRpYyBTaWduZWREaXN0YW5jZVRvUGxhbmVGcm9tUG9zaXRpb25BbmROb3JtYWwob3JpZ2luOiBWZWN0b3IzLCBub3JtYWw6IFZlY3RvcjMsIHBvaW50OiBWZWN0b3IzKTogbnVtYmVyIHtcbiAgICBsZXQgZCA9IC0obm9ybWFsLnggKiBvcmlnaW4ueCArIG5vcm1hbC55ICogb3JpZ2luLnkgKyBub3JtYWwueiAqIG9yaWdpbi56KVxuICAgIHJldHVybiBWZWN0b3IzLkRvdChwb2ludCwgbm9ybWFsKSArIGRcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB0aGUgcGxhbmUgY29vcmRpbmF0ZXMgYXMgYSBuZXcgYXJyYXkgb2YgNCBlbGVtZW50cyBbYSwgYiwgYywgZF0uXG4gICAqL1xuICBwdWJsaWMgYXNBcnJheSgpOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIFt0aGlzLm5vcm1hbC54LCB0aGlzLm5vcm1hbC55LCB0aGlzLm5vcm1hbC56LCB0aGlzLmRdXG4gIH1cblxuICAvLyBNZXRob2RzXG4gIC8qKlxuICAgKiBAcmV0dXJucyBhIG5ldyBwbGFuZSBjb3BpZWQgZnJvbSB0aGUgY3VycmVudCBQbGFuZS5cbiAgICovXG4gIHB1YmxpYyBjbG9uZSgpOiBQbGFuZSB7XG4gICAgcmV0dXJuIG5ldyBQbGFuZSh0aGlzLm5vcm1hbC54LCB0aGlzLm5vcm1hbC55LCB0aGlzLm5vcm1hbC56LCB0aGlzLmQpXG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIHRoZSBzdHJpbmcgXCJQbGFuZVwiLlxuICAgKi9cbiAgcHVibGljIGdldENsYXNzTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnUGxhbmUnXG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIHRoZSBQbGFuZSBoYXNoIGNvZGUuXG4gICAqL1xuICBwdWJsaWMgZ2V0SGFzaENvZGUoKTogbnVtYmVyIHtcbiAgICBsZXQgaGFzaCA9IHRoaXMubm9ybWFsLmdldEhhc2hDb2RlKClcbiAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHRoaXMuZCB8fCAwKVxuICAgIHJldHVybiBoYXNoXG4gIH1cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBQbGFuZSBpbiBwbGFjZS5cbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgUGxhbmUuXG4gICAqL1xuICBwdWJsaWMgbm9ybWFsaXplKCk6IFBsYW5lIHtcbiAgICBsZXQgbm9ybSA9IE1hdGguc3FydCh0aGlzLm5vcm1hbC54ICogdGhpcy5ub3JtYWwueCArIHRoaXMubm9ybWFsLnkgKiB0aGlzLm5vcm1hbC55ICsgdGhpcy5ub3JtYWwueiAqIHRoaXMubm9ybWFsLnopXG4gICAgbGV0IG1hZ25pdHVkZSA9IDAuMFxuXG4gICAgaWYgKG5vcm0gIT09IDApIHtcbiAgICAgIG1hZ25pdHVkZSA9IDEuMCAvIG5vcm1cbiAgICB9XG4gICAgdGhpcy5ub3JtYWwueCAqPSBtYWduaXR1ZGVcbiAgICB0aGlzLm5vcm1hbC55ICo9IG1hZ25pdHVkZVxuICAgIHRoaXMubm9ybWFsLnogKj0gbWFnbml0dWRlXG4gICAgdGhpcy5kICo9IG1hZ25pdHVkZVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgLyoqXG4gICAqIEFwcGxpZXMgYSB0cmFuc2Zvcm1hdGlvbiB0aGUgcGxhbmUgYW5kIHJldHVybnMgdGhlIHJlc3VsdFxuICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4IHRvIGJlIGFwcGxpZWQgdG8gdGhlIHBsYW5lXG4gICAqIEByZXR1cm5zIGEgbmV3IFBsYW5lIGFzIHRoZSByZXN1bHQgb2YgdGhlIHRyYW5zZm9ybWF0aW9uIG9mIHRoZSBjdXJyZW50IFBsYW5lIGJ5IHRoZSBnaXZlbiBtYXRyaXguXG4gICAqL1xuICBwdWJsaWMgdHJhbnNmb3JtKHRyYW5zZm9ybWF0aW9uOiBNYXRyaXgpOiBQbGFuZSB7XG4gICAgY29uc3QgdHJhbnNwb3NlZE1hdHJpeCA9IE1hdGhUbXAuTWF0cml4WzBdXG4gICAgTWF0cml4LlRyYW5zcG9zZVRvUmVmKHRyYW5zZm9ybWF0aW9uLCB0cmFuc3Bvc2VkTWF0cml4KVxuICAgIGNvbnN0IG0gPSB0cmFuc3Bvc2VkTWF0cml4Lm1cbiAgICBsZXQgeCA9IHRoaXMubm9ybWFsLnhcbiAgICBsZXQgeSA9IHRoaXMubm9ybWFsLnlcbiAgICBsZXQgeiA9IHRoaXMubm9ybWFsLnpcbiAgICBsZXQgZCA9IHRoaXMuZFxuXG4gICAgbGV0IG5vcm1hbFggPSB4ICogbVswXSArIHkgKiBtWzFdICsgeiAqIG1bMl0gKyBkICogbVszXVxuICAgIGxldCBub3JtYWxZID0geCAqIG1bNF0gKyB5ICogbVs1XSArIHogKiBtWzZdICsgZCAqIG1bN11cbiAgICBsZXQgbm9ybWFsWiA9IHggKiBtWzhdICsgeSAqIG1bOV0gKyB6ICogbVsxMF0gKyBkICogbVsxMV1cbiAgICBsZXQgZmluYWxEID0geCAqIG1bMTJdICsgeSAqIG1bMTNdICsgeiAqIG1bMTRdICsgZCAqIG1bMTVdXG5cbiAgICByZXR1cm4gbmV3IFBsYW5lKG5vcm1hbFgsIG5vcm1hbFksIG5vcm1hbFosIGZpbmFsRClcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWFsdHRlIHRoZSBkb3QgcHJvZHVjdCBiZXR3ZWVuIHRoZSBwb2ludCBhbmQgdGhlIHBsYW5lIG5vcm1hbFxuICAgKiBAcGFyYW0gcG9pbnQgLSBwb2ludCB0byBjYWxjdWxhdGUgdGhlIGRvdCBwcm9kdWN0IHdpdGhcbiAgICogQHJldHVybnMgdGhlIGRvdCBwcm9kdWN0IChmbG9hdCkgb2YgdGhlIHBvaW50IGNvb3JkaW5hdGVzIGFuZCB0aGUgcGxhbmUgbm9ybWFsLlxuICAgKi9cbiAgcHVibGljIGRvdENvb3JkaW5hdGUocG9pbnQ6IFZlY3RvcjMpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm5vcm1hbC54ICogcG9pbnQueCArIHRoaXMubm9ybWFsLnkgKiBwb2ludC55ICsgdGhpcy5ub3JtYWwueiAqIHBvaW50LnogKyB0aGlzLmRcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IFBsYW5lIGZyb20gdGhlIHBsYW5lIGRlZmluZWQgYnkgdGhlIHRocmVlIGdpdmVuIHBvaW50cy5cbiAgICogQHBhcmFtIHBvaW50MSAtIG9uZSBvZiB0aGUgcG9pbnRzIHVzZWQgdG8gY29udHJ1Y3QgdGhlIHBsYW5lXG4gICAqIEBwYXJhbSBwb2ludDIgLSBvbmUgb2YgdGhlIHBvaW50cyB1c2VkIHRvIGNvbnRydWN0IHRoZSBwbGFuZVxuICAgKiBAcGFyYW0gcG9pbnQzIC0gb25lIG9mIHRoZSBwb2ludHMgdXNlZCB0byBjb250cnVjdCB0aGUgcGxhbmVcbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgUGxhbmUuXG4gICAqL1xuICBwdWJsaWMgY29weUZyb21Qb2ludHMocG9pbnQxOiBWZWN0b3IzLCBwb2ludDI6IFZlY3RvcjMsIHBvaW50MzogVmVjdG9yMyk6IFBsYW5lIHtcbiAgICBsZXQgeDEgPSBwb2ludDIueCAtIHBvaW50MS54XG4gICAgbGV0IHkxID0gcG9pbnQyLnkgLSBwb2ludDEueVxuICAgIGxldCB6MSA9IHBvaW50Mi56IC0gcG9pbnQxLnpcbiAgICBsZXQgeDIgPSBwb2ludDMueCAtIHBvaW50MS54XG4gICAgbGV0IHkyID0gcG9pbnQzLnkgLSBwb2ludDEueVxuICAgIGxldCB6MiA9IHBvaW50My56IC0gcG9pbnQxLnpcbiAgICBsZXQgeXogPSB5MSAqIHoyIC0gejEgKiB5MlxuICAgIGxldCB4eiA9IHoxICogeDIgLSB4MSAqIHoyXG4gICAgbGV0IHh5ID0geDEgKiB5MiAtIHkxICogeDJcbiAgICBsZXQgcHl0aCA9IE1hdGguc3FydCh5eiAqIHl6ICsgeHogKiB4eiArIHh5ICogeHkpXG4gICAgbGV0IGludlB5dGhcblxuICAgIGlmIChweXRoICE9PSAwKSB7XG4gICAgICBpbnZQeXRoID0gMS4wIC8gcHl0aFxuICAgIH0gZWxzZSB7XG4gICAgICBpbnZQeXRoID0gMC4wXG4gICAgfVxuXG4gICAgdGhpcy5ub3JtYWwueCA9IHl6ICogaW52UHl0aFxuICAgIHRoaXMubm9ybWFsLnkgPSB4eiAqIGludlB5dGhcbiAgICB0aGlzLm5vcm1hbC56ID0geHkgKiBpbnZQeXRoXG4gICAgdGhpcy5kID0gLSh0aGlzLm5vcm1hbC54ICogcG9pbnQxLnggKyB0aGlzLm5vcm1hbC55ICogcG9pbnQxLnkgKyB0aGlzLm5vcm1hbC56ICogcG9pbnQxLnopXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgcGxhbmUgaXMgZmFjaW5nIGEgZ2l2ZW4gZGlyZWN0aW9uXG4gICAqIEBwYXJhbSBkaXJlY3Rpb24gLSB0aGUgZGlyZWN0aW9uIHRvIGNoZWNrIGlmIHRoZSBwbGFuZSBpcyBmYWNpbmdcbiAgICogQHBhcmFtIGVwc2lsb24gLSB2YWx1ZSB0aGUgZG90IHByb2R1Y3QgaXMgY29tcGFyZWQgYWdhaW5zdCAocmV0dXJucyB0cnVlIGlmIGRvdCAmbHQ7PSBlcHNpbG9uKVxuICAgKiBAcmV0dXJucyBUcnVlIGlzIHRoZSB2ZWN0b3IgXCJkaXJlY3Rpb25cIiAgaXMgdGhlIHNhbWUgc2lkZSB0aGFuIHRoZSBwbGFuZSBub3JtYWwuXG4gICAqL1xuICBwdWJsaWMgaXNGcm9udEZhY2luZ1RvKGRpcmVjdGlvbjogVmVjdG9yMywgZXBzaWxvbjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgbGV0IGRvdCA9IFZlY3RvcjMuRG90KHRoaXMubm9ybWFsLCBkaXJlY3Rpb24pXG4gICAgcmV0dXJuIGRvdCA8PSBlcHNpbG9uXG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgdG8gYSBwb2ludFxuICAgKiBAcGFyYW0gcG9pbnQgLSBwb2ludCB0byBjYWxjdWxhdGUgZGlzdGFuY2UgdG9cbiAgICogQHJldHVybnMgdGhlIHNpZ25lZCBkaXN0YW5jZSAoZmxvYXQpIGZyb20gdGhlIGdpdmVuIHBvaW50IHRvIHRoZSBQbGFuZS5cbiAgICovXG4gIHB1YmxpYyBzaWduZWREaXN0YW5jZVRvKHBvaW50OiBWZWN0b3IzKTogbnVtYmVyIHtcbiAgICByZXR1cm4gVmVjdG9yMy5Eb3QocG9pbnQsIHRoaXMubm9ybWFsKSArIHRoaXMuZFxuICB9XG59XG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuL01hdHJpeCdcblxuaW1wb3J0IHsgUGxhbmUgfSBmcm9tICcuL1BsYW5lJ1xuXG4vKipcbiAqIFJlcHJhc2VudHMgYSBjYW1lcmEgZnJ1c3R1bVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRnJ1c3R1bSB7XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwbGFuZXMgcmVwcmVzZW50aW5nIHRoZSBmcnVzdHVtXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm0gLSBtYXRyaXggdG8gYmUgYXBwbGllZCB0byB0aGUgcmV0dXJuZWQgcGxhbmVzXG4gICAqIEByZXR1cm5zIGEgbmV3IGFycmF5IG9mIDYgRnJ1c3R1bSBwbGFuZXMgY29tcHV0ZWQgYnkgdGhlIGdpdmVuIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgR2V0UGxhbmVzKHRyYW5zZm9ybTogTWF0cml4KTogUGxhbmVbXSB7XG4gICAgbGV0IGZydXN0dW1QbGFuZXMgPSBbXVxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCA2OyBpbmRleCsrKSB7XG4gICAgICBmcnVzdHVtUGxhbmVzLnB1c2gobmV3IFBsYW5lKDAuMCwgMC4wLCAwLjAsIDAuMCkpXG4gICAgfVxuICAgIEZydXN0dW0uR2V0UGxhbmVzVG9SZWYodHJhbnNmb3JtLCBmcnVzdHVtUGxhbmVzKVxuICAgIHJldHVybiBmcnVzdHVtUGxhbmVzXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbmVhciBmcnVzdHVtIHBsYW5lIHRyYW5zZm9ybWVkIGJ5IHRoZSB0cmFuc2Zvcm0gbWF0cml4XG4gICAqIEBwYXJhbSB0cmFuc2Zvcm0gLSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggdG8gYmUgYXBwbGllZCB0byB0aGUgcmVzdWx0aW5nIGZydXN0dW0gcGxhbmVcbiAgICogQHBhcmFtIGZydXN0dW1QbGFuZSAtIHRoZSByZXN1bGluZyBmcnVzdHVtIHBsYW5lXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIEdldE5lYXJQbGFuZVRvUmVmKHRyYW5zZm9ybTogTWF0cml4LCBmcnVzdHVtUGxhbmU6IFBsYW5lKTogdm9pZCB7XG4gICAgY29uc3QgbSA9IHRyYW5zZm9ybS5tXG4gICAgZnJ1c3R1bVBsYW5lLm5vcm1hbC54ID0gbVszXSArIG1bMl1cbiAgICBmcnVzdHVtUGxhbmUubm9ybWFsLnkgPSBtWzddICsgbVs2XVxuICAgIGZydXN0dW1QbGFuZS5ub3JtYWwueiA9IG1bMTFdICsgbVsxMF1cbiAgICBmcnVzdHVtUGxhbmUuZCA9IG1bMTVdICsgbVsxNF1cbiAgICBmcnVzdHVtUGxhbmUubm9ybWFsaXplKClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBmYXIgZnJ1c3R1bSBwbGFuZSB0cmFuc2Zvcm1lZCBieSB0aGUgdHJhbnNmb3JtIG1hdHJpeFxuICAgKiBAcGFyYW0gdHJhbnNmb3JtIC0gdHJhbnNmb3JtYXRpb24gbWF0cml4IHRvIGJlIGFwcGxpZWQgdG8gdGhlIHJlc3VsdGluZyBmcnVzdHVtIHBsYW5lXG4gICAqIEBwYXJhbSBmcnVzdHVtUGxhbmUgLSB0aGUgcmVzdWxpbmcgZnJ1c3R1bSBwbGFuZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBHZXRGYXJQbGFuZVRvUmVmKHRyYW5zZm9ybTogTWF0cml4LCBmcnVzdHVtUGxhbmU6IFBsYW5lKTogdm9pZCB7XG4gICAgY29uc3QgbSA9IHRyYW5zZm9ybS5tXG4gICAgZnJ1c3R1bVBsYW5lLm5vcm1hbC54ID0gbVszXSAtIG1bMl1cbiAgICBmcnVzdHVtUGxhbmUubm9ybWFsLnkgPSBtWzddIC0gbVs2XVxuICAgIGZydXN0dW1QbGFuZS5ub3JtYWwueiA9IG1bMTFdIC0gbVsxMF1cbiAgICBmcnVzdHVtUGxhbmUuZCA9IG1bMTVdIC0gbVsxNF1cbiAgICBmcnVzdHVtUGxhbmUubm9ybWFsaXplKClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBsZWZ0IGZydXN0dW0gcGxhbmUgdHJhbnNmb3JtZWQgYnkgdGhlIHRyYW5zZm9ybSBtYXRyaXhcbiAgICogQHBhcmFtIHRyYW5zZm9ybSAtIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB0byBiZSBhcHBsaWVkIHRvIHRoZSByZXN1bHRpbmcgZnJ1c3R1bSBwbGFuZVxuICAgKiBAcGFyYW0gZnJ1c3R1bVBsYW5lIC0gdGhlIHJlc3VsaW5nIGZydXN0dW0gcGxhbmVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgR2V0TGVmdFBsYW5lVG9SZWYodHJhbnNmb3JtOiBNYXRyaXgsIGZydXN0dW1QbGFuZTogUGxhbmUpOiB2b2lkIHtcbiAgICBjb25zdCBtID0gdHJhbnNmb3JtLm1cbiAgICBmcnVzdHVtUGxhbmUubm9ybWFsLnggPSBtWzNdICsgbVswXVxuICAgIGZydXN0dW1QbGFuZS5ub3JtYWwueSA9IG1bN10gKyBtWzRdXG4gICAgZnJ1c3R1bVBsYW5lLm5vcm1hbC56ID0gbVsxMV0gKyBtWzhdXG4gICAgZnJ1c3R1bVBsYW5lLmQgPSBtWzE1XSArIG1bMTJdXG4gICAgZnJ1c3R1bVBsYW5lLm5vcm1hbGl6ZSgpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcmlnaHQgZnJ1c3R1bSBwbGFuZSB0cmFuc2Zvcm1lZCBieSB0aGUgdHJhbnNmb3JtIG1hdHJpeFxuICAgKiBAcGFyYW0gdHJhbnNmb3JtIC0gdHJhbnNmb3JtYXRpb24gbWF0cml4IHRvIGJlIGFwcGxpZWQgdG8gdGhlIHJlc3VsdGluZyBmcnVzdHVtIHBsYW5lXG4gICAqIEBwYXJhbSBmcnVzdHVtUGxhbmUgLSB0aGUgcmVzdWxpbmcgZnJ1c3R1bSBwbGFuZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBHZXRSaWdodFBsYW5lVG9SZWYodHJhbnNmb3JtOiBNYXRyaXgsIGZydXN0dW1QbGFuZTogUGxhbmUpOiB2b2lkIHtcbiAgICBjb25zdCBtID0gdHJhbnNmb3JtLm1cbiAgICBmcnVzdHVtUGxhbmUubm9ybWFsLnggPSBtWzNdIC0gbVswXVxuICAgIGZydXN0dW1QbGFuZS5ub3JtYWwueSA9IG1bN10gLSBtWzRdXG4gICAgZnJ1c3R1bVBsYW5lLm5vcm1hbC56ID0gbVsxMV0gLSBtWzhdXG4gICAgZnJ1c3R1bVBsYW5lLmQgPSBtWzE1XSAtIG1bMTJdXG4gICAgZnJ1c3R1bVBsYW5lLm5vcm1hbGl6ZSgpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdG9wIGZydXN0dW0gcGxhbmUgdHJhbnNmb3JtZWQgYnkgdGhlIHRyYW5zZm9ybSBtYXRyaXhcbiAgICogQHBhcmFtIHRyYW5zZm9ybSAtIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB0byBiZSBhcHBsaWVkIHRvIHRoZSByZXN1bHRpbmcgZnJ1c3R1bSBwbGFuZVxuICAgKiBAcGFyYW0gZnJ1c3R1bVBsYW5lIC0gdGhlIHJlc3VsaW5nIGZydXN0dW0gcGxhbmVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgR2V0VG9wUGxhbmVUb1JlZih0cmFuc2Zvcm06IE1hdHJpeCwgZnJ1c3R1bVBsYW5lOiBQbGFuZSk6IHZvaWQge1xuICAgIGNvbnN0IG0gPSB0cmFuc2Zvcm0ubVxuICAgIGZydXN0dW1QbGFuZS5ub3JtYWwueCA9IG1bM10gLSBtWzFdXG4gICAgZnJ1c3R1bVBsYW5lLm5vcm1hbC55ID0gbVs3XSAtIG1bNV1cbiAgICBmcnVzdHVtUGxhbmUubm9ybWFsLnogPSBtWzExXSAtIG1bOV1cbiAgICBmcnVzdHVtUGxhbmUuZCA9IG1bMTVdIC0gbVsxM11cbiAgICBmcnVzdHVtUGxhbmUubm9ybWFsaXplKClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBib3R0b20gZnJ1c3R1bSBwbGFuZSB0cmFuc2Zvcm1lZCBieSB0aGUgdHJhbnNmb3JtIG1hdHJpeFxuICAgKiBAcGFyYW0gdHJhbnNmb3JtIC0gdHJhbnNmb3JtYXRpb24gbWF0cml4IHRvIGJlIGFwcGxpZWQgdG8gdGhlIHJlc3VsdGluZyBmcnVzdHVtIHBsYW5lXG4gICAqIEBwYXJhbSBmcnVzdHVtUGxhbmUgLSB0aGUgcmVzdWxpbmcgZnJ1c3R1bSBwbGFuZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBHZXRCb3R0b21QbGFuZVRvUmVmKHRyYW5zZm9ybTogTWF0cml4LCBmcnVzdHVtUGxhbmU6IFBsYW5lKTogdm9pZCB7XG4gICAgY29uc3QgbSA9IHRyYW5zZm9ybS5tXG4gICAgZnJ1c3R1bVBsYW5lLm5vcm1hbC54ID0gbVszXSArIG1bMV1cbiAgICBmcnVzdHVtUGxhbmUubm9ybWFsLnkgPSBtWzddICsgbVs1XVxuICAgIGZydXN0dW1QbGFuZS5ub3JtYWwueiA9IG1bMTFdICsgbVs5XVxuICAgIGZydXN0dW1QbGFuZS5kID0gbVsxNV0gKyBtWzEzXVxuICAgIGZydXN0dW1QbGFuZS5ub3JtYWxpemUoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIGFycmF5IFwiZnJ1c3R1bVBsYW5lc1wiIHdpdGggdGhlIDYgRnJ1c3R1bSBwbGFuZXMgY29tcHV0ZWQgYnkgdGhlIGdpdmVuIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICogQHBhcmFtIHRyYW5zZm9ybSAtIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB0byBiZSBhcHBsaWVkIHRvIHRoZSByZXN1bHRpbmcgZnJ1c3R1bSBwbGFuZXNcbiAgICogQHBhcmFtIGZydXN0dW1QbGFuZXMgLSB0aGUgcmVzdWxpbmcgZnJ1c3R1bSBwbGFuZXNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgR2V0UGxhbmVzVG9SZWYodHJhbnNmb3JtOiBNYXRyaXgsIGZydXN0dW1QbGFuZXM6IFBsYW5lW10pOiB2b2lkIHtcbiAgICAvLyBOZWFyXG4gICAgRnJ1c3R1bS5HZXROZWFyUGxhbmVUb1JlZih0cmFuc2Zvcm0sIGZydXN0dW1QbGFuZXNbMF0pXG5cbiAgICAvLyBGYXJcbiAgICBGcnVzdHVtLkdldEZhclBsYW5lVG9SZWYodHJhbnNmb3JtLCBmcnVzdHVtUGxhbmVzWzFdKVxuXG4gICAgLy8gTGVmdFxuICAgIEZydXN0dW0uR2V0TGVmdFBsYW5lVG9SZWYodHJhbnNmb3JtLCBmcnVzdHVtUGxhbmVzWzJdKVxuXG4gICAgLy8gUmlnaHRcbiAgICBGcnVzdHVtLkdldFJpZ2h0UGxhbmVUb1JlZih0cmFuc2Zvcm0sIGZydXN0dW1QbGFuZXNbM10pXG5cbiAgICAvLyBUb3BcbiAgICBGcnVzdHVtLkdldFRvcFBsYW5lVG9SZWYodHJhbnNmb3JtLCBmcnVzdHVtUGxhbmVzWzRdKVxuXG4gICAgLy8gQm90dG9tXG4gICAgRnJ1c3R1bS5HZXRCb3R0b21QbGFuZVRvUmVmKHRyYW5zZm9ybSwgZnJ1c3R1bVBsYW5lc1s1XSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vVmVjdG9yMidcbmltcG9ydCB7IEFyYzIgfSBmcm9tICcuL0FyYzInXG5pbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gJy4vdHlwZXMnXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIDJEIHBhdGggbWFkZSB1cCBvZiBtdWx0aXBsZSAyRCBwb2ludHNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFBhdGgyIHtcbiAgLyoqXG4gICAqIElmIHRoZSBwYXRoIHN0YXJ0IGFuZCBlbmQgcG9pbnQgYXJlIHRoZSBzYW1lXG4gICAqL1xuICBwdWJsaWMgY2xvc2VkID0gZmFsc2VcbiAgcHJpdmF0ZSBfcG9pbnRzID0gbmV3IEFycmF5PFZlY3RvcjI+KClcbiAgcHJpdmF0ZSBfbGVuZ3RoID0gMC4wXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBQYXRoMiBvYmplY3QgZnJvbSB0aGUgc3RhcnRpbmcgMkQgY29vcmRpbmF0ZXMgeCBhbmQgeS5cbiAgICogQHBhcmFtIHggLSB0aGUgc3RhcnRpbmcgcG9pbnRzIHggdmFsdWVcbiAgICogQHBhcmFtIHkgLSB0aGUgc3RhcnRpbmcgcG9pbnRzIHkgdmFsdWVcbiAgICovXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy5fcG9pbnRzLnB1c2gobmV3IFZlY3RvcjIoeCwgeSkpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBwYXRoIHN0YXJ0aW5nIGZyb20gYW4geCBhbmQgeSBwb3NpdGlvblxuICAgKiBAcGFyYW0geCAtIHN0YXJ0aW5nIHggdmFsdWVcbiAgICogQHBhcmFtIHkgLSBzdGFydGluZyB5IHZhbHVlXG4gICAqIEByZXR1cm5zIGEgbmV3IFBhdGgyIHN0YXJ0aW5nIGF0IHRoZSBjb29yZGluYXRlcyAoeCwgeSkuXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFN0YXJ0aW5nQXQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQYXRoMiB7XG4gICAgcmV0dXJuIG5ldyBQYXRoMih4LCB5KVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBuZXcgc2VnbWVudCB1bnRpbCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMgKHgsIHkpIHRvIHRoZSBjdXJyZW50IFBhdGgyLlxuICAgKiBAcGFyYW0geCAtIHRoZSBhZGRlZCBwb2ludHMgeCB2YWx1ZVxuICAgKiBAcGFyYW0geSAtIHRoZSBhZGRlZCBwb2ludHMgeSB2YWx1ZVxuICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBQYXRoMi5cbiAgICovXG4gIHB1YmxpYyBhZGRMaW5lVG8oeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQYXRoMiB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBsZXQgbmV3UG9pbnQgPSBuZXcgVmVjdG9yMih4LCB5KVxuICAgIGxldCBwcmV2aW91c1BvaW50ID0gdGhpcy5fcG9pbnRzW3RoaXMuX3BvaW50cy5sZW5ndGggLSAxXVxuICAgIHRoaXMuX3BvaW50cy5wdXNoKG5ld1BvaW50KVxuICAgIHRoaXMuX2xlbmd0aCArPSBuZXdQb2ludC5zdWJ0cmFjdChwcmV2aW91c1BvaW50KS5sZW5ndGgoKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQWRkcyBfbnVtYmVyT2ZTZWdtZW50c18gc2VnbWVudHMgYWNjb3JkaW5nIHRvIHRoZSBhcmMgZGVmaW5pdGlvbiAobWlkZGxlIHBvaW50IGNvb3JkaW5hdGVzLCBlbmQgcG9pbnQgY29vcmRpbmF0ZXMsIHRoZSBhcmMgc3RhcnQgcG9pbnQgYmVpbmcgdGhlIGN1cnJlbnQgUGF0aDIgbGFzdCBwb2ludCkgdG8gdGhlIGN1cnJlbnQgUGF0aDIuXG4gICAqIEBwYXJhbSBtaWRYIC0gbWlkZGxlIHBvaW50IHggdmFsdWVcbiAgICogQHBhcmFtIG1pZFkgLSBtaWRkbGUgcG9pbnQgeSB2YWx1ZVxuICAgKiBAcGFyYW0gZW5kWCAtIGVuZCBwb2ludCB4IHZhbHVlXG4gICAqIEBwYXJhbSBlbmRZIC0gZW5kIHBvaW50IHkgdmFsdWVcbiAgICogQHBhcmFtIG51bWJlck9mU2VnbWVudHMgLSAoZGVmYXVsdDogMzYpXG4gICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIFBhdGgyLlxuICAgKi9cbiAgcHVibGljIGFkZEFyY1RvKG1pZFg6IG51bWJlciwgbWlkWTogbnVtYmVyLCBlbmRYOiBudW1iZXIsIGVuZFk6IG51bWJlciwgbnVtYmVyT2ZTZWdtZW50cyA9IDM2KTogUGF0aDIge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgbGV0IHN0YXJ0UG9pbnQgPSB0aGlzLl9wb2ludHNbdGhpcy5fcG9pbnRzLmxlbmd0aCAtIDFdXG4gICAgbGV0IG1pZFBvaW50ID0gbmV3IFZlY3RvcjIobWlkWCwgbWlkWSlcbiAgICBsZXQgZW5kUG9pbnQgPSBuZXcgVmVjdG9yMihlbmRYLCBlbmRZKVxuXG4gICAgbGV0IGFyYyA9IG5ldyBBcmMyKHN0YXJ0UG9pbnQsIG1pZFBvaW50LCBlbmRQb2ludClcblxuICAgIGxldCBpbmNyZW1lbnQgPSBhcmMuYW5nbGUucmFkaWFucygpIC8gbnVtYmVyT2ZTZWdtZW50c1xuICAgIGlmIChhcmMub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkNXKSB7XG4gICAgICBpbmNyZW1lbnQgKj0gLTFcbiAgICB9XG4gICAgbGV0IGN1cnJlbnRBbmdsZSA9IGFyYy5zdGFydEFuZ2xlLnJhZGlhbnMoKSArIGluY3JlbWVudFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZlNlZ21lbnRzOyBpKyspIHtcbiAgICAgIGxldCB4ID0gTWF0aC5jb3MoY3VycmVudEFuZ2xlKSAqIGFyYy5yYWRpdXMgKyBhcmMuY2VudGVyUG9pbnQueFxuICAgICAgbGV0IHkgPSBNYXRoLnNpbihjdXJyZW50QW5nbGUpICogYXJjLnJhZGl1cyArIGFyYy5jZW50ZXJQb2ludC55XG4gICAgICB0aGlzLmFkZExpbmVUbyh4LCB5KVxuICAgICAgY3VycmVudEFuZ2xlICs9IGluY3JlbWVudFxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIFBhdGgyLlxuICAgKiBAcmV0dXJucyB0aGUgUGF0aDIuXG4gICAqL1xuICBwdWJsaWMgY2xvc2UoKTogUGF0aDIge1xuICAgIHRoaXMuY2xvc2VkID0gdHJ1ZVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIHN1bSBvZiB0aGUgZGlzdGFuY2UgYmV0d2VlbiBlYWNoIHNlcXVlbnRpYWwgcG9pbnQgaW4gdGhlIHBhdGhcbiAgICogQHJldHVybnMgdGhlIFBhdGgyIHRvdGFsIGxlbmd0aCAoZmxvYXQpLlxuICAgKi9cbiAgcHVibGljIGxlbmd0aCgpOiBudW1iZXIge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLl9sZW5ndGhcblxuICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgIGxldCBsYXN0UG9pbnQgPSB0aGlzLl9wb2ludHNbdGhpcy5fcG9pbnRzLmxlbmd0aCAtIDFdXG4gICAgICBsZXQgZmlyc3RQb2ludCA9IHRoaXMuX3BvaW50c1swXVxuICAgICAgcmVzdWx0ICs9IGZpcnN0UG9pbnQuc3VidHJhY3QobGFzdFBvaW50KS5sZW5ndGgoKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcG9pbnRzIHdoaWNoIGNvbnN0cnVjdCB0aGUgcGF0aFxuICAgKiBAcmV0dXJucyB0aGUgUGF0aDIgaW50ZXJuYWwgYXJyYXkgb2YgcG9pbnRzLlxuICAgKi9cbiAgcHVibGljIGdldFBvaW50cygpOiBWZWN0b3IyW10ge1xuICAgIHJldHVybiB0aGlzLl9wb2ludHNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyZWl2ZXMgdGhlIHBvaW50IGF0IHRoZSBkaXN0YW5jZSBhd2F5cyBmcm9tIHRoZSBzdGFydGluZyBwb2ludFxuICAgKiBAcGFyYW0gbm9ybWFsaXplZExlbmd0aFBvc2l0aW9uIC0gdGhlIGxlbmd0aCBhbG9uZyB0aGUgcGF0aCB0byByZXRyZWl2ZSB0aGUgcG9pbnQgZnJvbVxuICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IyIGxvY2F0ZWQgYXQgYSBwZXJjZW50YWdlIG9mIHRoZSBQYXRoMiB0b3RhbCBsZW5ndGggb24gdGhpcyBwYXRoLlxuICAgKi9cbiAgcHVibGljIGdldFBvaW50QXRMZW5ndGhQb3NpdGlvbihub3JtYWxpemVkTGVuZ3RoUG9zaXRpb246IG51bWJlcik6IFZlY3RvcjIge1xuICAgIGlmIChub3JtYWxpemVkTGVuZ3RoUG9zaXRpb24gPCAwIHx8IG5vcm1hbGl6ZWRMZW5ndGhQb3NpdGlvbiA+IDEpIHtcbiAgICAgIHJldHVybiBWZWN0b3IyLlplcm8oKVxuICAgIH1cblxuICAgIGxldCBsZW5ndGhQb3NpdGlvbiA9IG5vcm1hbGl6ZWRMZW5ndGhQb3NpdGlvbiAqIHRoaXMubGVuZ3RoKClcblxuICAgIGxldCBwcmV2aW91c09mZnNldCA9IDBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3BvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGogPSAoaSArIDEpICUgdGhpcy5fcG9pbnRzLmxlbmd0aFxuXG4gICAgICBsZXQgYSA9IHRoaXMuX3BvaW50c1tpXVxuICAgICAgbGV0IGIgPSB0aGlzLl9wb2ludHNbal1cbiAgICAgIGxldCBiVG9BID0gYi5zdWJ0cmFjdChhKVxuXG4gICAgICBsZXQgbmV4dE9mZnNldCA9IGJUb0EubGVuZ3RoKCkgKyBwcmV2aW91c09mZnNldFxuICAgICAgaWYgKGxlbmd0aFBvc2l0aW9uID49IHByZXZpb3VzT2Zmc2V0ICYmIGxlbmd0aFBvc2l0aW9uIDw9IG5leHRPZmZzZXQpIHtcbiAgICAgICAgbGV0IGRpciA9IGJUb0Eubm9ybWFsaXplKClcbiAgICAgICAgbGV0IGxvY2FsT2Zmc2V0ID0gbGVuZ3RoUG9zaXRpb24gLSBwcmV2aW91c09mZnNldFxuXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMihhLnggKyBkaXIueCAqIGxvY2FsT2Zmc2V0LCBhLnkgKyBkaXIueSAqIGxvY2FsT2Zmc2V0KVxuICAgICAgfVxuICAgICAgcHJldmlvdXNPZmZzZXQgPSBuZXh0T2Zmc2V0XG4gICAgfVxuXG4gICAgcmV0dXJuIFZlY3RvcjIuWmVybygpXG4gIH1cbn1cbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMnXG5pbXBvcnQgeyBFcHNpbG9uLCBOdWxsYWJsZSB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBTY2FsYXIgfSBmcm9tICcuL1NjYWxhcidcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgM0QgcGF0aCBtYWRlIHVwIG9mIG11bHRpcGxlIDNEIHBvaW50c1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUGF0aDNEIHtcbiAgcHJpdmF0ZSBfY3VydmUgPSBuZXcgQXJyYXk8VmVjdG9yMz4oKVxuICBwcml2YXRlIF9kaXN0YW5jZXMgPSBuZXcgQXJyYXk8bnVtYmVyPigpXG4gIHByaXZhdGUgX3RhbmdlbnRzID0gbmV3IEFycmF5PFZlY3RvcjM+KClcbiAgcHJpdmF0ZSBfbm9ybWFscyA9IG5ldyBBcnJheTxWZWN0b3IzPigpXG4gIHByaXZhdGUgX2Jpbm9ybWFscyA9IG5ldyBBcnJheTxWZWN0b3IzPigpXG4gIHByaXZhdGUgX3JhdzogYm9vbGVhblxuXG4gIC8qKlxuICAgKiBuZXcgUGF0aDNEKHBhdGgsIG5vcm1hbCwgcmF3KVxuICAgKiBDcmVhdGVzIGEgUGF0aDNELiBBIFBhdGgzRCBpcyBhIGxvZ2ljYWwgbWF0aCBvYmplY3QsIHNvIG5vdCBhIG1lc2guXG4gICAqIHBsZWFzZSByZWFkIHRoZSBkZXNjcmlwdGlvbiBpbiB0aGUgdHV0b3JpYWwgOiAgaHR0cDovL2RvYy5iYWJ5bG9uanMuY29tL3R1dG9yaWFscy9Ib3dfdG9fdXNlX1BhdGgzRFxuICAgKiBAcGFyYW0gcGF0aCAtIGFuIGFycmF5IG9mIFZlY3RvcjMsIHRoZSBjdXJ2ZSBheGlzIG9mIHRoZSBQYXRoM0RcbiAgICogQHBhcmFtIG5vcm1hbCAtIChvcHRpb25zKSBWZWN0b3IzLCB0aGUgZmlyc3Qgd2FudGVkIG5vcm1hbCB0byB0aGUgY3VydmUuIEV4ICgwLCAxLCAwKSBmb3IgYSB2ZXJ0aWNhbCBub3JtYWwuXG4gICAqIEBwYXJhbSByYXcgLSAob3B0aW9uYWwsIGRlZmF1bHQgZmFsc2UpIDogYm9vbGVhbiwgaWYgdHJ1ZSB0aGUgcmV0dXJuZWQgUGF0aDNEIGlzbid0IG5vcm1hbGl6ZWQuIFVzZWZ1bCB0byBkZXBpY3QgcGF0aCBhY2NlbGVyYXRpb24gb3Igc3BlZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBhbiBhcnJheSBvZiBWZWN0b3IzLCB0aGUgY3VydmUgYXhpcyBvZiB0aGUgUGF0aDNEXG4gICAgICovXG4gICAgcHVibGljIHBhdGg6IFZlY3RvcjNbXSxcbiAgICBmaXJzdE5vcm1hbDogTnVsbGFibGU8VmVjdG9yMz4gPSBudWxsLFxuICAgIHJhdz86IGJvb2xlYW5cbiAgKSB7XG4gICAgZm9yIChsZXQgcCA9IDA7IHAgPCBwYXRoLmxlbmd0aDsgcCsrKSB7XG4gICAgICB0aGlzLl9jdXJ2ZVtwXSA9IHBhdGhbcF0uY2xvbmUoKSAvLyBoYXJkIGNvcHlcbiAgICB9XG4gICAgdGhpcy5fcmF3ID0gcmF3IHx8IGZhbHNlXG4gICAgdGhpcy5fY29tcHV0ZShmaXJzdE5vcm1hbClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBQYXRoM0QgYXJyYXkgb2Ygc3VjY2Vzc2l2ZSBWZWN0b3IzIGRlc2lnbmluZyBpdHMgY3VydmUuXG4gICAqIEByZXR1cm5zIHRoZSBQYXRoM0QgYXJyYXkgb2Ygc3VjY2Vzc2l2ZSBWZWN0b3IzIGRlc2lnbmluZyBpdHMgY3VydmUuXG4gICAqL1xuICBwdWJsaWMgZ2V0Q3VydmUoKTogVmVjdG9yM1tdIHtcbiAgICByZXR1cm4gdGhpcy5fY3VydmVcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IHBvcHVsYXRlZCB3aXRoIHRhbmdlbnQgdmVjdG9ycyBvbiBlYWNoIFBhdGgzRCBjdXJ2ZSBwb2ludC5cbiAgICogQHJldHVybnMgYW4gYXJyYXkgcG9wdWxhdGVkIHdpdGggdGFuZ2VudCB2ZWN0b3JzIG9uIGVhY2ggUGF0aDNEIGN1cnZlIHBvaW50LlxuICAgKi9cbiAgcHVibGljIGdldFRhbmdlbnRzKCk6IFZlY3RvcjNbXSB7XG4gICAgcmV0dXJuIHRoaXMuX3RhbmdlbnRzXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBwb3B1bGF0ZWQgd2l0aCBub3JtYWwgdmVjdG9ycyBvbiBlYWNoIFBhdGgzRCBjdXJ2ZSBwb2ludC5cbiAgICogQHJldHVybnMgYW4gYXJyYXkgcG9wdWxhdGVkIHdpdGggbm9ybWFsIHZlY3RvcnMgb24gZWFjaCBQYXRoM0QgY3VydmUgcG9pbnQuXG4gICAqL1xuICBwdWJsaWMgZ2V0Tm9ybWFscygpOiBWZWN0b3IzW10ge1xuICAgIHJldHVybiB0aGlzLl9ub3JtYWxzXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBwb3B1bGF0ZWQgd2l0aCBiaW5vcm1hbCB2ZWN0b3JzIG9uIGVhY2ggUGF0aDNEIGN1cnZlIHBvaW50LlxuICAgKiBAcmV0dXJucyBhbiBhcnJheSBwb3B1bGF0ZWQgd2l0aCBiaW5vcm1hbCB2ZWN0b3JzIG9uIGVhY2ggUGF0aDNEIGN1cnZlIHBvaW50LlxuICAgKi9cbiAgcHVibGljIGdldEJpbm9ybWFscygpOiBWZWN0b3IzW10ge1xuICAgIHJldHVybiB0aGlzLl9iaW5vcm1hbHNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IHBvcHVsYXRlZCB3aXRoIGRpc3RhbmNlcyAoZmxvYXQpIG9mIHRoZSBpLXRoIHBvaW50IGZyb20gdGhlIGZpcnN0IGN1cnZlIHBvaW50LlxuICAgKiBAcmV0dXJucyBhbiBhcnJheSBwb3B1bGF0ZWQgd2l0aCBkaXN0YW5jZXMgKGZsb2F0KSBvZiB0aGUgaS10aCBwb2ludCBmcm9tIHRoZSBmaXJzdCBjdXJ2ZSBwb2ludC5cbiAgICovXG4gIHB1YmxpYyBnZXREaXN0YW5jZXMoKTogbnVtYmVyW10ge1xuICAgIHJldHVybiB0aGlzLl9kaXN0YW5jZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZXMgdGhlIFBhdGgzRCB0YW5nZW50LCBub3JtYWwsIGJpbm9ybWFsIGFuZCBkaXN0YW5jZSByZWNvbXB1dGF0aW9uLlxuICAgKiBAcGFyYW0gcGF0aCAtIHBhdGggd2hpY2ggYWxsIHZhbHVlcyBhcmUgY29waWVkIGludG8gdGhlIGN1cnZlcyBwb2ludHNcbiAgICogQHBhcmFtIGZpcnN0Tm9ybWFsIC0gd2hpY2ggc2hvdWxkIGJlIHByb2plY3RlZCBvbnRvIHRoZSBjdXJ2ZVxuICAgKiBAcmV0dXJucyB0aGUgc2FtZSBvYmplY3QgdXBkYXRlZC5cbiAgICovXG4gIHB1YmxpYyB1cGRhdGUocGF0aDogVmVjdG9yM1tdLCBmaXJzdE5vcm1hbDogTnVsbGFibGU8VmVjdG9yMz4gPSBudWxsKTogUGF0aDNEIHtcbiAgICBmb3IgKGxldCBwID0gMDsgcCA8IHBhdGgubGVuZ3RoOyBwKyspIHtcbiAgICAgIHRoaXMuX2N1cnZlW3BdLnggPSBwYXRoW3BdLnhcbiAgICAgIHRoaXMuX2N1cnZlW3BdLnkgPSBwYXRoW3BdLnlcbiAgICAgIHRoaXMuX2N1cnZlW3BdLnogPSBwYXRoW3BdLnpcbiAgICB9XG4gICAgdGhpcy5fY29tcHV0ZShmaXJzdE5vcm1hbClcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gcHJpdmF0ZSBmdW5jdGlvbiBjb21wdXRlKCkgOiBjb21wdXRlcyB0YW5nZW50cywgbm9ybWFscyBhbmQgYmlub3JtYWxzXG4gIHByaXZhdGUgX2NvbXB1dGUoZmlyc3ROb3JtYWw6IE51bGxhYmxlPFZlY3RvcjM+KTogdm9pZCB7XG4gICAgbGV0IGwgPSB0aGlzLl9jdXJ2ZS5sZW5ndGhcblxuICAgIC8vIGZpcnN0IGFuZCBsYXN0IHRhbmdlbnRzXG4gICAgdGhpcy5fdGFuZ2VudHNbMF0gPSB0aGlzLl9nZXRGaXJzdE5vbk51bGxWZWN0b3IoMClcbiAgICBpZiAoIXRoaXMuX3Jhdykge1xuICAgICAgdGhpcy5fdGFuZ2VudHNbMF0ubm9ybWFsaXplKClcbiAgICB9XG4gICAgdGhpcy5fdGFuZ2VudHNbbCAtIDFdID0gdGhpcy5fY3VydmVbbCAtIDFdLnN1YnRyYWN0KHRoaXMuX2N1cnZlW2wgLSAyXSlcbiAgICBpZiAoIXRoaXMuX3Jhdykge1xuICAgICAgdGhpcy5fdGFuZ2VudHNbbCAtIDFdLm5vcm1hbGl6ZSgpXG4gICAgfVxuXG4gICAgLy8gbm9ybWFscyBhbmQgYmlub3JtYWxzIGF0IGZpcnN0IHBvaW50IDogYXJiaXRyYXJ5IHZlY3RvciB3aXRoIF9ub3JtYWxWZWN0b3IoKVxuICAgIGxldCB0ZzAgPSB0aGlzLl90YW5nZW50c1swXVxuICAgIGxldCBwcDAgPSB0aGlzLl9ub3JtYWxWZWN0b3IodGhpcy5fY3VydmVbMF0sIHRnMCwgZmlyc3ROb3JtYWwpXG4gICAgdGhpcy5fbm9ybWFsc1swXSA9IHBwMFxuICAgIGlmICghdGhpcy5fcmF3KSB7XG4gICAgICB0aGlzLl9ub3JtYWxzWzBdLm5vcm1hbGl6ZSgpXG4gICAgfVxuICAgIHRoaXMuX2Jpbm9ybWFsc1swXSA9IFZlY3RvcjMuQ3Jvc3ModGcwLCB0aGlzLl9ub3JtYWxzWzBdKVxuICAgIGlmICghdGhpcy5fcmF3KSB7XG4gICAgICB0aGlzLl9iaW5vcm1hbHNbMF0ubm9ybWFsaXplKClcbiAgICB9XG4gICAgdGhpcy5fZGlzdGFuY2VzWzBdID0gMC4wXG5cbiAgICAvLyBub3JtYWxzIGFuZCBiaW5vcm1hbHMgOiBuZXh0IHBvaW50c1xuICAgIGxldCBwcmV2OiBWZWN0b3IzIC8vIHByZXZpb3VzIHZlY3RvciAoc2VnbWVudClcbiAgICBsZXQgY3VyOiBWZWN0b3IzIC8vIGN1cnJlbnQgdmVjdG9yIChzZWdtZW50KVxuICAgIGxldCBjdXJUYW5nOiBWZWN0b3IzIC8vIGN1cnJlbnQgdGFuZ2VudFxuICAgIC8vIHByZXZpb3VzIG5vcm1hbFxuICAgIGxldCBwcmV2Qmlub3I6IFZlY3RvcjMgLy8gcHJldmlvdXMgYmlub3JtYWxcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbDsgaSsrKSB7XG4gICAgICAvLyB0YW5nZW50c1xuICAgICAgcHJldiA9IHRoaXMuX2dldExhc3ROb25OdWxsVmVjdG9yKGkpXG4gICAgICBpZiAoaSA8IGwgLSAxKSB7XG4gICAgICAgIGN1ciA9IHRoaXMuX2dldEZpcnN0Tm9uTnVsbFZlY3RvcihpKVxuICAgICAgICB0aGlzLl90YW5nZW50c1tpXSA9IHByZXYuYWRkKGN1cilcbiAgICAgICAgdGhpcy5fdGFuZ2VudHNbaV0ubm9ybWFsaXplKClcbiAgICAgIH1cbiAgICAgIHRoaXMuX2Rpc3RhbmNlc1tpXSA9IHRoaXMuX2Rpc3RhbmNlc1tpIC0gMV0gKyBwcmV2Lmxlbmd0aCgpXG5cbiAgICAgIC8vIG5vcm1hbHMgYW5kIGJpbm9ybWFsc1xuICAgICAgLy8gaHR0cDovL3d3dy5jcy5jbXUuZWR1L2Fmcy9hbmRyZXcvc2NzL2NzLzE1LTQ2Mi93ZWIvb2xkL2Fzc3QyY2FtZXJhLmh0bWxcbiAgICAgIGN1clRhbmcgPSB0aGlzLl90YW5nZW50c1tpXVxuICAgICAgcHJldkJpbm9yID0gdGhpcy5fYmlub3JtYWxzW2kgLSAxXVxuICAgICAgdGhpcy5fbm9ybWFsc1tpXSA9IFZlY3RvcjMuQ3Jvc3MocHJldkJpbm9yLCBjdXJUYW5nKVxuICAgICAgaWYgKCF0aGlzLl9yYXcpIHtcbiAgICAgICAgdGhpcy5fbm9ybWFsc1tpXS5ub3JtYWxpemUoKVxuICAgICAgfVxuICAgICAgdGhpcy5fYmlub3JtYWxzW2ldID0gVmVjdG9yMy5Dcm9zcyhjdXJUYW5nLCB0aGlzLl9ub3JtYWxzW2ldKVxuICAgICAgaWYgKCF0aGlzLl9yYXcpIHtcbiAgICAgICAgdGhpcy5fYmlub3JtYWxzW2ldLm5vcm1hbGl6ZSgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gcmV0dXJucyB0aGUgZmlyc3Qgbm9uIG51bGwgdmVjdG9yIGZyb20gaW5kZXggOiBjdXJ2ZVtpbmRleCArIE5dLnN1YnRyYWN0KGN1cnZlW2luZGV4XSlcbiAgcHJpdmF0ZSBfZ2V0Rmlyc3ROb25OdWxsVmVjdG9yKGluZGV4OiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICBsZXQgaSA9IDFcbiAgICBsZXQgbk5WZWN0b3I6IFZlY3RvcjMgPSB0aGlzLl9jdXJ2ZVtpbmRleCArIGldLnN1YnRyYWN0KHRoaXMuX2N1cnZlW2luZGV4XSlcbiAgICB3aGlsZSAobk5WZWN0b3IubGVuZ3RoKCkgPT09IDAgJiYgaW5kZXggKyBpICsgMSA8IHRoaXMuX2N1cnZlLmxlbmd0aCkge1xuICAgICAgaSsrXG4gICAgICBuTlZlY3RvciA9IHRoaXMuX2N1cnZlW2luZGV4ICsgaV0uc3VidHJhY3QodGhpcy5fY3VydmVbaW5kZXhdKVxuICAgIH1cbiAgICByZXR1cm4gbk5WZWN0b3JcbiAgfVxuXG4gIC8vIHJldHVybnMgdGhlIGxhc3Qgbm9uIG51bGwgdmVjdG9yIGZyb20gaW5kZXggOiBjdXJ2ZVtpbmRleF0uc3VidHJhY3QoY3VydmVbaW5kZXggLSBOXSlcbiAgcHJpdmF0ZSBfZ2V0TGFzdE5vbk51bGxWZWN0b3IoaW5kZXg6IG51bWJlcik6IFZlY3RvcjMge1xuICAgIGxldCBpID0gMVxuICAgIGxldCBuTFZlY3RvcjogVmVjdG9yMyA9IHRoaXMuX2N1cnZlW2luZGV4XS5zdWJ0cmFjdCh0aGlzLl9jdXJ2ZVtpbmRleCAtIGldKVxuICAgIHdoaWxlIChuTFZlY3Rvci5sZW5ndGgoKSA9PT0gMCAmJiBpbmRleCA+IGkgKyAxKSB7XG4gICAgICBpKytcbiAgICAgIG5MVmVjdG9yID0gdGhpcy5fY3VydmVbaW5kZXhdLnN1YnRyYWN0KHRoaXMuX2N1cnZlW2luZGV4IC0gaV0pXG4gICAgfVxuICAgIHJldHVybiBuTFZlY3RvclxuICB9XG5cbiAgLy8gcHJpdmF0ZSBmdW5jdGlvbiBub3JtYWxWZWN0b3IodjAsIHZ0LCB2YSkgOlxuICAvLyByZXR1cm5zIGFuIGFyYml0cmFyeSBwb2ludCBpbiB0aGUgcGxhbmUgZGVmaW5lZCBieSB0aGUgcG9pbnQgdjAgYW5kIHRoZSB2ZWN0b3IgdnQgb3J0aG9nb25hbCB0byB0aGlzIHBsYW5lXG4gIC8vIGlmIHZhIGlzIHBhc3NlZCwgaXQgcmV0dXJucyB0aGUgdmEgcHJvamVjdGlvbiBvbiB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byB2dCBhdCB0aGUgcG9pbnQgdjBcbiAgcHJpdmF0ZSBfbm9ybWFsVmVjdG9yKHYwOiBWZWN0b3IzLCB2dDogVmVjdG9yMywgdmE6IFZlY3RvcjMgfCBudWxsKTogVmVjdG9yMyB7XG4gICAgbGV0IG5vcm1hbDA6IFZlY3RvcjNcbiAgICBsZXQgdGdsID0gdnQubGVuZ3RoKClcbiAgICBpZiAodGdsID09PSAwLjApIHtcbiAgICAgIHRnbCA9IDEuMFxuICAgIH1cblxuICAgIGlmICgodmEgYXMgYW55KSA9PT0gdW5kZWZpbmVkIHx8IHZhID09PSBudWxsKSB7XG4gICAgICBsZXQgcG9pbnQ6IFZlY3RvcjNcbiAgICAgIGlmICghU2NhbGFyLldpdGhpbkVwc2lsb24oTWF0aC5hYnModnQueSkgLyB0Z2wsIDEuMCwgRXBzaWxvbikpIHtcbiAgICAgICAgLy8gc2VhcmNoIGZvciBhIHBvaW50IGluIHRoZSBwbGFuZVxuICAgICAgICBwb2ludCA9IG5ldyBWZWN0b3IzKDAuMCwgLTEuMCwgMC4wKVxuICAgICAgfSBlbHNlIGlmICghU2NhbGFyLldpdGhpbkVwc2lsb24oTWF0aC5hYnModnQueCkgLyB0Z2wsIDEuMCwgRXBzaWxvbikpIHtcbiAgICAgICAgcG9pbnQgPSBuZXcgVmVjdG9yMygxLjAsIDAuMCwgMC4wKVxuICAgICAgfSBlbHNlIGlmICghU2NhbGFyLldpdGhpbkVwc2lsb24oTWF0aC5hYnModnQueikgLyB0Z2wsIDEuMCwgRXBzaWxvbikpIHtcbiAgICAgICAgcG9pbnQgPSBuZXcgVmVjdG9yMygwLjAsIDAuMCwgMS4wKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9pbnQgPSBWZWN0b3IzLlplcm8oKVxuICAgICAgfVxuICAgICAgbm9ybWFsMCA9IFZlY3RvcjMuQ3Jvc3ModnQsIHBvaW50KVxuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWwwID0gVmVjdG9yMy5Dcm9zcyh2dCwgdmEpXG4gICAgICBWZWN0b3IzLkNyb3NzVG9SZWYobm9ybWFsMCwgdnQsIG5vcm1hbDApXG4gICAgfVxuICAgIG5vcm1hbDAubm9ybWFsaXplKClcbiAgICByZXR1cm4gbm9ybWFsMFxuICB9XG59XG4iLCJpbXBvcnQgeyBJU2l6ZSB9IGZyb20gJy4vdHlwZXMnXG5cbi8qKlxuICogU2l6ZSBjb250YWluaW5nIHdpZGh0IGFuZCBoZWlnaHRcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFNpemUgaW1wbGVtZW50cyBJU2l6ZSB7XG4gIC8qKlxuICAgKiBUaGUgc3VyZmFjZSBvZiB0aGUgU2l6ZSA6IHdpZHRoICogaGVpZ2h0IChmbG9hdCkuXG4gICAqL1xuICBwdWJsaWMgZ2V0IHN1cmZhY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0XG4gIH1cbiAgLyoqXG4gICAqIFdpZHRoXG4gICAqL1xuICBwdWJsaWMgd2lkdGg6IG51bWJlclxuICAvKipcbiAgICogSGVpZ2h0XG4gICAqL1xuICBwdWJsaWMgaGVpZ2h0OiBudW1iZXJcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFNpemUgb2JqZWN0IGZyb20gdGhlIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHQgKGZsb2F0cykuXG4gICAqIEBwYXJhbSB3aWR0aCAtIHdpZHRoIG9mIHRoZSBuZXcgc2l6ZVxuICAgKiBAcGFyYW0gaGVpZ2h0IC0gaGVpZ2h0IG9mIHRoZSBuZXcgc2l6ZVxuICAgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHRcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHNpemUgb2YgemVyb1xuICAgKiBAcmV0dXJucyBhIG5ldyBTaXplIHNldCB0byAoMC4wLCAwLjApXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIFplcm8oKTogU2l6ZSB7XG4gICAgcmV0dXJuIG5ldyBTaXplKDAuMCwgMC4wKVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNpemUgc2V0IGF0IHRoZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBcImFtb3VudFwiIGJldHdlZW4gXCJzdGFydFwiIGFuZCBcImVuZFwiXG4gICAqIEBwYXJhbSBzdGFydCAtIHN0YXJ0aW5nIHNpemUgdG8gbGVycCBiZXR3ZWVuXG4gICAqIEBwYXJhbSBlbmQgLSBlbmQgc2l6ZSB0byBsZXJwIGJldHdlZW5cbiAgICogQHBhcmFtIGFtb3VudCAtIGFtb3VudCB0byBsZXJwIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQgdmFsdWVzXG4gICAqIEByZXR1cm5zIGEgbmV3IFNpemUgc2V0IGF0IHRoZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBcImFtb3VudFwiIGJldHdlZW4gXCJzdGFydFwiIGFuZCBcImVuZFwiXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIExlcnAoc3RhcnQ6IFNpemUsIGVuZDogU2l6ZSwgYW1vdW50OiBudW1iZXIpOiBTaXplIHtcbiAgICBsZXQgdyA9IHN0YXJ0LndpZHRoICsgKGVuZC53aWR0aCAtIHN0YXJ0LndpZHRoKSAqIGFtb3VudFxuICAgIGxldCBoID0gc3RhcnQuaGVpZ2h0ICsgKGVuZC5oZWlnaHQgLSBzdGFydC5oZWlnaHQpICogYW1vdW50XG5cbiAgICByZXR1cm4gbmV3IFNpemUodywgaClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIFNpemUgd2lkdGggYW5kIGhlaWdodFxuICAgKiBAcmV0dXJucyBhIHN0cmluZyB3aXRoIHRoZSBTaXplIHdpZHRoIGFuZCBoZWlnaHRcbiAgICovXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBge1c6ICR7dGhpcy53aWR0aH0sIEg6ICR7dGhpcy5oZWlnaHR9fWBcbiAgfVxuICAvKipcbiAgICogXCJTaXplXCJcbiAgICogQHJldHVybnMgdGhlIHN0cmluZyBcIlNpemVcIlxuICAgKi9cbiAgcHVibGljIGdldENsYXNzTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnU2l6ZSdcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgU2l6ZSBoYXNoIGNvZGUuXG4gICAqIEByZXR1cm5zIGEgaGFzaCBjb2RlIGZvciBhIHVuaXF1ZSB3aWR0aCBhbmQgaGVpZ2h0XG4gICAqL1xuICBwdWJsaWMgZ2V0SGFzaENvZGUoKTogbnVtYmVyIHtcbiAgICBsZXQgaGFzaCA9IHRoaXMud2lkdGggfHwgMFxuICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodGhpcy5oZWlnaHQgfHwgMClcbiAgICByZXR1cm4gaGFzaFxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IHNpemUgZnJvbSB0aGUgZ2l2ZW4gb25lLlxuICAgKiBAcGFyYW0gc3JjIC0gdGhlIGdpdmVuIHNpemVcbiAgICovXG4gIHB1YmxpYyBjb3B5RnJvbShzcmM6IFNpemUpIHtcbiAgICB0aGlzLndpZHRoID0gc3JjLndpZHRoXG4gICAgdGhpcy5oZWlnaHQgPSBzcmMuaGVpZ2h0XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgaW4gcGxhY2UgdGhlIGN1cnJlbnQgU2l6ZSBmcm9tIHRoZSBnaXZlbiBmbG9hdHMuXG4gICAqIEBwYXJhbSB3aWR0aCAtIHdpZHRoIG9mIHRoZSBuZXcgc2l6ZVxuICAgKiBAcGFyYW0gaGVpZ2h0IC0gaGVpZ2h0IG9mIHRoZSBuZXcgc2l6ZVxuICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBTaXplLlxuICAgKi9cbiAgcHVibGljIGNvcHlGcm9tRmxvYXRzKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogU2l6ZSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHRcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIGluIHBsYWNlIHRoZSBjdXJyZW50IFNpemUgZnJvbSB0aGUgZ2l2ZW4gZmxvYXRzLlxuICAgKiBAcGFyYW0gd2lkdGggLSB3aWR0aCB0byBzZXRcbiAgICogQHBhcmFtIGhlaWdodCAtIGhlaWdodCB0byBzZXRcbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgU2l6ZS5cbiAgICovXG4gIHB1YmxpYyBzZXQod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBTaXplIHtcbiAgICByZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyh3aWR0aCwgaGVpZ2h0KVxuICB9XG4gIC8qKlxuICAgKiBNdWx0aXBsaWVzIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IGJ5IG51bWJlcnNcbiAgICogQHBhcmFtIHcgLSBmYWN0b3IgdG8gbXVsdGlwbGUgdGhlIHdpZHRoIGJ5XG4gICAqIEBwYXJhbSBoIC0gZmFjdG9yIHRvIG11bHRpcGxlIHRoZSBoZWlnaHQgYnlcbiAgICogQHJldHVybnMgYSBuZXcgU2l6ZSBzZXQgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBjdXJyZW50IFNpemUgYW5kIHRoZSBnaXZlbiBmbG9hdHMuXG4gICAqL1xuICBwdWJsaWMgbXVsdGlwbHlCeUZsb2F0cyh3OiBudW1iZXIsIGg6IG51bWJlcik6IFNpemUge1xuICAgIHJldHVybiBuZXcgU2l6ZSh0aGlzLndpZHRoICogdywgdGhpcy5oZWlnaHQgKiBoKVxuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHNpemVcbiAgICogQHJldHVybnMgYSBuZXcgU2l6ZSBjb3BpZWQgZnJvbSB0aGUgZ2l2ZW4gb25lLlxuICAgKi9cbiAgcHVibGljIGNsb25lKCk6IFNpemUge1xuICAgIHJldHVybiBuZXcgU2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodClcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgY3VycmVudCBTaXplIGFuZCB0aGUgZ2l2ZW4gb25lIHdpZHRoIGFuZCBoZWlnaHQgYXJlIHN0cmljdGx5IGVxdWFsLlxuICAgKiBAcGFyYW0gb3RoZXIgLSB0aGUgb3RoZXIgc2l6ZSB0byBjb21wYXJlIGFnYWluc3RcbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgY3VycmVudCBTaXplIGFuZCB0aGUgZ2l2ZW4gb25lIHdpZHRoIGFuZCBoZWlnaHQgYXJlIHN0cmljdGx5IGVxdWFsLlxuICAgKi9cbiAgcHVibGljIGVxdWFscyhvdGhlcjogU2l6ZSk6IGJvb2xlYW4ge1xuICAgIGlmICghb3RoZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodFxuICB9XG4gIC8qKlxuICAgKiBTdW1zIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHR3byBzaXplc1xuICAgKiBAcGFyYW0gb3RoZXJTaXplIC0gc2l6ZSB0byBhZGQgdG8gdGhpcyBzaXplXG4gICAqIEByZXR1cm5zIGEgbmV3IFNpemUgc2V0IGFzIHRoZSBhZGRpdGlvbiByZXN1bHQgb2YgdGhlIGN1cnJlbnQgU2l6ZSBhbmQgdGhlIGdpdmVuIG9uZS5cbiAgICovXG4gIHB1YmxpYyBhZGQob3RoZXJTaXplOiBTaXplKTogU2l6ZSB7XG4gICAgbGV0IHIgPSBuZXcgU2l6ZSh0aGlzLndpZHRoICsgb3RoZXJTaXplLndpZHRoLCB0aGlzLmhlaWdodCArIG90aGVyU2l6ZS5oZWlnaHQpXG4gICAgcmV0dXJuIHJcbiAgfVxuICAvKipcbiAgICogU3VidHJhY3RzIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHR3b1xuICAgKiBAcGFyYW0gb3RoZXJTaXplIC0gc2l6ZSB0byBzdWJ0cmFjdCB0byB0aGlzIHNpemVcbiAgICogQHJldHVybnMgYSBuZXcgU2l6ZSBzZXQgYXMgdGhlIHN1YnRyYWN0aW9uIHJlc3VsdCBvZiAgdGhlIGdpdmVuIG9uZSBmcm9tIHRoZSBjdXJyZW50IFNpemUuXG4gICAqL1xuICBwdWJsaWMgc3VidHJhY3Qob3RoZXJTaXplOiBTaXplKTogU2l6ZSB7XG4gICAgbGV0IHIgPSBuZXcgU2l6ZSh0aGlzLndpZHRoIC0gb3RoZXJTaXplLndpZHRoLCB0aGlzLmhlaWdodCAtIG90aGVyU2l6ZS5oZWlnaHQpXG4gICAgcmV0dXJuIHJcbiAgfVxufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2Vjcy9Db21wb25lbnQnXG5pbXBvcnQgeyBuZXdJZCB9IGZyb20gJy4uL2Vjcy9oZWxwZXJzJ1xuaW1wb3J0IHsgQW5pbWF0b3IgfSBmcm9tICcuL0NvbXBvbmVudHMnXG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBBbmltYXRpb25QYXJhbXMgPSB7XG4gIGxvb3Bpbmc/OiBib29sZWFuXG4gIHNwZWVkPzogbnVtYmVyXG4gIHdlaWdodD86IG51bWJlclxuICBsYXllcj86IG51bWJlclxufVxuXG5jb25zdCBkZWZhdWx0UGFyYW1zOiBSZXF1aXJlZDxQaWNrPEFuaW1hdGlvblBhcmFtcywgJ2xvb3BpbmcnIHwgJ3NwZWVkJyB8ICd3ZWlnaHQnIHwgJ2xheWVyJz4+ID0ge1xuICBsb29waW5nOiB0cnVlLFxuICBzcGVlZDogMS4wLFxuICB3ZWlnaHQ6IDEuMCxcbiAgbGF5ZXI6IDBcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBBbmltYXRpb25TdGF0ZSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuXG4gIC8vIEBpbnRlcm5hbFxuICBwdWJsaWMgaXNBbmltYXRpb25DbGlwOiBib29sZWFuID0gdHJ1ZVxuXG4gIC8qKlxuICAgKiBOYW1lIG9mIHRoZSBhbmltYXRpb24gaW4gdGhlIG1vZGVsXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICBwdWJsaWMgcmVhZG9ubHkgY2xpcDogc3RyaW5nXG5cbiAgLyoqXG4gICAqIERvZXMgdGhlIGFuaW1hdGlvbiBsb29wPywgZGVmYXVsdDogdHJ1ZVxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcHVibGljIGxvb3Bpbmc6IGJvb2xlYW4gPSBkZWZhdWx0UGFyYW1zLmxvb3BpbmdcblxuICAvKipcbiAgICogV2VpZ2h0IG9mIHRoZSBhbmltYXRpb24sIHZhbHVlcyBmcm9tIDAgdG8gMSwgdXNlZCB0byBibGVuZCBzZXZlcmFsIGFuaW1hdGlvbnMuIGRlZmF1bHQ6IDFcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHB1YmxpYyB3ZWlnaHQ6IG51bWJlciA9IGRlZmF1bHRQYXJhbXMud2VpZ2h0XG5cbiAgLyoqXG4gICAqIElzIHRoZSBhbmltYXRpb24gcGxheWluZz8gZGVmYXVsdDogdHJ1ZVxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcHVibGljIHBsYXlpbmc6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBEb2VzIGFueSBhbnlvbmUgYXNrZWQgdG8gcmVzZXQgdGhlIGFuaW1hdGlvbj8gZGVmYXVsdDogZmFsc2VcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHB1YmxpYyBzaG91bGRSZXNldDogYm9vbGVhbiA9IGZhbHNlXG5cbiAgLyoqXG4gICAqIFRoZSBhbmltYXRpb24gc3BlZWRcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHB1YmxpYyBzcGVlZDogbnVtYmVyID0gZGVmYXVsdFBhcmFtcy5zcGVlZFxuXG4gIC8vIEBpbnRlcm5hbFxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSBuYW1lOiBzdHJpbmcgPSBuZXdJZCgnQW5pbUNsaXAnKVxuXG4gIC8qKlxuICAgKiBMYXllcmluZyBhbGxvd3MgeW91IHRvIGhhdmUgdHdvIG9yIG1vcmUgbGV2ZWxzIG9mIGFuaW1hdGlvbiBvbiBhbiBvYmplY3QncyBwYXJhbWV0ZXJzIGF0IHRoZSBzYW1lIHRpbWVcbiAgICovXG4gIHB1YmxpYyBsYXllcjogbnVtYmVyID0gZGVmYXVsdFBhcmFtcy5sYXllclxuXG4gIC8vIEBpbnRlcm5hbFxuICBwdWJsaWMgb3duZXI/OiBBbmltYXRvclxuXG4gIGNvbnN0cnVjdG9yKGNsaXA6IHN0cmluZywgcGFyYW1zOiBBbmltYXRpb25QYXJhbXMgPSBkZWZhdWx0UGFyYW1zKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuY2xpcCA9IGNsaXBcbiAgICB0aGlzLnNldFBhcmFtcyh7IC4uLnBhcmFtcyB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNsaXAgcGFyYW1ldGVyc1xuICAgKi9cbiAgc2V0UGFyYW1zKHBhcmFtczogQW5pbWF0aW9uUGFyYW1zKSB7XG4gICAgdGhpcy5sb29waW5nID0gcGFyYW1zLmxvb3BpbmcgIT09IHVuZGVmaW5lZCA/IHBhcmFtcy5sb29waW5nIDogdGhpcy5sb29waW5nXG4gICAgdGhpcy5zcGVlZCA9IHBhcmFtcy5zcGVlZCB8fCB0aGlzLnNwZWVkXG4gICAgdGhpcy53ZWlnaHQgPSBwYXJhbXMud2VpZ2h0IHx8IHRoaXMud2VpZ2h0XG4gICAgdGhpcy5sYXllciA9IHBhcmFtcy5sYXllciB8fCB0aGlzLmxheWVyXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICBjb25zdCByZXQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN1cGVyLnRvSlNPTigpKSlcbiAgICBpZiAodGhpcy5zaG91bGRSZXNldCkge1xuICAgICAgdGhpcy5zaG91bGRSZXNldCA9IGZhbHNlXG4gICAgfVxuICAgIHJldHVybiByZXRcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGFuaW1hdGlvblxuICAgKi9cbiAgcGxheShyZXNldDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgdGhpcy5vd25lcj8ucGxheSh0aGlzLCByZXNldClcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXVzZXMgdGhlIGFuaW1hdGlvblxuICAgKi9cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5vd25lcj8ucGF1c2UodGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGFuaW1hdGlvbiBzdGF0ZSB0byB0aGUgZnJhbWUgMFxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zaG91bGRSZXNldCA9IHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYW5kIHBhdXNlcyB0aGUgYW5pbWF0aW9uXG4gICAqL1xuICBzdG9wKCkge1xuICAgIHRoaXMub3duZXI/LnN0b3AodGhpcylcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVhZE9ubHlDb2xvcjQgfSBmcm9tICcuL21hdGgnXG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZW51bSBJbnB1dEV2ZW50VHlwZSB7XG4gIERPV04sXG4gIFVQXG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZW51bSBDYW1lcmFNb2RlIHtcbiAgRmlyc3RQZXJzb24sXG4gIFRoaXJkUGVyc29uLFxuICBCdWlsZGluZ1Rvb2xHb2RNb2RlXG59XG5cbi8vIEBpbnRlcm5hbFxuZXhwb3J0IGNvbnN0IEFWQVRBUl9PQlNFUlZBQkxFID0gJ0FWQVRBUl9PQlNFUlZBQkxFJ1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgV2VhcmFibGVJZCA9IHN0cmluZ1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgQXZhdGFyRm9yUmVuZGVyZXIgPSB7XG4gIGJvZHlTaGFwZTogV2VhcmFibGVJZFxuICBza2luQ29sb3I6IFJlYWRPbmx5Q29sb3I0XG4gIGhhaXJDb2xvcjogUmVhZE9ubHlDb2xvcjRcbiAgZXllQ29sb3I6IFJlYWRPbmx5Q29sb3I0XG4gIHdlYXJhYmxlczogV2VhcmFibGVJZFtdXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBXZWFyYWJsZSA9IHtcbiAgaWQ6IFdlYXJhYmxlSWRcbiAgdHlwZTogJ3dlYXJhYmxlJ1xuICBjYXRlZ29yeTogc3RyaW5nXG4gIGJhc2VVcmw6IHN0cmluZ1xuICB0YWdzOiBzdHJpbmdbXVxuICByZXByZXNlbnRhdGlvbnM6IEJvZHlTaGFwZVJlc3ByZXNlbnRhdGlvbltdXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBCb2R5U2hhcGVSZXNwcmVzZW50YXRpb24gPSB7XG4gIGJvZHlTaGFwZXM6IHN0cmluZ1tdXG4gIG1haW5GaWxlOiBzdHJpbmdcbiAgY29udGVudHM6IEZpbGVBbmRIYXNoW11cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEZpbGVBbmRIYXNoID0ge1xuICBmaWxlOiBzdHJpbmdcbiAgaGFzaDogc3RyaW5nXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBQcm9maWxlRm9yUmVuZGVyZXIgPSB7XG4gIHVzZXJJZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgYXZhdGFyOiBBdmF0YXJGb3JSZW5kZXJlclxuICBzbmFwc2hvdHM6IHtcbiAgICBmYWNlOiBzdHJpbmdcbiAgICBib2R5OiBzdHJpbmdcbiAgfVxuICB2ZXJzaW9uOiBudW1iZXJcbiAgaGFzQ29ubmVjdGVkV2ViMzogYm9vbGVhblxuICB1cGRhdGVkQXQ/OiBudW1iZXJcbiAgY3JlYXRlZEF0PzogbnVtYmVyXG4gIHBhcmNlbHNXaXRoQWNjZXNzPzogUGFyY2Vsc1dpdGhBY2Nlc3Ncbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIFBhcmNlbHNXaXRoQWNjZXNzID0gQXJyYXk8e1xuICB4OiBudW1iZXJcbiAgeTogbnVtYmVyXG4gIHJvbGU6IExhbmRSb2xlXG59PlxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGVudW0gTGFuZFJvbGUge1xuICBPV05FUiA9ICdvd25lcicsXG4gIE9QRVJBVE9SID0gJ29wZXJhdG9yJ1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgTWluaW1hcFNjZW5lSW5mbyA9IHtcbiAgbmFtZTogc3RyaW5nXG4gIG93bmVyOiBzdHJpbmdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICBwcmV2aWV3SW1hZ2VVcmw6IHN0cmluZyB8IHVuZGVmaW5lZFxuICB0eXBlOiBudW1iZXJcbiAgcGFyY2VsczogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9W11cbiAgaXNQT0k6IGJvb2xlYW5cbn1cbiIsIi8vIHRzbGludDpkaXNhYmxlOnRlci1pbmRlbnRcblxuaW1wb3J0IHsgSW5wdXRFdmVudFR5cGUgfSBmcm9tICcuL1R5cGVzJ1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vbWF0aCdcbmltcG9ydCB7IENvbXBvbmVudCwgRGlzcG9zYWJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2Vjcy9Db21wb25lbnQnXG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBJbnB1dEV2ZW50S2luZCA9ICdCVVRUT05fRE9XTicgfCAnQlVUVE9OX1VQJ1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGVudW0gQWN0aW9uQnV0dG9uIHtcbiAgUE9JTlRFUiA9ICdQT0lOVEVSJyxcbiAgUFJJTUFSWSA9ICdQUklNQVJZJyxcbiAgU0VDT05EQVJZID0gJ1NFQ09OREFSWScsXG4gIEFOWSA9ICdBTlknLFxuICBGT1JXQVJEID0gJ0ZPUldBUkQnLFxuICBCQUNLV0FSRCA9ICdCQUNLV0FSRCcsXG4gIFJJR0hUID0gJ1JJR0hUJyxcbiAgTEVGVCA9ICdMRUZUJyxcbiAgSlVNUCA9ICdKVU1QJyxcbiAgV0FMSyA9ICdXQUxLJyxcbiAgQUNUSU9OXzMgPSAnQUNUSU9OXzMnLFxuICBBQ1RJT05fNCA9ICdBQ1RJT05fNCcsXG4gIEFDVElPTl81ID0gJ0FDVElPTl81JyxcbiAgQUNUSU9OXzYgPSAnQUNUSU9OXzYnXG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBJbnB1dFN0YXRlID0gUmVjb3JkPFxuICBBY3Rpb25CdXR0b24sXG4gIHtcbiAgICBCVVRUT05fRE9XTjogYm9vbGVhblxuICB9XG4+XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBMb2NhbEFjdGlvbkJ1dHRvbkV2ZW50ID0gR2xvYmFsSW5wdXRFdmVudFJlc3VsdCAmIHtcbiAgb3JpZ2luOiBWZWN0b3IzXG4gIGRpcmVjdGlvbjogVmVjdG9yM1xuICBidXR0b246IEFjdGlvbkJ1dHRvblxuICBoaXQ/OiBHbG9iYWxJbnB1dEV2ZW50UmVzdWx0WydoaXQnXSAmIHtcbiAgICBoaXRQb2ludDogVmVjdG9yM1xuICAgIG5vcm1hbDogVmVjdG9yM1xuICAgIHdvcmxkTm9ybWFsOiBWZWN0b3IzXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBQb2ludGVyRXZlbnRDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY2FsbGJhY2s6IChldmVudDogTG9jYWxBY3Rpb25CdXR0b25FdmVudCkgPT4gdm9pZCkge1xuICAgIGlmICghY2FsbGJhY2sgfHwgISgnYXBwbHknIGluIGNhbGxiYWNrKSB8fCAhKCdjYWxsJyBpbiBjYWxsYmFjaykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24nKVxuICAgIH1cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdXNlLWJlZm9yZS1kZWNsYXJlXG4gICAgSW5wdXQuZW5zdXJlSW5zdGFuY2UoKVxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdwb2ludGVyRG93bicpXG5leHBvcnQgY2xhc3MgR2xvYmFsUG9pbnRlckRvd24gZXh0ZW5kcyBQb2ludGVyRXZlbnRDb21wb25lbnQge31cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ3BvaW50ZXJVcCcpXG5leHBvcnQgY2xhc3MgR2xvYmFsUG9pbnRlclVwIGV4dGVuZHMgUG9pbnRlckV2ZW50Q29tcG9uZW50IHt9XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uIHtcbiAgcHVibGljIGZuOiAoZTogTG9jYWxBY3Rpb25CdXR0b25FdmVudCkgPT4gdm9pZFxuICBwdWJsaWMgdXNlUmF5Y2FzdDogYm9vbGVhblxuXG4gIGNvbnN0cnVjdG9yKGZuOiAoZTogTG9jYWxBY3Rpb25CdXR0b25FdmVudCkgPT4gdm9pZCwgdXNlUmF5Y2FzdDogYm9vbGVhbikge1xuICAgIHRoaXMuZm4gPSBmblxuICAgIHRoaXMudXNlUmF5Y2FzdCA9IHVzZVJheWNhc3RcbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIElucHV0IHtcbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBJbnB1dFxuXG4gIC8vIEBpbnRlcm5hbFxuICBwcml2YXRlIGJ1dHRvbklkTWFwcGluZzogQWN0aW9uQnV0dG9uW10gPSBbXG4gICAgQWN0aW9uQnV0dG9uLlBPSU5URVIsXG4gICAgQWN0aW9uQnV0dG9uLlBSSU1BUlksXG4gICAgQWN0aW9uQnV0dG9uLlNFQ09OREFSWSxcbiAgICBBY3Rpb25CdXR0b24uQU5ZLFxuICAgIEFjdGlvbkJ1dHRvbi5GT1JXQVJELFxuICAgIEFjdGlvbkJ1dHRvbi5CQUNLV0FSRCxcbiAgICBBY3Rpb25CdXR0b24uUklHSFQsXG4gICAgQWN0aW9uQnV0dG9uLkxFRlQsXG4gICAgQWN0aW9uQnV0dG9uLkpVTVAsXG4gICAgQWN0aW9uQnV0dG9uLldBTEssXG4gICAgQWN0aW9uQnV0dG9uLkFDVElPTl8zLFxuICAgIEFjdGlvbkJ1dHRvbi5BQ1RJT05fNCxcbiAgICBBY3Rpb25CdXR0b24uQUNUSU9OXzUsXG4gICAgQWN0aW9uQnV0dG9uLkFDVElPTl82XG4gIF1cblxuICBzdGF0aWMgZ2V0IGluc3RhbmNlKCk6IElucHV0IHtcbiAgICBJbnB1dC5lbnN1cmVJbnN0YW5jZSgpXG4gICAgcmV0dXJuIElucHV0Ll9pbnN0YW5jZVxuICB9XG5cbiAgLy8gQGludGVybmFsXG4gIHByaXZhdGUgc3Vic2NyaXB0aW9uczogUmVjb3JkPEFjdGlvbkJ1dHRvbiwgUmVjb3JkPElucHV0RXZlbnRLaW5kLCBBcnJheTxTdWJzY3JpcHRpb24+Pj4gPVxuICAgIHRoaXMuYnV0dG9uSWRNYXBwaW5nLnJlZHVjZShcbiAgICAgIChhY2MsIGspID0+ICh7IC4uLmFjYywgW2tdOiB7IEJVVFRPTl9ET1dOOiBbXSwgQlVUVE9OX1VQOiBbXSB9IH0pLFxuICAgICAge30gYXMgUmVjb3JkPEFjdGlvbkJ1dHRvbiwgUmVjb3JkPElucHV0RXZlbnRLaW5kLCBBcnJheTxTdWJzY3JpcHRpb24+Pj5cbiAgICApXG5cbiAgcHJpdmF0ZSBpbnRlcm5hbFN0YXRlOiBJbnB1dFN0YXRlID0gdGhpcy5idXR0b25JZE1hcHBpbmcucmVkdWNlKFxuICAgIChhY2MsIGspID0+ICh7IC4uLmFjYywgW2tdOiB7IEJVVFRPTl9ET1dOOiBmYWxzZSB9IH0pLFxuICAgIHt9IGFzIElucHV0U3RhdGVcbiAgKVxuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG4gIHN0YXRpYyBlbnN1cmVJbnN0YW5jZSgpOiBhbnkge1xuICAgIGlmICghSW5wdXQuX2luc3RhbmNlKSB7XG4gICAgICBJbnB1dC5faW5zdGFuY2UgPSBuZXcgSW5wdXQoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvd3MgdG8ga25vdyBpZiBhIGJ1dHRvbiBpcyBwcmVzc2VkXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYnV0dG9uIGlzIHByZXNzZWRcbiAgICogQHBhcmFtIGJ1dHRvbklkIC0gVGhlIGlkIG9mIHRoZSBidXR0b24uXG4gICAqL1xuICBwdWJsaWMgaXNCdXR0b25QcmVzc2VkKGJ1dHRvbklkOiBBY3Rpb25CdXR0b24pIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcm5hbFN0YXRlW2J1dHRvbklkXVxuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZXMgdG8gYW4gaW5wdXQgZXZlbnQgYW5kIHRyaWdnZXJzIHRoZSBwcm92aWRlZCBjYWxsYmFjay5cbiAgICpcbiAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogQHBhcmFtIGV2ZW50TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBldmVudCAoc2VlIElucHV0RXZlbnRLaW5kKS5cbiAgICogQHBhcmFtIGJ1dHRvbklkIC0gVGhlIGlkIG9mIHRoZSBidXR0b24uXG4gICAqIEBwYXJhbSB1c2VSYXljYXN0IC0gRW5hYmxlcyBnZXR0aW5nIHJheWNhc3QgaW5mb3JtYXRpb24uXG4gICAqIEBwYXJhbSBmbiAtIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIHRyaWdnZXJlZC5cbiAgICovXG4gIHB1YmxpYyBzdWJzY3JpYmUoXG4gICAgZXZlbnROYW1lOiBJbnB1dEV2ZW50S2luZCxcbiAgICBidXR0b25JZDogQWN0aW9uQnV0dG9uLFxuICAgIHVzZVJheWNhc3Q6IGJvb2xlYW4sXG4gICAgZm46IChlOiBMb2NhbEFjdGlvbkJ1dHRvbkV2ZW50KSA9PiB2b2lkXG4gICk6ICgpID0+IHZvaWQge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uc1tidXR0b25JZF1bZXZlbnROYW1lXS5wdXNoKG5ldyBTdWJzY3JpcHRpb24oZm4sIHVzZVJheWNhc3QpKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKGV2ZW50TmFtZSwgYnV0dG9uSWQsIGZuKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGV4aXN0aW5nIGlucHV0IGV2ZW50IHN1YnNjcmlwdGlvbi5cbiAgICogQHBhcmFtIGV2ZW50TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBldmVudCAoc2VlIElucHV0RXZlbnRLaW5kKS5cbiAgICogQHBhcmFtIGJ1dHRvbklkIC0gVGhlIGlkIG9mIHRoZSBidXR0b24uXG4gICAqIEBwYXJhbSBmbiAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB1c2VkIHdoZW4gc3Vic2NyaWJpbmcgdG8gdGhlIGV2ZW50LlxuICAgKi9cbiAgcHVibGljIHVuc3Vic2NyaWJlKGV2ZW50TmFtZTogSW5wdXRFdmVudEtpbmQsIGJ1dHRvbklkOiBBY3Rpb25CdXR0b24sIGZuOiAoZTogTG9jYWxBY3Rpb25CdXR0b25FdmVudCkgPT4gdm9pZCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5nZXRTdWJzY3JpcHRpb25JZChldmVudE5hbWUsIGJ1dHRvbklkLCBmbilcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9uc1tidXR0b25JZF1bZXZlbnROYW1lXS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcHVibGljIGhhbmRsZVBvaW50ZXJFdmVudChkYXRhOiBHbG9iYWxJbnB1dEV2ZW50UmVzdWx0KSB7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5nZXRQb2ludGVyQnlJZChkYXRhLmJ1dHRvbklkKVxuXG4gICAgaWYgKCFidXR0b24pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCBldmVudFJlc3VsdDogTG9jYWxBY3Rpb25CdXR0b25FdmVudCA9IHtcbiAgICAgIC4uLmRhdGEsXG4gICAgICBidXR0b24sXG4gICAgICBkaXJlY3Rpb246IG5ldyBWZWN0b3IzKCkuY29weUZyb20oZGF0YS5kaXJlY3Rpb24pLFxuICAgICAgb3JpZ2luOiBuZXcgVmVjdG9yMygpLmNvcHlGcm9tKGRhdGEub3JpZ2luKSxcbiAgICAgIGhpdDogdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgY29uc3QgaGl0ID0gZGF0YS5oaXRcbiAgICAgID8ge1xuICAgICAgICAgIC4uLmRhdGEuaGl0LFxuICAgICAgICAgIGhpdFBvaW50OiBuZXcgVmVjdG9yMygpLmNvcHlGcm9tKGRhdGEuaGl0LmhpdFBvaW50KSxcbiAgICAgICAgICBub3JtYWw6IG5ldyBWZWN0b3IzKCkuY29weUZyb20oZGF0YS5oaXQubm9ybWFsKSxcbiAgICAgICAgICB3b3JsZE5vcm1hbDogbmV3IFZlY3RvcjMoKS5jb3B5RnJvbShkYXRhLmhpdC53b3JsZE5vcm1hbClcbiAgICAgICAgfVxuICAgICAgOiB1bmRlZmluZWRcblxuICAgIGlmIChkYXRhLnR5cGUgPT09IElucHV0RXZlbnRUeXBlLkRPV04pIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZVtidXR0b25dLkJVVFRPTl9ET1dOID0gdHJ1ZVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3Vic2NyaXB0aW9uc1tidXR0b25dWydCVVRUT05fRE9XTiddLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzdWJzY3JpcHRpb24gPSB0aGlzLnN1YnNjcmlwdGlvbnNbYnV0dG9uXVsnQlVUVE9OX0RPV04nXVtpXVxuXG4gICAgICAgIC8vIHJlbW92ZSBoaXQgaW5mb3JtYXRpb24gd2hlbiByYXljYXN0IGlzIGRpc2FibGVkXG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24udXNlUmF5Y2FzdCkge1xuICAgICAgICAgIGV2ZW50UmVzdWx0LmhpdCA9IGhpdFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV2ZW50UmVzdWx0LmhpdCA9IHVuZGVmaW5lZFxuICAgICAgICB9XG5cbiAgICAgICAgc3Vic2NyaXB0aW9uLmZuKGV2ZW50UmVzdWx0KVxuICAgICAgfVxuXG4gICAgICBpZiAoaGl0ICYmIGhpdC5lbnRpdHlJZCAmJiBEaXNwb3NhYmxlQ29tcG9uZW50LmVuZ2luZSkge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBEaXNwb3NhYmxlQ29tcG9uZW50LmVuZ2luZS5lbnRpdGllc1toaXQuZW50aXR5SWRdXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBlbnRpdHkgJiYgZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChHbG9iYWxQb2ludGVyRG93bilcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBldmVudFJlc3VsdC5oaXQgPSBoaXRcbiAgICAgICAgICBoYW5kbGVyLmNhbGxiYWNrKGV2ZW50UmVzdWx0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZVtidXR0b25dLkJVVFRPTl9ET1dOID0gZmFsc2VcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN1YnNjcmlwdGlvbnNbYnV0dG9uXVsnQlVUVE9OX1VQJ10ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHN1YnNjcmlwdGlvbiA9IHRoaXMuc3Vic2NyaXB0aW9uc1tidXR0b25dWydCVVRUT05fVVAnXVtpXVxuXG4gICAgICAgIC8vIHJlbW92ZSBoaXQgaW5mb3JtYXRpb24gd2hlbiByYXljYXN0IGlzIGRpc2FibGVkXG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24udXNlUmF5Y2FzdCkge1xuICAgICAgICAgIGV2ZW50UmVzdWx0LmhpdCA9IGhpdFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV2ZW50UmVzdWx0LmhpdCA9IHVuZGVmaW5lZFxuICAgICAgICB9XG5cbiAgICAgICAgc3Vic2NyaXB0aW9uLmZuKGV2ZW50UmVzdWx0KVxuICAgICAgfVxuXG4gICAgICBpZiAoaGl0ICYmIGhpdC5lbnRpdHlJZCAmJiBEaXNwb3NhYmxlQ29tcG9uZW50LmVuZ2luZSkge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBEaXNwb3NhYmxlQ29tcG9uZW50LmVuZ2luZS5lbnRpdGllc1toaXQuZW50aXR5SWRdXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBlbnRpdHkgJiYgZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChHbG9iYWxQb2ludGVyVXApXG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgZXZlbnRSZXN1bHQuaGl0ID0gaGl0XG4gICAgICAgICAgaGFuZGxlci5jYWxsYmFjayhldmVudFJlc3VsdClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3Vic2NyaXB0aW9uSWQoXG4gICAgZXZlbnROYW1lOiBJbnB1dEV2ZW50S2luZCxcbiAgICBidXR0b25JZDogQWN0aW9uQnV0dG9uLFxuICAgIGZuOiAoZTogTG9jYWxBY3Rpb25CdXR0b25FdmVudCkgPT4gdm9pZFxuICApOiBudW1iZXIge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdWJzY3JpcHRpb25zW2J1dHRvbklkXVtldmVudE5hbWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zW2J1dHRvbklkXVtldmVudE5hbWVdW2ldLmZuID09PSBmbikge1xuICAgICAgICByZXR1cm4gaVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAtMVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRQb2ludGVyQnlJZChpZDogbnVtYmVyKTogQWN0aW9uQnV0dG9uIHwgbnVsbCB7XG4gICAgaWYgKGlkIDwgMCB8fCBpZCA+PSB0aGlzLmJ1dHRvbklkTWFwcGluZy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgYWN0aW9uQnV0dG9uID0gdGhpcy5idXR0b25JZE1hcHBpbmdbaWRdXG5cbiAgICBpZiAoYWN0aW9uQnV0dG9uID09PSBBY3Rpb25CdXR0b24uQU5ZKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb25CdXR0b25cbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPYnNlcnZhYmxlQ29tcG9uZW50LCBEaXNwb3NhYmxlQ29tcG9uZW50LCBnZXRDb21wb25lbnRJZCB9IGZyb20gJy4uL2Vjcy9Db21wb25lbnQnXG5pbXBvcnQgeyBWZWN0b3IzLCBRdWF0ZXJuaW9uLCBNYXRyaXgsIE1hdGhUbXAsIENvbG9yMywgQ29sb3I0IH0gZnJvbSAnLi9tYXRoJ1xuaW1wb3J0IHsgQW5pbWF0aW9uU3RhdGUgfSBmcm9tICcuL0FuaW1hdGlvblN0YXRlJ1xuaW1wb3J0IHsgbmV3SWQgfSBmcm9tICcuLi9lY3MvaGVscGVycydcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbiB9IGZyb20gJy4vSW5wdXQnXG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBUcmFuZm9ybUNvbnN0cnVjdG9yQXJncyA9IFRyYW5zZm9ybUNvbnN0cnVjdG9yQXJnc1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgVHJhbnNmb3JtQ29uc3RydWN0b3JBcmdzID0ge1xuICBwb3NpdGlvbj86IFZlY3RvcjNcbiAgcm90YXRpb24/OiBRdWF0ZXJuaW9uXG4gIHNjYWxlPzogVmVjdG9yM1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZW51bSBDTEFTU19JRCB7XG4gIFRSQU5TRk9STSA9IDEsXG4gIFVVSURfQ0FMTEJBQ0sgPSA4LFxuICBCT1hfU0hBUEUgPSAxNixcbiAgU1BIRVJFX1NIQVBFID0gMTcsXG4gIFBMQU5FX1NIQVBFID0gMTgsXG4gIENPTkVfU0hBUEUgPSAxOSxcbiAgQ1lMSU5ERVJfU0hBUEUgPSAyMCxcbiAgVEVYVF9TSEFQRSA9IDIxLFxuXG4gIE5GVF9TSEFQRSA9IDIyLFxuICBVSV9XT1JMRF9TUEFDRV9TSEFQRSA9IDIzLFxuICBVSV9TQ1JFRU5fU1BBQ0VfU0hBUEUgPSAyNCxcbiAgVUlfQ09OVEFJTkVSX1JFQ1QgPSAyNSxcbiAgVUlfQ09OVEFJTkVSX1NUQUNLID0gMjYsXG4gIFVJX1RFWFRfU0hBUEUgPSAyNyxcbiAgVUlfSU5QVVRfVEVYVF9TSEFQRSA9IDI4LFxuICBVSV9JTUFHRV9TSEFQRSA9IDI5LFxuICBVSV9TTElERVJfU0hBUEUgPSAzMCxcbiAgQ0lSQ0xFX1NIQVBFID0gMzEsXG4gIEJJTExCT0FSRCA9IDMyLFxuXG4gIEFOSU1BVElPTiA9IDMzLFxuICBGT05UID0gMzQsXG5cbiAgVUlfRlVMTFNDUkVFTl9TSEFQRSA9IDQwLCAvLyBpbnRlcm5hbCBmdWxsc2NyZWVuIHNjZW5lc1xuICBVSV9CVVRUT05fU0hBUEUgPSA0MSxcblxuICBHTFRGX1NIQVBFID0gNTQsXG4gIE9CSl9TSEFQRSA9IDU1LFxuICBBVkFUQVJfU0hBUEUgPSA1NixcblxuICBCQVNJQ19NQVRFUklBTCA9IDY0LFxuICBQQlJfTUFURVJJQUwgPSA2NSxcblxuICBISUdITElHSFRfRU5USVRZID0gNjYsXG5cbiAgLyoqIEBkZXByZWNhdGVkICovXG4gIFNPVU5EID0gNjcsXG4gIFRFWFRVUkUgPSA2OCxcblxuICBWSURFT19DTElQID0gNzAsXG4gIFZJREVPX1RFWFRVUkUgPSA3MSxcblxuICBBVURJT19DTElQID0gMjAwLFxuICBBVURJT19TT1VSQ0UgPSAyMDEsXG4gIEFVRElPX1NUUkVBTSA9IDIwMixcbiAgR0laTU9TID0gMjAzLFxuICBTTUFSVF9JVEVNID0gMjA0LFxuICBBVkFUQVJfTU9ESUZJRVJfQVJFQSA9IDIwNSxcblxuICAvLyBGb3Igc3RhdGUgc3luYyBvbmx5XG4gIE5BTUUgPSAzMDAsXG4gIExPQ0tFRF9PTl9FRElUID0gMzAxLFxuICBWSVNJQkxFX09OX0VESVQgPSAzMDJcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBlbnVtIEF2YXRhck1vZGlmaWVycyB7XG4gIEhJREVfQVZBVEFSUyA9ICdISURFX0FWQVRBUlMnLFxuICBESVNBQkxFX1BBU1NQT1JUUyA9ICdESVNBQkxFX1BBU1NQT1JUUydcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIEFyZWEgPSB7IGJveDogVmVjdG9yMyB9XG5cbi8qKlxuICogRGVmaW5lIGFuIGFyZWEgd2hlcmUgYXZhdGFycyBjYW4gYmUgbW9kaWZpZWQgaW4gc29tZSB3YXlcbiAqIEBwdWJsaWNcbiAqL1xuQENvbXBvbmVudCgnZW5naW5lLmF2YXRhck1vZGlmaWVyQXJlYScsIENMQVNTX0lELkFWQVRBUl9NT0RJRklFUl9BUkVBKVxuZXhwb3J0IGNsYXNzIEF2YXRhck1vZGlmaWVyQXJlYSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBhcmVhITogQXJlYVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIG1vZGlmaWVycyE6IEF2YXRhck1vZGlmaWVyc1tdXG5cbiAgY29uc3RydWN0b3IoYXJnczogeyBhcmVhOiBBcmVhOyBtb2RpZmllcnM6IEF2YXRhck1vZGlmaWVyc1tdIH0pIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5hcmVhID0gYXJncy5hcmVhXG4gICAgdGhpcy5tb2RpZmllcnMgPSBhcmdzLm1vZGlmaWVyc1xuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUudHJhbnNmb3JtJywgQ0xBU1NfSUQuVFJBTlNGT1JNKVxuZXhwb3J0IGNsYXNzIFRyYW5zZm9ybSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwb3NpdGlvbiE6IFZlY3RvcjNcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByb3RhdGlvbiE6IFF1YXRlcm5pb25cblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzY2FsZSE6IFZlY3RvcjNcblxuICBjb25zdHJ1Y3RvcihhcmdzOiBUcmFuc2Zvcm1Db25zdHJ1Y3RvckFyZ3MgPSB7fSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnBvc2l0aW9uID0gYXJncy5wb3NpdGlvbiB8fCBWZWN0b3IzLlplcm8oKVxuICAgIHRoaXMucm90YXRpb24gPSBhcmdzLnJvdGF0aW9uIHx8IFF1YXRlcm5pb24uSWRlbnRpdHlcbiAgICB0aGlzLnNjYWxlID0gYXJncy5zY2FsZSB8fCBuZXcgVmVjdG9yMygxLCAxLCAxKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICogVGhlIHJvdGF0aW9uIGFzIEV1bGVyIGFuZ2xlcyBpbiBkZWdyZWVzLlxuICAgKi9cbiAgZ2V0IGV1bGVyQW5nbGVzKCkge1xuICAgIHJldHVybiB0aGlzLnJvdGF0aW9uLmV1bGVyQW5nbGVzXG4gIH1cblxuICAvKipcbiAgICogQHB1YmxpY1xuICAgKiBSb3RhdGVzIHRoZSB0cmFuc2Zvcm0gc28gdGhlIGZvcndhcmQgdmVjdG9yIHBvaW50cyBhdCB0YXJnZXQncyBjdXJyZW50IHBvc2l0aW9uLlxuICAgKi9cbiAgbG9va0F0KHRhcmdldDogVmVjdG9yMywgd29ybGRVcDogVmVjdG9yMyA9IE1hdGhUbXAuc3RhdGljVXApIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgTWF0cml4KClcbiAgICBNYXRyaXguTG9va0F0TEhUb1JlZih0aGlzLnBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAsIHJlc3VsdClcbiAgICByZXN1bHQuaW52ZXJ0KClcbiAgICBRdWF0ZXJuaW9uLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHJlc3VsdCwgdGhpcy5yb3RhdGlvbilcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICogQXBwbGllcyBhIHJvdGF0aW9uIG9mIGV1bGVyIGFuZ2xlcyBhcm91bmQgdGhlIHgsIHkgYW5kIHogYXhpcy5cbiAgICovXG4gIHJvdGF0ZShheGlzOiBWZWN0b3IzLCBhbmdsZTogbnVtYmVyKSB7XG4gICAgdGhpcy5yb3RhdGlvbi5tdWx0aXBseUluUGxhY2UodGhpcy5yb3RhdGlvbi5hbmdsZUF4aXMoYW5nbGUsIGF4aXMpKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQHB1YmxpY1xuICAgKiBNb3ZlcyB0aGUgdHJhbnNmb3JtIGluIHRoZSBkaXJlY3Rpb24gYW5kIGRpc3RhbmNlIG9mIHRyYW5zbGF0aW9uLlxuICAgKi9cbiAgdHJhbnNsYXRlKHZlYzogVmVjdG9yMykge1xuICAgIHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh2ZWMpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG4vKipcbiAqIEJpbGxib2FyZCBkZWZpbmVzIGEgYmVoYXZpb3IgdGhhdCBtYWtlcyB0aGUgZW50aXR5IGZhY2UgdGhlIGNhbWVyYSBpbiBhbnkgbW9tZW50LlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUuYmlsbGJvYXJkJywgQ0xBU1NfSUQuQklMTEJPQVJEKVxuZXhwb3J0IGNsYXNzIEJpbGxib2FyZCBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB4OiBib29sZWFuID0gdHJ1ZVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHk6IGJvb2xlYW4gPSB0cnVlXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgejogYm9vbGVhbiA9IHRydWVcblxuICBjb25zdHJ1Y3Rvcih4OiBib29sZWFuID0gdHJ1ZSwgeTogYm9vbGVhbiA9IHRydWUsIHo6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMueCA9IHhcbiAgICB0aGlzLnkgPSB5XG4gICAgdGhpcy56ID0gelxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgU2hhcGUgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIHRvIHR1cm4gb24gdGhlIGNvbGxpZGVyIGZvciB0aGUgZW50aXR5LlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgd2l0aENvbGxpc2lvbnM6IGJvb2xlYW4gPSB0cnVlXG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIHRvIHR1cm4gb24gdGhlIFBvaW50ZXJFdmVudHMgYmxvY2tpbmcgZm9yIHRoZSBlbnRpdHkuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBpc1BvaW50ZXJCbG9ja2VyOiBib29sZWFuID0gdHJ1ZVxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGlmIHRoZSBlbnRpdHkgYW5kIGl0cyBjaGlsZHJlbiBzaG91bGQgYmUgcmVuZGVyZWRcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZpc2libGU6IGJvb2xlYW4gPSB0cnVlXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuQk9YX1NIQVBFKVxuZXhwb3J0IGNsYXNzIEJveFNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAvKipcbiAgICogU2V0cyB0aGUgVVYgY29vcmRpbmF0ZXMgZm9yIHRoZSBib3guXG4gICAqIFVzZWQgdG8gbWFwIHNwZWNpZmljIHBpZWNlcyBvZiBhIE1hdGVyaWFsJ3MgdGV4dHVyZSBpbnRvIHRoZSBib3gncyBnZW9tZXRyeS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHV2cz86IG51bWJlcltdXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuU1BIRVJFX1NIQVBFKVxuZXhwb3J0IGNsYXNzIFNwaGVyZVNoYXBlIGV4dGVuZHMgU2hhcGUge31cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuc2hhcGUnLCBDTEFTU19JRC5DSVJDTEVfU0hBUEUpXG5leHBvcnQgY2xhc3MgQ2lyY2xlU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNlZ21lbnRzPzogbnVtYmVyXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYXJjPzogbnVtYmVyXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuUExBTkVfU0hBUEUpXG5leHBvcnQgY2xhc3MgUGxhbmVTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgLyoqXG4gICAqIFNldHMgdGhlIGhvcml6b250YWwgbGVuZ3RoIG9mIHRoZSBwbGFuZS4gRGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHdpZHRoOiBudW1iZXIgPSAxXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZlcnRpY2FsIGxlbmd0aCBvZiB0aGUgcGxhbmUuIERlZmF1bHRzIHRvIDEuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBoZWlnaHQ6IG51bWJlciA9IDFcblxuICAvKipcbiAgICogU2V0cyB0aGUgVVYgY29vcmRpbmF0ZXMgZm9yIHRoZSBwbGFuZS5cbiAgICogVXNlZCB0byBtYXAgc3BlY2lmaWMgcGllY2VzIG9mIGEgTWF0ZXJpYWwncyB0ZXh0dXJlIGludG8gdGhlIHBsYW5lJ3MgZ2VvbWV0cnkuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB1dnM/OiBudW1iZXJbXVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQERpc3Bvc2FibGVDb21wb25lbnQoJ2VuZ2luZS5zaGFwZScsIENMQVNTX0lELkNPTkVfU0hBUEUpXG5leHBvcnQgY2xhc3MgQ29uZVNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAvKipcbiAgICogVGhlIHJhZGl1cyBvZiB0aGUgdG9wIG9mIGEgdHJ1bmNhdGVkIGNvbmUuIERlZmF1bHRzIHRvIDAuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByYWRpdXNUb3A6IG51bWJlciA9IDBcblxuICAvKipcbiAgICogVGhlIHJhZGl1cyBvZiB0aGUgYmFzZSBvZiB0aGUgY29uZS4gRGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHJhZGl1c0JvdHRvbTogbnVtYmVyID0gMVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcmluZ3MgYWxvbmcgdGhlIGNvbmUgaGVpZ2h0IChwb3NpdGl2ZSBpbnRlZ2VyKS4gRGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNlZ21lbnRzSGVpZ2h0OiBudW1iZXIgPSAxXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG51bWJlciBvZiBjb25lIHNpZGVzIChwb3NpdGl2ZSBpbnRlZ2VyKS4gRGVmYXVsdHMgdG8gMzYuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzZWdtZW50c1JhZGlhbDogbnVtYmVyID0gMzZcblxuICAvKipcbiAgICogQWRkcyB0d28gZXh0cmEgZmFjZXMgcGVyIHN1YmRpdmlzaW9uIHRvIGVuY2xvc2UgdGhlIGNvbmUgYXJvdW5kIGl0cyBoZWlnaHQgYXhpcy5cbiAgICogRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBvcGVuRW5kZWQ6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSByYWRpdXMgb2YgdGhlIHRvcCBhbmQgYm90dG9tIGNhcHMgYXQgb25jZS5cbiAgICpcbiAgICogUHJvcGVydGllcyBgcmFkaXVzVG9wYCBhbmQgYHJhZGl1c0JvdHRvbWAgYXJlIHByaW9yaXRpemVkIG92ZXIgdGhpcyBvbmUuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByYWRpdXM6IG51bWJlciB8IG51bGwgPSBudWxsXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHJhdGlvIChtYXggMSkgdG8gYXBwbHkgdG8gdGhlIGNpcmN1bWZlcmVuY2UgdG8gc2xpY2UgdGhlIGNvbmUuIERlZmF1bHRzIHRvIDM2MC5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGFyYzogbnVtYmVyID0gMzYwXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuQ1lMSU5ERVJfU0hBUEUpXG5leHBvcnQgY2xhc3MgQ3lsaW5kZXJTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgLyoqXG4gICAqIFRoZSByYWRpdXMgb2YgdGhlIHRvcCBvZiB0aGUgY3lsaW5kZXIuIERlZmF1bHRzIHRvIDAuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByYWRpdXNUb3A6IG51bWJlciA9IDFcblxuICAvKipcbiAgICogVGhlIHJhZGl1cyBvZiB0aGUgYmFzZSBvZiB0aGUgY3lsaW5kZXIuIERlZmF1bHRzIHRvIDEuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByYWRpdXNCb3R0b206IG51bWJlciA9IDFcblxuICAvKipcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHJpbmdzIGFsb25nIHRoZSBjeWxpbmRlciBoZWlnaHQgKHBvc2l0aXZlIGludGVnZXIpLiBEZWZhdWx0cyB0byAxLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2VnbWVudHNIZWlnaHQ6IG51bWJlciA9IDFcblxuICAvKipcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIGN5bGluZGVyIHNpZGVzIChwb3NpdGl2ZSBpbnRlZ2VyKS4gRGVmYXVsdHMgdG8gMzYuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzZWdtZW50c1JhZGlhbDogbnVtYmVyID0gMzZcblxuICAvKipcbiAgICogQWRkcyB0d28gZXh0cmEgZmFjZXMgcGVyIHN1YmRpdmlzaW9uIHRvIGVuY2xvc2UgdGhlIGN5bGluZGVyIGFyb3VuZCBpdHMgaGVpZ2h0IGF4aXMuXG4gICAqIERlZmF1bHRzIHRvIGZhbHNlLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgb3BlbkVuZGVkOiBib29sZWFuID0gZmFsc2VcblxuICAvKipcbiAgICogU2V0cyB0aGUgcmFkaXVzIG9mIHRoZSB0b3AgYW5kIGJvdHRvbSBjYXBzIGF0IG9uY2UuXG4gICAqXG4gICAqIFByb3BlcnRpZXMgYHJhZGl1c1RvcGAgYW5kIGByYWRpdXNCb3R0b21gIGFyZSBwcmlvcml0aXplZCBvdmVyIHRoaXMgb25lLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcmFkaXVzOiBudW1iZXIgfCBudWxsID0gbnVsbFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSByYXRpbyAobWF4IDEpIHRvIGFwcGx5IHRvIHRoZSBjaXJjdW1mZXJlbmNlIHRvIHNsaWNlIHRoZSBjeWxpbmRlci4gRGVmYXVsdHMgdG8gMzYwLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYXJjOiBudW1iZXIgPSAzNjBcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuc2hhcGUnLCBDTEFTU19JRC5HTFRGX1NIQVBFKVxuZXhwb3J0IGNsYXNzIEdMVEZTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgQFNoYXBlLnJlYWRvbmx5XG4gIHJlYWRvbmx5IHNyYyE6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKHNyYzogc3RyaW5nKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuc3JjID0gc3JjXG4gIH1cbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBlbnVtIFBpY3R1cmVGcmFtZVN0eWxlIHtcbiAgQ2xhc3NpYyA9IDAsXG4gIEJhcm9xdWVfT3JuYW1lbnQgPSAxLFxuICBEaWFtb25kX09ybmFtZW50ID0gMixcbiAgTWluaW1hbF9XaWRlID0gMyxcbiAgTWluaW1hbF9HcmV5ID0gNCxcbiAgQmxvY2t5ID0gNSxcbiAgR29sZF9FZGdlcyA9IDYsXG4gIEdvbGRfQ2FydmVkID0gNyxcbiAgR29sZF9XaWRlID0gOCxcbiAgR29sZF9Sb3VuZGVkID0gOSxcbiAgTWV0YWxfTWVkaXVtID0gMTAsXG4gIE1ldGFsX1dpZGUgPSAxMSxcbiAgTWV0YWxfU2xpbSA9IDEyLFxuICBNZXRhbF9Sb3VuZGVkID0gMTMsXG4gIFBpbnMgPSAxNCxcbiAgTWluaW1hbF9CbGFjayA9IDE1LFxuICBNaW5pbWFsX1doaXRlID0gMTYsXG4gIFRhcGUgPSAxNyxcbiAgV29vZF9TbGltID0gMTgsXG4gIFdvb2RfV2lkZSA9IDE5LFxuICBXb29kX1R3aWdzID0gMjAsXG4gIENhbnZhcyA9IDIxLFxuICBOb25lID0gMjJcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIE5GVFNoYXBlQ29uc3RydWN0b3JBcmdzID0ge1xuICBjb2xvcj86IENvbG9yM1xuICBzdHlsZT86IFBpY3R1cmVGcmFtZVN0eWxlXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuTkZUX1NIQVBFKVxuZXhwb3J0IGNsYXNzIE5GVFNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICBAU2hhcGUucmVhZG9ubHlcbiAgcmVhZG9ubHkgc3JjITogc3RyaW5nXG5cbiAgQFNoYXBlLnJlYWRvbmx5XG4gIHJlYWRvbmx5IHN0eWxlITogUGljdHVyZUZyYW1lU3R5bGVcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBjb2xvcjogQ29sb3IzXG5cbiAgY29uc3RydWN0b3Ioc3JjOiBzdHJpbmcpXG4gIGNvbnN0cnVjdG9yKHNyYzogc3RyaW5nLCBjb2xvcjogQ29sb3IzKSAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgY29uc3RydWN0b3Ioc3JjOiBzdHJpbmcsIGFyZ3M6IE5GVFNoYXBlQ29uc3RydWN0b3JBcmdzKVxuICBjb25zdHJ1Y3RvcihzcmM6IHN0cmluZywgYXJnczogYW55ID0ge30pIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5zcmMgPSBzcmNcblxuICAgIGxldCBjb2xvciA9IG5ldyBDb2xvcjMoMC42NDA0OTE4LCAwLjYxMTQ3MiwgMC44NTg0OTA2KVxuICAgIGxldCBzdHlsZSA9IFBpY3R1cmVGcmFtZVN0eWxlLkNsYXNzaWNcblxuICAgIC8vIGNoZWNrIGlmIGFyZ3MgaXMgY29sb3IgKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KVxuICAgIGlmICgncicgaW4gYXJncykge1xuICAgICAgY29sb3IgPSBhcmdzXG4gICAgfSBlbHNlIGlmIChhcmdzICE9IG51bGwpIHtcbiAgICAgIGlmIChhcmdzLmNvbG9yKSBjb2xvciA9IGFyZ3MuY29sb3JcbiAgICAgIGlmIChhcmdzLnN0eWxlKSBzdHlsZSA9IGFyZ3Muc3R5bGVcbiAgICB9XG5cbiAgICB0aGlzLmNvbG9yID0gY29sb3JcbiAgICB0aGlzLnN0eWxlID0gc3R5bGVcbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQERpc3Bvc2FibGVDb21wb25lbnQoJ2VuZ2luZS50ZXh0dXJlJywgQ0xBU1NfSUQuVEVYVFVSRSlcbmV4cG9ydCBjbGFzcyBUZXh0dXJlIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHNyYyE6IHN0cmluZ1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIGNyaXNwZXIgaW1hZ2VzIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBzYW1wbGluZyBtb2RlLlxuICAgKiB8IFZhbHVlIHwgVHlwZSAgICAgIHxcbiAgICogfC0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAqIHwgICAgIDAgfCBORUFSRVNUICAgfFxuICAgKiB8ICAgICAxIHwgQklMSU5FQVIgIHxcbiAgICogfCAgICAgMiB8IFRSSUxJTkVBUiB8XG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSBzYW1wbGluZ01vZGUhOiBudW1iZXJcblxuICAvKipcbiAgICogRW5hYmxlcyB0ZXh0dXJlIHdyYXBwaW5nIGZvciB0aGlzIG1hdGVyaWFsLlxuICAgKiB8IFZhbHVlIHwgVHlwZSAgICAgIHxcbiAgICogfC0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAqIHwgICAgIDAgfCBDTEFNUCAgICAgfFxuICAgKiB8ICAgICAxIHwgV1JBUCAgICAgIHxcbiAgICogfCAgICAgMiB8IE1JUlJPUiAgICB8XG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSB3cmFwITogbnVtYmVyXG5cbiAgLyoqXG4gICAqIERlZmluZXMgaWYgdGhpcyB0ZXh0dXJlIGhhcyBhbiBhbHBoYSBjaGFubmVsXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSBoYXNBbHBoYSE6IGJvb2xlYW5cblxuICBjb25zdHJ1Y3RvcihzcmM6IHN0cmluZywgb3B0cz86IFBhcnRpYWw8UGljazxUZXh0dXJlLCAnc2FtcGxpbmdNb2RlJyB8ICd3cmFwJyB8ICdoYXNBbHBoYSc+Pikge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnNyYyA9IHNyY1xuXG4gICAgaWYgKG9wdHMpIHtcbiAgICAgIGZvciAobGV0IGkgaW4gb3B0cykge1xuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcyBhcyBhbnlcbiAgICAgICAgdGhhdFtpIGFzICdzYW1wbGluZ01vZGUnIHwgJ3dyYXAnIHwgJ2hhc0FscGhhJ10gPSAob3B0cyBhcyBhbnkpW2ldXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUuYW5pbWF0b3InLCBDTEFTU19JRC5BTklNQVRJT04pXG5leHBvcnQgY2xhc3MgQW5pbWF0b3IgZXh0ZW5kcyBTaGFwZSB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHByaXZhdGUgc3RhdGVzOiBBbmltYXRpb25TdGF0ZVtdID0gW11cblxuICAvKipcbiAgICogQWRkcyBhbiBBbmltYXRpb25TdGF0ZSB0byB0aGUgYW5pbWF0aW9uIGxpc3RzLlxuICAgKi9cbiAgYWRkQ2xpcChjbGlwOiBBbmltYXRpb25TdGF0ZSkge1xuICAgIHRoaXMuc3RhdGVzLnB1c2goY2xpcClcbiAgICBjbGlwLm9uQ2hhbmdlKCgpID0+IHtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlXG4gICAgfSlcblxuICAgIGNsaXAub3duZXIgPSB0aGlzXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBhbmltYXRpb24gY2xpcCBpbnN0YW5jZSBmb3IgdGhlIHNwZWNpZmllZCBjbGlwIG5hbWUuXG4gICAqIElmIHRoZSBjbGlwIGRvZXNuJ3QgZXhpc3QgYSBuZXcgb25lIHdpbGwgYmUgY3JlYXRlZC5cbiAgICovXG4gIGdldENsaXAoY2xpcE5hbWU6IHN0cmluZyk6IEFuaW1hdGlvblN0YXRlIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjbGlwID0gdGhpcy5zdGF0ZXNbaV1cbiAgICAgIGlmIChjbGlwLmNsaXAgPT09IGNsaXBOYW1lKSB7XG4gICAgICAgIHJldHVybiBjbGlwXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbmV3Q2xpcCA9IG5ldyBBbmltYXRpb25TdGF0ZShjbGlwTmFtZSlcbiAgICB0aGlzLmFkZENsaXAobmV3Q2xpcClcbiAgICByZXR1cm4gbmV3Q2xpcFxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbmQgcGF1c2VzIHRoZSBhbmltYXRpb24gc3RhdGUsIGlmIHRoZSBjbGlwIGlzIG51bGwgaXQgd2lsbCBzdG9wIGFsbCBhbmltYXRpb25zIG9uIHRoaXMgYW5pbWF0b3JcbiAgICovXG4gIHN0b3AoY2xpcD86IEFuaW1hdGlvblN0YXRlKSB7XG4gICAgaWYgKGNsaXApIHtcbiAgICAgIGNsaXAucGxheWluZyA9IGZhbHNlXG4gICAgICBjbGlwLnNob3VsZFJlc2V0ID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvblN0YXRlID0gdGhpcy5zdGF0ZXNbaV1cbiAgICAgICAgdGhpcy5zdG9wKGFuaW1hdGlvblN0YXRlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGFuaW1hdGlvblxuICAgKi9cbiAgcGxheShjbGlwOiBBbmltYXRpb25TdGF0ZSwgcmVzZXQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFuaW1hdGlvblN0YXRlID0gdGhpcy5zdGF0ZXNbaV1cbiAgICAgIGlmIChhbmltYXRpb25TdGF0ZS5sYXllciA9PT0gY2xpcC5sYXllciAmJiBjbGlwICE9PSBhbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnBhdXNlKGFuaW1hdGlvblN0YXRlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXNldCkgY2xpcC5zaG91bGRSZXNldCA9IHRydWVcbiAgICBjbGlwLnBsYXlpbmcgPSB0cnVlXG4gICAgY2xpcC5kaXJ0eSA9IHRydWVcbiAgICBjbGlwLmRhdGEubm9uY2UgPSBNYXRoLnJhbmRvbSgpXG4gIH1cblxuICAvKipcbiAgICogUGF1c2VzIHRoZSBhbmltYXRpb24gc3RhdGUsIGlmIHRoZSBjbGlwIGlzIG51bGwgaXQgd2lsbCBwYXVzZSBhbGwgYW5pbWF0aW9ucyBvbiB0aGlzIGFuaW1hdG9yXG4gICAqL1xuICBwYXVzZShjbGlwPzogQW5pbWF0aW9uU3RhdGUpIHtcbiAgICBpZiAoY2xpcCkge1xuICAgICAgY2xpcC5wbGF5aW5nID0gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhbmltYXRpb25TdGF0ZSA9IHRoaXMuc3RhdGVzW2ldXG4gICAgICAgIHRoaXMucGF1c2UoYW5pbWF0aW9uU3RhdGUpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuT0JKX1NIQVBFKVxuZXhwb3J0IGNsYXNzIE9CSlNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSBzcmMhOiBzdHJpbmdcblxuICBjb25zdHJ1Y3RvcihzcmM6IHN0cmluZykge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnNyYyA9IHNyY1xuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLmZvbnQnLCBDTEFTU19JRC5GT05UKVxuZXhwb3J0IGNsYXNzIEZvbnQgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgc3JjITogc3RyaW5nXG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKHNyYzogc3RyaW5nID0gJycpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5zcmMgPSBzcmNcbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGVudW0gRm9udHMge1xuICAvKiogQGRlcHJlY2F0ZWQgU2FuRnJhbmNpc2NvIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBTYW5zU2VyaWYgaW5zdGVhZC4qL1xuICBTYW5GcmFuY2lzY28gPSAnYnVpbHRpbjpTRi1VSS1UZXh0LVJlZ3VsYXIgU0RGJyxcbiAgLyoqIEBkZXByZWNhdGVkIFNhbkZyYW5jaXNjb19IZWF2eSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgU2Fuc1NlcmlmX0hlYXZ5IGluc3RlYWQuKi9cbiAgU2FuRnJhbmNpc2NvX0hlYXZ5ID0gJ2J1aWx0aW46U0YtVUktVGV4dC1IZWF2eSBTREYnLFxuICAvKiogQGRlcHJlY2F0ZWQgU2FuRnJhbmNpc2NvX1NlbWlib2xkIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBTYW5zU2VyaWZfU2VtaUJvbGQgaW5zdGVhZC4qL1xuICBTYW5GcmFuY2lzY29fU2VtaWJvbGQgPSAnYnVpbHRpbjpTRi1VSS1UZXh0LVNlbWlib2xkIFNERicsXG4gIExpYmVyYXRpb25TYW5zID0gJ2J1aWx0aW46TGliZXJhdGlvblNhbnMgU0RGJyxcbiAgU2Fuc1NlcmlmID0gJ1NhbnNTZXJpZicsXG4gIFNhbnNTZXJpZl9IZWF2eSA9ICdTYW5zU2VyaWZfSGVhdnknLFxuICBTYW5zU2VyaWZfQm9sZCA9ICdTYW5zU2VyaWZfQm9sZCcsXG4gIFNhbnNTZXJpZl9TZW1pQm9sZCA9ICdTYW5zU2VyaWZfU2VtaUJvbGQnXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUudGV4dCcsIENMQVNTX0lELlRFWFRfU0hBUEUpXG5leHBvcnQgY2xhc3MgVGV4dFNoYXBlIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIG91dGxpbmVXaWR0aDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIG91dGxpbmVDb2xvcjogQ29sb3IzID0gbmV3IENvbG9yMygxLCAxLCAxKVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGNvbG9yOiBDb2xvcjMgPSBuZXcgQ29sb3IzKDEsIDEsIDEpXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgZm9udFNpemU6IG51bWJlciA9IDEwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuY29tcG9uZW50XG4gIGZvbnQ/OiBGb250XG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgb3BhY2l0eTogbnVtYmVyID0gMS4wXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgdmFsdWU6IHN0cmluZyA9ICcnXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgbGluZVNwYWNpbmc6IHN0cmluZyA9ICcwcHgnXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgbGluZUNvdW50OiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgdGV4dFdyYXBwaW5nOiBib29sZWFuID0gZmFsc2VcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzaGFkb3dCbHVyOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2hhZG93T2Zmc2V0WDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNoYWRvd09mZnNldFk6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzaGFkb3dDb2xvcjogQ29sb3IzID0gbmV3IENvbG9yMygxLCAxLCAxKVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGhUZXh0QWxpZ246IHN0cmluZyA9ICdjZW50ZXInXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgdlRleHRBbGlnbjogc3RyaW5nID0gJ2NlbnRlcidcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB3aWR0aDogbnVtYmVyID0gMVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGhlaWdodDogbnVtYmVyID0gMVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdUb3A6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwYWRkaW5nUmlnaHQ6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwYWRkaW5nQm90dG9tOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcGFkZGluZ0xlZnQ6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBiaWxsYm9hcmQ6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZpc2libGU6IGJvb2xlYW4gPSB0cnVlXG5cbiAgY29uc3RydWN0b3IodmFsdWU/OiBzdHJpbmcpIHtcbiAgICBzdXBlcigpXG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGVudW0gVHJhbnNwYXJlbmN5TW9kZSB7XG4gIE9QQVFVRSA9IDAsXG4gIEFMUEhBX1RFU1QgPSAxLFxuICBBTFBIQV9CTEVORCA9IDIsXG4gIEFMUEhBX1RFU1RfQU5EX0JMRU5EID0gMyxcbiAgQVVUTyA9IDRcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUubWF0ZXJpYWwnLCBDTEFTU19JRC5QQlJfTUFURVJJQUwpXG5leHBvcnQgY2xhc3MgTWF0ZXJpYWwgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgLyoqXG4gICAqIEN1dG9mZiBsZXZlbCBmb3IgQUxQSEFURVNUIG1vZGUuIFJhbmdlIGlzIGJldHdlZW4gMCBhbmQgMS5cbiAgICogRGVmYXVsdHMgdG8gMC41XG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBhbHBoYVRlc3Q/OiBudW1iZXIgPSAwLjVcblxuICAvKipcbiAgICogQUtBIERpZmZ1c2UgQ29sb3IgaW4gb3RoZXIgbm9tZW5jbGF0dXJlLlxuICAgKiBEZWZhdWx0cyB0byAjQ0NDQ0NDLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYWxiZWRvQ29sb3I/OiBDb2xvcjQgfCBDb2xvcjNcblxuICAvKipcbiAgICogVGhlIGNvbG9yIGVtaXR0ZWQgZnJvbSB0aGUgbWF0ZXJpYWwuXG4gICAqIERlZmF1bHRzIHRvIGJsYWNrLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgZW1pc3NpdmVDb2xvcj86IENvbG9yM1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIG1ldGFsbGljIHNjYWxhciBvZiB0aGUgbWV0YWxsaWMvcm91Z2huZXNzIHdvcmtmbG93LlxuICAgKiBDYW4gYWxzbyBiZSB1c2VkIHRvIHNjYWxlIHRoZSBtZXRhbG5lc3MgdmFsdWVzIG9mIHRoZSBtZXRhbGxpYyB0ZXh0dXJlLlxuICAgKiBEZWZhdWx0cyB0byAgMC41LlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgbWV0YWxsaWM/OiBudW1iZXJcblxuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSByb3VnaG5lc3Mgc2NhbGFyIG9mIHRoZSBtZXRhbGxpYy9yb3VnaG5lc3Mgd29ya2Zsb3cuXG4gICAqIENhbiBhbHNvIGJlIHVzZWQgdG8gc2NhbGUgdGhlIHJvdWdobmVzcyB2YWx1ZXMgb2YgdGhlIG1ldGFsbGljIHRleHR1cmUuXG4gICAqIERlZmF1bHRzIHRvICAwLjUuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByb3VnaG5lc3M/OiBudW1iZXJcblxuICAvKipcbiAgICogQUtBIFNwZWN1bGFyIENvbG9yIGluIG90aGVyIG5vbWVuY2xhdHVyZS5cbiAgICogRGVmYXVsdHMgdG8gd2hpdGUuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByZWZsZWN0aXZpdHlDb2xvcj86IENvbG9yM1xuXG4gIC8qKlxuICAgKiBJbnRlbnNpdHkgb2YgdGhlIGRpcmVjdCBsaWdodHMgZS5nLiB0aGUgZm91ciBsaWdodHMgYXZhaWxhYmxlIGluIHNjZW5lLlxuICAgKiBUaGlzIGltcGFjdHMgYm90aCB0aGUgZGlyZWN0IGRpZmZ1c2UgYW5kIHNwZWN1bGFyIGhpZ2hsaWdodHMuXG4gICAqIERlZmF1bHRzIHRvIDEuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBkaXJlY3RJbnRlbnNpdHk/OiBudW1iZXJcblxuICAvKipcbiAgICogQUtBIEdsb3NzaW5lc3MgaW4gb3RoZXIgbm9tZW5jbGF0dXJlLlxuICAgKiBEZWZhdWx0cyB0byAxLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgbWljcm9TdXJmYWNlPzogbnVtYmVyXG5cbiAgLyoqXG4gICAqIEludGVuc2l0eSBvZiB0aGUgZW1pc3NpdmUgcGFydCBvZiB0aGUgbWF0ZXJpYWwuXG4gICAqIFRoaXMgaGVscHMgY29udHJvbGxpbmcgdGhlIGVtaXNzaXZlIGVmZmVjdCB3aXRob3V0IG1vZGlmeWluZyB0aGUgZW1pc3NpdmUgY29sb3IuXG4gICAqIERlZmF1bHRzIHRvIDEuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBlbWlzc2l2ZUludGVuc2l0eT86IG51bWJlclxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgc3BlY2lhbCBjb250cm9sIGFsbG93aW5nIHRoZSByZWR1Y3Rpb24gb2YgdGhlIHNwZWN1bGFyIGhpZ2hsaWdodHMgY29taW5nIGZyb20gdGhlXG4gICAqIGZvdXIgbGlnaHRzIG9mIHRoZSBzY2VuZS4gVGhvc2UgaGlnaGxpZ2h0cyBtYXkgbm90IGJlIG5lZWRlZCBpbiBmdWxsIGVudmlyb25tZW50IGxpZ2h0aW5nLlxuICAgKiBEZWZhdWx0cyB0byAxLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc3BlY3VsYXJJbnRlbnNpdHk/OiBudW1iZXJcblxuICAvKipcbiAgICogVGV4dHVyZSBhcHBsaWVkIGFzIG1hdGVyaWFsLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuY29tcG9uZW50XG4gIGFsYmVkb1RleHR1cmU/OiBUZXh0dXJlIHwgVmlkZW9UZXh0dXJlXG5cbiAgLyoqXG4gICAqIFRleHR1cmUgYXBwbGllZCBhcyBvcGFjaXR5LiBEZWZhdWx0OiB0aGUgc2FtZSB0ZXh0dXJlIHVzZWQgaW4gYWxiZWRvVGV4dHVyZS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmNvbXBvbmVudFxuICBhbHBoYVRleHR1cmU/OiBUZXh0dXJlIHwgVmlkZW9UZXh0dXJlXG5cbiAgLyoqXG4gICAqIEVtaXNzaXZlIHRleHR1cmUuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5jb21wb25lbnRcbiAgZW1pc3NpdmVUZXh0dXJlPzogVGV4dHVyZSB8IFZpZGVvVGV4dHVyZVxuXG4gIC8qKlxuICAgKiBTdG9yZXMgc3VyZmFjZSBub3JtYWwgZGF0YSB1c2VkIHRvIGRpc3BsYWNlIGEgbWVzaCBpbiBhIHRleHR1cmUuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5jb21wb25lbnRcbiAgYnVtcFRleHR1cmU/OiBUZXh0dXJlXG5cbiAgLyoqXG4gICAqIEFsbG93IHRoZSBtYXRlcmlhbCB0byBjYXN0IHNoYWRvd3Mgb3ZlciBvdGhlciBvYmplY3RzXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBjYXN0U2hhZG93cz86IGJvb2xlYW4gPSB0cnVlXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRyYW5zcGFyZW5jeSBtb2RlIG9mIHRoZSBtYXRlcmlhbC5cbiAgICogRGVmYXVsdHMgdG8gLTEuXG4gICAqXG4gICAqIHwgVmFsdWUgfCBUeXBlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogfCAtLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfFxuICAgKiB8IDAgICAgIHwgT1BBUVVFICAoZGVmYXVsdCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqIHwgMSAgICAgfCBBTFBIQVRFU1QgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogfCAyICAgICB8IEFMUEhBQkxFTkQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiB8IDMgICAgIHwgQUxQSEFURVNUQU5EQkxFTkQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqIHwgNCAgICAgfCBBVVRPIChBTFBIQUJMRU5EIGlmIGFscGhhIE9QQVFVRSBvdGhlcndpc2UgICAgIHxcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHRyYW5zcGFyZW5jeU1vZGU6IFRyYW5zcGFyZW5jeU1vZGUgPSBUcmFuc3BhcmVuY3lNb2RlLkFVVE9cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUubWF0ZXJpYWwnLCBDTEFTU19JRC5CQVNJQ19NQVRFUklBTClcbmV4cG9ydCBjbGFzcyBCYXNpY01hdGVyaWFsIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIC8qKlxuICAgKiBUaGUgc291cmNlIG9mIHRoZSB0ZXh0dXJlIGltYWdlLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuY29tcG9uZW50XG4gIHRleHR1cmU/OiBUZXh0dXJlIHwgVmlkZW9UZXh0dXJlXG5cbiAgLyoqXG4gICAqIEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICogQW55IHBpeGVsIHdpdGggYW4gYWxwaGEgbG93ZXIgdGhhbiB0aGlzIHZhbHVlIHdpbGwgYmUgc2hvd24gYXMgdHJhbnNwYXJlbnQuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBhbHBoYVRlc3Q6IG51bWJlciA9IDAuNVxuXG4gIC8qKlxuICAgKiBBbGxvdyB0aGUgbWF0ZXJpYWwgdG8gY2FzdCBzaGFkb3dzIG92ZXIgb3RoZXIgb2JqZWN0c1xuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgY2FzdFNoYWRvd3M/OiBib29sZWFuID0gdHJ1ZVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIE9uVVVJREV2ZW50PFQgZXh0ZW5kcyBrZXlvZiBJRXZlbnRzPiBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICAvLyBAaW50ZXJuYWxcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkXG5cbiAgLy8gQGludGVybmFsXG4gIHJlYWRvbmx5IHV1aWQ6IHN0cmluZyA9IG5ld0lkKCdVVUlEJylcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBjYWxsYmFjayE6IChldmVudDogYW55KSA9PiB2b2lkXG5cbiAgY29uc3RydWN0b3IoY2FsbGJhY2s6IChldmVudDogSUV2ZW50c1tUXSkgPT4gdm9pZCkge1xuICAgIHN1cGVyKClcblxuICAgIGlmICghY2FsbGJhY2sgfHwgISgnYXBwbHknIGluIGNhbGxiYWNrKSB8fCAhKCdjYWxsJyBpbiBjYWxsYmFjaykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24nKVxuICAgIH1cblxuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFja1xuICB9XG5cbiAgc3RhdGljIHV1aWRFdmVudCh0YXJnZXQ6IE9ic2VydmFibGVDb21wb25lbnQsIHByb3BlcnR5S2V5OiBzdHJpbmcpIHtcbiAgICBpZiAoZGVsZXRlICh0YXJnZXQgYXMgYW55KVtwcm9wZXJ0eUtleV0pIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudFN5bWJvbCA9IHByb3BlcnR5S2V5ICsgJ18nICsgTWF0aC5yYW5kb20oKVxuICAgICAgOyh0YXJnZXQgYXMgYW55KVtjb21wb25lbnRTeW1ib2xdID0gdW5kZWZpbmVkXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbXBvbmVudFN5bWJvbCwge1xuICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29tcG9uZW50U3ltYm9sKSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LnRvU3RyaW5nKCksIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXNbY29tcG9uZW50U3ltYm9sXVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpc1tjb21wb25lbnRTeW1ib2xdXG5cbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE9uVVVJREV2ZW50KSB7XG4gICAgICAgICAgICAgIHRoaXMuZGF0YVtwcm9wZXJ0eUtleV0gPSB2YWx1ZS51dWlkXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZhbHVlIGlzIG5vdCBhbiBPblVVSURFdmVudCcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwcm9wZXJ0eUtleV0gPSBudWxsXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpc1tjb21wb25lbnRTeW1ib2xdID0gdmFsdWVcblxuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlXG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uc1tpXShwcm9wZXJ0eUtleSwgdmFsdWUsIG9sZFZhbHVlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHsgdXVpZDogdGhpcy51dWlkLCB0eXBlOiB0aGlzLnR5cGUgfVxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgT25Qb2ludGVyVVVJREV2ZW50PFQgZXh0ZW5kcyBrZXlvZiBJRXZlbnRzPiBleHRlbmRzIE9uVVVJREV2ZW50PFQ+IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYnV0dG9uOiBBY3Rpb25CdXR0b24gPSBBY3Rpb25CdXR0b24uQU5ZXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgaG92ZXJUZXh0OiBzdHJpbmcgPSAnSW50ZXJhY3QnXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgZGlzdGFuY2U6IG51bWJlciA9IDEwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2hvd0ZlZWRiYWNrOiBib29sZWFuID0gdHJ1ZVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXVpZDogdGhpcy51dWlkLFxuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgYnV0dG9uOiB0aGlzLmJ1dHRvbixcbiAgICAgIGhvdmVyVGV4dDogdGhpcy5ob3ZlclRleHQsXG4gICAgICBkaXN0YW5jZTogdGhpcy5kaXN0YW5jZSxcbiAgICAgIHNob3dGZWVkYmFjazogdGhpcy5zaG93RmVlZGJhY2tcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuQENvbXBvbmVudCgnZW5naW5lLm9uUG9pbnRlckxvY2snLCBDTEFTU19JRC5VVUlEX0NBTExCQUNLKVxuZXhwb3J0IGNsYXNzIE9uUG9pbnRlckxvY2sgZXh0ZW5kcyBPblVVSURFdmVudDwnb25Qb2ludGVyTG9jayc+IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nID0gJ29uUG9pbnRlckxvY2snXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUub25BbmltYXRpb25FbmQnLCBDTEFTU19JRC5VVUlEX0NBTExCQUNLKVxuZXhwb3J0IGNsYXNzIE9uQW5pbWF0aW9uRW5kIGV4dGVuZHMgT25VVUlERXZlbnQ8J29uQW5pbWF0aW9uRW5kJz4ge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSB0eXBlOiBzdHJpbmcgPSAnb25BbmltYXRpb25FbmQnXG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS5zbWFydEl0ZW0nLCBDTEFTU19JRC5TTUFSVF9JVEVNKVxuZXhwb3J0IGNsYXNzIFNtYXJ0SXRlbSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge31cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuVmlkZW9DbGlwJywgQ0xBU1NfSUQuVklERU9fQ0xJUClcbmV4cG9ydCBjbGFzcyBWaWRlb0NsaXAgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgdXJsOiBzdHJpbmdcblxuICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZykge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnVybCA9IHVybFxuICB9XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZW51bSBWaWRlb1N0YXR1cyB7XG4gIE5PTkUgPSAwLFxuICBFUlJPUiA9IDEsXG4gIExPQURJTkcgPSAyLFxuICBSRUFEWSA9IDMsXG4gIFBMQVlJTkcgPSA0LFxuICBCVUZGRVJJTkcgPSA1XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLlZpZGVvVGV4dHVyZScsIENMQVNTX0lELlZJREVPX1RFWFRVUkUpXG5leHBvcnQgY2xhc3MgVmlkZW9UZXh0dXJlIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHZpZGVvQ2xpcElkOiBzdHJpbmdcblxuICAvKipcbiAgICogRW5hYmxlcyBjcmlzcGVyIGltYWdlcyBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgc2FtcGxpbmcgbW9kZS5cbiAgICogfCBWYWx1ZSB8IFR5cGUgICAgICB8XG4gICAqIHwtLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgKiB8ICAgICAxIHwgTkVBUkVTVCAgIHxcbiAgICogfCAgICAgMiB8IEJJTElORUFSICB8XG4gICAqIHwgICAgIDMgfCBUUklMSU5FQVIgfFxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgc2FtcGxpbmdNb2RlITogbnVtYmVyXG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGV4dHVyZSB3cmFwcGluZyBmb3IgdGhpcyBtYXRlcmlhbC5cbiAgICogfCBWYWx1ZSB8IFR5cGUgICAgICB8XG4gICAqIHwtLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgKiB8ICAgICAxIHwgQ0xBTVAgICAgIHxcbiAgICogfCAgICAgMiB8IFdSQVAgICAgICB8XG4gICAqIHwgICAgIDMgfCBNSVJST1IgICAgfFxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgd3JhcCE6IG51bWJlclxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZvbHVtZTogbnVtYmVyID0gMVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBsYXliYWNrUmF0ZTogbnVtYmVyID0gMVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGxvb3A6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNlZWs6IG51bWJlciA9IC0xXG5cbiAgcHJpdmF0ZSBfcG9zaXRpb246IG51bWJlciA9IC0xXG4gIHByaXZhdGUgX3ZpZGVvTGVuZ3RoOiBudW1iZXIgPSAtMVxuICBwcml2YXRlIF9zdGF0dXM6IFZpZGVvU3RhdHVzID0gVmlkZW9TdGF0dXMuTk9ORVxuXG4gIC8qKlxuICAgKiBJcyB0aGlzIFZpZGVvVGV4dHVyZSBwbGF5aW5nP1xuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcGxheWluZzogYm9vbGVhbiA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IodmlkZW9DbGlwOiBWaWRlb0NsaXAsIG9wdHM/OiBQYXJ0aWFsPFBpY2s8VmlkZW9UZXh0dXJlLCAnc2FtcGxpbmdNb2RlJyB8ICd3cmFwJz4+KSB7XG4gICAgc3VwZXIoKVxuXG4gICAgaWYgKCEodmlkZW9DbGlwIGluc3RhbmNlb2YgVmlkZW9DbGlwKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUcnlpbmcgdG8gY3JlYXRlIFZpZGVvVGV4dHVyZShWaWRlb0NsaXApIHdpdGggYW4gaW52YWxpZCBWaWRlb0NsaXBgKVxuICAgIH1cbiAgICB0aGlzLnZpZGVvQ2xpcElkID0gZ2V0Q29tcG9uZW50SWQodmlkZW9DbGlwIGFzIGFueSlcblxuICAgIGlmIChvcHRzKSB7XG4gICAgICBmb3IgKGxldCBpIGluIG9wdHMpIHtcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXMgYXMgYW55XG4gICAgICAgIHRoYXRbaSBhcyAnc2FtcGxpbmdNb2RlJyB8ICd3cmFwJ10gPSAob3B0cyBhcyBhbnkpW2ldXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcGxheSgpIHtcbiAgICB0aGlzLnBsYXlpbmcgPSB0cnVlXG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zZWVrVGltZSgwKVxuICAgIHRoaXMucGF1c2UoKVxuICB9XG5cbiAgc2Vla1RpbWUoc2Vjb25kczogbnVtYmVyKSB7XG4gICAgdGhpcy5zZWVrID0gc2Vjb25kc1xuICAgIHRoaXMuZGlydHkgPSB0cnVlXG4gICAgdGhpcy5kYXRhLm5vbmNlID0gTWF0aC5yYW5kb20oKVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIGlmICh0aGlzLnNlZWsgPj0gMCkge1xuICAgICAgLy8gdGhlIHNlZWsgdmFsdWUgd2FzIGNoYW5nZWQvdXNlZFxuICAgICAgY29uc3QgcmV0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdXBlci50b0pTT04oKSkpXG4gICAgICB0aGlzLnNlZWsgPSAtMVxuICAgICAgcmV0dXJuIHJldFxuICAgIH1cblxuICAgIHJldHVybiBzdXBlci50b0pTT04oKVxuICB9XG5cbiAgdXBkYXRlKHZpZGVvRXZlbnQ6IElFdmVudHNbJ3ZpZGVvRXZlbnQnXSkge1xuICAgIGlmICh2aWRlb0V2ZW50LnZpZGVvQ2xpcElkID09IHRoaXMudmlkZW9DbGlwSWQpIHtcbiAgICAgIHRoaXMuX3N0YXR1cyA9ICh2aWRlb0V2ZW50LnZpZGVvU3RhdHVzIGFzIFZpZGVvU3RhdHVzKSB8fCBWaWRlb1N0YXR1cy5OT05FXG4gICAgICB0aGlzLl92aWRlb0xlbmd0aCA9IHZpZGVvRXZlbnQudG90YWxWaWRlb0xlbmd0aFxuICAgICAgdGhpcy5fcG9zaXRpb24gPSB2aWRlb0V2ZW50LmN1cnJlbnRPZmZzZXRcbiAgICB9XG4gIH1cblxuICBnZXQgcG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uXG4gIH1cblxuICBnZXQgdmlkZW9MZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZGVvTGVuZ3RoXG4gIH1cblxuICBnZXQgc3RhdHVzKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0dXNcbiAgfVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yMywgUXVhdGVybmlvbiB9IGZyb20gJy4vbWF0aCdcbmltcG9ydCB7IENhbWVyYU1vZGUgfSBmcm9tICcuL1R5cGVzJ1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIENhbWVyYSB7XG4gIC8vIEBpbnRlcm5hbFxuICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IENhbWVyYVxuXG4gIHN0YXRpYyBnZXQgaW5zdGFuY2UoKTogQ2FtZXJhIHtcbiAgICBpZiAoIUNhbWVyYS5faW5zdGFuY2UpIHtcbiAgICAgIENhbWVyYS5faW5zdGFuY2UgPSBuZXcgQ2FtZXJhKClcbiAgICB9XG4gICAgcmV0dXJuIENhbWVyYS5faW5zdGFuY2VcbiAgfVxuXG4gIC8qKiBDYW1lcmEgcG9zaXRpb24sIHJlbGF0aXZlIHRvIHRoZSBwYXJjZWwuICovXG4gIHB1YmxpYyByZWFkb25seSBwb3NpdGlvbjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKClcbiAgLyoqIENhbWVyYSByb3RhdGlvbiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgcm90YXRpb246IFF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpXG5cbiAgLyoqIEZlZXQgcG9zaXRpb24sIHJlbGF0aXZlIHRvIHRoZSBwYXJjZWwuICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgZmVldFBvc2l0aW9uOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKVxuICAvKiogQ2FtZXJhIHBvc2l0aW9uLCBhYnNvbHV0ZS4gKi9cbiAgcHVibGljIHJlYWRvbmx5IHdvcmxkUG9zaXRpb246IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpXG5cbiAgLyoqIFBsYXllciBoZWlnaHQuICovXG4gIGdldCBwbGF5ZXJIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fcGxheWVySGVpZ2h0XG4gIH1cblxuICAvKiogR2V0IENhbWVyYSBNb2RlLiAqL1xuICBnZXQgY2FtZXJhTW9kZSgpOiBDYW1lcmFNb2RlIHtcbiAgICByZXR1cm4gdGhpcy5fY2FtZXJhTW9kZVxuICB9XG5cbiAgLy8gQGludGVybmFsXG4gIHByaXZhdGUgbGFzdEV2ZW50UG9zaXRpb246IFJlYWRPbmx5VmVjdG9yMyA9IHsgeDogMCwgeTogMCwgejogMCB9XG4gIC8vIEBpbnRlcm5hbFxuICBwcml2YXRlIGxhc3RFdmVudFdvcmxkUG9zaXRpb246IFJlYWRPbmx5VmVjdG9yMyA9IHsgeDogMCwgeTogMCwgejogMCB9XG5cbiAgLy8gQGludGVybmFsXG4gIHByaXZhdGUgbGFzdEV2ZW50Um90YXRpb246IFJlYWRPbmx5UXVhdGVybmlvbiA9IHsgeDogMCwgeTogMCwgejogMCwgdzogMS4wIH1cblxuICAvLyBAaW50ZXJuYWxcbiAgcHJpdmF0ZSBfcGxheWVySGVpZ2h0OiBudW1iZXIgPSAxLjZcbiAgLy8gQGludGVybmFsXG4gIHByaXZhdGUgX2NhbWVyYU1vZGU6IENhbWVyYU1vZGUgPSBDYW1lcmFNb2RlLkZpcnN0UGVyc29uXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiBkY2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkY2wuc3Vic2NyaWJlKCdwb3NpdGlvbkNoYW5nZWQnKVxuICAgICAgZGNsLnN1YnNjcmliZSgncm90YXRpb25DaGFuZ2VkJylcbiAgICAgIGRjbC5zdWJzY3JpYmUoJ2NhbWVyYU1vZGVDaGFuZ2VkJylcblxuICAgICAgZGNsLm9uRXZlbnQoZXZlbnQgPT4ge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdwb3NpdGlvbkNoYW5nZWQnOlxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbkNoYW5nZWQoZXZlbnQuZGF0YSBhcyBhbnkpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ3JvdGF0aW9uQ2hhbmdlZCc6XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uQ2hhbmdlZChldmVudC5kYXRhIGFzIGFueSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnY2FtZXJhTW9kZUNoYW5nZWQnOlxuICAgICAgICAgICAgdGhpcy5jYW1lcmFNb2RlQ2hhbmdlZChldmVudC5kYXRhIGFzIGFueSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMucG9zaXRpb24sICd4Jywge1xuICAgICAgZ2V0OiAoKSA9PiB0aGlzLmxhc3RFdmVudFBvc2l0aW9uLnhcbiAgICB9KVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMucG9zaXRpb24sICd5Jywge1xuICAgICAgZ2V0OiAoKSA9PiB0aGlzLmxhc3RFdmVudFBvc2l0aW9uLnlcbiAgICB9KVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMucG9zaXRpb24sICd6Jywge1xuICAgICAgZ2V0OiAoKSA9PiB0aGlzLmxhc3RFdmVudFBvc2l0aW9uLnpcbiAgICB9KVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMud29ybGRQb3NpdGlvbiwgJ3gnLCB7XG4gICAgICBnZXQ6ICgpID0+IHRoaXMubGFzdEV2ZW50V29ybGRQb3NpdGlvbi54XG4gICAgfSlcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLndvcmxkUG9zaXRpb24sICd5Jywge1xuICAgICAgZ2V0OiAoKSA9PiB0aGlzLmxhc3RFdmVudFdvcmxkUG9zaXRpb24ueVxuICAgIH0pXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy53b3JsZFBvc2l0aW9uLCAneicsIHtcbiAgICAgIGdldDogKCkgPT4gdGhpcy5sYXN0RXZlbnRXb3JsZFBvc2l0aW9uLnpcbiAgICB9KVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuZmVldFBvc2l0aW9uLCAneCcsIHtcbiAgICAgIGdldDogKCkgPT4gdGhpcy5sYXN0RXZlbnRQb3NpdGlvbi54XG4gICAgfSlcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmZlZXRQb3NpdGlvbiwgJ3knLCB7XG4gICAgICBnZXQ6ICgpID0+IHRoaXMubGFzdEV2ZW50UG9zaXRpb24ueSAtIHRoaXMucGxheWVySGVpZ2h0XG4gICAgfSlcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmZlZXRQb3NpdGlvbiwgJ3onLCB7XG4gICAgICBnZXQ6ICgpID0+IHRoaXMubGFzdEV2ZW50UG9zaXRpb24uelxuICAgIH0pXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5yb3RhdGlvbiwgJ3gnLCB7XG4gICAgICBnZXQ6ICgpID0+IHRoaXMubGFzdEV2ZW50Um90YXRpb24ueFxuICAgIH0pXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5yb3RhdGlvbiwgJ3knLCB7XG4gICAgICBnZXQ6ICgpID0+IHRoaXMubGFzdEV2ZW50Um90YXRpb24ueVxuICAgIH0pXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5yb3RhdGlvbiwgJ3onLCB7XG4gICAgICBnZXQ6ICgpID0+IHRoaXMubGFzdEV2ZW50Um90YXRpb24uelxuICAgIH0pXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5yb3RhdGlvbiwgJ3cnLCB7XG4gICAgICBnZXQ6ICgpID0+IHRoaXMubGFzdEV2ZW50Um90YXRpb24ud1xuICAgIH0pXG4gIH1cblxuICAvLyBAaW50ZXJuYWxcbiAgcHJpdmF0ZSBwb3NpdGlvbkNoYW5nZWQoZTogSUV2ZW50c1sncG9zaXRpb25DaGFuZ2VkJ10pIHtcbiAgICB0aGlzLmxhc3RFdmVudFBvc2l0aW9uID0gZS5wb3NpdGlvblxuICAgIHRoaXMubGFzdEV2ZW50V29ybGRQb3NpdGlvbiA9IGUuY2FtZXJhUG9zaXRpb25cbiAgICB0aGlzLl9wbGF5ZXJIZWlnaHQgPSBlLnBsYXllckhlaWdodFxuICB9XG5cbiAgLy8gQGludGVybmFsXG4gIHByaXZhdGUgcm90YXRpb25DaGFuZ2VkKGU6IElFdmVudHNbJ3JvdGF0aW9uQ2hhbmdlZCddKSB7XG4gICAgdGhpcy5sYXN0RXZlbnRSb3RhdGlvbiA9IGUucXVhdGVybmlvblxuICB9XG5cbiAgLy8gQGludGVybmFsXG4gIHByaXZhdGUgY2FtZXJhTW9kZUNoYW5nZWQoZTogSUV2ZW50c1snY2FtZXJhTW9kZUNoYW5nZWQnXSkge1xuICAgIHRoaXMuX2NhbWVyYU1vZGUgPSBlLmNhbWVyYU1vZGVcbiAgfVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yMywgTWF0cml4IH0gZnJvbSAnLi9tYXRoJ1xuaW1wb3J0IHsgUmF5Y2FzdFJlc3BvbnNlIH0gZnJvbSAnLi9FdmVudHMnXG5pbXBvcnQgeyB1dWlkLCBsb2cgfSBmcm9tICcuLi9lY3MvaGVscGVycydcblxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSAnLi9DYW1lcmEnXG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBRdWVyeVR5cGUgPSAnSGl0Rmlyc3QnIHwgJ0hpdEFsbCcgfCAnSGl0Rmlyc3RBdmF0YXInIHwgJ0hpdEFsbEF2YXRhcnMnXG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmVudW0gUXVlcnlQcmVmaXgge1xuICBIaXRGaXJzdCA9ICdycWhmJyxcbiAgSGl0QWxsID0gJ3JxaGEnXG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmF5Y2FzdFF1ZXJ5IHtcbiAgcXVlcnlJZDogc3RyaW5nXG4gIHF1ZXJ5VHlwZTogUXVlcnlUeXBlXG4gIHJheTogUmF5XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJheWNhc3RIaXQge1xuICBkaWRIaXQ6IGJvb2xlYW5cbiAgcmF5OiBSYXlcbiAgaGl0UG9pbnQ6IFJlYWRPbmx5VmVjdG9yM1xuICBoaXROb3JtYWw6IFJlYWRPbmx5VmVjdG9yM1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSYXkge1xuICBvcmlnaW46IFJlYWRPbmx5VmVjdG9yM1xuICBkaXJlY3Rpb246IFJlYWRPbmx5VmVjdG9yM1xuICBkaXN0YW5jZTogbnVtYmVyXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEhpdEVudGl0eUluZm8ge1xuICBpc1ZhbGlkOiBib29sZWFuXG4gIGVudGl0eUlkOiBzdHJpbmdcbiAgbWVzaE5hbWU6IHN0cmluZ1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSYXljYXN0SGl0RW50aXR5IGV4dGVuZHMgUmF5Y2FzdEhpdCB7XG4gIGVudGl0eTogSGl0RW50aXR5SW5mb1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSYXljYXN0SGl0RW50aXRpZXMgZXh0ZW5kcyBSYXljYXN0SGl0IHtcbiAgZW50aXRpZXM6IFJheWNhc3RIaXRFbnRpdHlbXVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCYXNpY0F2YXRhckluZm8ge1xuICB1c2VySWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmF5Y2FzdEhpdEF2YXRhciBleHRlbmRzIFJheWNhc3RIaXQge1xuICBhdmF0YXI6IEJhc2ljQXZhdGFySW5mb1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSYXljYXN0SGl0QXZhdGFycyBleHRlbmRzIFJheWNhc3RIaXQge1xuICBhdmF0YXJzOiBCYXNpY0F2YXRhckluZm9bXVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJUGh5c2ljc0Nhc3Qge1xuICBoaXRGaXJzdChyYXk6IFJheSwgaGl0Q2FsbGJhY2s6IChldmVudDogUmF5Y2FzdEhpdEVudGl0eSkgPT4gdm9pZCwgaWQ/OiBudW1iZXIpOiB2b2lkXG4gIGhpdEFsbChyYXk6IFJheSwgaGl0Q2FsbGJhY2s6IChldmVudDogUmF5Y2FzdEhpdEVudGl0aWVzKSA9PiB2b2lkLCBpZD86IG51bWJlcik6IHZvaWRcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBoaXRGaXJzdEF2YXRhcihyYXk6IFJheSwgaGl0Q2FsbGJhY2s6IChldmVudDogUmF5Y2FzdEhpdEF2YXRhcikgPT4gdm9pZCk6IHZvaWRcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBoaXRBbGxBdmF0YXJzKHJheTogUmF5LCBoaXRDYWxsYmFjazogKGV2ZW50OiBSYXljYXN0SGl0QXZhdGFycykgPT4gdm9pZCk6IHZvaWRcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBQaHlzaWNzQ2FzdCBpbXBsZW1lbnRzIElQaHlzaWNzQ2FzdCB7XG4gIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogUGh5c2ljc0Nhc3RcbiAgcHJpdmF0ZSBxdWVyaWVzOiBSZWNvcmQ8c3RyaW5nLCAoZXZlbnQ6IFJheWNhc3RIaXQpID0+IHZvaWQ+ID0ge31cblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cblxuICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBQaHlzaWNzQ2FzdCB7XG4gICAgUGh5c2ljc0Nhc3QuZW5zdXJlSW5zdGFuY2UoKVxuICAgIHJldHVybiBQaHlzaWNzQ2FzdC5faW5zdGFuY2VcbiAgfVxuXG4gIHN0YXRpYyBlbnN1cmVJbnN0YW5jZSgpOiBhbnkge1xuICAgIGlmICghUGh5c2ljc0Nhc3QuX2luc3RhbmNlKSB7XG4gICAgICBQaHlzaWNzQ2FzdC5faW5zdGFuY2UgPSBuZXcgUGh5c2ljc0Nhc3QoKVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRSYXlGcm9tQ2FtZXJhKGRpc3RhbmNlOiBudW1iZXIpIHtcbiAgICBsZXQgcm90YXRpb24gPSBDYW1lcmEuaW5zdGFuY2Uucm90YXRpb25cbiAgICBsZXQgcm90YXRpb25NYXQ6IE1hdHJpeCA9IE1hdHJpeC5JZGVudGl0eSgpXG4gICAgcm90YXRpb24udG9Sb3RhdGlvbk1hdHJpeChyb3RhdGlvbk1hdClcbiAgICBsZXQgZGlyZWN0aW9uID0gVmVjdG9yMy5UcmFuc2Zvcm1Db29yZGluYXRlcyhWZWN0b3IzLkZvcndhcmQoKSwgcm90YXRpb25NYXQpXG5cbiAgICBjb25zdCByYXk6IFJheSA9IHtcbiAgICAgIG9yaWdpbjogQ2FtZXJhLmluc3RhbmNlLnBvc2l0aW9uLFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgICB9XG5cbiAgICByZXR1cm4gcmF5XG4gIH1cblxuICBwdWJsaWMgZ2V0UmF5RnJvbVBvc2l0aW9ucyhmcm9tOiBWZWN0b3IzLCB0bzogVmVjdG9yMykge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRvLnN1YnRyYWN0KGZyb20pXG4gICAgY29uc3QgbGVuZ3RoID0gZGlyZWN0aW9uLmxlbmd0aCgpXG5cbiAgICBjb25zdCByYXk6IFJheSA9IHtcbiAgICAgIG9yaWdpbjogZnJvbSxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLm5vcm1hbGl6ZSgpLFxuICAgICAgZGlzdGFuY2U6IGxlbmd0aFxuICAgIH1cblxuICAgIHJldHVybiByYXlcbiAgfVxuXG4gIHB1YmxpYyBoaXRGaXJzdChyYXk6IFJheSwgaGl0Q2FsbGJhY2s6IChldmVudDogUmF5Y2FzdEhpdEVudGl0eSkgPT4gdm9pZCwgaWQ/OiBudW1iZXIpIHtcbiAgICBjb25zdCBxdWVyeUlkID0gdHlwZW9mIGlkID09PSAnbnVtYmVyJyA/IFF1ZXJ5UHJlZml4LkhpdEZpcnN0ICsgaWQgOiB1dWlkKClcblxuICAgIHRoaXMucXVlcmllc1txdWVyeUlkXSA9IGhpdENhbGxiYWNrIGFzIChldmVudDogUmF5Y2FzdEhpdCkgPT4gdm9pZFxuXG4gICAgaWYgKHR5cGVvZiBkY2wgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRjbC5xdWVyeSgncmF5Y2FzdCcsIHsgcXVlcnlJZCwgcXVlcnlUeXBlOiAnSGl0Rmlyc3QnLCByYXkgfSlcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGl0QWxsKHJheTogUmF5LCBoaXRDYWxsYmFjazogKGV2ZW50OiBSYXljYXN0SGl0RW50aXRpZXMpID0+IHZvaWQsIGlkPzogbnVtYmVyKSB7XG4gICAgY29uc3QgcXVlcnlJZCA9IHR5cGVvZiBpZCA9PT0gJ251bWJlcicgPyBRdWVyeVByZWZpeC5IaXRBbGwgKyBpZCA6IHV1aWQoKVxuXG4gICAgdGhpcy5xdWVyaWVzW3F1ZXJ5SWRdID0gaGl0Q2FsbGJhY2sgYXMgKGV2ZW50OiBSYXljYXN0SGl0KSA9PiB2b2lkXG5cbiAgICBpZiAodHlwZW9mIGRjbCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgZGNsLnF1ZXJ5KCdyYXljYXN0JywgeyBxdWVyeUlkLCBxdWVyeVR5cGU6ICdIaXRBbGwnLCByYXkgfSlcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGl0Rmlyc3RBdmF0YXIocmF5OiBSYXksIGhpdENhbGxiYWNrOiAoZXZlbnQ6IFJheWNhc3RIaXRBdmF0YXIpID0+IHZvaWQpIHtcbiAgICBsb2coJ25vdCBpbXBsZW1lbnRlZCB5ZXQnKVxuICB9XG5cbiAgcHVibGljIGhpdEFsbEF2YXRhcnMocmF5OiBSYXksIGhpdENhbGxiYWNrOiAoZXZlbnQ6IFJheWNhc3RIaXRBdmF0YXJzKSA9PiB2b2lkKSB7XG4gICAgbG9nKCdub3QgaW1wbGVtZW50ZWQgeWV0JylcbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVSYXljYXN0SGl0Rmlyc3RSZXNwb25zZShyZXNwb25zZTogUmF5Y2FzdFJlc3BvbnNlPFJheWNhc3RIaXRFbnRpdHk+KSB7XG4gICAgdGhpcy5xdWVyaWVzW3Jlc3BvbnNlLnBheWxvYWQucXVlcnlJZF0ocmVzcG9uc2UucGF5bG9hZC5wYXlsb2FkKVxuICAgIGRlbGV0ZSB0aGlzLnF1ZXJpZXNbcmVzcG9uc2UucGF5bG9hZC5xdWVyeUlkXVxuICB9XG5cbiAgcHVibGljIGhhbmRsZVJheWNhc3RIaXRBbGxSZXNwb25zZShyZXNwb25zZTogUmF5Y2FzdFJlc3BvbnNlPFJheWNhc3RIaXRFbnRpdGllcz4pIHtcbiAgICB0aGlzLnF1ZXJpZXNbcmVzcG9uc2UucGF5bG9hZC5xdWVyeUlkXShyZXNwb25zZS5wYXlsb2FkLnBheWxvYWQpXG4gICAgZGVsZXRlIHRoaXMucXVlcmllc1tyZXNwb25zZS5wYXlsb2FkLnF1ZXJ5SWRdXG4gIH1cbn1cbiIsImltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uL2Vjcy9FbmdpbmUnXG5pbXBvcnQgeyBVVUlERXZlbnQsIFBvaW50ZXJFdmVudCwgUmF5Y2FzdFJlc3BvbnNlIH0gZnJvbSAnLi9FdmVudHMnXG5pbXBvcnQgeyBPblVVSURFdmVudCB9IGZyb20gJy4vQ29tcG9uZW50cydcbmltcG9ydCB7IElTeXN0ZW0sIENvbXBvbmVudEFkZGVkLCBDb21wb25lbnRSZW1vdmVkLCBJRW50aXR5IH0gZnJvbSAnLi4vZWNzL0lFbnRpdHknXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vSW5wdXQnXG5pbXBvcnQgeyBQaHlzaWNzQ2FzdCwgUmF5Y2FzdEhpdEVudGl0eSwgUmF5Y2FzdEhpdEVudGl0aWVzIH0gZnJvbSAnLi9QaHlzaWNzQ2FzdCdcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBSYXljYXN0RXZlbnRTeXN0ZW0gaW1wbGVtZW50cyBJU3lzdGVtIHtcbiAgYWN0aXZhdGUoZW5naW5lOiBFbmdpbmUpIHtcbiAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmFkZExpc3RlbmVyKFJheWNhc3RSZXNwb25zZSwgdGhpcywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQucGF5bG9hZC5xdWVyeVR5cGUgPT09ICdIaXRGaXJzdCcpIHtcbiAgICAgICAgUGh5c2ljc0Nhc3QuaW5zdGFuY2UuaGFuZGxlUmF5Y2FzdEhpdEZpcnN0UmVzcG9uc2UoZXZlbnQgYXMgUmF5Y2FzdFJlc3BvbnNlPFJheWNhc3RIaXRFbnRpdHk+KVxuICAgICAgfSBlbHNlIGlmIChldmVudC5wYXlsb2FkLnF1ZXJ5VHlwZSA9PT0gJ0hpdEFsbCcpIHtcbiAgICAgICAgUGh5c2ljc0Nhc3QuaW5zdGFuY2UuaGFuZGxlUmF5Y2FzdEhpdEFsbFJlc3BvbnNlKGV2ZW50IGFzIFJheWNhc3RSZXNwb25zZTxSYXljYXN0SGl0RW50aXRpZXM+KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAodHlwZW9mIGRjbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRjbC5zdWJzY3JpYmUoJ3JheWNhc3RSZXNwb25zZScpXG4gICAgfVxuICB9XG5cbiAgZGVhY3RpdmF0ZSgpIHtcbiAgICBpZiAodHlwZW9mIGRjbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRjbC51bnN1YnNjcmliZSgncmF5Y2FzdFJlc3BvbnNlJylcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBQb2ludGVyRXZlbnRTeXN0ZW0gaW1wbGVtZW50cyBJU3lzdGVtIHtcbiAgYWN0aXZhdGUoZW5naW5lOiBFbmdpbmUpIHtcbiAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmFkZExpc3RlbmVyKFBvaW50ZXJFdmVudCwgdGhpcywgKGV2ZW50KSA9PiB7XG4gICAgICBJbnB1dC5pbnN0YW5jZS5oYW5kbGVQb2ludGVyRXZlbnQoZXZlbnQucGF5bG9hZCBhcyBHbG9iYWxJbnB1dEV2ZW50UmVzdWx0KVxuICAgIH0pXG5cbiAgICBpZiAodHlwZW9mIGRjbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRjbC5zdWJzY3JpYmUoJ3BvaW50ZXJVcCcpXG4gICAgICBkY2wuc3Vic2NyaWJlKCdwb2ludGVyRG93bicpXG4gICAgICBkY2wuc3Vic2NyaWJlKCdhY3Rpb25CdXR0b25FdmVudCcpXG4gICAgfVxuICB9XG5cbiAgZGVhY3RpdmF0ZSgpIHtcbiAgICBpZiAodHlwZW9mIGRjbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRjbC51bnN1YnNjcmliZSgncG9pbnRlclVwJylcbiAgICAgIGRjbC51bnN1YnNjcmliZSgncG9pbnRlckRvd24nKVxuICAgICAgZGNsLnVuc3Vic2NyaWJlKCdhY3Rpb25CdXR0b25FdmVudCcpXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgVVVJREV2ZW50U3lzdGVtIGltcGxlbWVudHMgSVN5c3RlbSB7XG4gIGhhbmRsZXJNYXA6IHsgW3V1aWQ6IHN0cmluZ106IE9uVVVJREV2ZW50PGFueT4gfSA9IHt9XG5cbiAgYWN0aXZhdGUoZW5naW5lOiBFbmdpbmUpIHtcbiAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmFkZExpc3RlbmVyKFVVSURFdmVudCwgdGhpcywgdGhpcy5oYW5kbGVFdmVudClcbiAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmFkZExpc3RlbmVyKENvbXBvbmVudEFkZGVkLCB0aGlzLCB0aGlzLmNvbXBvbmVudEFkZGVkKVxuICAgIGVuZ2luZS5ldmVudE1hbmFnZXIuYWRkTGlzdGVuZXIoQ29tcG9uZW50UmVtb3ZlZCwgdGhpcywgdGhpcy5jb21wb25lbnRSZW1vdmVkKVxuXG4gICAgaWYgKHR5cGVvZiBkY2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkY2wuc3Vic2NyaWJlKCd1dWlkRXZlbnQnKVxuICAgIH1cbiAgfVxuXG4gIGRlYWN0aXZhdGUoKSB7XG4gICAgaWYgKHR5cGVvZiBkY2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkY2wudW5zdWJzY3JpYmUoJ3V1aWRFdmVudCcpXG4gICAgfVxuICB9XG5cbiAgb25BZGRFbnRpdHkoZW50aXR5OiBJRW50aXR5KSB7XG4gICAgZm9yIChsZXQgY29tcG9uZW50TmFtZSBpbiBlbnRpdHkuY29tcG9uZW50cykge1xuICAgICAgY29uc3QgY29tcG9uZW50ID0gZW50aXR5LmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV1cblxuICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIE9uVVVJREV2ZW50KSB7XG4gICAgICAgIHRoaXMuaGFuZGxlck1hcFtjb21wb25lbnQudXVpZF0gPSBjb21wb25lbnRcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvblJlbW92ZUVudGl0eShlbnRpdHk6IElFbnRpdHkpIHtcbiAgICBmb3IgKGxldCBjb21wb25lbnROYW1lIGluIGVudGl0eS5jb21wb25lbnRzKSB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSBlbnRpdHkuY29tcG9uZW50c1tjb21wb25lbnROYW1lXVxuXG4gICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgT25VVUlERXZlbnQpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaGFuZGxlck1hcFtjb21wb25lbnQudXVpZF1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbXBvbmVudEFkZGVkKGV2ZW50OiBDb21wb25lbnRBZGRlZCkge1xuICAgIGlmIChldmVudC5lbnRpdHkuaXNBZGRlZFRvRW5naW5lKCkpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGV2ZW50LmVudGl0eS5jb21wb25lbnRzW2V2ZW50LmNvbXBvbmVudE5hbWVdXG5cbiAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBPblVVSURFdmVudCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJNYXBbY29tcG9uZW50LnV1aWRdID0gY29tcG9uZW50XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb21wb25lbnRSZW1vdmVkKGV2ZW50OiBDb21wb25lbnRSZW1vdmVkKSB7XG4gICAgaWYgKGV2ZW50LmVudGl0eS5pc0FkZGVkVG9FbmdpbmUoKSkge1xuICAgICAgaWYgKGV2ZW50LmNvbXBvbmVudCBpbnN0YW5jZW9mIE9uVVVJREV2ZW50KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmhhbmRsZXJNYXBbZXZlbnQuY29tcG9uZW50LnV1aWRdXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVFdmVudChldmVudDogVVVJREV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LnV1aWQgaW4gdGhpcy5oYW5kbGVyTWFwKSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5oYW5kbGVyTWFwW2V2ZW50LnV1aWRdXG4gICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICBpZiAoaGFuZGxlci5jYWxsYmFjayAmJiAnY2FsbCcgaW4gaGFuZGxlci5jYWxsYmFjaykge1xuICAgICAgICAgIGhhbmRsZXIuY2FsbGJhY2soZXZlbnQucGF5bG9hZClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcmF5Y2FzdEV2ZW50U3lzdGVtID0gbmV3IFJheWNhc3RFdmVudFN5c3RlbSgpXG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBwb2ludGVyRXZlbnRTeXN0ZW0gPSBuZXcgUG9pbnRlckV2ZW50U3lzdGVtKClcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHV1aWRFdmVudFN5c3RlbSA9IG5ldyBVVUlERXZlbnRTeXN0ZW0oKVxuIiwiaW1wb3J0IHsgRGlzcG9zYWJsZUNvbXBvbmVudCwgT2JzZXJ2YWJsZUNvbXBvbmVudCwgQ29tcG9uZW50LCBnZXRDb21wb25lbnRJZCB9IGZyb20gJy4uL2Vjcy9Db21wb25lbnQnXG5pbXBvcnQgeyBDTEFTU19JRCB9IGZyb20gJy4vQ29tcG9uZW50cydcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuQXVkaW9DbGlwJywgQ0xBU1NfSUQuQVVESU9fQ0xJUClcbmV4cG9ydCBjbGFzcyBBdWRpb0NsaXAgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgdXJsOiBzdHJpbmdcblxuICAvKipcbiAgICogSXMgdGhpcyBjbGlwIGxvb3BpbmcgYnkgZGVmYXVsdD9cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGxvb3A6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIC8vIEBpbnRlcm5hbFxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBsb2FkaW5nQ29tcGxldGVFdmVudElkPzogc3RyaW5nXG5cbiAgLyoqXG4gICAqIENsaXAncyBtYXN0ZXIgdm9sdW1lLiBUaGlzIHZvbHVtZSBhZmZlY3RzIGFsbCB0aGUgQXVkaW9Tb3VyY2VzLlxuICAgKiBWYWxpZCByYW5nZXMgZnJvbSAwIHRvIDFcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZvbHVtZTogbnVtYmVyID0gMVxuXG4gIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMudXJsID0gdXJsXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS5BdWRpb1NvdXJjZScsIENMQVNTX0lELkFVRElPX1NPVVJDRSlcbmV4cG9ydCBjbGFzcyBBdWRpb1NvdXJjZSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSBhdWRpb0NsaXBJZDogc3RyaW5nXG5cbiAgLyoqXG4gICAqIElzIHRoaXMgY2xpcCBsb29waW5nIGJ5IGRlZmF1bHQ/XG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBsb29wOiBib29sZWFuID0gZmFsc2VcblxuICAvKipcbiAgICogQ2xpcCdzIG1hc3RlciB2b2x1bWUuIFRoaXMgdm9sdW1lIGFmZmVjdHMgYWxsIHRoZSBBdWRpb1NvdXJjZXMuXG4gICAqIFZhbGlkIHJhbmdlcyBmcm9tIDAgdG8gMVxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgdm9sdW1lOiBudW1iZXIgPSAxXG5cbiAgLyoqXG4gICAqIElzIHRoaXMgQXVkaW9Tb3VyY2UgcGxheWluZz9cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBsYXlpbmc6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBQaXRjaCwgZGVmYXVsdDogMS4wLCByYW5nZSBmcm9tIDAuMCB0byBNYXhGbG9hdFxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcGl0Y2g6IG51bWJlciA9IDEuMFxuXG4gIC8qKlxuICAgKiBUaW1lc3RhbXAgb2Ygd2hlbiB0aGUgcGxheU9uY2Ugd2FzIGV4ZWN1dGVkIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIHN0YXJ0IG92ZXIgdGhlIGF1ZGlvXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwbGF5ZWRBdFRpbWVzdGFtcDogbnVtYmVyID0gRGF0ZS5ub3coKVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBhdWRpb0NsaXA6IEF1ZGlvQ2xpcCkge1xuICAgIHN1cGVyKClcbiAgICBpZiAoIShhdWRpb0NsaXAgaW5zdGFuY2VvZiBBdWRpb0NsaXApKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRyeWluZyB0byBjcmVhdGUgQXVkaW9Tb3VyY2UoQXVkaW9DbGlwKSB3aXRoIGFuIGludmFsaWQgQXVkaW9DbGlwYClcbiAgICB9XG4gICAgdGhpcy5hdWRpb0NsaXBJZCA9IGdldENvbXBvbmVudElkKGF1ZGlvQ2xpcCBhcyBhbnkpXG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIGxvb3BpbmcgYW5kIHBsYXlzIHRoZSBjdXJyZW50IHNvdXJjZSBvbmNlLlxuICAgKiBJZiB0aGUgc291bmQgd2FzIHBsYXlpbmcsIGl0IHN0b3BzIGFuZCBzdGFydHMgb3Zlci5cbiAgICovXG4gIHBsYXlPbmNlKCkge1xuICAgIHRoaXMucGxheWluZyA9IHRydWVcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZVxuICAgIHRoaXMucGxheWVkQXRUaW1lc3RhbXAgPSBEYXRlLm5vdygpXG4gICAgdGhpcy5kYXRhLm5vbmNlID0gTWF0aC5yYW5kb20oKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS5BdWRpb1N0cmVhbScsIENMQVNTX0lELkFVRElPX1NUUkVBTSlcbmV4cG9ydCBjbGFzcyBBdWRpb1N0cmVhbSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSB1cmw6IHN0cmluZ1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBsYXlpbmc6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZvbHVtZTogbnVtYmVyID0gMVxuXG4gIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMudXJsID0gdXJsXG4gICAgdGhpcy5wbGF5aW5nID0gdHJ1ZVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9ic2VydmFibGVDb21wb25lbnQgfSBmcm9tICcuLi9lY3MvQ29tcG9uZW50J1xuaW1wb3J0IHsgQ0xBU1NfSUQsIE9uVVVJREV2ZW50IH0gZnJvbSAnLi9Db21wb25lbnRzJ1xuXG4vKipcbiAqIEdpem1vIGlkZW50aWZpZXJzXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBlbnVtIEdpem1vIHtcbiAgTU9WRSA9ICdNT1ZFJyxcbiAgUk9UQVRFID0gJ1JPVEFURScsXG4gIFNDQUxFID0gJ1NDQUxFJyxcbiAgTk9ORSA9ICdOT05FJ1xufVxuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgdHJpZ2dlcmVkIGFmdGVyIHRoZSB1c2VyIGZpbmFsaXplcyBkcmFnZ2luZyBhIGdpem1vLlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUuZ2l6bW9FdmVudCcsIENMQVNTX0lELlVVSURfQ0FMTEJBQ0spXG5leHBvcnQgY2xhc3MgT25HaXptb0V2ZW50IGV4dGVuZHMgT25VVUlERXZlbnQ8J2dpem1vRXZlbnQnPiB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZyA9ICdnaXptb0V2ZW50J1xufVxuXG4vKipcbiAqIEVuYWJsZXMgZ2l6bW9zIGluIHRoZSBlbnRpdHkuIEdpem1vcyBvbmx5IHdvcmsgaW4gRURJVE9SLCBQUkVWSUVXIG9yIERFQlVHIG1vZGVzLlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUuZ2l6bW9zJywgQ0xBU1NfSUQuR0laTU9TKVxuZXhwb3J0IGNsYXNzIEdpem1vcyBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICAvKipcbiAgICogRW5hYmxlIHBvc2l0aW9uIGdpem1vXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwb3NpdGlvbjogYm9vbGVhbiA9IHRydWVcblxuICAvKipcbiAgICogRW5hYmxlIHJvdGF0aW9uIGdpem1vXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByb3RhdGlvbjogYm9vbGVhbiA9IHRydWVcblxuICAvKipcbiAgICogRW5hYmxlIHNjYWxlIGdpem1vXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzY2FsZTogYm9vbGVhbiA9IHRydWVcblxuICAvKipcbiAgICogQ3ljbGUgdGhyb3VnaCBnaXptb3MgdXNpbmcgY2xpY2suXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBjeWNsZTogYm9vbGVhbiA9IHRydWVcblxuICAvKipcbiAgICogSWYgY3ljbGUgaXMgZmFsc2UsIHRoaXMgd2lsbCBiZSB0aGUgc2VsZWN0ZWQgZ2l6bW9cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNlbGVjdGVkR2l6bW8/OiBHaXptb1xuXG4gIC8qKlxuICAgKiBBbGlnbiB0aGUgZ2l6bW9zIHRvIG1hdGNoIHRoZSBsb2NhbCByZWZlcmVuY2Ugc3lzdGVtXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBsb2NhbFJlZmVyZW5jZTogYm9vbGVhbiA9IGZhbHNlXG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9ic2VydmFibGVDb21wb25lbnQgfSBmcm9tICcuLi9lY3MvQ29tcG9uZW50J1xuaW1wb3J0IHsgdXVpZEV2ZW50U3lzdGVtIH0gZnJvbSAnLi9TeXN0ZW1zJ1xuaW1wb3J0IHsgQ0xBU1NfSUQsIE9uVVVJREV2ZW50LCBPblBvaW50ZXJVVUlERXZlbnQgfSBmcm9tICcuL0NvbXBvbmVudHMnXG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tICcuL0lucHV0J1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQENvbXBvbmVudCgnZW5naW5lLm9uRm9jdXMnLCBDTEFTU19JRC5VVUlEX0NBTExCQUNLKVxuZXhwb3J0IGNsYXNzIE9uRm9jdXMgZXh0ZW5kcyBPblVVSURFdmVudDwnb25Gb2N1cyc+IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nID0gJ29uRm9jdXMnXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrOiAoZXZlbnQ6IElFdmVudHNbJ29uRm9jdXMnXSkgPT4gdm9pZCkge1xuICAgIHN1cGVyKGNhbGxiYWNrKVxuICAgIC8vIFRoaXMgaW5qZWN0aW9uIGlzIG5lY2Vzc2FyeSBPTkxZIGluIGV2ZW50cyB0aGF0IGFyZSBBTFdBWVMgdHVybmVkIG9uIGFuZCBhcmVcbiAgICAvLyBub3QgYXNzaWduYWJsZSB0byBlbnRpdGllcy4gTGlrZSBldmVudHMgZm9yIHRoZSBVSSBlbGVtZW50c1xuXG4gICAgLy8gVE9ETyhCcmlhbik6IFRoaXMgd2lsbCBiZSByZW1vdmVkIHdoZW4gVUkgZ2V0cyBiYWNrIHRvIHRoZSBlbnRpdHkgcGFyZW50aW5nLlxuICAgIHV1aWRFdmVudFN5c3RlbS5oYW5kbGVyTWFwW3RoaXMudXVpZF0gPSB0aGlzXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS5vblRleHRTdWJtaXQnLCBDTEFTU19JRC5VVUlEX0NBTExCQUNLKVxuZXhwb3J0IGNsYXNzIE9uVGV4dFN1Ym1pdCBleHRlbmRzIE9uVVVJREV2ZW50PCdvblRleHRTdWJtaXQnPiB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZyA9ICdvblRleHRTdWJtaXQnXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrOiAoZXZlbnQ6IElFdmVudHNbJ29uVGV4dFN1Ym1pdCddKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoY2FsbGJhY2spXG4gICAgLy8gVGhpcyBpbmplY3Rpb24gaXMgbmVjZXNzYXJ5IE9OTFkgaW4gZXZlbnRzIHRoYXQgYXJlIEFMV0FZUyB0dXJuZWQgb24gYW5kIGFyZVxuICAgIC8vIG5vdCBhc3NpZ25hYmxlIHRvIGVudGl0aWVzLiBMaWtlIGV2ZW50cyBmb3IgdGhlIFVJIGVsZW1lbnRzXG5cbiAgICAvLyBUT0RPKEJyaWFuKTogVGhpcyB3aWxsIGJlIHJlbW92ZWQgd2hlbiBVSSBnZXRzIGJhY2sgdG8gdGhlIGVudGl0eSBwYXJlbnRpbmcuXG4gICAgdXVpZEV2ZW50U3lzdGVtLmhhbmRsZXJNYXBbdGhpcy51dWlkXSA9IHRoaXNcbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQENvbXBvbmVudCgnZW5naW5lLm9uQmx1cicsIENMQVNTX0lELlVVSURfQ0FMTEJBQ0spXG5leHBvcnQgY2xhc3MgT25CbHVyIGV4dGVuZHMgT25VVUlERXZlbnQ8J29uQmx1cic+IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nID0gJ29uQmx1cidcbiAgY29uc3RydWN0b3IoY2FsbGJhY2s6IChldmVudDogSUV2ZW50c1snb25CbHVyJ10pID0+IHZvaWQpIHtcbiAgICBzdXBlcihjYWxsYmFjaylcbiAgICAvLyBUaGlzIGluamVjdGlvbiBpcyBuZWNlc3NhcnkgT05MWSBpbiBldmVudHMgdGhhdCBhcmUgQUxXQVlTIHR1cm5lZCBvbiBhbmQgYXJlXG4gICAgLy8gbm90IGFzc2lnbmFibGUgdG8gZW50aXRpZXMuIExpa2UgZXZlbnRzIGZvciB0aGUgVUkgZWxlbWVudHNcblxuICAgIC8vIFRPRE8oQnJpYW4pOiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCB3aGVuIFVJIGdldHMgYmFjayB0byB0aGUgZW50aXR5IHBhcmVudGluZy5cbiAgICB1dWlkRXZlbnRTeXN0ZW0uaGFuZGxlck1hcFt0aGlzLnV1aWRdID0gdGhpc1xuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUub25FbnRlcicsIENMQVNTX0lELlVVSURfQ0FMTEJBQ0spXG5leHBvcnQgY2xhc3MgT25FbnRlciBleHRlbmRzIE9uVVVJREV2ZW50PCdvbkVudGVyJz4ge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSB0eXBlOiBzdHJpbmcgPSAnb25FbnRlcidcbiAgY29uc3RydWN0b3IoY2FsbGJhY2s6IChldmVudDogSUV2ZW50c1snb25FbnRlciddKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoY2FsbGJhY2spXG4gICAgLy8gVGhpcyBpbmplY3Rpb24gaXMgbmVjZXNzYXJ5IE9OTFkgaW4gZXZlbnRzIHRoYXQgYXJlIEFMV0FZUyB0dXJuZWQgb24gYW5kIGFyZVxuICAgIC8vIG5vdCBhc3NpZ25hYmxlIHRvIGVudGl0aWVzLiBMaWtlIGV2ZW50cyBmb3IgdGhlIFVJIGVsZW1lbnRzXG5cbiAgICAvLyBUT0RPKEJyaWFuKTogVGhpcyB3aWxsIGJlIHJlbW92ZWQgd2hlbiBVSSBnZXRzIGJhY2sgdG8gdGhlIGVudGl0eSBwYXJlbnRpbmcuXG4gICAgdXVpZEV2ZW50U3lzdGVtLmhhbmRsZXJNYXBbdGhpcy51dWlkXSA9IHRoaXNcbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQENvbXBvbmVudCgnZW5naW5lLm9uQ2hhbmdlJywgQ0xBU1NfSUQuVVVJRF9DQUxMQkFDSylcbmV4cG9ydCBjbGFzcyBPbkNoYW5nZWQgZXh0ZW5kcyBPblVVSURFdmVudDwnb25DaGFuZ2UnPiB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZyA9ICdvbkNoYW5nZSdcbiAgY29uc3RydWN0b3IoY2FsbGJhY2s6IChldmVudDogSUV2ZW50c1snb25DaGFuZ2UnXSkgPT4gdm9pZCkge1xuICAgIHN1cGVyKGNhbGxiYWNrKVxuICAgIC8vIFRoaXMgaW5qZWN0aW9uIGlzIG5lY2Vzc2FyeSBPTkxZIGluIGV2ZW50cyB0aGF0IGFyZSBBTFdBWVMgdHVybmVkIG9uIGFuZCBhcmVcbiAgICAvLyBub3QgYXNzaWduYWJsZSB0byBlbnRpdGllcy4gTGlrZSBldmVudHMgZm9yIHRoZSBVSSBlbGVtZW50c1xuXG4gICAgLy8gVE9ETyhCcmlhbik6IFRoaXMgd2lsbCBiZSByZW1vdmVkIHdoZW4gVUkgZ2V0cyBiYWNrIHRvIHRoZSBlbnRpdHkgcGFyZW50aW5nLlxuICAgIHV1aWRFdmVudFN5c3RlbS5oYW5kbGVyTWFwW3RoaXMudXVpZF0gPSB0aGlzXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIE9uUG9pbnRlclVVSURFdmVudE9wdGlvbnMgPSB7XG4gIGJ1dHRvbj86IEFjdGlvbkJ1dHRvblxuICBob3ZlclRleHQ/OiBzdHJpbmdcbiAgc2hvd0ZlZWRiYWNrPzogYm9vbGVhblxuICBkaXN0YW5jZT86IG51bWJlclxufVxuXG4vKipcbiAqIEBwdWJsaWMgQGRlcHJlY2F0ZWQgdXNlIGBPblBvaW50ZXJEb3duYCBpbnN0ZWFkXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS5vbkNsaWNrJywgQ0xBU1NfSUQuVVVJRF9DQUxMQkFDSylcbmV4cG9ydCBjbGFzcyBPbkNsaWNrIGV4dGVuZHMgT25Qb2ludGVyVVVJREV2ZW50PCdvbkNsaWNrJz4ge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSB0eXBlOiBzdHJpbmcgPSAnb25DbGljaydcblxuICBjb25zdHJ1Y3RvcihjYWxsYmFjazogKGV2ZW50OiBJRXZlbnRzWydvbkNsaWNrJ10pID0+IHZvaWQpXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrOiAoZXZlbnQ6IElFdmVudHNbJ29uQ2xpY2snXSkgPT4gdm9pZCwgb3B0aW9uczogT25Qb2ludGVyVVVJREV2ZW50T3B0aW9ucylcbiAgY29uc3RydWN0b3IoY2FsbGJhY2s6IChldmVudDogSUV2ZW50c1snb25DbGljayddKSA9PiB2b2lkLCBvcHRpb25zPzogYW55KSB7XG4gICAgc3VwZXIoY2FsbGJhY2spXG4gICAgLy8gVGhpcyBpbmplY3Rpb24gaXMgbmVjZXNzYXJ5IE9OTFkgaW4gZXZlbnRzIHRoYXQgYXJlIEFMV0FZUyB0dXJuZWQgb24gYW5kIGFyZVxuICAgIC8vIG5vdCBhc3NpZ25hYmxlIHRvIGVudGl0aWVzLiBMaWtlIGV2ZW50cyBmb3IgdGhlIFVJIGVsZW1lbnRzXG5cbiAgICAvLyBUT0RPKEJyaWFuKTogVGhpcyB3aWxsIGJlIHJlbW92ZWQgd2hlbiBVSSBnZXRzIGJhY2sgdG8gdGhlIGVudGl0eSBwYXJlbnRpbmcuXG4gICAgdXVpZEV2ZW50U3lzdGVtLmhhbmRsZXJNYXBbdGhpcy51dWlkXSA9IHRoaXNcblxuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aGlzLnNob3dGZWVkYmFjayA9ICEob3B0aW9ucy5zaG93RmVlZGJhY2sgPT09IGZhbHNlKVxuXG4gICAgICBpZiAob3B0aW9ucy5idXR0b24pIHtcbiAgICAgICAgdGhpcy5idXR0b24gPSBvcHRpb25zLmJ1dHRvblxuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5ob3ZlclRleHQpIHtcbiAgICAgICAgdGhpcy5ob3ZlclRleHQgPSBvcHRpb25zLmhvdmVyVGV4dFxuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5kaXN0YW5jZSkge1xuICAgICAgICB0aGlzLmRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQENvbXBvbmVudCgnZW5naW5lLnBvaW50ZXJEb3duJywgQ0xBU1NfSUQuVVVJRF9DQUxMQkFDSylcbmV4cG9ydCBjbGFzcyBPblBvaW50ZXJEb3duIGV4dGVuZHMgT25Qb2ludGVyVVVJREV2ZW50PCdwb2ludGVyRG93bic+IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nID0gJ3BvaW50ZXJEb3duJ1xuXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrOiAoZXZlbnQ6IElFdmVudHNbJ3BvaW50ZXJEb3duJ10pID0+IHZvaWQpXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrOiAoZXZlbnQ6IElFdmVudHNbJ3BvaW50ZXJEb3duJ10pID0+IHZvaWQsIG9wdGlvbnM6IE9uUG9pbnRlclVVSURFdmVudE9wdGlvbnMpXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrOiAoZXZlbnQ6IElFdmVudHNbJ3BvaW50ZXJEb3duJ10pID0+IHZvaWQsIG9wdGlvbnM/OiBhbnkpIHtcbiAgICBzdXBlcihjYWxsYmFjaylcbiAgICAvLyBUaGlzIGluamVjdGlvbiBpcyBuZWNlc3NhcnkgT05MWSBpbiBldmVudHMgdGhhdCBhcmUgQUxXQVlTIHR1cm5lZCBvbiBhbmQgYXJlXG4gICAgLy8gbm90IGFzc2lnbmFibGUgdG8gZW50aXRpZXMuIExpa2UgZXZlbnRzIGZvciB0aGUgVUkgZWxlbWVudHNcblxuICAgIC8vIFRPRE8oQnJpYW4pOiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCB3aGVuIFVJIGdldHMgYmFjayB0byB0aGUgZW50aXR5IHBhcmVudGluZy5cbiAgICB1dWlkRXZlbnRTeXN0ZW0uaGFuZGxlck1hcFt0aGlzLnV1aWRdID0gdGhpc1xuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuc2hvd0ZlZWRiYWNrID0gIShvcHRpb25zLnNob3dGZWVkYmFjayA9PT0gZmFsc2UpXG5cbiAgICAgIGlmIChvcHRpb25zLmJ1dHRvbikge1xuICAgICAgICB0aGlzLmJ1dHRvbiA9IG9wdGlvbnMuYnV0dG9uXG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmhvdmVyVGV4dCkge1xuICAgICAgICB0aGlzLmhvdmVyVGV4dCA9IG9wdGlvbnMuaG92ZXJUZXh0XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmRpc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUucG9pbnRlclVwJywgQ0xBU1NfSUQuVVVJRF9DQUxMQkFDSylcbmV4cG9ydCBjbGFzcyBPblBvaW50ZXJVcCBleHRlbmRzIE9uUG9pbnRlclVVSURFdmVudDwncG9pbnRlclVwJz4ge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSB0eXBlOiBzdHJpbmcgPSAncG9pbnRlclVwJ1xuXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrOiAoZXZlbnQ6IElFdmVudHNbJ3BvaW50ZXJVcCddKSA9PiB2b2lkKVxuICBjb25zdHJ1Y3RvcihjYWxsYmFjazogKGV2ZW50OiBJRXZlbnRzWydwb2ludGVyVXAnXSkgPT4gdm9pZCwgb3B0aW9uczogT25Qb2ludGVyVVVJREV2ZW50T3B0aW9ucylcbiAgY29uc3RydWN0b3IoY2FsbGJhY2s6IChldmVudDogSUV2ZW50c1sncG9pbnRlclVwJ10pID0+IHZvaWQsIG9wdGlvbnM/OiBhbnkpIHtcbiAgICBzdXBlcihjYWxsYmFjaylcbiAgICAvLyBUaGlzIGluamVjdGlvbiBpcyBuZWNlc3NhcnkgT05MWSBpbiBldmVudHMgdGhhdCBhcmUgQUxXQVlTIHR1cm5lZCBvbiBhbmQgYXJlXG4gICAgLy8gbm90IGFzc2lnbmFibGUgdG8gZW50aXRpZXMuIExpa2UgZXZlbnRzIGZvciB0aGUgVUkgZWxlbWVudHNcblxuICAgIC8vIFRPRE8oQnJpYW4pOiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCB3aGVuIFVJIGdldHMgYmFjayB0byB0aGUgZW50aXR5IHBhcmVudGluZy5cbiAgICB1dWlkRXZlbnRTeXN0ZW0uaGFuZGxlck1hcFt0aGlzLnV1aWRdID0gdGhpc1xuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuc2hvd0ZlZWRiYWNrID0gIShvcHRpb25zLnNob3dGZWVkYmFjayA9PT0gZmFsc2UpXG5cbiAgICAgIGlmIChvcHRpb25zLmJ1dHRvbikge1xuICAgICAgICB0aGlzLmJ1dHRvbiA9IG9wdGlvbnMuYnV0dG9uXG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmhvdmVyVGV4dCkge1xuICAgICAgICB0aGlzLmhvdmVyVGV4dCA9IG9wdGlvbnMuaG92ZXJUZXh0XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmRpc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlQ29tcG9uZW50LCBEaXNwb3NhYmxlQ29tcG9uZW50LCBnZXRDb21wb25lbnRJZCB9IGZyb20gJy4uL2Vjcy9Db21wb25lbnQnXG5pbXBvcnQgeyBDTEFTU19JRCwgT25VVUlERXZlbnQsIFRleHR1cmUsIEZvbnQgfSBmcm9tICcuL0NvbXBvbmVudHMnXG5pbXBvcnQgeyBDb2xvcjQgfSBmcm9tICcuL21hdGgnXG5pbXBvcnQgeyBPblRleHRTdWJtaXQsIE9uQmx1ciwgT25DaGFuZ2VkLCBPbkNsaWNrLCBPbkZvY3VzIH0gZnJvbSAnLi9VSUV2ZW50cydcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVUlTaGFwZSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICAvKipcbiAgICogRGVmaW5lcyBpZiB0aGUgZW50aXR5IGFuZCBpdHMgY2hpbGRyZW4gc2hvdWxkIGJlIHJlbmRlcmVkXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBuYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZpc2libGU6IGJvb2xlYW4gPSB0cnVlXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgb3BhY2l0eTogbnVtYmVyID0gMVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGhBbGlnbjogc3RyaW5nID0gJ2NlbnRlcidcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB2QWxpZ246IHN0cmluZyA9ICdjZW50ZXInXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQudWlWYWx1ZVxuICB3aWR0aDogc3RyaW5nIHwgbnVtYmVyID0gJzEwMHB4J1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnVpVmFsdWVcbiAgaGVpZ2h0OiBzdHJpbmcgfCBudW1iZXIgPSAnNTBweCdcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC51aVZhbHVlXG4gIHBvc2l0aW9uWDogc3RyaW5nIHwgbnVtYmVyID0gJzBweCdcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC51aVZhbHVlXG4gIHBvc2l0aW9uWTogc3RyaW5nIHwgbnVtYmVyID0gJzBweCdcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBpc1BvaW50ZXJCbG9ja2VyOiBib29sZWFuID0gdHJ1ZVxuXG4gIHByaXZhdGUgX3BhcmVudD86IFVJU2hhcGVcblxuICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFVJU2hhcGUgfCBudWxsKSB7XG4gICAgc3VwZXIoKVxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudFxuICAgICAgdGhpcy5kYXRhLnBhcmVudENvbXBvbmVudCA9IGdldENvbXBvbmVudElkKHBhcmVudCBhcyBhbnkpXG4gICAgfVxuICB9XG5cbiAgZ2V0IHBhcmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyZW50XG4gIH1cblxuICAvLyBAaW50ZXJuYWxcbiAgZ2V0IHBhcmVudENvbXBvbmVudCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmRhdGEucGFyZW50Q29tcG9uZW50XG4gIH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIE5PVEUoQnJpYW4pOiB0aGlzIHNob3VsZCBiZSBkZXByZWNhdGVkXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuc2hhcGUnLCBDTEFTU19JRC5VSV9GVUxMU0NSRUVOX1NIQVBFKVxuZXhwb3J0IGNsYXNzIFVJRnVsbFNjcmVlbiBleHRlbmRzIFVJU2hhcGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihudWxsKVxuICB9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKiBOT1RFKEJyaWFuKTogdGhpcyBzaG91bGQgYmUgZGVwcmVjYXRlZFxuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuVUlfV09STERfU1BBQ0VfU0hBUEUpXG5leHBvcnQgY2xhc3MgVUlXb3JsZFNwYWNlIGV4dGVuZHMgVUlTaGFwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKG51bGwpXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuc2hhcGUnLCBDTEFTU19JRC5VSV9TQ1JFRU5fU1BBQ0VfU0hBUEUpXG5leHBvcnQgY2xhc3MgVUlDYW52YXMgZXh0ZW5kcyBVSVNoYXBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIobnVsbClcbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQERpc3Bvc2FibGVDb21wb25lbnQoJ2VuZ2luZS5zaGFwZScsIENMQVNTX0lELlVJX0NPTlRBSU5FUl9SRUNUKVxuZXhwb3J0IGNsYXNzIFVJQ29udGFpbmVyUmVjdCBleHRlbmRzIFVJU2hhcGUge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB0aGlja25lc3M6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBjb2xvcjogQ29sb3I0ID0gQ29sb3I0LkNsZWFyKClcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBhbGlnbm1lbnRVc2VzU2l6ZTogYm9vbGVhbiA9IHRydWVcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBlbnVtIFVJU3RhY2tPcmllbnRhdGlvbiB7XG4gIFZFUlRJQ0FMLFxuICBIT1JJWk9OVEFMXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuVUlfQ09OVEFJTkVSX1NUQUNLKVxuZXhwb3J0IGNsYXNzIFVJQ29udGFpbmVyU3RhY2sgZXh0ZW5kcyBVSVNoYXBlIHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYWRhcHRXaWR0aDogYm9vbGVhbiA9IHRydWVcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBhZGFwdEhlaWdodDogYm9vbGVhbiA9IHRydWVcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBjb2xvcjogQ29sb3I0ID0gQ29sb3I0LkNsZWFyKClcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzdGFja09yaWVudGF0aW9uOiBVSVN0YWNrT3JpZW50YXRpb24gPSBVSVN0YWNrT3JpZW50YXRpb24uVkVSVElDQUxcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzcGFjaW5nOiBOdW1iZXIgPSAwXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuVUlfQlVUVE9OX1NIQVBFKVxuZXhwb3J0IGNsYXNzIFVJQnV0dG9uIGV4dGVuZHMgVUlTaGFwZSB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGZvbnRTaXplOiBudW1iZXIgPSAxMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGZvbnRXZWlnaHQ6IHN0cmluZyA9ICdub3JtYWwnXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgdGhpY2tuZXNzOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgY29ybmVyUmFkaXVzOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgY29sb3I6IENvbG9yNCA9IENvbG9yNC5XaGl0ZSgpXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYmFja2dyb3VuZDogQ29sb3I0ID0gQ29sb3I0LldoaXRlKClcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwYWRkaW5nVG9wOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcGFkZGluZ1JpZ2h0OiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcGFkZGluZ0JvdHRvbTogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdMZWZ0OiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2hhZG93Qmx1cjogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNoYWRvd09mZnNldFg6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzaGFkb3dPZmZzZXRZOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2hhZG93Q29sb3I6IENvbG9yNCA9IENvbG9yNC5CbGFjaygpXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgdGV4dDogc3RyaW5nID0gJ2J1dHRvbidcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuc2hhcGUnLCBDTEFTU19JRC5VSV9URVhUX1NIQVBFKVxuZXhwb3J0IGNsYXNzIFVJVGV4dCBleHRlbmRzIFVJU2hhcGUge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBvdXRsaW5lV2lkdGg6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBvdXRsaW5lQ29sb3I6IENvbG9yNCA9IENvbG9yNC5XaGl0ZSgpXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgY29sb3I6IENvbG9yNCA9IENvbG9yNC5XaGl0ZSgpXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgZm9udFNpemU6IG51bWJlciA9IDEwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgZm9udEF1dG9TaXplOiBib29sZWFuID0gZmFsc2VcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5jb21wb25lbnRcbiAgZm9udD86IEZvbnRcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB2YWx1ZTogc3RyaW5nID0gJydcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBsaW5lU3BhY2luZzogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGxpbmVDb3VudDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGFkYXB0V2lkdGg6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGFkYXB0SGVpZ2h0OiBib29sZWFuID0gZmFsc2VcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB0ZXh0V3JhcHBpbmc6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNoYWRvd0JsdXI6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzaGFkb3dPZmZzZXRYOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2hhZG93T2Zmc2V0WTogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNoYWRvd0NvbG9yOiBDb2xvcjQgPSBDb2xvcjQuQmxhY2soKVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGhUZXh0QWxpZ246IHN0cmluZyA9ICdsZWZ0J1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZUZXh0QWxpZ246IHN0cmluZyA9ICdib3R0b20nXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcGFkZGluZ1RvcDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdSaWdodDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdCb3R0b206IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwYWRkaW5nTGVmdDogbnVtYmVyID0gMFxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQERpc3Bvc2FibGVDb21wb25lbnQoJ2VuZ2luZS5zaGFwZScsIENMQVNTX0lELlVJX0lOUFVUX1RFWFRfU0hBUEUpXG5leHBvcnQgY2xhc3MgVUlJbnB1dFRleHQgZXh0ZW5kcyBVSVNoYXBlIHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgb3V0bGluZVdpZHRoOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgb3V0bGluZUNvbG9yOiBDb2xvcjQgPSBDb2xvcjQuQmxhY2soKVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGNvbG9yOiBDb2xvcjQgPSBDb2xvcjQuQ2xlYXIoKVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGZvbnRTaXplOiBudW1iZXIgPSAxMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmNvbXBvbmVudFxuICBmb250PzogRm9udFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZhbHVlOiBzdHJpbmcgPSAnJ1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSAnJ1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIG1hcmdpbjogbnVtYmVyID0gMTBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBoVGV4dEFsaWduOiBzdHJpbmcgPSAnbGVmdCdcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB2VGV4dEFsaWduOiBzdHJpbmcgPSAnYm90dG9tJ1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGZvY3VzZWRCYWNrZ3JvdW5kOiBDb2xvcjQgPSBDb2xvcjQuQmxhY2soKVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHRleHRXcmFwcGluZzogYm9vbGVhbiA9IGZhbHNlXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2hhZG93Qmx1cjogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNoYWRvd09mZnNldFg6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzaGFkb3dPZmZzZXRZOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2hhZG93Q29sb3I6IENvbG9yNCA9IENvbG9yNC5XaGl0ZSgpXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcGFkZGluZ1RvcDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdSaWdodDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdCb3R0b206IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwYWRkaW5nTGVmdDogbnVtYmVyID0gMFxuXG4gIG9uVGV4dFN1Ym1pdDogT25UZXh0U3VibWl0IHwgbnVsbCA9IG51bGxcblxuICBvbkNoYW5nZWQ6IE9uQ2hhbmdlZCB8IG51bGwgPSBudWxsXG5cbiAgLy8gQGludGVybmFsXG4gIEBPblVVSURFdmVudC51dWlkRXZlbnRcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IG9uVGV4dENoYW5nZWQ6IE9uQ2hhbmdlZFxuXG4gIEBPblVVSURFdmVudC51dWlkRXZlbnRcbiAgb25Gb2N1czogT25Gb2N1cyB8IG51bGwgPSBudWxsXG5cbiAgQE9uVVVJREV2ZW50LnV1aWRFdmVudFxuICBvbkJsdXI6IE9uQmx1ciB8IG51bGwgPSBudWxsXG5cbiAgY29uc3RydWN0b3IocGFyZW50OiBVSVNoYXBlIHwgbnVsbCkge1xuICAgIHN1cGVyKHBhcmVudClcbiAgICB0aGlzLm9uVGV4dENoYW5nZWQgPSBuZXcgT25DaGFuZ2VkKChlKSA9PiB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBpc1N1Ym1pdCB9ID0gZS52YWx1ZVxuXG4gICAgICAvLyBOT1RFOiBoZXJlIHdlIHdhbnQgdG8ga2VlcCB0aGUgc2FtZSBgZGlydHlgIHN0YXRlIGFzIGJlZm9yZSBjaGFuZ2luZyBgdGhpcy52YWx1ZWBcbiAgICAgIC8vIGJlY2F1c2UgY2hhbmdpbmcgYHRoaXMudmFsdWVgIHdpbGwgc2V0IHRoZSBjb21wb25lbnQgYXMgYGRpcnR5YCBhbmQgc2VuZCBhIG1lc3NhZ2UgdG8gdGhlIHJlbmRlcmVyIHdpdGggaXQgdmFsdWVcbiAgICAgIC8vIGFuZCB0aGF0IG1lc3NhZ2UgaXMgdW5uZWNlc2FyeSAoaWYgdGhlIG9ubHkgdGhpbmcgdGhhdCBoYXZlIGNoYW5nZWQgaXMgYHRoaXMudmFsdWVgKSBzaW5jZSB0aGF0IG5ldyB2YWx1ZSBoYXMgY29tZSBmcm9tIHRoZSByZW5kZXJlciBpdHNlbGZcbiAgICAgIGNvbnN0IGlzRGlydHkgPSB0aGlzLmRpcnR5XG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWVcbiAgICAgIHRoaXMuZGlydHkgPSBpc0RpcnR5XG5cbiAgICAgIGlmIChpc1N1Ym1pdCAmJiB0aGlzLm9uVGV4dFN1Ym1pdCkge1xuICAgICAgICBjb25zdCBvblN1Ym1pdFZhbHVlOiBJRXZlbnRzWydvblRleHRTdWJtaXQnXSA9IHsgdGV4dDogdmFsdWUgfVxuICAgICAgICB0aGlzLm9uVGV4dFN1Ym1pdC5jYWxsYmFjayhvblN1Ym1pdFZhbHVlKVxuICAgICAgfSBlbHNlIGlmICghaXNTdWJtaXQgJiYgdGhpcy5vbkNoYW5nZWQpIHtcbiAgICAgICAgY29uc3Qgb25DaGFuZ2VWYWx1ZTogSUV2ZW50c1snb25DaGFuZ2UnXSA9IHsgdmFsdWUsIHBvaW50ZXJJZDogZS5wb2ludGVySWQgfVxuICAgICAgICB0aGlzLm9uQ2hhbmdlZC5jYWxsYmFjayhvbkNoYW5nZVZhbHVlKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuc2hhcGUnLCBDTEFTU19JRC5VSV9JTUFHRV9TSEFQRSlcbmV4cG9ydCBjbGFzcyBVSUltYWdlIGV4dGVuZHMgVUlTaGFwZSB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNvdXJjZUxlZnQ6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzb3VyY2VUb3A6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzb3VyY2VXaWR0aDogbnVtYmVyID0gMVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNvdXJjZUhlaWdodDogbnVtYmVyID0gMVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmNvbXBvbmVudFxuICBzb3VyY2U/OiBUZXh0dXJlXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcGFkZGluZ1RvcDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdSaWdodDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdCb3R0b206IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwYWRkaW5nTGVmdDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNpemVJblBpeGVsczogYm9vbGVhbiA9IHRydWVcblxuICBAT25VVUlERXZlbnQudXVpZEV2ZW50XG4gIG9uQ2xpY2s6IE9uQ2xpY2sgfCBudWxsID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yKHBhcmVudDogVUlTaGFwZSwgc291cmNlOiBUZXh0dXJlKSB7XG4gICAgc3VwZXIocGFyZW50KVxuICAgIHRoaXMuc291cmNlID0gc291cmNlXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuc2hhcGUnLCBDTEFTU19JRC5VSV9TTElERVJfU0hBUEUpXG5leHBvcnQgY2xhc3MgVUlTY3JvbGxSZWN0IGV4dGVuZHMgVUlTaGFwZSB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZhbHVlWDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZhbHVlWTogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGJhY2tncm91bmRDb2xvcjogQ29sb3I0ID0gQ29sb3I0LkNsZWFyKClcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBpc0hvcml6b250YWw6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGlzVmVydGljYWw6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdUb3A6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwYWRkaW5nUmlnaHQ6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwYWRkaW5nQm90dG9tOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcGFkZGluZ0xlZnQ6IG51bWJlciA9IDBcblxuICBAT25VVUlERXZlbnQudXVpZEV2ZW50XG4gIG9uQ2hhbmdlZDogT25DaGFuZ2VkIHwgbnVsbCA9IG51bGxcbn1cbiIsImltcG9ydCB7IFdlYXJhYmxlSWQgfSBmcm9tICcuLi9kZWNlbnRyYWxhbmQvVHlwZXMnXG5pbXBvcnQgeyBDb21wb25lbnQsIE9ic2VydmFibGVDb21wb25lbnQgfSBmcm9tICcuLi9lY3MvQ29tcG9uZW50J1xuaW1wb3J0IHsgQ0xBU1NfSUQgfSBmcm9tICcuL0NvbXBvbmVudHMnXG5pbXBvcnQgeyBSZWFkT25seUNvbG9yNCB9IGZyb20gJy4vbWF0aCdcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS5hdmF0YXJTaGFwZScsIENMQVNTX0lELkFWQVRBUl9TSEFQRSlcbmV4cG9ydCBjbGFzcyBBdmF0YXJTaGFwZSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBpZCE6IHN0cmluZ1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIG5hbWUhOiBzdHJpbmdcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBleHByZXNzaW9uVHJpZ2dlcklkITogc3RyaW5nXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgZXhwcmVzc2lvblRyaWdnZXJUaW1lc3RhbXAhOiBudW1iZXJcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBib2R5U2hhcGUhOiBXZWFyYWJsZUlkXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgd2VhcmFibGVzITogV2VhcmFibGVJZFtdXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2tpbkNvbG9yITogUmVhZE9ubHlDb2xvcjRcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBoYWlyQ29sb3IhOiBSZWFkT25seUNvbG9yNFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGV5ZUNvbG9yITogUmVhZE9ubHlDb2xvcjRcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB1c2VEdW1teU1vZGVsOiBib29sZWFuID0gZmFsc2VcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB0YWxraW5nOiBib29sZWFuID0gZmFsc2VcblxuICBwdWJsaWMgc3RhdGljIER1bW15KCk6IEF2YXRhclNoYXBlIHtcbiAgICBjb25zdCBhdmF0YXJTaGFwZSA9IG5ldyBBdmF0YXJTaGFwZSgpXG4gICAgYXZhdGFyU2hhcGUudXNlRHVtbXlNb2RlbCA9IHRydWVcbiAgICByZXR1cm4gYXZhdGFyU2hhcGVcbiAgfVxufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSwgT2JzZXJ2ZXIgfSBmcm9tICcuLi9lY3MvT2JzZXJ2YWJsZSdcbmltcG9ydCB7IGVycm9yIH0gZnJvbSAnLi4vZWNzL2hlbHBlcnMnXG5cbmxldCBjb21tdW5pY2F0aW9uc0NvbnRyb2xsZXI6IE1vZHVsZURlc2NyaXB0b3IgfCBudWxsID0gbnVsbFxubGV0IGNvbW11bmljYXRpb25zQ29udHJvbGxlclByb21pc2U6IFByb21pc2VMaWtlPE1vZHVsZURlc2NyaXB0b3I+IHwgbnVsbCA9IG51bGxcblxubGV0IF9tZXNzYWdlT2JzZXJ2ZXI6IG51bGwgfCBPYnNlcnZhYmxlPElFdmVudHNbJ2NvbW1zJ10+ID0gbnVsbFxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWVzc2FnZU9ic2VydmVyKCkge1xuICBpZiAoIV9tZXNzYWdlT2JzZXJ2ZXIpIHtcbiAgICBfbWVzc2FnZU9ic2VydmVyID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1snY29tbXMnXT4oKVxuICB9XG4gIHJldHVybiBfbWVzc2FnZU9ic2VydmVyXG59XG5cbmZ1bmN0aW9uIGVuc3VyZUNvbW11bmljYXRpb25zQ29udHJvbGxlcigpIHtcbiAgaWYgKCFjb21tdW5pY2F0aW9uc0NvbnRyb2xsZXJQcm9taXNlKSB7XG4gICAgY29tbXVuaWNhdGlvbnNDb250cm9sbGVyUHJvbWlzZSA9IGRjbC5sb2FkTW9kdWxlKCdAZGVjZW50cmFsYW5kL0NvbW11bmljYXRpb25zQ29udHJvbGxlcicsIHt9KVxuXG4gICAgY29tbXVuaWNhdGlvbnNDb250cm9sbGVyUHJvbWlzZS50aGVuKCgkKSA9PiB7XG4gICAgICBjb21tdW5pY2F0aW9uc0NvbnRyb2xsZXIgPSAkXG4gICAgfSlcblxuICAgIGNvbnN0IG9ic2VydmVyID0gZ2V0TWVzc2FnZU9ic2VydmVyKClcblxuICAgIGRjbC5zdWJzY3JpYmUoJ2NvbW1zJylcbiAgICBkY2wub25FdmVudCgoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50eXBlID09PSAnY29tbXMnKSB7XG4gICAgICAgIG9ic2VydmVyLm5vdGlmeU9ic2VydmVycyhldmVudC5kYXRhIGFzIGFueSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHJldHVybiBjb21tdW5pY2F0aW9uc0NvbnRyb2xsZXJQcm9taXNlXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgTWVzc2FnZUJ1cyB7XG4gIHByaXZhdGUgbWVzc2FnZVF1ZXVlOiBzdHJpbmdbXSA9IFtdXG4gIHByaXZhdGUgY29ubmVjdGVkID0gZmFsc2VcbiAgcHJpdmF0ZSBmbHVzaGluZyA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgZW5zdXJlQ29tbXVuaWNhdGlvbnNDb250cm9sbGVyKCkudGhlbigoJCkgPT4ge1xuICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlXG4gICAgICB0aGlzLmZsdXNoKClcbiAgICB9KVxuICB9XG5cbiAgb24obWVzc2FnZTogc3RyaW5nLCBjYWxsYmFjazogKHZhbHVlOiBhbnksIHNlbmRlcjogc3RyaW5nKSA9PiB2b2lkKTogT2JzZXJ2ZXI8SUV2ZW50c1snY29tbXMnXT4ge1xuICAgIHJldHVybiBnZXRNZXNzYWdlT2JzZXJ2ZXIoKS5hZGQoKGUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBtID0gSlNPTi5wYXJzZShlLm1lc3NhZ2UpXG5cbiAgICAgICAgaWYgKG0ubWVzc2FnZSA9PT0gbWVzc2FnZSkge1xuICAgICAgICAgIGNhbGxiYWNrKG0ucGF5bG9hZCwgZS5zZW5kZXIpXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZGNsLmVycm9yKCdFcnJvciBwYXJzaW5nIGNvbW1zIG1lc3NhZ2UgJyArICgoZSBhcyBFcnJvcikubWVzc2FnZSB8fCAnJyksIGUpXG4gICAgICB9XG4gICAgfSkhXG4gIH1cblxuICAvLyBAaW50ZXJuYWxcbiAgc2VuZFJhdyhtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpXG5cbiAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuZmx1c2goKVxuICAgIH1cbiAgfVxuXG4gIGVtaXQobWVzc2FnZTogc3RyaW5nLCBwYXlsb2FkOiBSZWNvcmQ8YW55LCBhbnk+KSB7XG4gICAgY29uc3QgbWVzc2FnZVRvU2VuZCA9IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZSwgcGF5bG9hZCB9KVxuICAgIHRoaXMuc2VuZFJhdyhtZXNzYWdlVG9TZW5kKVxuICAgIGdldE1lc3NhZ2VPYnNlcnZlcigpLm5vdGlmeU9ic2VydmVycyh7IG1lc3NhZ2U6IG1lc3NhZ2VUb1NlbmQsIHNlbmRlcjogJ3NlbGYnIH0pXG4gIH1cblxuICBwcml2YXRlIGZsdXNoKCkge1xuICAgIGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPT09IDApIHJldHVyblxuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHJldHVyblxuICAgIGlmICghY29tbXVuaWNhdGlvbnNDb250cm9sbGVyKSByZXR1cm5cbiAgICBpZiAodGhpcy5mbHVzaGluZykgcmV0dXJuXG5cbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlUXVldWUuc2hpZnQoKVxuXG4gICAgdGhpcy5mbHVzaGluZyA9IHRydWVcblxuICAgIGRjbC5jYWxsUnBjKGNvbW11bmljYXRpb25zQ29udHJvbGxlci5ycGNIYW5kbGUsICdzZW5kJywgW21lc3NhZ2VdKS50aGVuKFxuICAgICAgKF8pID0+IHtcbiAgICAgICAgdGhpcy5mbHVzaGluZyA9IGZhbHNlXG4gICAgICAgIHRoaXMuZmx1c2goKVxuICAgICAgfSxcbiAgICAgIChlKSA9PiB7XG4gICAgICAgIHRoaXMuZmx1c2hpbmcgPSBmYWxzZVxuICAgICAgICBlcnJvcignRXJyb3IgZmx1c2hpbmcgTWVzc2FnZUJ1cycsIGUpXG4gICAgICB9XG4gICAgKVxuICB9XG59XG4iLCIvLyBDT1JFIERFUEVOREVOQ0lFU1xuZXhwb3J0ICogZnJvbSAnLi9lY3MvQXR0YWNoYWJsZSdcbmV4cG9ydCAqIGZyb20gJy4vZWNzL0VuZ2luZSdcbmV4cG9ydCAqIGZyb20gJy4vZWNzL0NvbXBvbmVudCdcbmV4cG9ydCAqIGZyb20gJy4vZWNzL0NvbXBvbmVudEdyb3VwJ1xuZXhwb3J0ICogZnJvbSAnLi9lY3MvRW50aXR5J1xuZXhwb3J0ICogZnJvbSAnLi9lY3MvSUVudGl0eSdcbmV4cG9ydCAqIGZyb20gJy4vZWNzL1Rhc2snXG5leHBvcnQgKiBmcm9tICcuL2Vjcy9oZWxwZXJzJ1xuZXhwb3J0ICogZnJvbSAnLi9lY3MvT2JzZXJ2YWJsZSdcbmV4cG9ydCAqIGZyb20gJy4vZWNzL1VJVmFsdWUnXG5leHBvcnQgKiBmcm9tICcuL2Vjcy9FdmVudE1hbmFnZXInXG5leHBvcnQgKiBmcm9tICcuL2Vjcy9Vc2VyQWN0aW9ucydcblxuaW1wb3J0IHsgX2luaXRFdmVudE9ic2VydmFibGVzIH0gZnJvbSAnLi9kZWNlbnRyYWxhbmQvRXZlbnRzJ1xuaW1wb3J0IHsgRGVjZW50cmFsYW5kU3luY2hyb25pemF0aW9uU3lzdGVtIH0gZnJvbSAnLi9kZWNlbnRyYWxhbmQvSW1wbGVtZW50YXRpb24nXG5cbi8vIEVDUyBJTklUSUFMSVpBVElPTlxuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSAnLi9lY3MvRW5naW5lJ1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi9lY3MvRW50aXR5J1xuXG5jb25zdCBlbnRpdHkgPSBuZXcgRW50aXR5KCdzY2VuZScpXG47KGVudGl0eSBhcyBhbnkpLnV1aWQgPSAnMCdcblxuLy8gSW5pdGlhbGl6ZSBlbmdpbmVcbi8qKiBAcHVibGljICovXG5jb25zdCBlbmdpbmUgPSBuZXcgRW5naW5lKGVudGl0eSlcblxuaW1wb3J0IHsgRGlzcG9zYWJsZUNvbXBvbmVudCB9IGZyb20gJy4vZWNzL0NvbXBvbmVudCdcbkRpc3Bvc2FibGVDb21wb25lbnQuZW5naW5lID0gZW5naW5lXG5cbi8vIEluaXRpYWxpemUgRGVjZW50cmFsYW5kIGludGVyZmFjZVxuaWYgKHR5cGVvZiBkY2wgIT09ICd1bmRlZmluZWQnKSB7XG4gIGVuZ2luZS5hZGRTeXN0ZW0obmV3IERlY2VudHJhbGFuZFN5bmNocm9uaXphdGlvblN5c3RlbShkY2wpLCBJbmZpbml0eSlcbiAgX2luaXRFdmVudE9ic2VydmFibGVzKGRjbClcbn1cblxuaW1wb3J0IHsgdXVpZEV2ZW50U3lzdGVtLCBwb2ludGVyRXZlbnRTeXN0ZW0sIHJheWNhc3RFdmVudFN5c3RlbSB9IGZyb20gJy4vZGVjZW50cmFsYW5kL1N5c3RlbXMnXG5cbi8vIEluaXRpYWxpemUgVVVJRCBFdmVudHMgc3lzdGVtXG5lbmdpbmUuYWRkU3lzdGVtKHV1aWRFdmVudFN5c3RlbSlcbi8vIEluaXRpYWxpemUgUG9pbnRlciBFdmVudHMgU3lzdGVtXG5lbmdpbmUuYWRkU3lzdGVtKHBvaW50ZXJFdmVudFN5c3RlbSlcbi8vIEluaXRpYWxpemUgUmF5Y2FzdCBFdmVudHMgU3lzdGVtXG5lbmdpbmUuYWRkU3lzdGVtKHJheWNhc3RFdmVudFN5c3RlbSlcblxuLy8gREVDRU5UUkFMQU5EIERFUEVOREVOQ0lFU1xuZXhwb3J0ICogZnJvbSAnLi9kZWNlbnRyYWxhbmQvbWF0aCdcbmV4cG9ydCAqIGZyb20gJy4vZGVjZW50cmFsYW5kL1R5cGVzJ1xuZXhwb3J0ICogZnJvbSAnLi9kZWNlbnRyYWxhbmQvQ29tcG9uZW50cydcbmV4cG9ydCAqIGZyb20gJy4vZGVjZW50cmFsYW5kL1N5c3RlbXMnXG5leHBvcnQgKiBmcm9tICcuL2RlY2VudHJhbGFuZC9FdmVudHMnXG5leHBvcnQgKiBmcm9tICcuL2RlY2VudHJhbGFuZC9DYW1lcmEnXG5leHBvcnQgKiBmcm9tICcuL2RlY2VudHJhbGFuZC9BbmltYXRpb25TdGF0ZSdcbmV4cG9ydCAqIGZyb20gJy4vZGVjZW50cmFsYW5kL0lucHV0J1xuZXhwb3J0ICogZnJvbSAnLi9kZWNlbnRyYWxhbmQvQXVkaW8nXG5leHBvcnQgKiBmcm9tICcuL2RlY2VudHJhbGFuZC9HaXptb3MnXG5leHBvcnQgKiBmcm9tICcuL2RlY2VudHJhbGFuZC9VSVNoYXBlcydcbmV4cG9ydCAqIGZyb20gJy4vZGVjZW50cmFsYW5kL0F2YXRhclNoYXBlJ1xuZXhwb3J0ICogZnJvbSAnLi9kZWNlbnRyYWxhbmQvVUlFdmVudHMnXG5leHBvcnQgKiBmcm9tICcuL2RlY2VudHJhbGFuZC9NZXNzYWdlQnVzJ1xuZXhwb3J0ICogZnJvbSAnLi9kZWNlbnRyYWxhbmQvUGh5c2ljc0Nhc3QnXG5cbmV4cG9ydCB7IGVuZ2luZSB9XG4iXSwibmFtZXMiOlsiVUlWYWx1ZVR5cGUiLCJPcmllbnRhdGlvbiIsIlNwYWNlIiwiSW5wdXRFdmVudFR5cGUiLCJDYW1lcmFNb2RlIiwiTGFuZFJvbGUiLCJBY3Rpb25CdXR0b24iLCJDTEFTU19JRCIsIkF2YXRhck1vZGlmaWVycyIsIlBpY3R1cmVGcmFtZVN0eWxlIiwiRm9udHMiLCJUcmFuc3BhcmVuY3lNb2RlIiwiVmlkZW9TdGF0dXMiLCJHaXptbyIsIlVJU3RhY2tPcmllbnRhdGlvbiJdLCJtYXBwaW5ncyI6Ijs7O0VBRUE7Ozs7OztNQUtBO09BVUM7O01BUGlCLGlCQUFNLEdBQWUsRUFBRSx1QkFBdUIsRUFBRSxVQUFDLE1BQWUsSUFBSyxPQUFBLE1BQU0sQ0FBQyxZQUFZLEdBQUEsRUFBVyxDQUFBOztNQUVuRyw4QkFBbUIsR0FBZSxFQUFFLHVCQUF1QixFQUFFLFVBQUMsTUFBZSxJQUFLLE9BQUEsTUFBTSxDQUFDLHVCQUF1QixHQUFBLEVBQVcsQ0FBQTtNQUs3SSxpQkFBQztHQVZEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VDUEEsSUFBSSxlQUFlLEdBQUcsQ0FBQyxDQUFBO0VBSXZCOzs7OztXQUtnQixHQUFHO01BQUMsY0FBYztXQUFkLFVBQWMsRUFBZCxxQkFBYyxFQUFkLElBQWM7VUFBZCx5QkFBYzs7TUFDaEMsSUFBSSxPQUFPLEdBQUcsS0FBSyxXQUFXLEVBQUU7VUFDOUIsR0FBRyxDQUFDLEdBQUcsT0FBUCxHQUFHLDJCQUFRLElBQUksSUFBQztPQUNqQjtXQUFNOztVQUVMLE9BQU8sQ0FBQyxHQUFHLE9BQVgsT0FBTyxpQkFBSyxRQUFRLFVBQUssSUFBSSxJQUFDO09BQy9CO0VBQ0gsQ0FBQztFQUVEOzs7Ozs7V0FNZ0IsS0FBSyxDQUFDLEtBQXFCLEVBQUUsSUFBVTtNQUNyRCxJQUFJLE9BQU8sR0FBRyxLQUFLLFdBQVcsRUFB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QUFHLENBQUMsQ0FBQTtVQUMvQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtVQUN4QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtVQUN4QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFBO1VBRVYsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7VUFDeEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO1VBQy9CLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1VBQ3hDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUE7VUFFVixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtVQUN4QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtVQUN4QyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FB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SSxLQUFLLENBQUMsQ0FBQTtVQUN2RCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsRUFBRSxJQUFJLEtBQUssQ0FBQyxDQUFBO1VBQzNELElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxFQUFFLElBQUksS0FBSyxDQUFDLENBQUE7VUFDM0QsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLEVBQUUsSUFBSSxLQUFLLENBQUMsQ0FBQTtVQUM3RCxJQUFJLE1BQU0sR0FBRyxHQUFHLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxDQUFBO1VBQ3ZDLElBQUksTUFBTSxHQUFHLEdBQUcsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUE7VUFDcEMsSUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQTtVQUNuQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFBO1VBQ2IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQTtVQUMvQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFBO1VBQ2IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUE7VUFDakIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxHQUFHLFFBQVEsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1VBQzFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxHQUFHLE9BQU8sSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUE7VUFDMUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQTtVQUM5QixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxHQUFHLGlCQUFpQixDQUFBO1VBQy9CLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQTtVQUMzQixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEdBQUcsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQTtVQUU5QyxNQUFNLENBQUMsY0FBYyxFQUFFLENBQUE7T0FDeEI7Ozs7OztNQU9hLHFCQUFjLEdBQTVCLFVBQTZCLE1BQWM7VUFDekMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtPQUNoRTs7Ozs7O01BTWEscUJBQWMsR0FBNUIsVUFBNkIsTUFBYztVQUN6QyxPQUFPO2NBQ0wsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Y0FDWixNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztjQUNaLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2NBQ1osTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Y0FDWixNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztjQUNaLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2NBQ1osTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Y0FDWixNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztjQUNaLE1BQU0sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1dBQ2QsQ0FBQTtPQUNGOzs7Ozs7TUFPYSxnQkFBUyxHQUF2QixVQUF3QixNQUFjO1VBQ3BDLElBQUksTUFBTSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUE7VUFDekIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUE7VUFDckMsT0FBTyxNQUFNLENBQUE7T0FDZDs7Ozs7O01BT2EscUJBQWMsR0FBNUIsVUFBNkIsTUFBYyxFQUFFLE1BQWM7VUFDekQsSUFBTSxFQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQTtVQUNwQixJQUFNLEVBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFBO1VBQ3BCLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUE7VUFDYixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFBO1VBQ2IsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtVQUNiLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUE7VUFFZCxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFBO1VBQ2IsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtVQUNiLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUE7VUFDYixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1VBRWQsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtVQUNiLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUE7VUFDYixFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1VBQ2YsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQTtVQUVmLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUE7VUFDZCxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFBO1VBQ2QsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQTtVQUNmLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUE7O1VBRWYsTUFBTSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUE7T0FDMUU7Ozs7OztNQU9hLGlCQUFVLEdBQXhCLFVBQXlCLEtBQVk7VUFDbkMsSUFBSSxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQTtVQUN6QixNQUFNLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQTtVQUNyQyxPQUFPLE1BQU0sQ0FBQTtPQUNkOzs7Ozs7TUFPYSxzQkFBZSxHQUE3QixVQUE4QixLQUFZLEVBQUUsTUFBYztVQUN4RCxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUE7VUFDakIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUE7VUFDdEIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUE7VUFDdEIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUE7VUFDdEIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1VBQ2pCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtVQUNsQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7VUFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FDcEIsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQ1osS0FBSyxHQUFHLENBQUMsRUFDVCxLQUFLLEdBQUcsQ0FBQyxFQUNULEdBQUcsRUFDSCxJQUFJLEdBQUcsQ0FBQyxFQUNSLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUNiLEtBQUssR0FBRyxDQUFDLEVBQ1QsR0FBRyxFQUNILElBQUksR0FBRyxDQUFDLEVBQ1IsS0FBSyxHQUFHLENBQUMsRUFDVCxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFDYixHQUFHLEVBQ0gsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQ2QsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQ2YsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQ2YsR0FBRyxFQUNILE1BQU0sQ0FDUCxDQUFBO09BQ0Y7Ozs7Ozs7O01BU2EsdUJBQWdCLEdBQTlCLFVBQStCLEtBQWMsRUFBRSxLQUFjLEVBQUUsS0FBYyxFQUFFLE1BQWM7VUFDM0YsTUFBTSxDQUFDLGVBQWUsQ0FDcEIsS0FBSyxDQUFDLENBQUMsRUFDUCxLQUFLLENBQUMsQ0FBQyxFQUNQLEtBQUssQ0FBQyxDQUFDLEVBQ1AsR0FBRyxFQUNILEtBQUssQ0FBQyxDQUFDLEVBQ1AsS0FBSyxDQUFDLENBQUMsRUFDUCxLQUFLLENBQUMsQ0FBQyxFQUNQLEdBQUcsRUFDSCxLQUFLLENBQUMsQ0FBQyxFQUNQLEtBQUssQ0FBQyxDQUFDLEVBQ1AsS0FBSyxDQUFDLENBQUMsRUFDUCxHQUFHLEVBQ0gsR0FBRyxFQUNILEdBQUcsRUFDSCxHQUFHLEVBQ0gsR0FBRyxFQUNILE1BQU0sQ0FDUCxDQUFBO09BQ0Y7Ozs7OztNQU9hLDBCQUFtQixHQUFqQyxVQUFrQyxJQUFnQixFQUFFLE1BQWM7VUFDaEUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFBO1VBQ3hCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQTtVQUN4QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7VUFDeEIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFBO1VBQ3hCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQTtVQUN4QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7VUFDeEIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFBO1VBQ3hCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQTtVQUN4QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7VUFFeEIsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQTtVQUNwQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUE7VUFDOUIsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFBO1VBQzlCLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFBO1VBRWxCLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQTtVQUM5QixNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFBO1VBQ3BDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxD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LENBQUE7VUFDdkMsSUFBTSxTQUFTLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFBO1VBQ3ZDLElBQU0sU0FBUyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQTtVQUN2QyxJQUFNLFNBQVMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUE7VUFDdkMsSUFBTSxTQUFTLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFBO1VBQ3ZDLElBQU0sU0FBUyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQTtVQUN2QyxJQUFNLFNBQVMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUE7VUFDdkMsSUFBTSxTQUFTLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFBO1VBQ3ZDLElBQU0sU0FBUyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQTtVQUN2QyxJQUFNLFNBQVMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUE7VUFDdkMsSUFBTSxTQUFTLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFBO1VBQ3ZDLElBQU0sU0FBUyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQTtVQUV2QyxJQUFNLFNBQVMsR0FBRyxFQUFFLEdBQUcsR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLFNBQVMsR0FBRyxHQUFHLEdBQUcsU0FBUyxDQUFDLENBQUE7VUFDeEUsSUFBTSxTQUFTLEdBQUcsRUFBRSxHQUFHLEdBQUcsU0FBUyxHQUFHLEdBQUcsR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFBO1VBQ3hFLElBQU0sU0FBUyxHQUFHLEVBQUUsR0FBRyxHQUFHLFNBQVMsR0FBRyxHQUFHLEdBQUcsU0FBUyxHQUFHLEdBQUcsR0FBRyxTQUFTLENBQUMsQ0FBQTtVQUN4RSxJQUFNLFNBQVMsR0FBRyxFQUFFLEdBQUcsR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLFNBQVMsR0FBRyxHQUFHLEdBQUcsU0FBUyxDQUFDLENBQUE7VUFFeEUsSUFBTSxTQUFTLEdBQUcsRUFBRSxHQUFHLEdBQUcsU0FBUyxHQUFHLEdBQUcsR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFBO1VBQ3hFLElBQU0sU0FBUyxHQUFHLEVBQUUsR0FBRyxHQUFHLFNBQVMsR0FBRyxHQUFHLEdBQUcsU0FBUyxHQUFHLEdBQUcsR0FBRyxTQUFTLENBQUMsQ0FBQTtVQUN4RSxJQUFNLFNBQVMsR0FBRyxFQUFFLEdBQUcsR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLFNBQVMsR0FBRyxHQUFHLEdBQUcsU0FBUyxDQUFDLENBQUE7VUFDeEUsSUFBTSxTQUFTLEdBQUcsRUFBRSxHQUFHLEdBQUcsU0FBUyxHQUFHLEdBQUcsR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFBO1VBRXhFLElBQU0sU0FBUyxHQUFHLEVBQUUsR0FBRyxHQUFHLFNBQVMsR0FBRyxHQUFHLEdBQUcsU0FBUyxHQUFHLEdBQUcsR0FBRyxTQUFTLENBQUMsQ0FBQTtVQUN4RSxJQUFNLFNBQVMsR0FBRyxFQUFFLEdBQUcsR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLFNBQVMsR0FBRyxHQUFHLEdBQUcsU0FBUyxDQUFDLENBQUE7VUFDeEUsSUFBTSxTQUFTLEdBQUcsRUFBRSxHQUFHLEdBQUcsU0FBUyxHQUFHLEdBQUcsR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFBO1VBQ3hFLElBQU0sU0FBUyxHQUFHLEVBQUUsR0FBRyxHQUFHLFNBQVMsR0FBRyxHQUFHLEdBQUcsU0FBUyxHQUFHLEdBQUcsR0FBRyxTQUFTLENBQUMsQ0FBQTtVQUV4RSxNQUFNLENBQUMsZUFBZSxDQUNwQixTQUFT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QU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQTtVQUNuRSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUE7VUFDcEUsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFBO1VBRXBFLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQTtVQUNuRSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUE7VUFDbkUsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFBO1VBQ3BFLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQTtVQUVwRSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUE7VUFDckUsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFBO1VBQ3JFLE1BQU0sQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQTtVQUN2RSxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUE7VUFFdkUsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFBO1VBQ3hFLE1BQU0sQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQTtVQUN4RSxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUE7VUFDekUsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFB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QUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxFQUFFOztrQkFFaEMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO2tCQUNwQixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7a0JBQ3ZDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO2VBQ1Y7bUJBQU07O2tCQUVMLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7a0JBQzFELEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtrQkFDMUcsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FB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cUIsRUFBc0IsRUFBRSxNQUFrQjtVQUM3RCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7VUFDckUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7VUFDdEUsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFBO1VBQ3JFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFBO1VBQ3RFLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7VUFDakMsT0FBTyxJQUFJLENBQUE7T0FDWjs7Ozs7O01BT00sb0NBQWUsR0FBdEIsVUFBdUIsRUFBc0I7VUFDM0MsSUFBSSxDQUFD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QUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFBO1VBQzdGLElBQUksSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1VBQ3pCLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFBO1VBQ3RGLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFBO1VBRXRGLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUE7T0FDOUM7Ozs7Ozs7TUFRYSxnQkFBUSxHQUF0QixVQUF1QixNQUFlLEVBQUUsTUFBZTtVQUNyRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQTtPQUMxRDs7Ozs7OztNQVFhLHVCQUFlLEdBQTdCLFVBQThCLE1BQXVCLEVBQUUsTUFBdUI7VUFDNUUsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFBO1VBQzNCLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQTtVQUMzQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtPQUNyQjs7Ozs7OztNQVFhLGNBQU0sR0FBcEIsVUFBcUIsTUFBdUIsRUFBRSxNQUF1QjtVQUNuRSxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQTtVQUN4QyxNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1VBQ3hCLE9BQU8sTUFBTSxDQUFBO09BQ2Q7Ozs7Ozs7O01BU2Esa0NBQTBCLEdBQXhDLFVBQXlDLENBQVUsRUFBRSxJQUFhLEVBQUUsSUFBYTtVQUMvRSxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQTtVQUM1QyxJQUFJLEVBQUUsS0FBSyxHQUFHLEVBQUU7Y0FDZCxPQUFPLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFBO1dBQ2pDO1VBQ0QsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtVQUMzQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQTtVQUN2RSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtVQUM3QyxPQUFPLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFBO09BQ2pDOzs7OztNQU1NLDBCQUFRLEdBQWY7VUFDRSxPQUFPLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQTtPQUM5Qzs7Ozs7TUFNTSw4QkFBWSxHQUFuQjtVQUNFLE9BQU8sU0FBUyxDQUFBO09BQ2pCOzs7OztNQU1NLDZCQUFXLEdBQWxCO1VBQ0UsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUE7VUFDdEIsSUFBSSxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO1VBQ25DLE9BQU8sSUFBSSxDQUFBO09BQ1o7Ozs7Ozs7O01BVU0seUJBQU8sR0FBZCxVQUFlLEtBQWlCLEVBQUUsS0FBaUI7VUFBakIsc0JBQUEsRUFBQSxTQUFpQjtVQUNqRCxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQTtVQUNyQixLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7VUFDekIsT0FBTyxJQUFJLENBQUE7T0FDWjs7Ozs7TUFNTSx5QkFBTyxHQUFkO1VBQ0UsSUFBSSxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQVUsQ0FBQTtVQUNoQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQTtVQUN2QixPQUFPLE1BQU0sQ0FBQTtPQUNkOzs7Ozs7TUFPTSwwQkFBUSxHQUFmLFVBQWdCLE1BQXVCO1VBQ3JDLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQTtVQUNqQixJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUE7VUFDakIsT0FBTyxJQUFJLENBQUE7T0FDWjs7Ozs7OztNQVFNLGdDQUFjLEdBQXJCLFVBQXNCLENBQVMsRUFBRSxDQUFTO1VBQ3hDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1VBQ1YsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7VUFDVixPQUFPLElBQUksQ0FBQTtPQUNaOzs7Ozs7O01BUU0scUJBQUcsR0FBVixVQUFXLENBQVMsRUFBRSxDQUFTO1VBQzdCLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7T0FDakM7Ozs7OztNQU1NLHFCQUFHLEdBQVYsVUFBVyxXQUE0QjtVQUNyQyxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQTtPQUNuRTs7Ozs7OztNQVFNLDBCQUFRLEdBQWYsVUFBZ0IsV0FBNEIsRUFBRSxNQUFlO1VBQzNELE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFBO1VBQ2pDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFBO1VBQ2pDLE9BQU8sSUFBSSxDQUFBO09BQ1o7Ozs7OztNQU9NLDRCQUFVLEdBQWpCLFVBQWtCLFdBQTRCO1VBQzVDLElBQUksQ0FBQyxDQUFDLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQTtVQUN2QixJQUFJLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUE7VUFDdkIsT0FBTyxJQUFJLENBQUE7T0FDWjs7Ozs7O01BT00sNEJBQVUsR0FBakIsVUFBa0IsV0FBNEI7VUFDNUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUE7T0FDbkU7Ozs7OztNQU9NLDBCQUFRLEdBQWYsVUFBZ0IsV0FBNEI7VUFDMUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUE7T0FDbkU7Ozs7Ozs7TUFRTSwrQkFBYSxHQUFwQixVQUFxQixXQUE0QixFQUFFLE1BQWU7VUFDaEUsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUE7VUFDakMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUE7VUFDakMsT0FBTyxJQUFJLENBQUE7T0FDWjs7Ozs7O01BTU0saUNBQWUsR0FBdEIsVUFBdUIsV0FBNEI7VUFDakQsSUFBSSxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFBO1VBQ3ZCLElBQUksQ0FBQyxDQUFDLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQTtVQUN2QixPQUFPLElBQUksQ0FBQTtPQUNaOzs7Ozs7TUFPTSxpQ0FBZSxHQUF0QixVQUF1QixXQUE0QjtVQUNqRCxJQUFJLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUE7VUFDdkIsSUFBSSxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFBO1VBQ3ZCLE9BQU8sSUFBSSxDQUFBO09BQ1o7Ozs7OztNQU9NLDBCQUFRLEdBQWYsVUFBZ0IsV0FBNEI7VUFDMUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUE7T0FDbkU7Ozs7Ozs7TUFRTSwrQkFBYSxHQUFwQixVQUFxQixXQUE0QixFQUFFLE1BQWU7VUFDaEUsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUE7VUFDakMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUE7VUFDakMsT0FBTyxJQUFJLENBQUE7T0FDWjs7Ozs7OztNQVFNLGtDQUFnQixHQUF2QixVQUF3QixDQUFTLEVBQUUsQ0FBUztVQUMxQyxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7T0FDM0M7Ozs7OztNQU9NLHdCQUFNLEdBQWIsVUFBYyxXQUE0QjtVQUN4QyxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQTtPQUNuRTs7Ozs7OztNQVFNLDZCQUFXLEdBQWxCLFVBQW1CLFdBQTRCLEVBQUUsTUFBZTtVQUM5RCxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQTtVQUNqQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQTtVQUNqQyxPQUFPLElBQUksQ0FBQTtPQUNaOzs7Ozs7TUFPTSwrQkFBYSxHQUFwQixVQUFxQixXQUE0QjtVQUMvQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFBO09BQzNDOzs7OztNQU1NLHdCQUFNLEdBQWI7VUFDRSxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtPQUNyQzs7Ozs7O01BT00sOEJBQVksR0FBbkIsVUFBb0IsS0FBYTtVQUMvQixJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQTtVQUNmLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFBO1VBQ2YsT0FBTyxJQUFJLENBQUE7T0FDWjs7Ozs7O01BT00sdUJBQUssR0FBWixVQUFhLEtBQWE7VUFDeEIsSUFBSSxNQUFNLEdBQUcsSUFBSSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1VBQzlCLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFBO1VBQzlCLE9BQU8sTUFBTSxDQUFBO09BQ2Q7Ozs7Ozs7TUFRTSw0QkFBVSxHQUFqQixVQUFrQixLQUFhLEVBQUUsTUFBZTtVQUM5QyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFBO1VBQ3pCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUE7VUFDekIsT0FBTyxJQUFJLENBQUE7T0FDWjs7Ozs7OztNQVFNLGtDQUFnQixHQUF2QixVQUF3QixLQUFhLEVBQUUsTUFBZTtVQUNwRCxNQUFNLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFBO1VBQzFCLE1BQU0sQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUE7VUFDMUIsT0FBTyxJQUFJLENBQUE7T0FDWjs7Ozs7O01BT00sd0JBQU0sR0FBYixVQUFjLFdBQTRCO1VBQ3hDLE9BQU8sV0FBVyxJQUFJLElBQUksQ0FBQyxDQUFDLEtBQUssV0FBVyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUE7T0FDM0U7Ozs7Ozs7TUFRTSxtQ0FBaUIsR0FBeEIsVUFBeUIsV0FBNEIsRUFBRSxPQUF5QjtVQUF6Qix3QkFBQSxFQUFBLGlCQUF5QjtVQUM5RSxRQUNFLFdBQVc7Y0FDWCxNQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUM7Y0FDcEQsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLEVBQ3JEO09BQ0Y7Ozs7O01BTU0sdUJBQUssR0FBWjtVQUNFLE9BQU8sSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtPQUMzRDs7Ozs7TUFNTSx1QkFBSyxHQUFaO1VBQ0UsT0FBTyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtPQUM3RTs7Ozs7O01BUU0sd0JBQU0sR0FBYjtVQUNFLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7T0FDcEQ7Ozs7O01BTU0sK0JBQWEsR0FBcEI7VUFDRSxPQUFPLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7T0FDekM7Ozs7OztNQVFNLDJCQUFTLEdBQWhCO1VBQ0UsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFBO1VBRXZCLElBQUksR0FBRyxLQUFLLENBQUMsRUFBRTtjQUNiLE9BQU8sSUFBSSxDQUFBO1dBQ1o7VUFFRCxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFBO1VBRW5CLElBQUksQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFBO1VBQ2IsSUFBSSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUE7VUFFYixPQUFPLElBQUksQ0FBQTtPQUNaOzs7OztNQU1NLHVCQUFLLEdBQVo7VUFDRSxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO09BQ25DO01BQ0gsY0FBQztFQUFELENBQUM7O0VDNXBCRDs7Ozs7Ozs7Ozs7TUFnQ0U7O01BRVMsVUFBbUI7O01BRW5CLFFBQWlCOztNQUVqQixRQUFpQjtVQUpqQixlQUFVLEdBQVYsVUFBVSxDQUFTO1VBRW5CLGFBQVEsR0FBUixRQUFRLENBQVM7VUFFakIsYUFBUSxHQUFSLFFBQVEsQ0FBUztVQUV4QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1VBQzVELElBQUksVUFBVSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxDQUFBO1VBQ25GLElBQUksUUFBUSxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFBO1VBQzdFLElBQUksR0FBRyxHQUNMLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxLQUFLLFVBQVUsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFBO1VBRW5ILElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxPQUFPLENBQzVCLENBQUMsVUFBVSxJQUFJLFFBQVEsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsSUFBSSxVQUFVLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQ3ZGLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLElBQUksUUFBUSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxJQUFJLFVBQVUsSUFBSSxHQUFHLENBQ3hGLENBQUE7VUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQTtVQUVqRSxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtVQUUzRSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFBO1VBQ2xDLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtVQUMxRSxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUE7O1VBRzFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRTtjQUNwQixFQUFFLElBQUksS0FBSyxDQUFBO1dBQ1o7VUFDRCxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUU7Y0FDcEIsRUFBRSxJQUFJLEtBQUssQ0FBQTtXQUNaO1VBQ0QsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFO2NBQ3BCLEVBQUUsSUFBSSxLQUFLLENBQUE7V0FDWjtVQUNELElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRTtjQUNwQixFQUFFLElBQUksS0FBSyxDQUFBO1dBQ1o7VUFFRCxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHRCxtQkFBVyxDQUFDLEVBQUUsR0FBR0EsbUJBQVcsQ0FBQyxHQUFHLENBQUE7VUFDakUsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLEtBQUtBLG1CQUFXLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFBO09BQ3hGO01BQ0gsV0FBQztFQUFELENBQUM7O0VDOUVEOzs7OztNQUlBO09BT0M7O01BTGUsTUFBQyxHQUFZLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUE7O01BRXZDLE1BQUMsR0FBWSxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBOztNQUV2QyxNQUFDLEdBQVksSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQTtNQUN2RCxXQUFDO0dBUEQ7O0VDTkE7Ozs7O01BSUE7T0FrQ0M7Ozs7Ozs7Ozs7TUF4QmUsdUJBQVcsR0FBekIsVUFBMEIsQ0FBUyxFQUFFLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVU7O1VBRWpGLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUE7VUFDNUIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFBO1VBQ3hCLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUE7VUFFZixJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUE7VUFDaEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtjQUMxQixJQUFJLFNBQVMsR0FBRyxRQUFRLEdBQUcsUUFBUSxDQUFBO2NBQ25DLElBQUksU0FBUyxHQUFHLFNBQVMsR0FBRyxRQUFRLENBQUE7Y0FFcEMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLFNBQVMsR0FBRyxFQUFFLEdBQUcsU0FBUyxHQUFHLEVBQUUsR0FBRyxRQUFRLENBQUE7Y0FDdkQsSUFBSSxLQUFLLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxFQUFFLEdBQUcsU0FBUyxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsUUFBUSxHQUFHLEVBQUUsQ0FBQyxDQUFBO2NBQ25FLFFBQVEsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksS0FBSyxDQUFBO2NBQzNCLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFBO1dBQzlDOztVQUdELFFBQ0UsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFFBQVEsRUFBRSxDQUFDLENBQUMsR0FBRyxRQUFRLEdBQUcsRUFBRTtjQUM3QyxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUU7Y0FDL0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQ3RCO09BQ0Y7TUFDSCxrQkFBQztFQUFELENBQUM7O0VDdEJEOzs7Ozs7Ozs7Ozs7TUFZRTs7OztNQUlTLENBQWE7Ozs7TUFJYixDQUFhOzs7O01BSWIsQ0FBYTs7OztNQUliLENBQWE7VUFaYixrQkFBQSxFQUFBLEtBQWE7VUFJYixrQkFBQSxFQUFBLEtBQWE7VUFJYixrQkFBQSxFQUFBLEtBQWE7VUFJYixrQkFBQSxFQUFBLEtBQWE7VUFaYixNQUFDLEdBQUQsQ0FBQyxDQUFZO1VBSWIsTUFBQyxHQUFELENBQUMsQ0FBWTtVQUliLE1BQUMsR0FBRCxDQUFDLENBQVk7VUFJYixNQUFDLEdBQUQsQ0FBQyxDQUFZO09BQ2xCOzs7Ozs7O01BU1Usb0JBQWEsR0FBM0IsVUFBNEIsR0FBVztVQUNyQyxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtjQUNuRCxPQUFPLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO1dBQ3RDO1VBRUQsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO1VBQ3pDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtVQUN6QyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUE7VUFDekMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO1VBRXpDLE9BQU8sTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtPQUNuQzs7Ozs7Ozs7TUFTYSxXQUFJLEdBQWxCLFVBQW1CLElBQVksRUFBRSxLQUFhLEVBQUUsTUFBYztVQUM1RCxJQUFJLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQTtVQUMzQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFBO1VBQzdDLE9BQU8sTUFBTSxDQUFBO09BQ2Q7Ozs7Ozs7O01BU2EsZ0JBQVMsR0FBdkIsVUFBd0IsSUFBWSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsTUFBYztVQUNqRixNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFBO1VBQy9DLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUE7VUFDL0MsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQTtVQUMvQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFBO09BQ2hEOzs7OztNQU1hLFVBQUcsR0FBakI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO09BQ2xDOzs7OztNQUthLFlBQUssR0FBbkI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO09BQ2xDOzs7OztNQUthLFdBQUksR0FBbEI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO09BQ2xDOzs7OztNQUthLFlBQUssR0FBbkI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO09BQzlCOzs7OztNQUthLFlBQUssR0FBbkI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO09BQzlCOzs7OztNQUthLGFBQU0sR0FBcEI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFBO09BQ2xDOzs7OztNQUthLGNBQU8sR0FBckI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO09BQzlCOzs7OztNQUthLGFBQU0sR0FBcEI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO09BQzlCOzs7OztNQUthLFdBQUksR0FBbEI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO09BQ3RDOzs7OztNQUthLFdBQUksR0FBbEI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO09BQ3BDOzs7OztNQUthLFlBQUssR0FBbkI7VUFDRSxPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsRUFB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QUE7V0FDcEMsQ0FBQyxDQUFBO1VBRUYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtjQUN4QyxHQUFHLEVBQUUsY0FBTSxPQUFBLEtBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEdBQUE7V0FDcEMsQ0FBQyxDQUFBO1VBRUYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtjQUN4QyxHQUFHLEVBQUUsY0FBTSxPQUFBLEtBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEdBQUE7V0FDcEMsQ0FBQyxDQUFBO1VBRUYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtjQUM3QyxHQUFHLEVBQUUsY0FBTSxPQUFBLEtBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLEdBQUE7V0FDekMsQ0FBQyxDQUFBO1VBRUYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtjQUM3QyxHQUFHLEVBQUUsY0FBTSxPQUFBLEtBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLEdBQUE7V0FDekMsQ0FBQyxDQUFBO1VBRUYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtjQUM3QyxHQUFHLEVBQUUsY0FBTSxPQUFBLEtBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLEdBQUE7V0FDekMsQ0FBQyxDQUFBO1VBRUYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtjQUM1QyxHQUFHLEVBQUUsY0FBTSxPQUFBLEtBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEdBQUE7V0FDcEMsQ0FBQyxDQUFBO1VBRUYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtjQUM1QyxHQUFHLEVBQUUsY0FBTSxPQUFBLEtBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFD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LEtBQUssQ0FBQztjQUFFLE9BQU07VUFDMUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTO2NBQUUsT0FBTTtVQUMzQixJQUFJLENBQUMsd0JBQXdCO2NBQUUsT0FBTTtVQUNyQyxJQUFJLElBQUksQ0FBQyxRQUFRO2NBQUUsT0FBTTtVQUV6QixJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFBO1VBRXpDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFBO1VBRXBCLEdBQUcsQ0FBQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUNyRSxVQUFDLENBQUM7Y0FDQSxLQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQTtjQUNyQixLQUFJLENBQUMsS0FBSyxFQUFFLENBQUE7V0FDYixFQUNELFVBQUMsQ0FBQztjQUNBLEtBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFBO2NBQ3JCLEtBQUssQ0FBQywyQkFBMkIsRUFBRSxDQUFDLENBQUMsQ0FBQTtXQUN0QyxDQUNGLENBQUE7T0FDRjtNQUNILGlCQUFDO0VBQUQsQ0FBQzs7RUN2R0Q7RUFxQkEsSUFBTSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQ2pDO0VBQUMsTUFBYyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUE7RUFFM0I7RUFDQTtNQUNNLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUM7RUFHakMsbUJBQW1CLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtFQUVuQztFQUNBLElBQUksT0FBTyxHQUFHLEtBQUssV0FBVyxFQUFFO01BQzlCLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxpQ0FBaUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQTtNQUN0RSxxQkFBcUIsQ0FBQyxHQUFHLENBQUMsQ0FBQTtHQUMzQjtFQUlEO0VBQ0EsTUFBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQTtFQUNqQztFQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtFQUNwQztFQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsifQ==\n\n//# sourceURL=dcl://node_modules/decentraland-ecs/dist/src/index.js")
/*! "src/game.ts" 61bb6c3f08162c5efc11a6e218eede0865342cda126dea08212639c8336f832d */ eval("var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __values = (this && this.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\ndefine(\"sync-component\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.SynchronizableObservableComponent = exports.isSyncComponent = exports.textDecode = exports.textEncode = void 0;\r\n    function textEncode(value) {\r\n        var stringValue = typeof value === 'string' ? value : JSON.stringify(value);\r\n        return new Uint8Array(stringValue.split('').map(function (c) { return c.charCodeAt(0); }));\r\n    }\r\n    exports.textEncode = textEncode;\r\n    function textDecode(value) {\r\n        return new Uint8Array(value).reduce(function (acc, char) { return acc + String.fromCharCode(char); }, '');\r\n    }\r\n    exports.textDecode = textDecode;\r\n    var isSyncComponent = function (component) {\r\n        return component instanceof SynchronizableObservableComponent;\r\n    };\r\n    exports.isSyncComponent = isSyncComponent;\r\n    var SynchronizableObservableComponent = /** @class */ (function (_super) {\r\n        __extends(SynchronizableObservableComponent, _super);\r\n        function SynchronizableObservableComponent() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        SynchronizableObservableComponent.prototype.put = function (serialized) {\r\n            this.data = this.data || {};\r\n            var state = JSON.parse(textDecode(serialized));\r\n            for (var key in state) {\r\n                this.data[key] = state[key];\r\n            }\r\n            this.dirty = false;\r\n        };\r\n        SynchronizableObservableComponent.prototype.getSyncData = function () {\r\n            return textEncode(this.data);\r\n        };\r\n        return SynchronizableObservableComponent;\r\n    }(ObservableComponent));\r\n    exports.SynchronizableObservableComponent = SynchronizableObservableComponent;\r\n});\r\ndefine(\"door-component\", [\"require\", \"exports\", \"sync-component\"], function (require, exports, sync_component_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.DoorOpenComponent = void 0;\r\n    var DoorOpenComponent = /** @class */ (function (_super) {\r\n        __extends(DoorOpenComponent, _super);\r\n        function DoorOpenComponent() {\r\n            var _this = _super !== null && _super.apply(this, arguments) || this;\r\n            _this.open = true;\r\n            return _this;\r\n        }\r\n        DoorOpenComponent_1 = DoorOpenComponent;\r\n        var DoorOpenComponent_1;\r\n        __decorate([\r\n            DoorOpenComponent_1.field\r\n        ], DoorOpenComponent.prototype, \"open\", void 0);\r\n        DoorOpenComponent = DoorOpenComponent_1 = __decorate([\r\n            Component(\"syncstate\")\r\n        ], DoorOpenComponent);\r\n        return DoorOpenComponent;\r\n    }(sync_component_1.SynchronizableObservableComponent));\r\n    exports.DoorOpenComponent = DoorOpenComponent;\r\n});\r\ndefine(\"crdt/types\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n});\r\ndefine(\"crdt/index\", [\"require\", \"exports\", \"crdt/types\"], function (require, exports, types_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.crdtProtocol = void 0;\r\n    __exportStar(types_1, exports);\r\n    /**\r\n     * Compare raw data.\r\n     * @internal\r\n     */\r\n    function sameData(a, b) {\r\n        if (a === b)\r\n            return true;\r\n        if (a instanceof Uint8Array && b instanceof Uint8Array) {\r\n            if (a.byteLength !== b.byteLength) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.byteLength; i++) {\r\n                if (a[i] !== b[i]) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return a === b;\r\n    }\r\n    /**\r\n     * @public\r\n     * CRDT protocol.\r\n     * Stores the latest state, and decides whenever we have\r\n     * to process and store the new data in case its an update, or\r\n     * to discard and send our local value cause remote it's outdated.\r\n     */\r\n    function crdtProtocol(sendUpdates, id) {\r\n        /**\r\n         * UUID identifier\r\n         * @internal\r\n         */\r\n        var uuid = id;\r\n        /**\r\n         * Local state where we store the latest lamport timestamp\r\n         * and the raw data value\r\n         * @internal\r\n         */\r\n        var state = {};\r\n        /**\r\n         * We should call this fn in order to update the state\r\n         * @internal\r\n         */\r\n        function updateState(key, data, remoteTimestamp) {\r\n            var _a;\r\n            var timestamp = Math.max(remoteTimestamp, ((_a = state[key]) === null || _a === void 0 ? void 0 : _a.timestamp) || 0);\r\n            return (state[key] = { timestamp: timestamp, data: data });\r\n        }\r\n        /**\r\n         * Create an event for the specified key and store the new data and\r\n         * lamport timestmap incremented by one in the state.\r\n         * @public\r\n         */\r\n        function createEvent(key, data) {\r\n            var _a;\r\n            // Increment the timestamp\r\n            var timestamp = (((_a = state[key]) === null || _a === void 0 ? void 0 : _a.timestamp) || 0) + 1;\r\n            updateState(key, data, timestamp);\r\n            return { key: key, data: data, timestamp: timestamp };\r\n        }\r\n        /**\r\n         * Send generated message\r\n         * @public\r\n         */\r\n        function sendMessage(message) {\r\n            return sendUpdates(message);\r\n        }\r\n        /**\r\n         * Process the received message only if the lamport number is higher than\r\n         * the current one. If not, seems we have a race condition.\r\n         * The bigger raw data wins and spreads it to the network\r\n         * @public\r\n         */\r\n        function processMessage(message) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                // if both timestamps are equal, then we have a race condition.\r\n                // We should compare the raw data and the higher one wins.\r\n                function compareData(current, data) {\r\n                    return current > data;\r\n                }\r\n                var key, data, timestamp, current;\r\n                return __generator(this, function (_a) {\r\n                    key = message.key, data = message.data, timestamp = message.timestamp;\r\n                    current = state[key];\r\n                    // Somehow the message that we sent came back as an echo.\r\n                    if (sameData(current === null || current === void 0 ? void 0 : current.data, data)) {\r\n                        updateState(key, data, timestamp);\r\n                        return [2 /*return*/];\r\n                    }\r\n                    // If the received timestamp is > than our current value, store it\r\n                    if (!current || current.timestamp < timestamp) {\r\n                        return [2 /*return*/, updateState(key, data, timestamp).data];\r\n                    }\r\n                    // If our current timestamp is higher, then send the message\r\n                    // to the network with our state\r\n                    if (current.timestamp > timestamp) {\r\n                        return [2 /*return*/, sendMessage({\r\n                                key: key,\r\n                                data: current.data,\r\n                                timestamp: current.timestamp\r\n                            })];\r\n                    }\r\n                    if (compareData(current.data, data)) {\r\n                        return [2 /*return*/, sendMessage({\r\n                                key: key,\r\n                                data: current.data,\r\n                                timestamp: current.timestamp\r\n                            })];\r\n                    }\r\n                    return [2 /*return*/, updateState(key, data, timestamp).data];\r\n                });\r\n            });\r\n        }\r\n        /**\r\n         * Returns the current state\r\n         * @public\r\n         */\r\n        function getState() {\r\n            return __assign({}, state);\r\n        }\r\n        /**\r\n         * Returns the client uuid\r\n         * @public\r\n         */\r\n        function getUUID() {\r\n            return uuid;\r\n        }\r\n        return {\r\n            createEvent: createEvent,\r\n            sendMessage: sendMessage,\r\n            processMessage: processMessage,\r\n            getState: getState,\r\n            getUUID: getUUID\r\n        };\r\n    }\r\n    exports.crdtProtocol = crdtProtocol;\r\n});\r\ndefine(\"system\", [\"require\", \"exports\", \"crdt/index\", \"sync-component\"], function (require, exports, index_1, sync_component_2) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.CRDTSystem = void 0;\r\n    /**\r\n     * Message helpers\r\n     */\r\n    function parseData(value) {\r\n        try {\r\n            var msg_1 = JSON.parse(value);\r\n            var buff = Object.keys(msg_1.data).map(function (k) { return msg_1.data[k]; });\r\n            var data = new Uint8Array(buff);\r\n            return {\r\n                key: msg_1.key,\r\n                timestamp: msg_1.timestamp,\r\n                data: data\r\n            };\r\n        }\r\n        catch (_e) { }\r\n        return;\r\n    }\r\n    function getKey(entityUUID, componentName) {\r\n        return \"\".concat(entityUUID, \".\").concat(componentName);\r\n    }\r\n    function parseKey(message) {\r\n        return message.key.split(\".\").slice(0, 2);\r\n    }\r\n    /**\r\n     * CRDT System\r\n     */\r\n    var CRDTSystem = /** @class */ (function () {\r\n        function CRDTSystem(wsUrl) {\r\n            var _this = this;\r\n            this.cachedComponents = {};\r\n            this.ws = new WebSocket(wsUrl);\r\n            this.ws.onmessage = function (event) {\r\n                var message = parseData(event.data);\r\n                if (!message)\r\n                    return;\r\n                _this.processMessage(message);\r\n            };\r\n            this.crdt = (0, index_1.crdtProtocol)(function (message) { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    this.ws.send(JSON.stringify(message));\r\n                    return [2 /*return*/];\r\n                });\r\n            }); }, \"UUID:\" + ((Math.random() * 100) | 0).toString());\r\n        }\r\n        CRDTSystem.prototype.activate = function (engine) {\r\n            this.engine = engine;\r\n            engine.eventManager.addListener(ComponentAdded, this, this.componentAdded);\r\n            engine.eventManager.addListener(ComponentRemoved, this, this.componentRemoved);\r\n        };\r\n        CRDTSystem.prototype.onAddEntity = function (entity) {\r\n            for (var componentName in entity.components) {\r\n                var component = entity.components[componentName];\r\n                if (!(0, sync_component_2.isSyncComponent)(component)) {\r\n                    continue;\r\n                }\r\n                this.setCacheComponent(entity.uuid, componentName);\r\n            }\r\n        };\r\n        CRDTSystem.prototype.componentAdded = function (event) {\r\n            if (event.entity.isAddedToEngine()) {\r\n                var component = event.entity.components[event.componentName];\r\n                if (!(0, sync_component_2.isSyncComponent)(component)) {\r\n                    return;\r\n                }\r\n                this.setCacheComponent(event.entity.uuid, event.componentName);\r\n            }\r\n        };\r\n        CRDTSystem.prototype.onRemoveEntity = function (entity) {\r\n            delete this.cachedComponents[entity.uuid];\r\n        };\r\n        CRDTSystem.prototype.componentRemoved = function (event) {\r\n            if (this.cachedComponents[event.entity.uuid]) {\r\n                delete this.cachedComponents[event.entity.uuid][event.componentName];\r\n            }\r\n        };\r\n        CRDTSystem.prototype.update = function (dt) {\r\n            this.syncComponents(dt);\r\n        };\r\n        CRDTSystem.prototype.setCacheComponent = function (entityUUID, componentName) {\r\n            if (!this.cachedComponents[entityUUID]) {\r\n                this.cachedComponents[entityUUID] = {};\r\n            }\r\n            this.cachedComponents[entityUUID][componentName] = true;\r\n        };\r\n        CRDTSystem.prototype.processMessage = function (message) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var data, _a, entityUUID, componentName, component;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0: return [4 /*yield*/, this.crdt.processMessage(message)];\r\n                        case 1:\r\n                            data = _b.sent();\r\n                            _a = __read(parseKey(message), 2), entityUUID = _a[0], componentName = _a[1];\r\n                            component = this.engine.entities[entityUUID].components[componentName];\r\n                            if (data && (0, sync_component_2.isSyncComponent)(component)) {\r\n                                component.put(data);\r\n                            }\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CRDTSystem.prototype.syncComponents = function (_dt) {\r\n            for (var entityUUID in this.cachedComponents) {\r\n                var entity = this.cachedComponents[entityUUID];\r\n                for (var componentName in entity) {\r\n                    var component = this.engine.entities[entityUUID].components[componentName];\r\n                    if (!component || !(0, sync_component_2.isSyncComponent)(component) || !component.dirty) {\r\n                        continue;\r\n                    }\r\n                    var newVal = component.getSyncData();\r\n                    var key = getKey(entityUUID, componentName);\r\n                    component.dirty = false;\r\n                    void this.crdt.sendMessage(this.crdt.createEvent(key, newVal));\r\n                }\r\n            }\r\n        };\r\n        return CRDTSystem;\r\n    }());\r\n    exports.CRDTSystem = CRDTSystem;\r\n});\r\ndefine(\"game\", [\"require\", \"exports\", \"door-component\", \"system\"], function (require, exports, door_component_1, system_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    engine.addSystem(new system_1.CRDTSystem(\"wss://sdk-ws.decentraland.io/ws\"));\r\n    var openPos = Quaternion.Euler(0, 90, 0);\r\n    var closedPos = Quaternion.Euler(0, 0, 0);\r\n    // Define fixed walls\r\n    var wall1 = new Entity();\r\n    wall1.addComponent(new Transform({\r\n        position: new Vector3(5.75, 1, 3),\r\n        scale: new Vector3(1.5, 2, 0.05),\r\n    }));\r\n    wall1.addComponent(new BoxShape());\r\n    engine.addEntity(wall1);\r\n    var wall2 = new Entity();\r\n    wall2.addComponent(new Transform({\r\n        position: new Vector3(3.25, 1, 3),\r\n        scale: new Vector3(1.5, 2, 0.05),\r\n    }));\r\n    wall2.addComponent(new BoxShape());\r\n    engine.addEntity(wall2);\r\n    // Add actual door to scene. This entity doesn't rotate, its parent drags it with it.\r\n    var door = new Entity();\r\n    door.addComponent(new Transform({\r\n        position: new Vector3(0.5, 0, 0),\r\n        scale: new Vector3(1, 2, 0.05),\r\n    }));\r\n    door.addComponent(new BoxShape());\r\n    engine.addEntity(door);\r\n    // Define a material to color the door red\r\n    var doorMaterial = new Material();\r\n    doorMaterial.albedoColor = Color3.Red();\r\n    doorMaterial.metallic = 0.9;\r\n    doorMaterial.roughness = 0.1;\r\n    // Assign the material to the door\r\n    door.addComponent(doorMaterial);\r\n    // Define wrapper entity to rotate door. This is the entity that actually rotates.\r\n    var doorPivot = new Entity();\r\n    doorPivot.addComponent(new Transform({\r\n        position: new Vector3(4, 1, 3),\r\n        rotation: closedPos,\r\n    }));\r\n    //doorPivot.addComponent(new DoorState())\r\n    engine.addEntity(doorPivot);\r\n    // Set the door as a child of doorPivot\r\n    door.setParent(doorPivot);\r\n    door.getComponentOrCreate(door_component_1.DoorOpenComponent);\r\n    var OpenerSystem = /** @class */ (function () {\r\n        function OpenerSystem() {\r\n            this.entitites = engine.getComponentGroup(door_component_1.DoorOpenComponent, Transform);\r\n        }\r\n        OpenerSystem.prototype.update = function (dt) {\r\n            var e_1, _a;\r\n            try {\r\n                for (var _b = __values(this.entitites.entities), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var entity = _c.value;\r\n                    var openComponent = entity.getComponent(door_component_1.DoorOpenComponent);\r\n                    var transform = entity.getComponent(Transform);\r\n                    transform.rotation = openComponent.open ? openPos : closedPos;\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        };\r\n        return OpenerSystem;\r\n    }());\r\n    engine.addSystem(new OpenerSystem());\r\n    // Set the click behavior for the door\r\n    door.addComponent(new OnPointerDown(function (e) {\r\n        var component = door.getComponent(door_component_1.DoorOpenComponent);\r\n        component.open = !component.open;\r\n    }, { button: ActionButton.POINTER, hoverText: \"Open/Close\" }));\r\n});\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9zeW5jLWNvbXBvbmVudC50cyIsIi4uL3NyYy9kb29yLWNvbXBvbmVudC50cyIsIi4uL3NyYy9jcmR0L3R5cGVzLnRzIiwiLi4vc3JjL2NyZHQvaW5kZXgudHMiLCIuLi9zcmMvc3lzdGVtLnRzIiwiLi4vc3JjL2dhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUFBLFNBQWdCLFVBQVUsQ0FBQyxLQUFjO1FBQ3ZDLElBQU0sV0FBVyxHQUFHLE9BQU8sS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQzdFLE9BQU8sSUFBSSxVQUFVLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFmLENBQWUsQ0FBQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUhELGdDQUdDO0lBRUQsU0FBZ0IsVUFBVSxDQUFDLEtBQXNCO1FBQy9DLE9BQU8sSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLElBQUksSUFBSyxPQUFBLEdBQUcsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUEvQixDQUErQixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzFGLENBQUM7SUFGRCxnQ0FFQztJQVFNLElBQU0sZUFBZSxHQUFHLFVBQUMsU0FBa0I7UUFDaEQsT0FBQSxTQUFTLFlBQVksaUNBQWlDO0lBQXRELENB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LENBQUEsZ0JBQUEsNEJBQUU7b0JBQXpDLElBQU0sTUFBTSxXQUFBO29CQUNmLElBQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsa0NBQWlCLENBQUMsQ0FBQTtvQkFDNUQsSUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQTtvQkFDaEQsU0FBUyxDQUFDLFFBQVEsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQTtpQkFDOUQ7Ozs7Ozs7OztRQUNILENBQUM7UUFDSCxtQkFBQztJQUFELENBQUMsQUFURCxJQVNDO0lBRUQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLFlBQVksRUFBRSxDQUFDLENBQUE7SUFFcEMsc0NBQXNDO0lBQ3RDLElBQUksQ0FBQyxZQUFZLENBQ2YsSUFBSSxhQUFhLENBQ2YsVUFBQyxDQUFDO1FBQ0EsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxrQ0FBaUIsQ0FBQyxDQUFBO1FBQ3RELFNBQVMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFBO0lBQ2xDLENBQUMsRUFDRCxFQUFFLE1BQU0sRUFBRSxZQUFZLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FDMUQsQ0FDRixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHRleHRFbmNvZGUodmFsdWU6IHVua25vd24pOiBVaW50OEFycmF5IHtcbiAgY29uc3Qgc3RyaW5nVmFsdWUgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSlcbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHN0cmluZ1ZhbHVlLnNwbGl0KCcnKS5tYXAoYyA9PiBjLmNoYXJDb2RlQXQoMCkpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGV4dERlY29kZSh2YWx1ZTogQXJyYXlCdWZmZXJMaWtlKTogc3RyaW5nIHtcbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHZhbHVlKS5yZWR1Y2UoKGFjYywgY2hhcikgPT4gYWNjICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyKSwgJycpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNDb21wb25lbnQge1xuICBwdXQoc3RhdGU6IFVpbnQ4QXJyYXkpOiB2b2lkXG4gIGdldFN5bmNEYXRhKCk6IFVpbnQ4QXJyYXlcbiAgZGlydHk/OiBib29sZWFuXG59XG5cbmV4cG9ydCBjb25zdCBpc1N5bmNDb21wb25lbnQgPSAoY29tcG9uZW50OiB1bmtub3duKTogY29tcG9uZW50IGlzIFN5bmNocm9uaXphYmxlT2JzZXJ2YWJsZUNvbXBvbmVudCA9PlxuICBjb21wb25lbnQgaW5zdGFuY2VvZiBTeW5jaHJvbml6YWJsZU9ic2VydmFibGVDb21wb25lbnRcblxuZXhwb3J0IGNsYXNzIFN5bmNocm9uaXphYmxlT2JzZXJ2YWJsZUNvbXBvbmVudCBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQgaW1wbGVtZW50cyBTeW5jQ29tcG9uZW50IHtcbiAgZGlydHk/OiBib29sZWFuXG4gIGRhdGE6IGFueVxuXG4gIHB1dChzZXJpYWxpemVkOiBVaW50OEFycmF5KTogdm9pZCB7XG4gICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhIHx8IHt9XG4gICAgY29uc3Qgc3RhdGUgPSBKU09OLnBhcnNlKHRleHREZWNvZGUoc2VyaWFsaXplZCkpXG4gICAgZm9yIChsZXQga2V5IGluIHN0YXRlKSB7XG4gICAgICB0aGlzLmRhdGFba2V5XSA9IHN0YXRlW2tleV1cbiAgICB9XG4gICAgdGhpcy5kaXJ0eSA9IGZhbHNlXG4gIH1cblxuICBnZXRTeW5jRGF0YSgpOiBVaW50OEFycmF5IHtcbiAgICByZXR1cm4gdGV4dEVuY29kZSh0aGlzLmRhdGEpXG4gIH1cbn0iLCJpbXBvcnQgeyBTeW5jaHJvbml6YWJsZU9ic2VydmFibGVDb21wb25lbnQgfSBmcm9tIFwiLi9zeW5jLWNvbXBvbmVudFwiO1xuXG5AQ29tcG9uZW50KFwic3luY3N0YXRlXCIpXG5leHBvcnQgY2xhc3MgRG9vck9wZW5Db21wb25lbnQgZXh0ZW5kcyBTeW5jaHJvbml6YWJsZU9ic2VydmFibGVDb21wb25lbnQge1xuICBARG9vck9wZW5Db21wb25lbnQuZmllbGQgb3BlbjogYm9vbGVhbiA9IHRydWVcbn1cbiIsIi8qKlxuICogU3RydWN0IG9mIHRoZSBtZXNzYWdlIHRoYXQncyBiZWluZyB0cmFuc2ZlcmVkIGJldHdlZW4gY2xpZW50cy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgTWVzc2FnZTxUID0gdW5rbm93bj4gPSB7XG4gIGtleTogc3RyaW5nXG4gIHRpbWVzdGFtcDogbnVtYmVyXG4gIGRhdGE6IFRcbn1cblxuLyoqXG4gKiBQYXlsb2FkIHRoYXQgaXRzIGJlaW5nIHN0b3JlZCBpbiB0aGUgc3RhdGUuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFBheWxvYWQ8VCA9IHVua25vd24+ID0ge1xuICB0aW1lc3RhbXA6IG51bWJlclxuICBkYXRhOiBUXG59XG5cbi8qKlxuICogTG9jYWwgc3RhdGVcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgU3RhdGU8VCA9IHVua25vd24+ID0gUmVjb3JkPHN0cmluZywgUGF5bG9hZDxUPiB8IHVuZGVmaW5lZD5cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBzZW5kIHVwZGF0ZXMgdG8gdGhlIG90aGVyIGNsaWVudHMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFNlbmRVcGRhdGVzPFQgPSB1bmtub3duPiA9IChtZXNzYWdlOiBNZXNzYWdlPFQ+KSA9PiBQcm9taXNlPHZvaWQ+XG5cbi8qKlxuICogQ1JEVCByZXR1cm4gdHlwZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBDUkRUPFQgPSB1bmtub3duPiA9IHtcbiAgY3JlYXRlRXZlbnQoa2V5OiBzdHJpbmcsIGRhdGE6IFQpOiBNZXNzYWdlPFQ+XG4gIHNlbmRNZXNzYWdlKG1lc3NhZ2U6IE1lc3NhZ2U8VD4pOiBQcm9taXNlPHZvaWQ+XG4gIHByb2Nlc3NNZXNzYWdlKG1lc3NhZ2U6IE1lc3NhZ2U8VD4pOiBQcm9taXNlPFQgfCB2b2lkPlxuICBnZXRTdGF0ZSgpOiBTdGF0ZTxUPlxuICBnZXRVVUlEKCk6IHN0cmluZ1xufVxuIiwiaW1wb3J0IHsgQ1JEVCwgTWVzc2FnZSwgUGF5bG9hZCwgU2VuZFVwZGF0ZXMsIFN0YXRlIH0gZnJvbSAnLi90eXBlcydcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnXG5cbi8qKlxuICogQ29tcGFyZSByYXcgZGF0YS5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBzYW1lRGF0YTxUID0gdW5rbm93bj4oYTogVCwgYjogVCk6IGJvb2xlYW4ge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWVcblxuICBpZiAoYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgJiYgYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICBpZiAoYS5ieXRlTGVuZ3RoICE9PSBiLmJ5dGVMZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICByZXR1cm4gYSA9PT0gYlxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIENSRFQgcHJvdG9jb2wuXG4gKiBTdG9yZXMgdGhlIGxhdGVzdCBzdGF0ZSwgYW5kIGRlY2lkZXMgd2hlbmV2ZXIgd2UgaGF2ZVxuICogdG8gcHJvY2VzcyBhbmQgc3RvcmUgdGhlIG5ldyBkYXRhIGluIGNhc2UgaXRzIGFuIHVwZGF0ZSwgb3JcbiAqIHRvIGRpc2NhcmQgYW5kIHNlbmQgb3VyIGxvY2FsIHZhbHVlIGNhdXNlIHJlbW90ZSBpdCdzIG91dGRhdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JkdFByb3RvY29sPFQ+KFxuICBzZW5kVXBkYXRlczogU2VuZFVwZGF0ZXM8VD4sXG4gIGlkOiBzdHJpbmdcbik6IENSRFQ8VD4ge1xuICAvKipcbiAgICogVVVJRCBpZGVudGlmaWVyXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3QgdXVpZCA9IGlkXG5cbiAgLyoqXG4gICAqIExvY2FsIHN0YXRlIHdoZXJlIHdlIHN0b3JlIHRoZSBsYXRlc3QgbGFtcG9ydCB0aW1lc3RhbXBcbiAgICogYW5kIHRoZSByYXcgZGF0YSB2YWx1ZVxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0IHN0YXRlOiBTdGF0ZTxUPiA9IHt9XG5cbiAgLyoqXG4gICAqIFdlIHNob3VsZCBjYWxsIHRoaXMgZm4gaW4gb3JkZXIgdG8gdXBkYXRlIHRoZSBzdGF0ZVxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKFxuICAgIGtleTogc3RyaW5nLFxuICAgIGRhdGE6IFQsXG4gICAgcmVtb3RlVGltZXN0YW1wOiBudW1iZXJcbiAgKTogUGF5bG9hZDxUPiB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5tYXgocmVtb3RlVGltZXN0YW1wLCBzdGF0ZVtrZXldPy50aW1lc3RhbXAgfHwgMClcblxuICAgIHJldHVybiAoc3RhdGVba2V5XSA9IHsgdGltZXN0YW1wLCBkYXRhIH0pXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGV2ZW50IGZvciB0aGUgc3BlY2lmaWVkIGtleSBhbmQgc3RvcmUgdGhlIG5ldyBkYXRhIGFuZFxuICAgKiBsYW1wb3J0IHRpbWVzdG1hcCBpbmNyZW1lbnRlZCBieSBvbmUgaW4gdGhlIHN0YXRlLlxuICAgKiBAcHVibGljXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVFdmVudChrZXk6IHN0cmluZywgZGF0YTogVCk6IE1lc3NhZ2U8VD4ge1xuICAgIC8vIEluY3JlbWVudCB0aGUgdGltZXN0YW1wXG4gICAgY29uc3QgdGltZXN0YW1wID0gKHN0YXRlW2tleV0/LnRpbWVzdGFtcCB8fCAwKSArIDFcbiAgICB1cGRhdGVTdGF0ZShrZXksIGRhdGEsIHRpbWVzdGFtcClcblxuICAgIHJldHVybiB7IGtleSwgZGF0YSwgdGltZXN0YW1wIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGdlbmVyYXRlZCBtZXNzYWdlXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKG1lc3NhZ2U6IE1lc3NhZ2U8VD4pIHtcbiAgICByZXR1cm4gc2VuZFVwZGF0ZXMobWVzc2FnZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9jZXNzIHRoZSByZWNlaXZlZCBtZXNzYWdlIG9ubHkgaWYgdGhlIGxhbXBvcnQgbnVtYmVyIGlzIGhpZ2hlciB0aGFuXG4gICAqIHRoZSBjdXJyZW50IG9uZS4gSWYgbm90LCBzZWVtcyB3ZSBoYXZlIGEgcmFjZSBjb25kaXRpb24uXG4gICAqIFRoZSBiaWdnZXIgcmF3IGRhdGEgd2lucyBhbmQgc3ByZWFkcyBpdCB0byB0aGUgbmV0d29ya1xuICAgKiBAcHVibGljXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBwcm9jZXNzTWVzc2FnZShtZXNzYWdlOiBNZXNzYWdlPFQ+KSB7XG4gICAgY29uc3QgeyBrZXksIGRhdGEsIHRpbWVzdGFtcCB9ID0gbWVzc2FnZVxuICAgIGNvbnN0IGN1cnJlbnQgPSBzdGF0ZVtrZXldXG5cbiAgICAvLyBTb21laG93IHRoZSBtZXNzYWdlIHRoYXQgd2Ugc2VudCBjYW1lIGJhY2sgYXMgYW4gZWNoby5cbiAgICBpZiAoc2FtZURhdGEoY3VycmVudD8uZGF0YSwgZGF0YSkpIHtcbiAgICAgIHVwZGF0ZVN0YXRlKGtleSwgZGF0YSwgdGltZXN0YW1wKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHJlY2VpdmVkIHRpbWVzdGFtcCBpcyA+IHRoYW4gb3VyIGN1cnJlbnQgdmFsdWUsIHN0b3JlIGl0XG4gICAgaWYgKCFjdXJyZW50IHx8IGN1cnJlbnQudGltZXN0YW1wIDwgdGltZXN0YW1wKSB7XG4gICAgICByZXR1cm4gdXBkYXRlU3RhdGUoa2V5LCBkYXRhLCB0aW1lc3RhbXApLmRhdGFcbiAgICB9XG5cbiAgICAvLyBJZiBvdXIgY3VycmVudCB0aW1lc3RhbXAgaXMgaGlnaGVyLCB0aGVuIHNlbmQgdGhlIG1lc3NhZ2VcbiAgICAvLyB0byB0aGUgbmV0d29yayB3aXRoIG91ciBzdGF0ZVxuICAgIGlmIChjdXJyZW50LnRpbWVzdGFtcCA+IHRpbWVzdGFtcCkge1xuICAgICAgcmV0dXJuIHNlbmRNZXNzYWdlKHtcbiAgICAgICAga2V5LFxuICAgICAgICBkYXRhOiBjdXJyZW50LmRhdGEsXG4gICAgICAgIHRpbWVzdGFtcDogY3VycmVudC50aW1lc3RhbXBcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gaWYgYm90aCB0aW1lc3RhbXBzIGFyZSBlcXVhbCwgdGhlbiB3ZSBoYXZlIGEgcmFjZSBjb25kaXRpb24uXG4gICAgLy8gV2Ugc2hvdWxkIGNvbXBhcmUgdGhlIHJhdyBkYXRhIGFuZCB0aGUgaGlnaGVyIG9uZSB3aW5zLlxuICAgIGZ1bmN0aW9uIGNvbXBhcmVEYXRhKGN1cnJlbnQ6IHVua25vd24sIGRhdGE6IHVua25vd24pIHtcbiAgICAgIHJldHVybiAoY3VycmVudCBhcyBudW1iZXIpID4gKGRhdGEgYXMgbnVtYmVyKVxuICAgIH1cblxuICAgIGlmIChjb21wYXJlRGF0YShjdXJyZW50LmRhdGEsIGRhdGEpKSB7XG4gICAgICByZXR1cm4gc2VuZE1lc3NhZ2Uoe1xuICAgICAgICBrZXksXG4gICAgICAgIGRhdGE6IGN1cnJlbnQuZGF0YSxcbiAgICAgICAgdGltZXN0YW1wOiBjdXJyZW50LnRpbWVzdGFtcFxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZVN0YXRlKGtleSwgZGF0YSwgdGltZXN0YW1wKS5kYXRhXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBzdGF0ZVxuICAgKiBAcHVibGljXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdGF0ZSgpOiBTdGF0ZTxUPiB7XG4gICAgcmV0dXJuIHsgLi4uc3RhdGUgfSBhcyBTdGF0ZTxUPlxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNsaWVudCB1dWlkXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGZ1bmN0aW9uIGdldFVVSUQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdXVpZFxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVFdmVudCxcbiAgICBzZW5kTWVzc2FnZSxcbiAgICBwcm9jZXNzTWVzc2FnZSxcbiAgICBnZXRTdGF0ZSxcbiAgICBnZXRVVUlEXG4gIH1cbn1cbiIsImltcG9ydCB7IENSRFQsIGNyZHRQcm90b2NvbCwgTWVzc2FnZSB9IGZyb20gXCIuL2NyZHQvaW5kZXhcIlxuaW1wb3J0IHsgaXNTeW5jQ29tcG9uZW50IH0gZnJvbSBcIi4vc3luYy1jb21wb25lbnRcIlxuZXhwb3J0IHsgTWVzc2FnZSB9XG5cbi8qKlxuICogTWVzc2FnZSBoZWxwZXJzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRGF0YSh2YWx1ZTogYW55KTogTWVzc2FnZTxVaW50OEFycmF5PiB8IHZvaWQge1xuICB0cnkge1xuICAgIGNvbnN0IG1zZyA9IEpTT04ucGFyc2UodmFsdWUpIGFzIE1lc3NhZ2U8UmVjb3JkPHN0cmluZywgbnVtYmVyPj5cbiAgICBjb25zdCBidWZmID0gT2JqZWN0LmtleXMobXNnLmRhdGEpLm1hcChrID0+IG1zZy5kYXRhW2tdKVxuICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShidWZmKVxuICAgIHJldHVybiB7XG4gICAgICBrZXk6IG1zZy5rZXksXG4gICAgICB0aW1lc3RhbXA6IG1zZy50aW1lc3RhbXAsXG4gICAgICBkYXRhXG4gICAgfVxuICB9IGNhdGNoIChfZSkge31cbiAgcmV0dXJuXG59XG5cbmZ1bmN0aW9uIGdldEtleShlbnRpdHlVVUlEOiBzdHJpbmcsIGNvbXBvbmVudE5hbWU6IHN0cmluZykge1xuICByZXR1cm4gYCR7ZW50aXR5VVVJRH0uJHtjb21wb25lbnROYW1lfWBcbn1cblxuZnVuY3Rpb24gcGFyc2VLZXkobWVzc2FnZTogTWVzc2FnZTxVaW50OEFycmF5Pik6IFtzdHJpbmcsIHN0cmluZ10ge1xuICByZXR1cm4gbWVzc2FnZS5rZXkuc3BsaXQoXCIuXCIpLnNsaWNlKDAsIDIpIGFzIFtzdHJpbmcsIHN0cmluZ11cbn1cblxuXG4vKipcbiAqIENSRFQgU3lzdGVtXG4gKi9cbmV4cG9ydCBjbGFzcyBDUkRUU3lzdGVtIGltcGxlbWVudHMgSVN5c3RlbSB7XG4gIHByaXZhdGUgY2FjaGVkQ29tcG9uZW50czogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gfCB1bmRlZmluZWQ+ID0ge31cbiAgcHJpdmF0ZSBlbmdpbmUhOiBFbmdpbmVcbiAgcHJpdmF0ZSBjcmR0OiBDUkRUPFVpbnQ4QXJyYXk+XG4gIHByaXZhdGUgd3M6IFdlYlNvY2tldFxuXG4gIGNvbnN0cnVjdG9yKHdzVXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VybClcbiAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHBhcnNlRGF0YShldmVudC5kYXRhKVxuICAgICAgaWYgKCFtZXNzYWdlKSByZXR1cm5cbiAgICAgIHRoaXMucHJvY2Vzc01lc3NhZ2UobWVzc2FnZSlcbiAgICB9XG4gICAgdGhpcy5jcmR0ID0gY3JkdFByb3RvY29sPFVpbnQ4QXJyYXk+KGFzeW5jIChtZXNzYWdlKSA9PiB7XG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpXG4gICAgfSwgXCJVVUlEOlwiICsgKChNYXRoLnJhbmRvbSgpICogMTAwKSB8IDApLnRvU3RyaW5nKCkpXG4gIH1cblxuICBhY3RpdmF0ZShlbmdpbmU6IEVuZ2luZSkge1xuICAgIHRoaXMuZW5naW5lID0gZW5naW5lXG4gICAgZW5naW5lLmV2ZW50TWFuYWdlci5hZGRMaXN0ZW5lcihDb21wb25lbnRBZGRlZCwgdGhpcywgdGhpcy5jb21wb25lbnRBZGRlZClcbiAgICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmFkZExpc3RlbmVyKENvbXBvbmVudFJlbW92ZWQsIHRoaXMsIHRoaXMuY29tcG9uZW50UmVtb3ZlZClcbiAgfVxuXG4gIG9uQWRkRW50aXR5KGVudGl0eTogRW50aXR5KSB7XG4gICAgZm9yIChjb25zdCBjb21wb25lbnROYW1lIGluIGVudGl0eS5jb21wb25lbnRzKSB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSBlbnRpdHkuY29tcG9uZW50c1tjb21wb25lbnROYW1lXVxuXG4gICAgICBpZiAoIWlzU3luY0NvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0Q2FjaGVDb21wb25lbnQoZW50aXR5LnV1aWQsIGNvbXBvbmVudE5hbWUpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb21wb25lbnRBZGRlZChldmVudDogQ29tcG9uZW50QWRkZWQpIHtcbiAgICBpZiAoZXZlbnQuZW50aXR5LmlzQWRkZWRUb0VuZ2luZSgpKSB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSBldmVudC5lbnRpdHkuY29tcG9uZW50c1tldmVudC5jb21wb25lbnROYW1lXVxuXG4gICAgICBpZiAoIWlzU3luY0NvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdGhpcy5zZXRDYWNoZUNvbXBvbmVudChldmVudC5lbnRpdHkudXVpZCwgZXZlbnQuY29tcG9uZW50TmFtZSlcbiAgICB9XG4gIH1cblxuICBvblJlbW92ZUVudGl0eShlbnRpdHk6IEVudGl0eSkge1xuICAgIGRlbGV0ZSB0aGlzLmNhY2hlZENvbXBvbmVudHNbZW50aXR5LnV1aWRdXG4gIH1cblxuICBwcml2YXRlIGNvbXBvbmVudFJlbW92ZWQoZXZlbnQ6IENvbXBvbmVudFJlbW92ZWQpIHtcbiAgICBpZiAodGhpcy5jYWNoZWRDb21wb25lbnRzW2V2ZW50LmVudGl0eS51dWlkXSkge1xuICAgICAgZGVsZXRlIHRoaXMuY2FjaGVkQ29tcG9uZW50c1tldmVudC5lbnRpdHkudXVpZF0hW2V2ZW50LmNvbXBvbmVudE5hbWVdXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKGR0OiBudW1iZXIpIHtcbiAgICB0aGlzLnN5bmNDb21wb25lbnRzKGR0KVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRDYWNoZUNvbXBvbmVudChlbnRpdHlVVUlEOiBzdHJpbmcsIGNvbXBvbmVudE5hbWU6IHN0cmluZykge1xuICAgIGlmICghdGhpcy5jYWNoZWRDb21wb25lbnRzW2VudGl0eVVVSURdKSB7XG4gICAgICB0aGlzLmNhY2hlZENvbXBvbmVudHNbZW50aXR5VVVJRF0gPSB7fVxuICAgIH1cblxuICAgIHRoaXMuY2FjaGVkQ29tcG9uZW50c1tlbnRpdHlVVUlEXSFbY29tcG9uZW50TmFtZV0gPSB0cnVlXG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NNZXNzYWdlKG1lc3NhZ2U6IE1lc3NhZ2U8VWludDhBcnJheT4pIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5jcmR0LnByb2Nlc3NNZXNzYWdlKG1lc3NhZ2UpXG4gICAgY29uc3QgW2VudGl0eVVVSUQsIGNvbXBvbmVudE5hbWVdID0gcGFyc2VLZXkobWVzc2FnZSlcbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmVuZ2luZS5lbnRpdGllc1tlbnRpdHlVVUlEXS5jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdXG5cbiAgICBpZiAoZGF0YSAmJiBpc1N5bmNDb21wb25lbnQoY29tcG9uZW50KSkge1xuICAgICAgY29tcG9uZW50LnB1dChkYXRhKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3luY0NvbXBvbmVudHMoX2R0OiBudW1iZXIpIHtcbiAgICBmb3IgKGNvbnN0IGVudGl0eVVVSUQgaW4gdGhpcy5jYWNoZWRDb21wb25lbnRzKSB7XG4gICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmNhY2hlZENvbXBvbmVudHNbZW50aXR5VVVJRF1cbiAgICAgIGZvciAoY29uc3QgY29tcG9uZW50TmFtZSBpbiBlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5lbmdpbmUuZW50aXRpZXNbZW50aXR5VVVJRF0uY29tcG9uZW50c1tjb21wb25lbnROYW1lXVxuXG4gICAgICAgIGlmICghY29tcG9uZW50IHx8ICFpc1N5bmNDb21wb25lbnQoY29tcG9uZW50KSB8fCAhY29tcG9uZW50LmRpcnR5KSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld1ZhbCA9IGNvbXBvbmVudC5nZXRTeW5jRGF0YSgpXG4gICAgICAgIGNvbnN0IGtleSA9IGdldEtleShlbnRpdHlVVUlELCBjb21wb25lbnROYW1lKVxuICAgICAgICBjb21wb25lbnQuZGlydHkgPSBmYWxzZVxuICAgICAgICB2b2lkIHRoaXMuY3JkdC5zZW5kTWVzc2FnZSh0aGlzLmNyZHQuY3JlYXRlRXZlbnQoa2V5LCBuZXdWYWwpKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgRG9vck9wZW5Db21wb25lbnQgfSBmcm9tIFwiLi9kb29yLWNvbXBvbmVudFwiXG5pbXBvcnQgeyBDUkRUU3lzdGVtIH0gZnJvbSBcIi4vc3lzdGVtXCJcblxuZW5naW5lLmFkZFN5c3RlbShuZXcgQ1JEVFN5c3RlbShcIndzczovL3Nkay13cy5kZWNlbnRyYWxhbmQuaW8vd3NcIikpXG5cbmxldCBvcGVuUG9zOiBRdWF0ZXJuaW9uID0gUXVhdGVybmlvbi5FdWxlcigwLCA5MCwgMClcbmxldCBjbG9zZWRQb3M6IFF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uLkV1bGVyKDAsIDAsIDApXG5cbi8vIERlZmluZSBmaXhlZCB3YWxsc1xuY29uc3Qgd2FsbDEgPSBuZXcgRW50aXR5KClcbndhbGwxLmFkZENvbXBvbmVudChcbiAgbmV3IFRyYW5zZm9ybSh7XG4gICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDUuNzUsIDEsIDMpLFxuICAgIHNjYWxlOiBuZXcgVmVjdG9yMygxLjUsIDIsIDAuMDUpLFxuICB9KVxuKVxud2FsbDEuYWRkQ29tcG9uZW50KG5ldyBCb3hTaGFwZSgpKVxuZW5naW5lLmFkZEVudGl0eSh3YWxsMSlcblxuY29uc3Qgd2FsbDIgPSBuZXcgRW50aXR5KClcbndhbGwyLmFkZENvbXBvbmVudChcbiAgbmV3IFRyYW5zZm9ybSh7XG4gICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDMuMjUsIDEsIDMpLFxuICAgIHNjYWxlOiBuZXcgVmVjdG9yMygxLjUsIDIsIDAuMDUpLFxuICB9KVxuKVxud2FsbDIuYWRkQ29tcG9uZW50KG5ldyBCb3hTaGFwZSgpKVxuZW5naW5lLmFkZEVudGl0eSh3YWxsMilcblxuLy8gQWRkIGFjdHVhbCBkb29yIHRvIHNjZW5lLiBUaGlzIGVudGl0eSBkb2Vzbid0IHJvdGF0ZSwgaXRzIHBhcmVudCBkcmFncyBpdCB3aXRoIGl0LlxuY29uc3QgZG9vciA9IG5ldyBFbnRpdHkoKVxuZG9vci5hZGRDb21wb25lbnQoXG4gIG5ldyBUcmFuc2Zvcm0oe1xuICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygwLjUsIDAsIDApLFxuICAgIHNjYWxlOiBuZXcgVmVjdG9yMygxLCAyLCAwLjA1KSxcbiAgfSlcbilcbmRvb3IuYWRkQ29tcG9uZW50KG5ldyBCb3hTaGFwZSgpKVxuZW5naW5lLmFkZEVudGl0eShkb29yKVxuXG4vLyBEZWZpbmUgYSBtYXRlcmlhbCB0byBjb2xvciB0aGUgZG9vciByZWRcbmNvbnN0IGRvb3JNYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgpXG5kb29yTWF0ZXJpYWwuYWxiZWRvQ29sb3IgPSBDb2xvcjMuUmVkKClcbmRvb3JNYXRlcmlhbC5tZXRhbGxpYyA9IDAuOVxuZG9vck1hdGVyaWFsLnJvdWdobmVzcyA9IDAuMVxuXG4vLyBBc3NpZ24gdGhlIG1hdGVyaWFsIHRvIHRoZSBkb29yXG5kb29yLmFkZENvbXBvbmVudChkb29yTWF0ZXJpYWwpXG5cbi8vIERlZmluZSB3cmFwcGVyIGVudGl0eSB0byByb3RhdGUgZG9vci4gVGhpcyBpcyB0aGUgZW50aXR5IHRoYXQgYWN0dWFsbHkgcm90YXRlcy5cbmNvbnN0IGRvb3JQaXZvdCA9IG5ldyBFbnRpdHkoKVxuZG9vclBpdm90LmFkZENvbXBvbmVudChcbiAgbmV3IFRyYW5zZm9ybSh7XG4gICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDQsIDEsIDMpLFxuICAgIHJvdGF0aW9uOiBjbG9zZWRQb3MsXG4gIH0pXG4pXG4vL2Rvb3JQaXZvdC5hZGRDb21wb25lbnQobmV3IERvb3JTdGF0ZSgpKVxuZW5naW5lLmFkZEVudGl0eShkb29yUGl2b3QpXG5cbi8vIFNldCB0aGUgZG9vciBhcyBhIGNoaWxkIG9mIGRvb3JQaXZvdFxuZG9vci5zZXRQYXJlbnQoZG9vclBpdm90KVxuXG5kb29yLmdldENvbXBvbmVudE9yQ3JlYXRlKERvb3JPcGVuQ29tcG9uZW50KVxuXG5jbGFzcyBPcGVuZXJTeXN0ZW0ge1xuICBlbnRpdGl0ZXMgPSBlbmdpbmUuZ2V0Q29tcG9uZW50R3JvdXAoRG9vck9wZW5Db21wb25lbnQsIFRyYW5zZm9ybSlcbiAgdXBkYXRlKGR0OiBudW1iZXIpIHtcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0aGlzLmVudGl0aXRlcy5lbnRpdGllcykge1xuICAgICAgY29uc3Qgb3BlbkNvbXBvbmVudCA9IGVudGl0eS5nZXRDb21wb25lbnQoRG9vck9wZW5Db21wb25lbnQpXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFRyYW5zZm9ybSlcbiAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IG9wZW5Db21wb25lbnQub3BlbiA/IG9wZW5Qb3MgOiBjbG9zZWRQb3NcbiAgICB9XG4gIH1cbn1cblxuZW5naW5lLmFkZFN5c3RlbShuZXcgT3BlbmVyU3lzdGVtKCkpXG5cbi8vIFNldCB0aGUgY2xpY2sgYmVoYXZpb3IgZm9yIHRoZSBkb29yXG5kb29yLmFkZENvbXBvbmVudChcbiAgbmV3IE9uUG9pbnRlckRvd24oXG4gICAgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRvb3IuZ2V0Q29tcG9uZW50KERvb3JPcGVuQ29tcG9uZW50KVxuICAgICAgY29tcG9uZW50Lm9wZW4gPSAhY29tcG9uZW50Lm9wZW5cbiAgICB9LFxuICAgIHsgYnV0dG9uOiBBY3Rpb25CdXR0b24uUE9JTlRFUiwgaG92ZXJUZXh0OiBcIk9wZW4vQ2xvc2VcIiB9XG4gIClcbilcbiJdfQ==\n//# sourceURL=dcl://src/game.ts")
